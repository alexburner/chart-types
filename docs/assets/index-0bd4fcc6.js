var SG=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var fAe=SG((gAe,Y6)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();const a7="wrapper",Oy=2,Gs=10,EG=3;function Ke(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function o7(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Gc(e){let t,n,r;e.length!==2?(t=Ke,n=(s,l)=>Ke(e(s),l),r=(s,l)=>e(s)-l):(t=e===Ke||e===o7?e:kG,n=e,r=e);function i(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;n(s[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;n(s[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function o(s,l,c=0,u=s.length){const f=i(s,l,c,u-1);return f>c&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function kG(){return 0}function EM(e){return e===null?NaN:+e}function*kM(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const MM=Gc(Ke),jf=MM.right,OM=MM.left,MG=Gc(EM).center,fs=jf;function OG(e,t){if(!((t=+t)>=0))throw new RangeError("invalid r");let n=e.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!t)return e;const r=s7(t),i=e.slice();return r(e,i,0,n,1),r(i,e,0,n,1),r(e,i,0,n,1),e}const CM=DM(s7),CG=DM(DG);function DM(e){return function(t,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:a,height:o}=t;if(!((a=Math.floor(a))>=0))throw new RangeError("invalid width");if(!((o=Math.floor(o!==void 0?o:i.length/a))>=0))throw new RangeError("invalid height");if(!a||!o||!n&&!r)return t;const s=n&&e(n),l=r&&e(r),c=i.slice();return s&&l?(ul(s,c,i,a,o),ul(s,i,c,a,o),ul(s,c,i,a,o),fl(l,i,c,a,o),fl(l,c,i,a,o),fl(l,i,c,a,o)):s?(ul(s,i,c,a,o),ul(s,c,i,a,o),ul(s,i,c,a,o)):l&&(fl(l,i,c,a,o),fl(l,c,i,a,o),fl(l,i,c,a,o)),t}}function ul(e,t,n,r,i){for(let a=0,o=r*i;a<o;)e(t,n,a,a+=r,1)}function fl(e,t,n,r,i){for(let a=0,o=r*i;a<r;++a)e(t,n,a,a+o,r)}function DG(e){const t=s7(e);return(n,r,i,a,o)=>{i<<=2,a<<=2,o<<=2,t(n,r,i+0,a+0,o),t(n,r,i+1,a+1,o),t(n,r,i+2,a+2,o),t(n,r,i+3,a+3,o)}}function s7(e){const t=Math.floor(e);if(t===e)return LG(e);const n=e-t,r=2*e+1;return(i,a,o,s,l)=>{if(!((s-=l)>=o))return;let c=t*a[o];const u=l*t,f=u+l;for(let d=o,h=o+u;d<h;d+=l)c+=a[Math.min(s,d)];for(let d=o,h=s;d<=h;d+=l)c+=a[Math.min(s,d+u)],i[d]=(c+n*(a[Math.max(o,d-f)]+a[Math.min(s,d+f)]))/r,c-=a[Math.max(o,d-u)]}}function LG(e){const t=2*e+1;return(n,r,i,a,o)=>{if(!((a-=o)>=i))return;let s=e*r[i];const l=o*e;for(let c=i,u=i+l;c<u;c+=o)s+=r[Math.min(a,c)];for(let c=i,u=a;c<=u;c+=o)s+=r[Math.min(a,c+l)],n[c]=s/t,s-=r[Math.max(i,c-l)]}}function ng(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(i=+i)>=i&&++n}return n}function FG(e){return e.length|0}function BG(e){return!(e>0)}function $G(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function NG(e){return t=>e(...t)}function IG(...e){const t=typeof e[e.length-1]=="function"&&NG(e.pop());e=e.map($G);const n=e.map(FG),r=e.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(BG))return a;for(;;){a.push(i.map((s,l)=>e[l][s]));let o=r;for(;++i[o]===n[o];){if(o===0)return t?a.map(t):a;i[o--]=0}}}function ZG(e,t){var n=0,r=0;return Float64Array.from(e,t===void 0?i=>n+=+i||0:i=>n+=+t(i,r++,e)||0)}function LM(e,t){let n=0,r,i=0,a=0;if(t===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,a+=r*(o-i));else{let o=-1;for(let s of e)(s=t(s,++o,e))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i))}if(n>1)return a/(n-1)}function l7(e,t){const n=LM(e,t);return n&&Math.sqrt(n)}function ci(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class Ot{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],o=t+a,s=Math.abs(t)<Math.abs(a)?t-(o-a):a-(o-t);s&&(n[r++]=s),t=o}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,a,o=0;if(n>0){for(o=t[--n];n>0&&(r=o,i=t[--n],o=r+i,a=i-(o-r),!a););n>0&&(a<0&&t[n-1]<0||a>0&&t[n-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}function RG(e,t){const n=new Ot;if(t===void 0)for(let r of e)(r=+r)&&n.add(r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&n.add(i)}return+n}function PG(e,t){const n=new Ot;let r=-1;return Float64Array.from(e,t===void 0?i=>n.add(+i||0):i=>n.add(+t(i,++r,e)||0))}class zf extends Map{constructor(t,n=$M){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(bv(this,t))}has(t){return super.has(bv(this,t))}set(t,n){return super.set(FM(this,t),n)}delete(t){return super.delete(BM(this,t))}}class f0 extends Set{constructor(t,n=$M){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(bv(this,t))}add(t){return super.add(FM(this,t))}delete(t){return super.delete(BM(this,t))}}function bv({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function FM({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function BM({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(n),e.delete(r)),n}function $M(e){return e!==null&&typeof e=="object"?e.valueOf():e}function nc(e){return e}function rg(e,...t){return Uc(e,nc,nc,t)}function NM(e,...t){return Uc(e,Array.from,nc,t)}function IM(e,t){for(let n=1,r=t.length;n<r;++n)e=e.flatMap(i=>i.pop().map(([a,o])=>[...i,a,o]));return e}function jG(e,...t){return IM(NM(e,...t),t)}function zG(e,t,...n){return IM(RM(e,t,...n),n)}function ZM(e,t,...n){return Uc(e,nc,t,n)}function RM(e,t,...n){return Uc(e,Array.from,t,n)}function GG(e,...t){return Uc(e,nc,PM,t)}function UG(e,...t){return Uc(e,Array.from,PM,t)}function PM(e){if(e.length!==1)throw new Error("duplicate key");return e[0]}function Uc(e,t,n,r){return function i(a,o){if(o>=r.length)return n(a);const s=new zf,l=r[o++];let c=-1;for(const u of a){const f=l(u,++c,a),d=s.get(f);d?d.push(u):s.set(f,[u])}for(const[u,f]of s)s.set(u,i(f,o));return t(s)}(e,0)}function c7(e,t){return Array.from(t,n=>e[n])}function vv(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,a)=>a);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,a)=>{for(const o of t){const s=rc(o[i],o[a]);if(s)return s}})):(n=e.map(n),r.sort((i,a)=>rc(n[i],n[a]))),c7(e,r)}return e.sort(u7(n))}function u7(e=Ke){if(e===Ke)return rc;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function rc(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function WG(e,t,n){return(t.length!==2?vv(ZM(e,t,n),([r,i],[a,o])=>Ke(i,o)||Ke(r,a)):vv(rg(e,n),([r,i],[a,o])=>t(i,o)||Ke(r,a))).map(([r])=>r)}var HG=Array.prototype,YG=HG.slice;function Cy(e){return()=>e}const qG=Math.sqrt(50),VG=Math.sqrt(10),XG=Math.sqrt(2);function vm(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=qG?10:a>=VG?5:a>=XG?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?vm(e,t,n*2):[s,l,c]}function d0(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?vm(t,e,n):vm(e,t,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function h0(e,t,n){return t=+t,e=+e,n=+n,vm(e,t,n)[2]}function qa(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?h0(t,e,n):h0(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function f7(e,t,n){let r;for(;;){const i=h0(e,t,n);if(i===r||i===0||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function d7(e){return Math.ceil(Math.log(ng(e))/Math.LN2)+1}function iw(){var e=nc,t=ci,n=d7;function r(i){Array.isArray(i)||(i=Array.from(i));var a,o=i.length,s,l,c=new Array(o);for(a=0;a<o;++a)c[a]=e(i[a],a,i);var u=t(c),f=u[0],d=u[1],h=n(c,f,d);if(!Array.isArray(h)){const v=d,x=+h;if(t===ci&&([f,d]=f7(f,d,x)),h=d0(f,d,x),h[0]<=f&&(l=h0(f,d,x)),h[h.length-1]>=d)if(v>=d&&t===ci){const _=h0(f,d,x);isFinite(_)&&(_>0?d=(Math.floor(d/_)+1)*_:_<0&&(d=(Math.ceil(d*-_)+1)/-_))}else h.pop()}for(var m=h.length,g=0,p=m;h[g]<=f;)++g;for(;h[p-1]>d;)--p;(g||p<m)&&(h=h.slice(g,p),m=p-g);var y=new Array(m+1),b;for(a=0;a<=m;++a)b=y[a]=[],b.x0=a>0?h[a-1]:f,b.x1=a<m?h[a]:d;if(isFinite(l)){if(l>0)for(a=0;a<o;++a)(s=c[a])!=null&&f<=s&&s<=d&&y[Math.min(m,Math.floor((s-f)/l))].push(i[a]);else if(l<0){for(a=0;a<o;++a)if((s=c[a])!=null&&f<=s&&s<=d){const v=Math.floor((f-s)*l);y[Math.min(m,v+(h[v]<=s))].push(i[a])}}}else for(a=0;a<o;++a)(s=c[a])!=null&&f<=s&&s<=d&&y[fs(h,s,0,m)].push(i[a]);return y}return r.value=function(i){return arguments.length?(e=typeof i=="function"?i:Cy(i),r):e},r.domain=function(i){return arguments.length?(t=typeof i=="function"?i:Cy([i[0],i[1]]),r):t},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:Cy(Array.isArray(i)?YG.call(i):i),r):n},r}function Dn(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function h7(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function Va(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function m7(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function ig(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?rc:u7(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,u=Math.log(l),f=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(n,Math.floor(t-c*f/l+d)),m=Math.min(r,Math.floor(t+(l-c)*f/l+d));ig(e,t,h,m,i)}const a=e[t];let o=n,s=r;for(Tu(e,n,t),i(e[r],a)>0&&Tu(e,n,r);o<s;){for(Tu(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[n],a)===0?Tu(e,n,s):(++s,Tu(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Tu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function jM(e,t=Ke){let n,r=!1;if(t.length===1){let i;for(const a of e){const o=t(a);(r?Ke(o,i)>0:Ke(o,o)===0)&&(n=a,i=o,r=!0)}}else for(const i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function m0(e,t,n){if(e=Float64Array.from(kM(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Va(e);if(t>=1)return Dn(e);var r,i=(r-1)*t,a=Math.floor(i),o=Dn(ig(e,a).subarray(0,a+1)),s=Va(e.subarray(a+1));return o+(s-o)*(i-a)}}function p7(e,t,n=EM){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),s=+n(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function zM(e,t,n){if(e=Float64Array.from(kM(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return m7(e);if(t>=1)return h7(e);var r,i=Math.floor((r-1)*t),a=(s,l)=>rc(e[s],e[l]),o=ig(Uint32Array.from(e,(s,l)=>l),i,0,r-1,a);return jM(o.subarray(0,i+1),s=>e[s])}}function JG(e,t,n){return Math.ceil((n-t)/(2*(m0(e,.75)-m0(e,.25))*Math.pow(ng(e),-1/3)))}function KG(e,t,n){return Math.ceil((n-t)*Math.cbrt(ng(e))/(3.49*l7(e)))}function GM(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function g7(e,t){return m0(e,.5,t)}function QG(e,t){return zM(e,.5,t)}function*eU(e){for(const t of e)yield*t}function y7(e){return Array.from(eU(e))}function tU(e,t){const n=new zf;if(t===void 0)for(let a of e)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let o of e)(o=t(o,++a,e))!=null&&o>=o&&n.set(o,(n.get(o)||0)+1)}let r,i=0;for(const[a,o]of n)o>i&&(i=o,r=a);return r}function nU(e,t=rU){const n=[];let r,i=!1;for(const a of e)i&&n.push(t(r,a)),r=a,i=!0;return n}function rU(e,t){return[e,t]}function ln(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function iU(e,t=Ke){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let n=Array.from(e);const r=new Float64Array(n.length);t.length!==2&&(n=n.map(t),t=Ke);const i=(s,l)=>t(n[s],n[l]);let a,o;return Uint32Array.from(n,(s,l)=>l).sort(t===Ke?(s,l)=>rc(n[s],n[l]):u7(i)).forEach((s,l)=>{const c=i(s,a===void 0?s:a);c>=0?((a===void 0||c>0)&&(a=s,o=l),r[s]=o):r[s]=NaN}),r}function aU(e,t=Ke){let n,r=!1;if(t.length===1){let i;for(const a of e){const o=t(a);(r?Ke(o,i)<0:Ke(o,o)===0)&&(n=a,i=o,r=!0)}}else for(const i of e)(r?t(i,n)<0:t(i,i)===0)&&(n=i,r=!0);return n}function UM(e,t=Ke){if(t.length===1)return m7(e,t);let n,r=-1,i=-1;for(const a of e)++i,(r<0?t(a,a)===0:t(a,n)<0)&&(n=a,r=i);return r}function oU(e,t=Ke){if(t.length===1)return h7(e,t);let n,r=-1,i=-1;for(const a of e)++i,(r<0?t(a,a)===0:t(a,n)>0)&&(n=a,r=i);return r}function sU(e,t){const n=UM(e,t);return n<0?void 0:n}const lU=WM(Math.random);function WM(e){return function(n,r=0,i=n.length){let a=i-(r=+r);for(;a;){const o=e()*a--|0,s=n[a+r];n[a+r]=n[o+r],n[o+r]=s}return n}}function z0(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function HM(e){if(!(a=e.length))return[];for(var t=-1,n=Va(e,cU),r=new Array(n);++t<n;)for(var i=-1,a,o=r[t]=new Array(a);++i<a;)o[i]=e[i][t];return r}function cU(e){return e.length}function b7(){return HM(arguments)}function uU(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let n=-1;for(const r of e)if(!t(r,++n,e))return!1;return!0}function fU(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let n=-1;for(const r of e)if(t(r,++n,e))return!0;return!1}function dU(e,t){if(typeof t!="function")throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of e)t(i,++r,e)&&n.push(i);return n}function hU(e,t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof t!="function")throw new TypeError("mapper is not a function");return Array.from(e,(n,r)=>t(n,r,e))}function mU(e,t,n){if(typeof t!="function")throw new TypeError("reducer is not a function");const r=e[Symbol.iterator]();let i,a,o=-1;if(arguments.length<3){if({done:i,value:n}=r.next(),i)return;++o}for(;{done:i,value:a}=r.next(),!i;)n=t(n,a,++o,e);return n}function pU(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function gU(e,...t){e=new f0(e);for(const n of t)for(const r of n)e.delete(r);return e}function yU(e,t){const n=t[Symbol.iterator](),r=new f0;for(const i of e){if(r.has(i))return!1;let a,o;for(;({value:a,done:o}=n.next())&&!o;){if(Object.is(i,a))return!1;r.add(a)}}return!0}function bU(e,...t){e=new f0(e),t=t.map(vU);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function vU(e){return e instanceof f0?e:new f0(e)}function YM(e,t){const n=e[Symbol.iterator](),r=new Set;for(const i of t){const a=aw(i);if(r.has(a))continue;let o,s;for(;{value:o,done:s}=n.next();){if(s)return!1;const l=aw(o);if(r.add(l),Object.is(a,l))break}}return!0}function aw(e){return e!==null&&typeof e=="object"?e.valueOf():e}function xU(e,t){return YM(t,e)}function _U(...e){const t=new f0;for(const n of e)for(const r of n)t.add(r);return t}function wU(e){return e}var Z1=1,R1=2,xv=3,Ku=4,ow=1e-6;function TU(e){return"translate("+e+",0)"}function AU(e){return"translate(0,"+e+")"}function SU(e){return t=>+e(t)}function EU(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function kU(){return!this.__axis}function ag(e,t){var n=[],r=null,i=null,a=6,o=6,s=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=e===Z1||e===Ku?-1:1,u=e===Ku||e===R1?"x":"y",f=e===Z1||e===xv?TU:AU;function d(h){var m=r??(t.ticks?t.ticks.apply(t,n):t.domain()),g=i??(t.tickFormat?t.tickFormat.apply(t,n):wU),p=Math.max(a,0)+s,y=t.range(),b=+y[0]+l,v=+y[y.length-1]+l,x=(t.bandwidth?EU:SU)(t.copy(),l),_=h.selection?h.selection():h,T=_.selectAll(".domain").data([null]),w=_.selectAll(".tick").data(m,t).order(),S=w.exit(),C=w.enter().append("g").attr("class","tick"),k=w.select("line"),A=w.select("text");T=T.merge(T.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(C),k=k.merge(C.append("line").attr("stroke","currentColor").attr(u+"2",c*a)),A=A.merge(C.append("text").attr("fill","currentColor").attr(u,c*p).attr("dy",e===Z1?"0em":e===xv?"0.71em":"0.32em")),h!==_&&(T=T.transition(h),w=w.transition(h),k=k.transition(h),A=A.transition(h),S=S.transition(h).attr("opacity",ow).attr("transform",function(L){return isFinite(L=x(L))?f(L+l):this.getAttribute("transform")}),C.attr("opacity",ow).attr("transform",function(L){var D=this.parentNode.__axis;return f((D&&isFinite(D=D(L))?D:x(L))+l)})),S.remove(),T.attr("d",e===Ku||e===R1?o?"M"+c*o+","+b+"H"+l+"V"+v+"H"+c*o:"M"+l+","+b+"V"+v:o?"M"+b+","+c*o+"V"+l+"H"+v+"V"+c*o:"M"+b+","+l+"H"+v),w.attr("opacity",1).attr("transform",function(L){return f(x(L)+l)}),k.attr(u+"2",c*a),A.attr(u,c*p).text(g),_.filter(kU).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===R1?"start":e===Ku?"end":"middle"),_.each(function(){this.__axis=x})}return d.scale=function(h){return arguments.length?(t=h,d):t},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),d):n.slice()},d.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),d):r&&r.slice()},d.tickFormat=function(h){return arguments.length?(i=h,d):i},d.tickSize=function(h){return arguments.length?(a=o=+h,d):a},d.tickSizeInner=function(h){return arguments.length?(a=+h,d):a},d.tickSizeOuter=function(h){return arguments.length?(o=+h,d):o},d.tickPadding=function(h){return arguments.length?(s=+h,d):s},d.offset=function(h){return arguments.length?(l=+h,d):l},d}function MU(e){return ag(Z1,e)}function OU(e){return ag(R1,e)}function qM(e){return ag(xv,e)}function VM(e){return ag(Ku,e)}var CU={value:()=>{}};function Wc(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new P1(n)}function P1(e){this._=e}function DU(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}P1.prototype=Wc.prototype={constructor:P1,on:function(e,t){var n=this._,r=DU(e+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=LU(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(e=r[a]).type)n[i]=sw(n[i],e.name,t);else if(t==null)for(i in n)n[i]=sw(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new P1(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function LU(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function sw(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=CU,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var _v="http://www.w3.org/1999/xhtml";const wv={svg:"http://www.w3.org/2000/svg",xhtml:_v,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Dd(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),wv.hasOwnProperty(t)?{space:wv[t],local:e}:e}function FU(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===_v&&t.documentElement.namespaceURI===_v?t.createElement(e):t.createElementNS(n,e)}}function BU(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function og(e){var t=Dd(e);return(t.local?BU:FU)(t)}function $U(){}function sg(e){return e==null?$U:function(){return this.querySelector(e)}}function NU(e){typeof e!="function"&&(e=sg(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,s=r[i]=new Array(o),l,c,u=0;u<o;++u)(l=a[u])&&(c=e.call(l,l.__data__,u,a))&&("__data__"in l&&(c.__data__=l.__data__),s[u]=c);return new Fn(r,this._parents)}function XM(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function IU(){return[]}function v7(e){return e==null?IU:function(){return this.querySelectorAll(e)}}function ZU(e){return function(){return XM(e.apply(this,arguments))}}function RU(e){typeof e=="function"?e=ZU(e):e=v7(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o=t[a],s=o.length,l,c=0;c<s;++c)(l=o[c])&&(r.push(e.call(l,l.__data__,c,o)),i.push(l));return new Fn(r,i)}function x7(e){return function(){return this.matches(e)}}function JM(e){return function(t){return t.matches(e)}}var PU=Array.prototype.find;function jU(e){return function(){return PU.call(this.children,e)}}function zU(){return this.firstElementChild}function GU(e){return this.select(e==null?zU:jU(typeof e=="function"?e:JM(e)))}var UU=Array.prototype.filter;function WU(){return Array.from(this.children)}function HU(e){return function(){return UU.call(this.children,e)}}function YU(e){return this.selectAll(e==null?WU:HU(typeof e=="function"?e:JM(e)))}function qU(e){typeof e!="function"&&(e=x7(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,s=r[i]=[],l,c=0;c<o;++c)(l=a[c])&&e.call(l,l.__data__,c,a)&&s.push(l);return new Fn(r,this._parents)}function KM(e){return new Array(e.length)}function VU(){return new Fn(this._enter||this._groups.map(KM),this._parents)}function xm(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}xm.prototype={constructor:xm,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function XU(e){return function(){return e}}function JU(e,t,n,r,i,a){for(var o=0,s,l=t.length,c=a.length;o<c;++o)(s=t[o])?(s.__data__=a[o],r[o]=s):n[o]=new xm(e,a[o]);for(;o<l;++o)(s=t[o])&&(i[o]=s)}function KU(e,t,n,r,i,a,o){var s,l,c=new Map,u=t.length,f=a.length,d=new Array(u),h;for(s=0;s<u;++s)(l=t[s])&&(d[s]=h=o.call(l,l.__data__,s,t)+"",c.has(h)?i[s]=l:c.set(h,l));for(s=0;s<f;++s)h=o.call(e,a[s],s,a)+"",(l=c.get(h))?(r[s]=l,l.__data__=a[s],c.delete(h)):n[s]=new xm(e,a[s]);for(s=0;s<u;++s)(l=t[s])&&c.get(d[s])===l&&(i[s]=l)}function QU(e){return e.__data__}function eW(e,t){if(!arguments.length)return Array.from(this,QU);var n=t?KU:JU,r=this._parents,i=this._groups;typeof e!="function"&&(e=XU(e));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var u=r[c],f=i[c],d=f.length,h=tW(e.call(u,u&&u.__data__,c,r)),m=h.length,g=s[c]=new Array(m),p=o[c]=new Array(m),y=l[c]=new Array(d);n(u,f,g,p,y,h,t);for(var b=0,v=0,x,_;b<m;++b)if(x=g[b]){for(b>=v&&(v=b+1);!(_=p[v])&&++v<m;);x._next=_||null}}return o=new Fn(o,r),o._enter=s,o._exit=l,o}function tW(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function nW(){return new Fn(this._exit||this._groups.map(KM),this._parents)}function rW(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function iW(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),l=0;l<o;++l)for(var c=n[l],u=r[l],f=c.length,d=s[l]=new Array(f),h,m=0;m<f;++m)(h=c[m]||u[m])&&(d[m]=h);for(;l<i;++l)s[l]=n[l];return new Fn(s,this._parents)}function aW(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function oW(e){e||(e=sW);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,l=i[a]=new Array(s),c,u=0;u<s;++u)(c=o[u])&&(l[u]=c);l.sort(t)}return new Fn(i,this._parents).order()}function sW(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function lW(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function cW(){return Array.from(this)}function uW(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function fW(){let e=0;for(const t of this)++e;return e}function dW(){return!this.node()}function hW(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&e.call(s,s.__data__,a,i);return this}function mW(e){return function(){this.removeAttribute(e)}}function pW(e){return function(){this.removeAttributeNS(e.space,e.local)}}function gW(e,t){return function(){this.setAttribute(e,t)}}function yW(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function bW(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function vW(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function xW(e,t){var n=Dd(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?pW:mW:typeof t=="function"?n.local?vW:bW:n.local?yW:gW)(n,t))}function _7(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function _W(e){return function(){this.style.removeProperty(e)}}function wW(e,t,n){return function(){this.style.setProperty(e,t,n)}}function TW(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function AW(e,t,n){return arguments.length>1?this.each((t==null?_W:typeof t=="function"?TW:wW)(e,t,n??"")):p0(this.node(),e)}function p0(e,t){return e.style.getPropertyValue(t)||_7(e).getComputedStyle(e,null).getPropertyValue(t)}function SW(e){return function(){delete this[e]}}function EW(e,t){return function(){this[e]=t}}function kW(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function MW(e,t){return arguments.length>1?this.each((t==null?SW:typeof t=="function"?kW:EW)(e,t)):this.node()[e]}function QM(e){return e.trim().split(/^|\s+/)}function w7(e){return e.classList||new eO(e)}function eO(e){this._node=e,this._names=QM(e.getAttribute("class")||"")}eO.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function tO(e,t){for(var n=w7(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function nO(e,t){for(var n=w7(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function OW(e){return function(){tO(this,e)}}function CW(e){return function(){nO(this,e)}}function DW(e,t){return function(){(t.apply(this,arguments)?tO:nO)(this,e)}}function LW(e,t){var n=QM(e+"");if(arguments.length<2){for(var r=w7(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?DW:t?OW:CW)(n,t))}function FW(){this.textContent=""}function BW(e){return function(){this.textContent=e}}function $W(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function NW(e){return arguments.length?this.each(e==null?FW:(typeof e=="function"?$W:BW)(e)):this.node().textContent}function IW(){this.innerHTML=""}function ZW(e){return function(){this.innerHTML=e}}function RW(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function PW(e){return arguments.length?this.each(e==null?IW:(typeof e=="function"?RW:ZW)(e)):this.node().innerHTML}function jW(){this.nextSibling&&this.parentNode.appendChild(this)}function zW(){return this.each(jW)}function GW(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function UW(){return this.each(GW)}function WW(e){var t=typeof e=="function"?e:og(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function HW(){return null}function YW(e,t){var n=typeof e=="function"?e:og(e),r=t==null?HW:typeof t=="function"?t:sg(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function qW(){var e=this.parentNode;e&&e.removeChild(this)}function VW(){return this.each(qW)}function XW(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function JW(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function KW(e){return this.select(e?JW:XW)}function QW(e){return arguments.length?this.property("__data__",e):this.node().__data__}function eH(e){return function(t){e.call(this,t,this.__data__)}}function tH(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function nH(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function rH(e,t,n){return function(){var r=this.__on,i,a=eH(t);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function iH(e,t,n){var r=tH(e+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,u;l<c;++l)for(i=0,u=s[l];i<a;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(s=t?rH:nH,i=0;i<a;++i)this.each(s(r[i],t,n));return this}function rO(e,t,n){var r=_7(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function aH(e,t){return function(){return rO(this,e,t)}}function oH(e,t){return function(){return rO(this,e,t.apply(this,arguments))}}function sH(e,t){return this.each((typeof t=="function"?oH:aH)(e,t))}function*lH(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var T7=[null];function Fn(e,t){this._groups=e,this._parents=t}function G0(){return new Fn([[document.documentElement]],T7)}function cH(){return this}Fn.prototype=G0.prototype={constructor:Fn,select:NU,selectAll:RU,selectChild:GU,selectChildren:YU,filter:qU,data:eW,enter:VU,exit:nW,join:rW,merge:iW,selection:cH,order:aW,sort:oW,call:lW,nodes:cW,node:uW,size:fW,empty:dW,each:hW,attr:xW,style:AW,property:MW,classed:LW,text:NW,html:PW,raise:zW,lower:UW,append:WW,insert:YW,remove:VW,clone:KW,datum:QW,on:iH,dispatch:sH,[Symbol.iterator]:lH};function ie(e){return typeof e=="string"?new Fn([[document.querySelector(e)]],[document.documentElement]):new Fn([[e]],T7)}function Pl(e){return ie(og(e).call(document.documentElement))}var uH=0;function Ld(){return new Tv}function Tv(){this._="@"+(++uH).toString(36)}Tv.prototype=Ld.prototype={constructor:Tv,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};function iO(e){let t;for(;t=e.sourceEvent;)e=t;return e}function lr(e,t){if(e=iO(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function fH(e,t){return e.target&&(e=iO(e),t===void 0&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,n=>lr(n,t))}function dH(e){return typeof e=="string"?new Fn([document.querySelectorAll(e)],[document.documentElement]):new Fn([XM(e)],T7)}const hH={passive:!1},Gf={capture:!0,passive:!1};function Dy(e){e.stopImmediatePropagation()}function jl(e){e.preventDefault(),e.stopImmediatePropagation()}function lg(e){var t=e.document.documentElement,n=ie(e).on("dragstart.drag",jl,Gf);"onselectstart"in t?n.on("selectstart.drag",jl,Gf):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function cg(e,t){var n=e.document.documentElement,r=ie(e).on("dragstart.drag",null);t&&(r.on("click.drag",jl,Gf),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const jh=e=>()=>e;function Av(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:a,x:o,y:s,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}Av.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function mH(e){return!e.ctrlKey&&!e.button}function pH(){return this.parentNode}function gH(e,t){return t??{x:e.x,y:e.y}}function yH(){return navigator.maxTouchPoints||"ontouchstart"in this}function bH(){var e=mH,t=pH,n=gH,r=yH,i={},a=Wc("start","drag","end"),o=0,s,l,c,u,f=0;function d(x){x.on("mousedown.drag",h).filter(r).on("touchstart.drag",p).on("touchmove.drag",y,hH).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(x,_){if(!(u||!e.call(this,x,_))){var T=v(this,t.call(this,x,_),x,_,"mouse");T&&(ie(x.view).on("mousemove.drag",m,Gf).on("mouseup.drag",g,Gf),lg(x.view),Dy(x),c=!1,s=x.clientX,l=x.clientY,T("start",x))}}function m(x){if(jl(x),!c){var _=x.clientX-s,T=x.clientY-l;c=_*_+T*T>f}i.mouse("drag",x)}function g(x){ie(x.view).on("mousemove.drag mouseup.drag",null),cg(x.view,c),jl(x),i.mouse("end",x)}function p(x,_){if(e.call(this,x,_)){var T=x.changedTouches,w=t.call(this,x,_),S=T.length,C,k;for(C=0;C<S;++C)(k=v(this,w,x,_,T[C].identifier,T[C]))&&(Dy(x),k("start",x,T[C]))}}function y(x){var _=x.changedTouches,T=_.length,w,S;for(w=0;w<T;++w)(S=i[_[w].identifier])&&(jl(x),S("drag",x,_[w]))}function b(x){var _=x.changedTouches,T=_.length,w,S;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),w=0;w<T;++w)(S=i[_[w].identifier])&&(Dy(x),S("end",x,_[w]))}function v(x,_,T,w,S,C){var k=a.copy(),A=lr(C||T,_),L,D,E;if((E=n.call(x,new Av("beforestart",{sourceEvent:T,target:d,identifier:S,active:o,x:A[0],y:A[1],dx:0,dy:0,dispatch:k}),w))!=null)return L=E.x-A[0]||0,D=E.y-A[1]||0,function O(M,F,$){var N=A,R;switch(M){case"start":i[S]=O,R=o++;break;case"end":delete i[S],--o;case"drag":A=lr($||F,_),R=o;break}k.call(M,x,new Av(M,{sourceEvent:F,subject:E,target:d,identifier:S,active:R,x:A[0]+L,y:A[1]+D,dx:A[0]-N[0],dy:A[1]-N[1],dispatch:k}),w)}}return d.filter=function(x){return arguments.length?(e=typeof x=="function"?x:jh(!!x),d):e},d.container=function(x){return arguments.length?(t=typeof x=="function"?x:jh(x),d):t},d.subject=function(x){return arguments.length?(n=typeof x=="function"?x:jh(x),d):n},d.touchable=function(x){return arguments.length?(r=typeof x=="function"?x:jh(!!x),d):r},d.on=function(){var x=a.on.apply(a,arguments);return x===a?d:x},d.clickDistance=function(x){return arguments.length?(f=(x=+x)*x,d):Math.sqrt(f)},d}function Hc(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Fd(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ds(){}var g0=.7,ic=1/g0,zl="\\s*([+-]?\\d+)\\s*",Uf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vH=/^#([0-9a-f]{3,8})$/,xH=new RegExp(`^rgb\\(${zl},${zl},${zl}\\)$`),_H=new RegExp(`^rgb\\(${Yi},${Yi},${Yi}\\)$`),wH=new RegExp(`^rgba\\(${zl},${zl},${zl},${Uf}\\)$`),TH=new RegExp(`^rgba\\(${Yi},${Yi},${Yi},${Uf}\\)$`),AH=new RegExp(`^hsl\\(${Uf},${Yi},${Yi}\\)$`),SH=new RegExp(`^hsla\\(${Uf},${Yi},${Yi},${Uf}\\)$`),lw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Hc(ds,zo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:cw,formatHex:cw,formatHex8:EH,formatHsl:kH,formatRgb:uw,toString:uw});function cw(){return this.rgb().formatHex()}function EH(){return this.rgb().formatHex8()}function kH(){return aO(this).formatHsl()}function uw(){return this.rgb().formatRgb()}function zo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=vH.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?fw(t):n===3?new Nt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?zh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?zh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=xH.exec(e))?new Nt(t[1],t[2],t[3],1):(t=_H.exec(e))?new Nt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=wH.exec(e))?zh(t[1],t[2],t[3],t[4]):(t=TH.exec(e))?zh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=AH.exec(e))?mw(t[1],t[2]/100,t[3]/100,1):(t=SH.exec(e))?mw(t[1],t[2]/100,t[3]/100,t[4]):lw.hasOwnProperty(e)?fw(lw[e]):e==="transparent"?new Nt(NaN,NaN,NaN,0):null}function fw(e){return new Nt(e>>16&255,e>>8&255,e&255,1)}function zh(e,t,n,r){return r<=0&&(e=t=n=NaN),new Nt(e,t,n,r)}function A7(e){return e instanceof ds||(e=zo(e)),e?(e=e.rgb(),new Nt(e.r,e.g,e.b,e.opacity)):new Nt}function Qi(e,t,n,r){return arguments.length===1?A7(e):new Nt(e,t,n,r??1)}function Nt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Hc(Nt,Qi,Fd(ds,{brighter(e){return e=e==null?ic:Math.pow(ic,e),new Nt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?g0:Math.pow(g0,e),new Nt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Nt(t0(this.r),t0(this.g),t0(this.b),_m(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dw,formatHex:dw,formatHex8:MH,formatRgb:hw,toString:hw}));function dw(){return`#${Xs(this.r)}${Xs(this.g)}${Xs(this.b)}`}function MH(){return`#${Xs(this.r)}${Xs(this.g)}${Xs(this.b)}${Xs((isNaN(this.opacity)?1:this.opacity)*255)}`}function hw(){const e=_m(this.opacity);return`${e===1?"rgb(":"rgba("}${t0(this.r)}, ${t0(this.g)}, ${t0(this.b)}${e===1?")":`, ${e})`}`}function _m(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function t0(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xs(e){return e=t0(e),(e<16?"0":"")+e.toString(16)}function mw(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Jr(e,t,n,r)}function aO(e){if(e instanceof Jr)return new Jr(e.h,e.s,e.l,e.opacity);if(e instanceof ds||(e=zo(e)),!e)return new Jr;if(e instanceof Jr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Jr(o,s,l,e.opacity)}function ac(e,t,n,r){return arguments.length===1?aO(e):new Jr(e,t,n,r??1)}function Jr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Hc(Jr,ac,Fd(ds,{brighter(e){return e=e==null?ic:Math.pow(ic,e),new Jr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?g0:Math.pow(g0,e),new Jr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Nt(Ly(e>=240?e-240:e+120,i,r),Ly(e,i,r),Ly(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Jr(pw(this.h),Gh(this.s),Gh(this.l),_m(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_m(this.opacity);return`${e===1?"hsl(":"hsla("}${pw(this.h)}, ${Gh(this.s)*100}%, ${Gh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function pw(e){return e=(e||0)%360,e<0?e+360:e}function Gh(e){return Math.max(0,Math.min(1,e||0))}function Ly(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const oO=Math.PI/180,sO=180/Math.PI,wm=18,lO=.96422,cO=1,uO=.82521,fO=4/29,Gl=6/29,dO=3*Gl*Gl,OH=Gl*Gl*Gl;function hO(e){if(e instanceof ui)return new ui(e.l,e.a,e.b,e.opacity);if(e instanceof ji)return pO(e);e instanceof Nt||(e=A7(e));var t=Ny(e.r),n=Ny(e.g),r=Ny(e.b),i=Fy((.2225045*t+.7168786*n+.0606169*r)/cO),a,o;return t===n&&n===r?a=o=i:(a=Fy((.4360747*t+.3850649*n+.1430804*r)/lO),o=Fy((.0139322*t+.0971045*n+.7141733*r)/uO)),new ui(116*i-16,500*(a-i),200*(i-o),e.opacity)}function CH(e,t){return new ui(e,0,0,t??1)}function Wf(e,t,n,r){return arguments.length===1?hO(e):new ui(e,t,n,r??1)}function ui(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}Hc(ui,Wf,Fd(ds,{brighter(e){return new ui(this.l+wm*(e??1),this.a,this.b,this.opacity)},darker(e){return new ui(this.l-wm*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=lO*By(t),e=cO*By(e),n=uO*By(n),new Nt($y(3.1338561*t-1.6168667*e-.4906146*n),$y(-.9787684*t+1.9161415*e+.033454*n),$y(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function Fy(e){return e>OH?Math.pow(e,1/3):e/dO+fO}function By(e){return e>Gl?e*e*e:dO*(e-fO)}function $y(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Ny(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function mO(e){if(e instanceof ji)return new ji(e.h,e.c,e.l,e.opacity);if(e instanceof ui||(e=hO(e)),e.a===0&&e.b===0)return new ji(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*sO;return new ji(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function DH(e,t,n,r){return arguments.length===1?mO(e):new ji(n,t,e,r??1)}function oc(e,t,n,r){return arguments.length===1?mO(e):new ji(e,t,n,r??1)}function ji(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function pO(e){if(isNaN(e.h))return new ui(e.l,0,0,e.opacity);var t=e.h*oO;return new ui(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Hc(ji,oc,Fd(ds,{brighter(e){return new ji(this.h,this.c,this.l+wm*(e??1),this.opacity)},darker(e){return new ji(this.h,this.c,this.l-wm*(e??1),this.opacity)},rgb(){return pO(this).rgb()}}));var gO=-.14861,S7=1.78277,E7=-.29227,ug=-.90649,Hf=1.97294,gw=Hf*ug,yw=Hf*S7,bw=S7*E7-ug*gO;function LH(e){if(e instanceof n0)return new n0(e.h,e.s,e.l,e.opacity);e instanceof Nt||(e=A7(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(bw*r+gw*t-yw*n)/(bw+gw-yw),a=r-i,o=(Hf*(n-i)-E7*a)/ug,s=Math.sqrt(o*o+a*a)/(Hf*i*(1-i)),l=s?Math.atan2(o,a)*sO-120:NaN;return new n0(l<0?l+360:l,s,i,e.opacity)}function pi(e,t,n,r){return arguments.length===1?LH(e):new n0(e,t,n,r??1)}function n0(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Hc(n0,pi,Fd(ds,{brighter(e){return e=e==null?ic:Math.pow(ic,e),new n0(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?g0:Math.pow(g0,e),new n0(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*oO,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Nt(255*(t+n*(gO*r+S7*i)),255*(t+n*(E7*r+ug*i)),255*(t+n*(Hf*r)),this.opacity)}}));function yO(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}function k7(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return yO((n-r/t)*t,o,i,a,s)}}function M7(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return yO((n-r/t)*t,i,a,o,s)}}const fg=e=>()=>e;function bO(e,t){return function(n){return e+n*t}}function FH(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function dg(e,t){var n=t-e;return n?bO(e,n>180||n<-180?n-360*Math.round(n/360):n):fg(isNaN(e)?t:e)}function BH(e){return(e=+e)==1?It:function(t,n){return n-t?FH(t,n,e):fg(isNaN(t)?n:t)}}function It(e,t){var n=t-e;return n?bO(e,n):fg(isNaN(e)?t:e)}const y0=function e(t){var n=BH(t);function r(i,a){var o=n((i=Qi(i)).r,(a=Qi(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),c=It(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=e,r}(1);function vO(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),a=new Array(n),o,s;for(o=0;o<n;++o)s=Qi(t[o]),r[o]=s.r||0,i[o]=s.g||0,a[o]=s.b||0;return r=e(r),i=e(i),a=e(a),s.opacity=1,function(l){return s.r=r(l),s.g=i(l),s.b=a(l),s+""}}}var O7=vO(k7),xO=vO(M7);function hg(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function _O(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function wO(e,t){return(_O(t)?hg:TO)(e,t)}function TO(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=ua(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function C7(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function cr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function D7(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ua(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Sv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Iy=new RegExp(Sv.source,"g");function $H(e){return function(){return e}}function NH(e){return function(t){return e(t)+""}}function mg(e,t){var n=Sv.lastIndex=Iy.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Sv.exec(e))&&(i=Iy.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:cr(r,i)})),n=Iy.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?NH(l[0].x):$H(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}function ua(e,t){var n=typeof t,r;return t==null||n==="boolean"?fg(t):(n==="number"?cr:n==="string"?(r=zo(t))?(t=r,y0):mg:t instanceof zo?y0:t instanceof Date?C7:_O(t)?hg:Array.isArray(t)?TO:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?D7:cr)(e,t)}function AO(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function SO(e,t){var n=dg(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function Yc(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var vw=180/Math.PI,Ev={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function EO(e,t,n,r,i,a){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*vw,skewX:Math.atan(l)*vw,scaleX:o,scaleY:s}}var Uh;function IH(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ev:EO(t.a,t.b,t.c,t.d,t.e,t.f)}function ZH(e){return e==null||(Uh||(Uh=document.createElementNS("http://www.w3.org/2000/svg","g")),Uh.setAttribute("transform",e),!(e=Uh.transform.baseVal.consolidate()))?Ev:(e=e.matrix,EO(e.a,e.b,e.c,e.d,e.e,e.f))}function kO(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function a(c,u,f,d,h,m){if(c!==f||u!==d){var g=h.push("translate(",null,t,null,n);m.push({i:g-4,x:cr(c,f)},{i:g-2,x:cr(u,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function o(c,u,f,d){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:cr(c,u)})):u&&f.push(i(f)+"rotate("+u+r)}function s(c,u,f,d){c!==u?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:cr(c,u)}):u&&f.push(i(f)+"skewX("+u+r)}function l(c,u,f,d,h,m){if(c!==f||u!==d){var g=h.push(i(h)+"scale(",null,",",null,")");m.push({i:g-4,x:cr(c,f)},{i:g-2,x:cr(u,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(c,u){var f=[],d=[];return c=e(c),u=e(u),a(c.translateX,c.translateY,u.translateX,u.translateY,f,d),o(c.rotate,u.rotate,f,d),s(c.skewX,u.skewX,f,d),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,f,d),c=u=null,function(h){for(var m=-1,g=d.length,p;++m<g;)f[(p=d[m]).i]=p.x(h);return f.join("")}}}var L7=kO(IH,"px, ","px)","deg)"),F7=kO(ZH,", ",")",")"),RH=1e-12;function xw(e){return((e=Math.exp(e))+1/e)/2}function PH(e){return((e=Math.exp(e))-1/e)/2}function jH(e){return((e=Math.exp(2*e))-1)/(e+1)}const B7=function e(t,n,r){function i(a,o){var s=a[0],l=a[1],c=a[2],u=o[0],f=o[1],d=o[2],h=u-s,m=f-l,g=h*h+m*m,p,y;if(g<RH)y=Math.log(d/c)/t,p=function(w){return[s+w*h,l+w*m,c*Math.exp(t*w*y)]};else{var b=Math.sqrt(g),v=(d*d-c*c+r*g)/(2*c*n*b),x=(d*d-c*c-r*g)/(2*d*n*b),_=Math.log(Math.sqrt(v*v+1)-v),T=Math.log(Math.sqrt(x*x+1)-x);y=(T-_)/t,p=function(w){var S=w*y,C=xw(_),k=c/(n*b)*(C*jH(t*S+_)-PH(_));return[s+k*h,l+k*m,c*C/xw(t*S+_)]}}return p.duration=y*1e3*t/Math.SQRT2,p}return i.rho=function(a){var o=Math.max(.001,+a),s=o*o,l=s*s;return e(o,s,l)},i}(Math.SQRT2,2,4);function MO(e){return function(t,n){var r=e((t=ac(t)).h,(n=ac(n)).h),i=It(t.s,n.s),a=It(t.l,n.l),o=It(t.opacity,n.opacity);return function(s){return t.h=r(s),t.s=i(s),t.l=a(s),t.opacity=o(s),t+""}}}const OO=MO(dg);var CO=MO(It);function DO(e,t){var n=It((e=Wf(e)).l,(t=Wf(t)).l),r=It(e.a,t.a),i=It(e.b,t.b),a=It(e.opacity,t.opacity);return function(o){return e.l=n(o),e.a=r(o),e.b=i(o),e.opacity=a(o),e+""}}function LO(e){return function(t,n){var r=e((t=oc(t)).h,(n=oc(n)).h),i=It(t.c,n.c),a=It(t.l,n.l),o=It(t.opacity,n.opacity);return function(s){return t.h=r(s),t.c=i(s),t.l=a(s),t.opacity=o(s),t+""}}}const FO=LO(dg);var BO=LO(It);function $O(e){return function t(n){n=+n;function r(i,a){var o=e((i=pi(i)).h,(a=pi(a)).h),s=It(i.s,a.s),l=It(i.l,a.l),c=It(i.opacity,a.opacity);return function(u){return i.h=o(u),i.s=s(u),i.l=l(Math.pow(u,n)),i.opacity=c(u),i+""}}return r.gamma=t,r}(1)}const NO=$O(dg);var Bd=$O(It);function $d(e,t){t===void 0&&(t=e,e=ua);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function IO(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const zH=Object.freeze(Object.defineProperty({__proto__:null,interpolate:ua,interpolateArray:wO,interpolateBasis:k7,interpolateBasisClosed:M7,interpolateCubehelix:NO,interpolateCubehelixLong:Bd,interpolateDate:C7,interpolateDiscrete:AO,interpolateHcl:FO,interpolateHclLong:BO,interpolateHsl:OO,interpolateHslLong:CO,interpolateHue:SO,interpolateLab:DO,interpolateNumber:cr,interpolateNumberArray:hg,interpolateObject:D7,interpolateRgb:y0,interpolateRgbBasis:O7,interpolateRgbBasisClosed:xO,interpolateRound:Yc,interpolateString:mg,interpolateTransformCss:L7,interpolateTransformSvg:F7,interpolateZoom:B7,piecewise:$d,quantize:IO},Symbol.toStringTag,{value:"Module"}));var sc=0,Qu=0,Au=0,ZO=1e3,Tm,ef,Am=0,b0=0,pg=0,Yf=typeof performance=="object"&&performance.now?performance:Date,RO=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Nd(){return b0||(RO(GH),b0=Yf.now()+pg)}function GH(){b0=0}function qf(){this._call=this._time=this._next=null}qf.prototype=gg.prototype={constructor:qf,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Nd():+n)+(t==null?0:+t),!this._next&&ef!==this&&(ef?ef._next=this:Tm=this,ef=this),this._call=e,this._time=n,kv()},stop:function(){this._call&&(this._call=null,this._time=1/0,kv())}};function gg(e,t,n){var r=new qf;return r.restart(e,t,n),r}function PO(){Nd(),++sc;for(var e=Tm,t;e;)(t=b0-e._time)>=0&&e._call.call(void 0,t),e=e._next;--sc}function _w(){b0=(Am=Yf.now())+pg,sc=Qu=0;try{PO()}finally{sc=0,WH(),b0=0}}function UH(){var e=Yf.now(),t=e-Am;t>ZO&&(pg-=t,Am=e)}function WH(){for(var e,t=Tm,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Tm=n);ef=e,kv(r)}function kv(e){if(!sc){Qu&&(Qu=clearTimeout(Qu));var t=e-b0;t>24?(e<1/0&&(Qu=setTimeout(_w,e-Yf.now()-pg)),Au&&(Au=clearInterval(Au))):(Au||(Am=Yf.now(),Au=setInterval(UH,ZO)),sc=1,RO(_w))}}function Mv(e,t,n){var r=new qf;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}function jO(e,t,n){var r=new qf,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(a,o,s){o=+o,s=s==null?Nd():+s,r._restart(function l(c){c+=i,r._restart(l,i+=o,s),a(c)},o,s)},r.restart(e,t,n),r)}var HH=Wc("start","end","cancel","interrupt"),YH=[],zO=0,Ov=1,Cv=2,j1=3,ww=4,Dv=5,z1=6;function yg(e,t,n,r,i,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;qH(e,n,{name:t,index:r,group:i,on:HH,tween:YH,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:zO})}function $7(e,t){var n=Ti(e,t);if(n.state>zO)throw new Error("too late; already scheduled");return n}function fa(e,t){var n=Ti(e,t);if(n.state>j1)throw new Error("too late; already running");return n}function Ti(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function qH(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=gg(a,0,n.time);function a(c){n.state=Ov,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,f,d,h;if(n.state!==Ov)return l();for(u in r)if(h=r[u],h.name===n.name){if(h.state===j1)return Mv(o);h.state===ww?(h.state=z1,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[u]):+u<t&&(h.state=z1,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[u])}if(Mv(function(){n.state===j1&&(n.state=ww,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=Cv,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Cv){for(n.state=j1,i=new Array(d=n.tween.length),u=0,f=-1;u<d;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function s(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=Dv,1),f=-1,d=i.length;++f<d;)i[f].call(e,u);n.state===Dv&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=z1,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function r0(e,t){var n=e.__transition,r,i,a=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){a=!1;continue}i=r.state>Cv&&r.state<Dv,r.state=z1,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}a&&delete e.__transition}}function VH(e){return this.each(function(){r0(this,e)})}function XH(e,t){var n,r;return function(){var i=fa(this,e),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function JH(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=fa(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=s;break}l===c&&i.push(s)}a.tween=i}}function KH(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ti(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?XH:JH)(n,e,t))}function N7(e,t,n){var r=e._id;return e.each(function(){var i=fa(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Ti(i,r).value[t]}}function GO(e,t){var n;return(typeof t=="number"?cr:t instanceof zo?y0:(n=zo(t))?(t=n,y0):mg)(e,t)}function QH(e){return function(){this.removeAttribute(e)}}function eY(e){return function(){this.removeAttributeNS(e.space,e.local)}}function tY(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttribute(e);return o===i?null:o===r?a:a=t(r=o,n)}}function nY(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?a:a=t(r=o,n)}}function rY(e,t,n){var r,i,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=t(r=o,s)))}}function iY(e,t,n){var r,i,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=t(r=o,s)))}}function aY(e,t){var n=Dd(e),r=n==="transform"?F7:GO;return this.attrTween(e,typeof t=="function"?(n.local?iY:rY)(n,r,N7(this,"attr."+e,t)):t==null?(n.local?eY:QH)(n):(n.local?nY:tY)(n,r,t))}function oY(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function sY(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function lY(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&sY(e,a)),n}return i._value=t,i}function cY(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&oY(e,a)),n}return i._value=t,i}function uY(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Dd(e);return this.tween(n,(r.local?lY:cY)(r,t))}function fY(e,t){return function(){$7(this,e).delay=+t.apply(this,arguments)}}function dY(e,t){return t=+t,function(){$7(this,e).delay=t}}function hY(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?fY:dY)(t,e)):Ti(this.node(),t).delay}function mY(e,t){return function(){fa(this,e).duration=+t.apply(this,arguments)}}function pY(e,t){return t=+t,function(){fa(this,e).duration=t}}function gY(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?mY:pY)(t,e)):Ti(this.node(),t).duration}function yY(e,t){if(typeof t!="function")throw new Error;return function(){fa(this,e).ease=t}}function bY(e){var t=this._id;return arguments.length?this.each(yY(t,e)):Ti(this.node(),t).ease}function vY(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;fa(this,e).ease=n}}function xY(e){if(typeof e!="function")throw new Error;return this.each(vY(this._id,e))}function _Y(e){typeof e!="function"&&(e=x7(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,s=r[i]=[],l,c=0;c<o;++c)(l=a[c])&&e.call(l,l.__data__,c,a)&&s.push(l);return new ea(r,this._parents,this._name,this._id)}function wY(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l=t[s],c=n[s],u=l.length,f=o[s]=new Array(u),d,h=0;h<u;++h)(d=l[h]||c[h])&&(f[h]=d);for(;s<r;++s)o[s]=t[s];return new ea(o,this._parents,this._name,this._id)}function TY(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function AY(e,t,n){var r,i,a=TY(t)?$7:fa;return function(){var o=a(this,e),s=o.on;s!==r&&(i=(r=s).copy()).on(t,n),o.on=i}}function SY(e,t){var n=this._id;return arguments.length<2?Ti(this.node(),n).on.on(e):this.each(AY(n,e,t))}function EY(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function kY(){return this.on("end.remove",EY(this._id))}function MY(e){var t=this._name,n=this._id;typeof e!="function"&&(e=sg(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],l=s.length,c=a[o]=new Array(l),u,f,d=0;d<l;++d)(u=s[d])&&(f=e.call(u,u.__data__,d,s))&&("__data__"in u&&(f.__data__=u.__data__),c[d]=f,yg(c[d],t,n,d,c,Ti(u,n)));return new ea(a,this._parents,t,n)}function OY(e){var t=this._name,n=this._id;typeof e!="function"&&(e=v7(e));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var l=r[s],c=l.length,u,f=0;f<c;++f)if(u=l[f]){for(var d=e.call(u,u.__data__,f,l),h,m=Ti(u,n),g=0,p=d.length;g<p;++g)(h=d[g])&&yg(h,t,n,g,d,m);a.push(d),o.push(u)}return new ea(a,o,t,n)}var CY=G0.prototype.constructor;function DY(){return new CY(this._groups,this._parents)}function LY(e,t){var n,r,i;return function(){var a=p0(this,e),o=(this.style.removeProperty(e),p0(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}function UO(e){return function(){this.style.removeProperty(e)}}function FY(e,t,n){var r,i=n+"",a;return function(){var o=p0(this,e);return o===i?null:o===r?a:a=t(r=o,n)}}function BY(e,t,n){var r,i,a;return function(){var o=p0(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),p0(this,e))),o===l?null:o===r&&l===i?a:(i=l,a=t(r=o,s))}}function $Y(e,t){var n,r,i,a="style."+t,o="end."+a,s;return function(){var l=fa(this,e),c=l.on,u=l.value[a]==null?s||(s=UO(t)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(o,i=u),l.on=r}}function NY(e,t,n){var r=(e+="")=="transform"?L7:GO;return t==null?this.styleTween(e,LY(e,r)).on("end.style."+e,UO(e)):typeof t=="function"?this.styleTween(e,BY(e,r,N7(this,"style."+e,t))).each($Y(this._id,e)):this.styleTween(e,FY(e,r,t),n).on("end.style."+e,null)}function IY(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function ZY(e,t,n){var r,i;function a(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&IY(e,o,n)),r}return a._value=t,a}function RY(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,ZY(e,t,n??""))}function PY(e){return function(){this.textContent=e}}function jY(e){return function(){var t=e(this);this.textContent=t??""}}function zY(e){return this.tween("text",typeof e=="function"?jY(N7(this,"text",e)):PY(e==null?"":e+""))}function GY(e){return function(t){this.textContent=e.call(this,t)}}function UY(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&GY(i)),t}return r._value=e,r}function WY(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,UY(e))}function HY(){for(var e=this._name,t=this._id,n=HO(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,c=0;c<s;++c)if(l=o[c]){var u=Ti(l,t);yg(l,e,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new ea(r,this._parents,e,n)}function YY(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},l={value:function(){--i===0&&a()}};n.each(function(){var c=fa(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),c.on=t}),i===0&&a()})}var qY=0;function ea(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function WO(e){return G0().transition(e)}function HO(){return++qY}var Aa=G0.prototype;ea.prototype=WO.prototype={constructor:ea,select:MY,selectAll:OY,selectChild:Aa.selectChild,selectChildren:Aa.selectChildren,filter:_Y,merge:wY,selection:DY,transition:HY,call:Aa.call,nodes:Aa.nodes,node:Aa.node,size:Aa.size,empty:Aa.empty,each:Aa.each,on:SY,attr:aY,attrTween:uY,style:NY,styleTween:RY,text:zY,textTween:WY,remove:kY,tween:KH,delay:hY,duration:gY,ease:bY,easeVarying:xY,end:YY,[Symbol.iterator]:Aa[Symbol.iterator]};const VY=e=>+e;function XY(e){return e*e}function JY(e){return e*(2-e)}function Tw(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function KY(e){return e*e*e}function QY(e){return--e*e*e+1}function Lv(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var I7=3,eq=function e(t){t=+t;function n(r){return Math.pow(r,t)}return n.exponent=e,n}(I7),tq=function e(t){t=+t;function n(r){return 1-Math.pow(1-r,t)}return n.exponent=e,n}(I7),Aw=function e(t){t=+t;function n(r){return((r*=2)<=1?Math.pow(r,t):2-Math.pow(2-r,t))/2}return n.exponent=e,n}(I7),YO=Math.PI,qO=YO/2;function nq(e){return+e==1?1:1-Math.cos(e*qO)}function rq(e){return Math.sin(e*qO)}function Sw(e){return(1-Math.cos(YO*e))/2}function Go(e){return(Math.pow(2,-10*e)-.0009765625)*1.0009775171065494}function iq(e){return Go(1-+e)}function aq(e){return 1-Go(e)}function Ew(e){return((e*=2)<=1?Go(1-e):2-Go(e-1))/2}function oq(e){return 1-Math.sqrt(1-e*e)}function sq(e){return Math.sqrt(1- --e*e)}function kw(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var Fv=4/11,lq=6/11,cq=8/11,uq=3/4,fq=9/11,dq=10/11,hq=15/16,mq=21/22,pq=63/64,Wh=1/Fv/Fv;function gq(e){return 1-Vf(1-e)}function Vf(e){return(e=+e)<Fv?Wh*e*e:e<cq?Wh*(e-=lq)*e+uq:e<dq?Wh*(e-=fq)*e+hq:Wh*(e-=mq)*e+pq}function yq(e){return((e*=2)<=1?1-Vf(1-e):Vf(e-1)+1)/2}var Z7=1.70158,bq=function e(t){t=+t;function n(r){return(r=+r)*r*(t*(r-1)+r)}return n.overshoot=e,n}(Z7),vq=function e(t){t=+t;function n(r){return--r*r*((r+1)*t+r)+1}return n.overshoot=e,n}(Z7),Mw=function e(t){t=+t;function n(r){return((r*=2)<1?r*r*((t+1)*r-t):(r-=2)*r*((t+1)*r+t)+2)/2}return n.overshoot=e,n}(Z7),lc=2*Math.PI,R7=1,P7=.3,xq=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=lc);function i(a){return t*Go(- --a)*Math.sin((r-a)/n)}return i.amplitude=function(a){return e(a,n*lc)},i.period=function(a){return e(t,a)},i}(R7,P7),Ow=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=lc);function i(a){return 1-t*Go(a=+a)*Math.sin((a+r)/n)}return i.amplitude=function(a){return e(a,n*lc)},i.period=function(a){return e(t,a)},i}(R7,P7),_q=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=lc);function i(a){return((a=a*2-1)<0?t*Go(-a)*Math.sin((r-a)/n):2-t*Go(a)*Math.sin((r+a)/n))/2}return i.amplitude=function(a){return e(a,n*lc)},i.period=function(a){return e(t,a)},i}(R7,P7),wq={time:null,delay:0,duration:250,ease:Lv};function Tq(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Aq(e){var t,n;e instanceof ea?(t=e._id,e=e._name):(t=HO(),(n=wq).time=Nd(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,c=0;c<s;++c)(l=o[c])&&yg(l,e,t,c,o,n||Tq(l,t));return new ea(r,this._parents,e,t)}G0.prototype.interrupt=VH;G0.prototype.transition=Aq;var Sq=[null];function Eq(e,t){var n=e.__transition,r,i;if(n){t=t==null?null:t+"";for(i in n)if((r=n[i]).state>Ov&&r.name===t)return new ea([[e]],Sq,t,+i)}return null}const Zy=e=>()=>e;function kq(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function Mq(e){e.stopImmediatePropagation()}function Ry(e){e.preventDefault(),e.stopImmediatePropagation()}var Cw={name:"drag"},Py={name:"space"},dl={name:"handle"},hl={name:"center"};const{abs:Dw,max:Kt,min:Qt}=Math;function Lw(e){return[+e[0],+e[1]]}function Bv(e){return[Lw(e[0]),Lw(e[1])]}var G1={name:"x",handles:["w","e"].map(Xf),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},U1={name:"y",handles:["n","s"].map(Xf),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Oq={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Xf),input:function(e){return e==null?null:Bv(e)},output:function(e){return e}},Sa={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Fw={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Bw={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Cq={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Dq={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Xf(e){return{type:e}}function Lq(e){return!e.ctrlKey&&!e.button}function Fq(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function Bq(){return navigator.maxTouchPoints||"ontouchstart"in this}function jy(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function $q(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function Nq(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function Iq(){return j7(G1)}function Zq(){return j7(U1)}function Rq(){return j7(Oq)}function j7(e){var t=Fq,n=Lq,r=Bq,i=!0,a=Wc("start","brush","end"),o=6,s;function l(p){var y=p.property("__brush",g).selectAll(".overlay").data([Xf("overlay")]);y.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Sa.overlay).merge(y).each(function(){var v=jy(this).extent;ie(this).attr("x",v[0][0]).attr("y",v[0][1]).attr("width",v[1][0]-v[0][0]).attr("height",v[1][1]-v[0][1])}),p.selectAll(".selection").data([Xf("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Sa.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var b=p.selectAll(".handle").data(e.handles,function(v){return v.type});b.exit().remove(),b.enter().append("rect").attr("class",function(v){return"handle handle--"+v.type}).attr("cursor",function(v){return Sa[v.type]}),p.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(r).on("touchstart.brush",d).on("touchmove.brush",h).on("touchend.brush touchcancel.brush",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(p,y,b){p.tween?p.on("start.brush",function(v){u(this,arguments).beforestart().start(v)}).on("interrupt.brush end.brush",function(v){u(this,arguments).end(v)}).tween("brush",function(){var v=this,x=v.__brush,_=u(v,arguments),T=x.selection,w=e.input(typeof y=="function"?y.apply(this,arguments):y,x.extent),S=ua(T,w);function C(k){x.selection=k===1&&w===null?null:S(k),c.call(v),_.brush()}return T!==null&&w!==null?C:C(1)}):p.each(function(){var v=this,x=arguments,_=v.__brush,T=e.input(typeof y=="function"?y.apply(v,x):y,_.extent),w=u(v,x).beforestart();r0(v),_.selection=T===null?null:T,c.call(v),w.start(b).brush(b).end(b)})},l.clear=function(p,y){l.move(p,null,y)};function c(){var p=ie(this),y=jy(this).selection;y?(p.selectAll(".selection").style("display",null).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1]),p.selectAll(".handle").style("display",null).attr("x",function(b){return b.type[b.type.length-1]==="e"?y[1][0]-o/2:y[0][0]-o/2}).attr("y",function(b){return b.type[0]==="s"?y[1][1]-o/2:y[0][1]-o/2}).attr("width",function(b){return b.type==="n"||b.type==="s"?y[1][0]-y[0][0]+o:o}).attr("height",function(b){return b.type==="e"||b.type==="w"?y[1][1]-y[0][1]+o:o})):p.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(p,y,b){var v=p.__brush.emitter;return v&&(!b||!v.clean)?v:new f(p,y,b)}function f(p,y,b){this.that=p,this.args=y,this.state=p.__brush,this.active=0,this.clean=b}f.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(p,y){return this.starting?(this.starting=!1,this.emit("start",p,y)):this.emit("brush",p),this},brush:function(p,y){return this.emit("brush",p,y),this},end:function(p,y){return--this.active===0&&(delete this.state.emitter,this.emit("end",p,y)),this},emit:function(p,y,b){var v=ie(this.that).datum();a.call(p,this.that,new kq(p,{sourceEvent:y,target:l,selection:e.output(this.state.selection),mode:b,dispatch:a}),v)}};function d(p){if(s&&!p.touches||!n.apply(this,arguments))return;var y=this,b=p.target.__data__.type,v=(i&&p.metaKey?b="overlay":b)==="selection"?Cw:i&&p.altKey?hl:dl,x=e===U1?null:Cq[b],_=e===G1?null:Dq[b],T=jy(y),w=T.extent,S=T.selection,C=w[0][0],k,A,L=w[0][1],D,E,O=w[1][0],M,F,$=w[1][1],N,R,Y=0,K=0,me,pe=x&&_&&i&&p.shiftKey,fe,Fe,Ae=Array.from(p.touches||[p],ce=>{const We=ce.identifier;return ce=lr(ce,y),ce.point0=ce.slice(),ce.identifier=We,ce});r0(y);var $e=u(y,arguments,!0).beforestart();if(b==="overlay"){S&&(me=!0);const ce=[Ae[0],Ae[1]||Ae[0]];T.selection=S=[[k=e===U1?C:Qt(ce[0][0],ce[1][0]),D=e===G1?L:Qt(ce[0][1],ce[1][1])],[M=e===U1?O:Kt(ce[0][0],ce[1][0]),N=e===G1?$:Kt(ce[0][1],ce[1][1])]],Ae.length>1&&Pe(p)}else k=S[0][0],D=S[0][1],M=S[1][0],N=S[1][1];A=k,E=D,F=M,R=N;var X=ie(y).attr("pointer-events","none"),he=X.selectAll(".overlay").attr("cursor",Sa[b]);if(p.touches)$e.moved=z,$e.ended=Ee;else{var ye=ie(p.view).on("mousemove.brush",z,!0).on("mouseup.brush",Ee,!0);i&&ye.on("keydown.brush",ct,!0).on("keyup.brush",ot,!0),lg(p.view)}c.call(y),$e.start(p,v.name);function z(ce){for(const We of ce.changedTouches||[ce])for(const ll of Ae)ll.identifier===We.identifier&&(ll.cur=lr(We,y));if(pe&&!fe&&!Fe&&Ae.length===1){const We=Ae[0];Dw(We.cur[0]-We[0])>Dw(We.cur[1]-We[1])?Fe=!0:fe=!0}for(const We of Ae)We.cur&&(We[0]=We.cur[0],We[1]=We.cur[1]);me=!0,Ry(ce),Pe(ce)}function Pe(ce){const We=Ae[0],ll=We.point0;var _n;switch(Y=We[0]-ll[0],K=We[1]-ll[1],v){case Py:case Cw:{x&&(Y=Kt(C-k,Qt(O-M,Y)),A=k+Y,F=M+Y),_&&(K=Kt(L-D,Qt($-N,K)),E=D+K,R=N+K);break}case dl:{Ae[1]?(x&&(A=Kt(C,Qt(O,Ae[0][0])),F=Kt(C,Qt(O,Ae[1][0])),x=1),_&&(E=Kt(L,Qt($,Ae[0][1])),R=Kt(L,Qt($,Ae[1][1])),_=1)):(x<0?(Y=Kt(C-k,Qt(O-k,Y)),A=k+Y,F=M):x>0&&(Y=Kt(C-M,Qt(O-M,Y)),A=k,F=M+Y),_<0?(K=Kt(L-D,Qt($-D,K)),E=D+K,R=N):_>0&&(K=Kt(L-N,Qt($-N,K)),E=D,R=N+K));break}case hl:{x&&(A=Kt(C,Qt(O,k-Y*x)),F=Kt(C,Qt(O,M+Y*x))),_&&(E=Kt(L,Qt($,D-K*_)),R=Kt(L,Qt($,N+K*_)));break}}F<A&&(x*=-1,_n=k,k=M,M=_n,_n=A,A=F,F=_n,b in Fw&&he.attr("cursor",Sa[b=Fw[b]])),R<E&&(_*=-1,_n=D,D=N,N=_n,_n=E,E=R,R=_n,b in Bw&&he.attr("cursor",Sa[b=Bw[b]])),T.selection&&(S=T.selection),fe&&(A=S[0][0],F=S[1][0]),Fe&&(E=S[0][1],R=S[1][1]),(S[0][0]!==A||S[0][1]!==E||S[1][0]!==F||S[1][1]!==R)&&(T.selection=[[A,E],[F,R]],c.call(y),$e.brush(ce,v.name))}function Ee(ce){if(Mq(ce),ce.touches){if(ce.touches.length)return;s&&clearTimeout(s),s=setTimeout(function(){s=null},500)}else cg(ce.view,me),ye.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);X.attr("pointer-events","all"),he.attr("cursor",Sa.overlay),T.selection&&(S=T.selection),$q(S)&&(T.selection=null,c.call(y)),$e.end(ce,v.name)}function ct(ce){switch(ce.keyCode){case 16:{pe=x&&_;break}case 18:{v===dl&&(x&&(M=F-Y*x,k=A+Y*x),_&&(N=R-K*_,D=E+K*_),v=hl,Pe(ce));break}case 32:{(v===dl||v===hl)&&(x<0?M=F-Y:x>0&&(k=A-Y),_<0?N=R-K:_>0&&(D=E-K),v=Py,he.attr("cursor",Sa.selection),Pe(ce));break}default:return}Ry(ce)}function ot(ce){switch(ce.keyCode){case 16:{pe&&(fe=Fe=pe=!1,Pe(ce));break}case 18:{v===hl&&(x<0?M=F:x>0&&(k=A),_<0?N=R:_>0&&(D=E),v=dl,Pe(ce));break}case 32:{v===Py&&(ce.altKey?(x&&(M=F-Y*x,k=A+Y*x),_&&(N=R-K*_,D=E+K*_),v=hl):(x<0?M=F:x>0&&(k=A),_<0?N=R:_>0&&(D=E),v=dl),he.attr("cursor",Sa[b]),Pe(ce));break}default:return}Ry(ce)}}function h(p){u(this,arguments).moved(p)}function m(p){u(this,arguments).ended(p)}function g(){var p=this.__brush||{selection:null};return p.extent=Bv(t.apply(this,arguments)),p.dim=e,p}return l.extent=function(p){return arguments.length?(t=typeof p=="function"?p:Zy(Bv(p)),l):t},l.filter=function(p){return arguments.length?(n=typeof p=="function"?p:Zy(!!p),l):n},l.touchable=function(p){return arguments.length?(r=typeof p=="function"?p:Zy(!!p),l):r},l.handleSize=function(p){return arguments.length?(o=+p,l):o},l.keyModifiers=function(p){return arguments.length?(i=!!p,l):i},l.on=function(){var p=a.on.apply(a,arguments);return p===a?l:p},l}var $w=Math.abs,ml=Math.cos,pl=Math.sin,VO=Math.PI,Hh=VO/2,Nw=VO*2,Iw=Math.max,zy=1e-12;function Gy(e,t){return Array.from({length:t-e},(n,r)=>e+r)}function Pq(e){return function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)}}function jq(){return z7(!1,!1)}function zq(){return z7(!1,!0)}function Gq(){return z7(!0,!1)}function z7(e,t){var n=0,r=null,i=null,a=null;function o(s){var l=s.length,c=new Array(l),u=Gy(0,l),f=new Array(l*l),d=new Array(l),h=0,m;s=Float64Array.from({length:l*l},t?(g,p)=>s[p%l][p/l|0]:(g,p)=>s[p/l|0][p%l]);for(let g=0;g<l;++g){let p=0;for(let y=0;y<l;++y)p+=s[g*l+y]+e*s[y*l+g];h+=c[g]=p}h=Iw(0,Nw-n*l)/h,m=h?n:Nw/l;{let g=0;r&&u.sort((p,y)=>r(c[p],c[y]));for(const p of u){const y=g;if(e){const b=Gy(~l+1,l).filter(v=>v<0?s[~v*l+p]:s[p*l+v]);i&&b.sort((v,x)=>i(v<0?-s[~v*l+p]:s[p*l+v],x<0?-s[~x*l+p]:s[p*l+x]));for(const v of b)if(v<0){const x=f[~v*l+p]||(f[~v*l+p]={source:null,target:null});x.target={index:p,startAngle:g,endAngle:g+=s[~v*l+p]*h,value:s[~v*l+p]}}else{const x=f[p*l+v]||(f[p*l+v]={source:null,target:null});x.source={index:p,startAngle:g,endAngle:g+=s[p*l+v]*h,value:s[p*l+v]}}d[p]={index:p,startAngle:y,endAngle:g,value:c[p]}}else{const b=Gy(0,l).filter(v=>s[p*l+v]||s[v*l+p]);i&&b.sort((v,x)=>i(s[p*l+v],s[p*l+x]));for(const v of b){let x;if(p<v?(x=f[p*l+v]||(f[p*l+v]={source:null,target:null}),x.source={index:p,startAngle:g,endAngle:g+=s[p*l+v]*h,value:s[p*l+v]}):(x=f[v*l+p]||(f[v*l+p]={source:null,target:null}),x.target={index:p,startAngle:g,endAngle:g+=s[p*l+v]*h,value:s[p*l+v]},p===v&&(x.source=x.target)),x.source&&x.target&&x.source.value<x.target.value){const _=x.source;x.source=x.target,x.target=_}}d[p]={index:p,startAngle:y,endAngle:g,value:c[p]}}g+=m}}return f=Object.values(f),f.groups=d,a?f.sort(a):f}return o.padAngle=function(s){return arguments.length?(n=Iw(0,s),o):n},o.sortGroups=function(s){return arguments.length?(r=s,o):r},o.sortSubgroups=function(s){return arguments.length?(i=s,o):i},o.sortChords=function(s){return arguments.length?(s==null?a=null:(a=Pq(s))._=s,o):a&&a._},o}const $v=Math.PI,Nv=2*$v,Ps=1e-6,Uq=Nv-Ps;function XO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Wq(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return XO;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let Id=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?XO:Wq(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-t,c=i-n,u=o-t,f=s-n,d=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Ps)if(!(Math.abs(f*l-c*u)>Ps)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,m=i-s,g=l*l+c*c,p=h*h+m*m,y=Math.sqrt(g),b=Math.sqrt(d),v=a*Math.tan(($v-Math.acos((g+d-p)/(2*y*b)))/2),x=v/b,_=v/y;Math.abs(x-1)>Ps&&this._append`L${t+x*u},${n+x*f}`,this._append`A${a},${a},0,0,${+(f*h>u*m)},${this._x1=t+_*l},${this._y1=n+_*c}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=t+s,u=n+l,f=1^o,d=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Ps||Math.abs(this._y1-u)>Ps)&&this._append`L${c},${u}`,r&&(d<0&&(d=d%Nv+Nv),d>Uq?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:d>Ps&&this._append`A${r},${r},0,${+(d>=$v)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function qc(){return new Id}qc.prototype=Id.prototype;function Hq(e=3){return new Id(+e)}var Yq=Array.prototype.slice;function ks(e){return function(){return e}}function qq(e){return e.source}function Vq(e){return e.target}function Zw(e){return e.radius}function Xq(e){return e.startAngle}function Jq(e){return e.endAngle}function Kq(){return 0}function Qq(){return 10}function JO(e){var t=qq,n=Vq,r=Zw,i=Zw,a=Xq,o=Jq,s=Kq,l=null;function c(){var u,f=t.apply(this,arguments),d=n.apply(this,arguments),h=s.apply(this,arguments)/2,m=Yq.call(arguments),g=+r.apply(this,(m[0]=f,m)),p=a.apply(this,m)-Hh,y=o.apply(this,m)-Hh,b=+i.apply(this,(m[0]=d,m)),v=a.apply(this,m)-Hh,x=o.apply(this,m)-Hh;if(l||(l=u=qc()),h>zy&&($w(y-p)>h*2+zy?y>p?(p+=h,y-=h):(p-=h,y+=h):p=y=(p+y)/2,$w(x-v)>h*2+zy?x>v?(v+=h,x-=h):(v-=h,x+=h):v=x=(v+x)/2),l.moveTo(g*ml(p),g*pl(p)),l.arc(0,0,g,p,y),p!==v||y!==x)if(e){var _=+e.apply(this,arguments),T=b-_,w=(v+x)/2;l.quadraticCurveTo(0,0,T*ml(v),T*pl(v)),l.lineTo(b*ml(w),b*pl(w)),l.lineTo(T*ml(x),T*pl(x))}else l.quadraticCurveTo(0,0,b*ml(v),b*pl(v)),l.arc(0,0,b,v,x);if(l.quadraticCurveTo(0,0,g*ml(p),g*pl(p)),l.closePath(),u)return l=null,u+""||null}return e&&(c.headRadius=function(u){return arguments.length?(e=typeof u=="function"?u:ks(+u),c):e}),c.radius=function(u){return arguments.length?(r=i=typeof u=="function"?u:ks(+u),c):r},c.sourceRadius=function(u){return arguments.length?(r=typeof u=="function"?u:ks(+u),c):r},c.targetRadius=function(u){return arguments.length?(i=typeof u=="function"?u:ks(+u),c):i},c.startAngle=function(u){return arguments.length?(a=typeof u=="function"?u:ks(+u),c):a},c.endAngle=function(u){return arguments.length?(o=typeof u=="function"?u:ks(+u),c):o},c.padAngle=function(u){return arguments.length?(s=typeof u=="function"?u:ks(+u),c):s},c.source=function(u){return arguments.length?(t=u,c):t},c.target=function(u){return arguments.length?(n=u,c):n},c.context=function(u){return arguments.length?(l=u??null,c):l},c}function eV(){return JO()}function tV(){return JO(Qq)}var nV=Array.prototype,KO=nV.slice;function rV(e,t){return e-t}function iV(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}const bo=e=>()=>e;function aV(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=oV(e,t[n]))return i;return 0}function oV(e,t){for(var n=t[0],r=t[1],i=-1,a=0,o=e.length,s=o-1;a<o;s=a++){var l=e[a],c=l[0],u=l[1],f=e[s],d=f[0],h=f[1];if(sV(l,f,t))return 0;u>r!=h>r&&n<(d-c)*(r-u)/(h-u)+c&&(i=-i)}return i}function sV(e,t,n){var r;return lV(e,t,n)&&cV(e[r=+(e[0]===t[0])],n[r],t[r])}function lV(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function cV(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function uV(){}var Ea=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Iv(){var e=1,t=1,n=d7,r=l;function i(c){var u=n(c);if(Array.isArray(u))u=u.slice().sort(rV);else{const f=ci(c,fV);for(u=d0(...f7(f[0],f[1],u),u);u[u.length-1]>=f[1];)u.pop();for(;u[1]<f[0];)u.shift()}return u.map(f=>a(c,f))}function a(c,u){const f=u==null?NaN:+u;if(isNaN(f))throw new Error(`invalid value: ${u}`);var d=[],h=[];return o(c,f,function(m){r(m,c,f),iV(m)>0?d.push([m]):h.push(m)}),h.forEach(function(m){for(var g=0,p=d.length,y;g<p;++g)if(aV((y=d[g])[0],m)!==-1){y.push(m);return}}),{type:"MultiPolygon",value:u,coordinates:d}}function o(c,u,f){var d=new Array,h=new Array,m,g,p,y,b,v;for(m=g=-1,y=Ms(c[0],u),Ea[y<<1].forEach(x);++m<e-1;)p=y,y=Ms(c[m+1],u),Ea[p|y<<1].forEach(x);for(Ea[y<<0].forEach(x);++g<t-1;){for(m=-1,y=Ms(c[g*e+e],u),b=Ms(c[g*e],u),Ea[y<<1|b<<2].forEach(x);++m<e-1;)p=y,y=Ms(c[g*e+e+m+1],u),v=b,b=Ms(c[g*e+m+1],u),Ea[p|y<<1|b<<2|v<<3].forEach(x);Ea[y|b<<3].forEach(x)}for(m=-1,b=c[g*e]>=u,Ea[b<<2].forEach(x);++m<e-1;)v=b,b=Ms(c[g*e+m+1],u),Ea[b<<2|v<<3].forEach(x);Ea[b<<3].forEach(x);function x(_){var T=[_[0][0]+m,_[0][1]+g],w=[_[1][0]+m,_[1][1]+g],S=s(T),C=s(w),k,A;(k=h[S])?(A=d[C])?(delete h[k.end],delete d[A.start],k===A?(k.ring.push(w),f(k.ring)):d[k.start]=h[A.end]={start:k.start,end:A.end,ring:k.ring.concat(A.ring)}):(delete h[k.end],k.ring.push(w),h[k.end=C]=k):(k=d[C])?(A=h[S])?(delete d[k.start],delete h[A.end],k===A?(k.ring.push(w),f(k.ring)):d[A.start]=h[k.end]={start:A.start,end:k.end,ring:A.ring.concat(k.ring)}):(delete d[k.start],k.ring.unshift(T),d[k.start=S]=k):d[S]=h[C]={start:S,end:C,ring:[T,w]}}}function s(c){return c[0]*2+c[1]*(e+1)*4}function l(c,u,f){c.forEach(function(d){var h=d[0],m=d[1],g=h|0,p=m|0,y=Uy(u[p*e+g]);h>0&&h<e&&g===h&&(d[0]=Rw(h,Uy(u[p*e+g-1]),y,f)),m>0&&m<t&&p===m&&(d[1]=Rw(m,Uy(u[(p-1)*e+g]),y,f))})}return i.contour=a,i.size=function(c){if(!arguments.length)return[e,t];var u=Math.floor(c[0]),f=Math.floor(c[1]);if(!(u>=0&&f>=0))throw new Error("invalid size");return e=u,t=f,i},i.thresholds=function(c){return arguments.length?(n=typeof c=="function"?c:Array.isArray(c)?bo(KO.call(c)):bo(c),i):n},i.smooth=function(c){return arguments.length?(r=c?l:uV,i):r===l},i}function fV(e){return isFinite(e)?e:NaN}function Ms(e,t){return e==null?!1:+e>=t}function Uy(e){return e==null||isNaN(e=+e)?-1/0:e}function Rw(e,t,n,r){const i=r-t,a=n-t,o=isFinite(i)||isFinite(a)?i/a:Math.sign(i)/Math.sign(a);return isNaN(o)?e:e+o-.5}function dV(e){return e[0]}function hV(e){return e[1]}function mV(){return 1}function pV(){var e=dV,t=hV,n=mV,r=960,i=500,a=20,o=2,s=a*3,l=r+s*2>>o,c=i+s*2>>o,u=bo(20);function f(b){var v=new Float32Array(l*c),x=Math.pow(2,-o),_=-1;for(const D of b){var T=(e(D,++_,b)+s)*x,w=(t(D,_,b)+s)*x,S=+n(D,_,b);if(S&&T>=0&&T<l&&w>=0&&w<c){var C=Math.floor(T),k=Math.floor(w),A=T-C-.5,L=w-k-.5;v[C+k*l]+=(1-A)*(1-L)*S,v[C+1+k*l]+=A*(1-L)*S,v[C+1+(k+1)*l]+=A*L*S,v[C+(k+1)*l]+=(1-A)*L*S}}return CM({data:v,width:l,height:c},a*x),v}function d(b){var v=f(b),x=u(v),_=Math.pow(2,2*o);return Array.isArray(x)||(x=d0(Number.MIN_VALUE,Dn(v)/_,x)),Iv().size([l,c]).thresholds(x.map(T=>T*_))(v).map((T,w)=>(T.value=+x[w],h(T)))}d.contours=function(b){var v=f(b),x=Iv().size([l,c]),_=Math.pow(2,2*o),T=w=>{w=+w;var S=h(x.contour(v,w*_));return S.value=w,S};return Object.defineProperty(T,"max",{get:()=>Dn(v)/_}),T};function h(b){return b.coordinates.forEach(m),b}function m(b){b.forEach(g)}function g(b){b.forEach(p)}function p(b){b[0]=b[0]*Math.pow(2,o)-s,b[1]=b[1]*Math.pow(2,o)-s}function y(){return s=a*3,l=r+s*2>>o,c=i+s*2>>o,d}return d.x=function(b){return arguments.length?(e=typeof b=="function"?b:bo(+b),d):e},d.y=function(b){return arguments.length?(t=typeof b=="function"?b:bo(+b),d):t},d.weight=function(b){return arguments.length?(n=typeof b=="function"?b:bo(+b),d):n},d.size=function(b){if(!arguments.length)return[r,i];var v=+b[0],x=+b[1];if(!(v>=0&&x>=0))throw new Error("invalid size");return r=v,i=x,y()},d.cellSize=function(b){if(!arguments.length)return 1<<o;if(!((b=+b)>=1))throw new Error("invalid cell size");return o=Math.floor(Math.log(b)/Math.LN2),y()},d.thresholds=function(b){return arguments.length?(u=typeof b=="function"?b:Array.isArray(b)?bo(KO.call(b)):bo(b),d):u},d.bandwidth=function(b){if(!arguments.length)return Math.sqrt(a*(a+1));if(!((b=+b)>=0))throw new Error("invalid bandwidth");return a=(Math.sqrt(4*b*b+1)-1)/2,y()},d}const ja=11102230246251565e-32,en=134217729,gV=(3+8*ja)*ja;function Wy(e,t,n,r,i){let a,o,s,l,c=t[0],u=r[0],f=0,d=0;u>c==u>-c?(a=c,c=t[++f]):(a=u,u=r[++d]);let h=0;if(f<e&&d<n)for(u>c==u>-c?(o=c+a,s=a-(o-c),c=t[++f]):(o=u+a,s=a-(o-u),u=r[++d]),a=o,s!==0&&(i[h++]=s);f<e&&d<n;)u>c==u>-c?(o=a+c,l=o-a,s=a-(o-l)+(c-l),c=t[++f]):(o=a+u,l=o-a,s=a-(o-l)+(u-l),u=r[++d]),a=o,s!==0&&(i[h++]=s);for(;f<e;)o=a+c,l=o-a,s=a-(o-l)+(c-l),c=t[++f],a=o,s!==0&&(i[h++]=s);for(;d<n;)o=a+u,l=o-a,s=a-(o-l)+(u-l),u=r[++d],a=o,s!==0&&(i[h++]=s);return(a!==0||h===0)&&(i[h++]=a),h}function yV(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function Zd(e){return new Float64Array(e)}const bV=(3+16*ja)*ja,vV=(2+12*ja)*ja,xV=(9+64*ja)*ja*ja,gl=Zd(4),Pw=Zd(8),jw=Zd(12),zw=Zd(16),wn=Zd(4);function _V(e,t,n,r,i,a,o){let s,l,c,u,f,d,h,m,g,p,y,b,v,x,_,T,w,S;const C=e-i,k=n-i,A=t-a,L=r-a;x=C*L,d=en*C,h=d-(d-C),m=C-h,d=en*L,g=d-(d-L),p=L-g,_=m*p-(x-h*g-m*g-h*p),T=A*k,d=en*A,h=d-(d-A),m=A-h,d=en*k,g=d-(d-k),p=k-g,w=m*p-(T-h*g-m*g-h*p),y=_-w,f=_-y,gl[0]=_-(y+f)+(f-w),b=x+y,f=b-x,v=x-(b-f)+(y-f),y=v-T,f=v-y,gl[1]=v-(y+f)+(f-T),S=b+y,f=S-b,gl[2]=b-(S-f)+(y-f),gl[3]=S;let D=yV(4,gl),E=vV*o;if(D>=E||-D>=E||(f=e-C,s=e-(C+f)+(f-i),f=n-k,c=n-(k+f)+(f-i),f=t-A,l=t-(A+f)+(f-a),f=r-L,u=r-(L+f)+(f-a),s===0&&l===0&&c===0&&u===0)||(E=xV*o+gV*Math.abs(D),D+=C*u+L*s-(A*c+k*l),D>=E||-D>=E))return D;x=s*L,d=en*s,h=d-(d-s),m=s-h,d=en*L,g=d-(d-L),p=L-g,_=m*p-(x-h*g-m*g-h*p),T=l*k,d=en*l,h=d-(d-l),m=l-h,d=en*k,g=d-(d-k),p=k-g,w=m*p-(T-h*g-m*g-h*p),y=_-w,f=_-y,wn[0]=_-(y+f)+(f-w),b=x+y,f=b-x,v=x-(b-f)+(y-f),y=v-T,f=v-y,wn[1]=v-(y+f)+(f-T),S=b+y,f=S-b,wn[2]=b-(S-f)+(y-f),wn[3]=S;const O=Wy(4,gl,4,wn,Pw);x=C*u,d=en*C,h=d-(d-C),m=C-h,d=en*u,g=d-(d-u),p=u-g,_=m*p-(x-h*g-m*g-h*p),T=A*c,d=en*A,h=d-(d-A),m=A-h,d=en*c,g=d-(d-c),p=c-g,w=m*p-(T-h*g-m*g-h*p),y=_-w,f=_-y,wn[0]=_-(y+f)+(f-w),b=x+y,f=b-x,v=x-(b-f)+(y-f),y=v-T,f=v-y,wn[1]=v-(y+f)+(f-T),S=b+y,f=S-b,wn[2]=b-(S-f)+(y-f),wn[3]=S;const M=Wy(O,Pw,4,wn,jw);x=s*u,d=en*s,h=d-(d-s),m=s-h,d=en*u,g=d-(d-u),p=u-g,_=m*p-(x-h*g-m*g-h*p),T=l*c,d=en*l,h=d-(d-l),m=l-h,d=en*c,g=d-(d-c),p=c-g,w=m*p-(T-h*g-m*g-h*p),y=_-w,f=_-y,wn[0]=_-(y+f)+(f-w),b=x+y,f=b-x,v=x-(b-f)+(y-f),y=v-T,f=v-y,wn[1]=v-(y+f)+(f-T),S=b+y,f=S-b,wn[2]=b-(S-f)+(y-f),wn[3]=S;const F=Wy(M,jw,4,wn,zw);return zw[F-1]}function Yh(e,t,n,r,i,a){const o=(t-a)*(n-i),s=(e-i)*(r-a),l=o-s;if(o===0||s===0||o>0!=s>0)return l;const c=Math.abs(o+s);return Math.abs(l)>=bV*c?l:-_V(e,t,n,r,i,a,c)}const Gw=Math.pow(2,-52),qh=new Uint32Array(512);class Sm{static from(t,n=EV,r=kV){const i=t.length,a=new Float64Array(i*2);for(let o=0;o<i;o++){const s=t[o];a[2*o]=n(s),a[2*o+1]=r(s)}return new Sm(a)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:a}=this,o=t.length>>1;let s=1/0,l=1/0,c=-1/0,u=-1/0;for(let k=0;k<o;k++){const A=t[2*k],L=t[2*k+1];A<s&&(s=A),L<l&&(l=L),A>c&&(c=A),L>u&&(u=L),this._ids[k]=k}const f=(s+c)/2,d=(l+u)/2;let h=1/0,m,g,p;for(let k=0;k<o;k++){const A=Hy(f,d,t[2*k],t[2*k+1]);A<h&&(m=k,h=A)}const y=t[2*m],b=t[2*m+1];h=1/0;for(let k=0;k<o;k++){if(k===m)continue;const A=Hy(y,b,t[2*k],t[2*k+1]);A<h&&A>0&&(g=k,h=A)}let v=t[2*g],x=t[2*g+1],_=1/0;for(let k=0;k<o;k++){if(k===m||k===g)continue;const A=AV(y,b,v,x,t[2*k],t[2*k+1]);A<_&&(p=k,_=A)}let T=t[2*p],w=t[2*p+1];if(_===1/0){for(let L=0;L<o;L++)this._dists[L]=t[2*L]-t[0]||t[2*L+1]-t[1];Fl(this._ids,this._dists,0,o-1);const k=new Uint32Array(o);let A=0;for(let L=0,D=-1/0;L<o;L++){const E=this._ids[L];this._dists[E]>D&&(k[A++]=E,D=this._dists[E])}this.hull=k.subarray(0,A),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Yh(y,b,v,x,T,w)<0){const k=g,A=v,L=x;g=p,v=T,x=w,p=k,T=A,w=L}const S=SV(y,b,v,x,T,w);this._cx=S.x,this._cy=S.y;for(let k=0;k<o;k++)this._dists[k]=Hy(t[2*k],t[2*k+1],S.x,S.y);Fl(this._ids,this._dists,0,o-1),this._hullStart=m;let C=3;r[m]=n[p]=g,r[g]=n[m]=p,r[p]=n[g]=m,i[m]=0,i[g]=1,i[p]=2,a.fill(-1),a[this._hashKey(y,b)]=m,a[this._hashKey(v,x)]=g,a[this._hashKey(T,w)]=p,this.trianglesLen=0,this._addTriangle(m,g,p,-1,-1,-1);for(let k=0,A,L;k<this._ids.length;k++){const D=this._ids[k],E=t[2*D],O=t[2*D+1];if(k>0&&Math.abs(E-A)<=Gw&&Math.abs(O-L)<=Gw||(A=E,L=O,D===m||D===g||D===p))continue;let M=0;for(let Y=0,K=this._hashKey(E,O);Y<this._hashSize&&(M=a[(K+Y)%this._hashSize],!(M!==-1&&M!==r[M]));Y++);M=n[M];let F=M,$;for(;$=r[F],Yh(E,O,t[2*F],t[2*F+1],t[2*$],t[2*$+1])>=0;)if(F=$,F===M){F=-1;break}if(F===-1)continue;let N=this._addTriangle(F,D,r[F],-1,-1,i[F]);i[D]=this._legalize(N+2),i[F]=N,C++;let R=r[F];for(;$=r[R],Yh(E,O,t[2*R],t[2*R+1],t[2*$],t[2*$+1])<0;)N=this._addTriangle(R,D,$,i[D],-1,i[R]),i[D]=this._legalize(N+2),r[R]=R,C--,R=$;if(F===M)for(;$=n[F],Yh(E,O,t[2*$],t[2*$+1],t[2*F],t[2*F+1])<0;)N=this._addTriangle($,D,F,-1,i[F],i[$]),this._legalize(N+2),i[$]=N,r[F]=F,C--,F=$;this._hullStart=n[D]=F,r[F]=n[R]=D,r[D]=R,a[this._hashKey(E,O)]=D,a[this._hashKey(t[2*F],t[2*F+1])]=F}this.hull=new Uint32Array(C);for(let k=0,A=this._hullStart;k<C;k++)this.hull[k]=A,A=r[A];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(wV(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let a=0,o=0;for(;;){const s=r[t],l=t-t%3;if(o=l+(t+2)%3,s===-1){if(a===0)break;t=qh[--a];continue}const c=s-s%3,u=l+(t+1)%3,f=c+(s+2)%3,d=n[o],h=n[t],m=n[u],g=n[f];if(TV(i[2*d],i[2*d+1],i[2*h],i[2*h+1],i[2*m],i[2*m+1],i[2*g],i[2*g+1])){n[t]=g,n[s]=d;const y=r[f];if(y===-1){let v=this._hullStart;do{if(this._hullTri[v]===f){this._hullTri[v]=t;break}v=this._hullPrev[v]}while(v!==this._hullStart)}this._link(t,y),this._link(s,r[o]),this._link(o,f);const b=c+(s+1)%3;a<qh.length&&(qh[a++]=b)}else{if(a===0)break;t=qh[--a]}}return o}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,a,o){const s=this.trianglesLen;return this._triangles[s]=t,this._triangles[s+1]=n,this._triangles[s+2]=r,this._link(s,i),this._link(s+1,a),this._link(s+2,o),this.trianglesLen+=3,s}}function wV(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function Hy(e,t,n,r){const i=e-n,a=t-r;return i*i+a*a}function TV(e,t,n,r,i,a,o,s){const l=e-o,c=t-s,u=n-o,f=r-s,d=i-o,h=a-s,m=l*l+c*c,g=u*u+f*f,p=d*d+h*h;return l*(f*p-g*h)-c*(u*p-g*d)+m*(u*h-f*d)<0}function AV(e,t,n,r,i,a){const o=n-e,s=r-t,l=i-e,c=a-t,u=o*o+s*s,f=l*l+c*c,d=.5/(o*c-s*l),h=(c*u-s*f)*d,m=(o*f-l*u)*d;return h*h+m*m}function SV(e,t,n,r,i,a){const o=n-e,s=r-t,l=i-e,c=a-t,u=o*o+s*s,f=l*l+c*c,d=.5/(o*c-s*l),h=e+(c*u-s*f)*d,m=t+(o*f-l*u)*d;return{x:h,y:m}}function Fl(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const a=e[i],o=t[a];let s=i-1;for(;s>=n&&t[e[s]]>o;)e[s+1]=e[s--];e[s+1]=a}else{const i=n+r>>1;let a=n+1,o=r;Su(e,i,a),t[e[n]]>t[e[r]]&&Su(e,n,r),t[e[a]]>t[e[r]]&&Su(e,a,r),t[e[n]]>t[e[a]]&&Su(e,n,a);const s=e[a],l=t[s];for(;;){do a++;while(t[e[a]]<l);do o--;while(t[e[o]]>l);if(o<a)break;Su(e,a,o)}e[n+1]=e[o],e[o]=s,r-a+1>=o-n?(Fl(e,t,a,r),Fl(e,t,n,o-1)):(Fl(e,t,n,o-1),Fl(e,t,a,r))}}function Su(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function EV(e){return e[0]}function kV(e){return e[1]}const Uw=1e-6;class Js{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,a=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${a}`:(Math.abs(this._x1-i)>Uw||Math.abs(this._y1-a)>Uw)&&(this._+="L"+i+","+a),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=a}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class Zv{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let QO=class{constructor(t,[n,r,i,a]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((a=+a)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=a,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this,a=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let h=0,m=0,g=r.length,p,y;h<g;h+=3,m+=2){const b=r[h]*2,v=r[h+1]*2,x=r[h+2]*2,_=t[b],T=t[b+1],w=t[v],S=t[v+1],C=t[x],k=t[x+1],A=w-_,L=S-T,D=C-_,E=k-T,O=(A*E-L*D)*2;if(Math.abs(O)<1e-9){let M=1e9;const F=r[0]*2;M*=Math.sign((t[F]-_)*E-(t[F+1]-T)*D),p=(_+C)/2-M*E,y=(T+k)/2+M*D}else{const M=1/O,F=A*A+L*L,$=D*D+E*E;p=_+(E*F-L*$)*M,y=T+(A*$-D*F)*M}a[m]=p,a[m+1]=y}let o=n[n.length-1],s,l=o*4,c,u=t[2*o],f,d=t[2*o+1];i.fill(0);for(let h=0;h<n.length;++h)o=n[h],s=l,c=u,f=d,l=o*4,u=t[2*o],d=t[2*o+1],i[s+2]=i[l]=f-d,i[s+3]=i[l+1]=u-c}render(t){const n=t==null?t=new Js:void 0,{delaunay:{halfedges:r,inedges:i,hull:a},circumcenters:o,vectors:s}=this;if(a.length<=1)return null;for(let u=0,f=r.length;u<f;++u){const d=r[u];if(d<u)continue;const h=Math.floor(u/3)*2,m=Math.floor(d/3)*2,g=o[h],p=o[h+1],y=o[m],b=o[m+1];this._renderSegment(g,p,y,b,t)}let l,c=a[a.length-1];for(let u=0;u<a.length;++u){l=c,c=a[u];const f=Math.floor(i[c]/3)*2,d=o[f],h=o[f+1],m=l*4,g=this._project(d,h,s[m+2],s[m+3]);g&&this._renderSegment(d,h,g[0],g[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new Js:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new Js:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let a=i.length;for(;i[0]===i[a-2]&&i[1]===i[a-1]&&a>1;)a-=2;for(let o=2;o<a;o+=2)(i[o]!==i[o-2]||i[o+1]!==i[o-1])&&n.lineTo(i[o],i[o+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new Zv;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,a){let o;const s=this._regioncode(t,n),l=this._regioncode(r,i);s===0&&l===0?(a.moveTo(t,n),a.lineTo(r,i)):(o=this._clipSegment(t,n,r,i,s,l))&&(a.moveTo(o[0],o[1]),a.lineTo(o[2],o[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let a=0,o=n.length;a<o;a+=2)for(let s=0,l=i.length;s<l;s+=2)if(n[a]==i[s]&&n[a+1]==i[s+1]&&n[(a+2)%o]==i[(s+l-2)%l]&&n[(a+3)%o]==i[(s+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:a}}=this,o=r[t];if(o===-1)return null;const s=[];let l=o;do{const c=Math.floor(l/3);if(s.push(n[c*2],n[c*2+1]),l=l%3===2?l-2:l+1,a[l]!==t)break;l=i[l]}while(l!==o&&l!==-1);return s}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n)}_clipFinite(t,n){const r=n.length;let i=null,a,o,s=n[r-2],l=n[r-1],c,u=this._regioncode(s,l),f,d=0;for(let h=0;h<r;h+=2)if(a=s,o=l,s=n[h],l=n[h+1],c=u,u=this._regioncode(s,l),c===0&&u===0)f=d,d=0,i?i.push(s,l):i=[s,l];else{let m,g,p,y,b;if(c===0){if((m=this._clipSegment(a,o,s,l,c,u))===null)continue;[g,p,y,b]=m}else{if((m=this._clipSegment(s,l,a,o,u,c))===null)continue;[y,b,g,p]=m,f=d,d=this._edgecode(g,p),f&&d&&this._edge(t,f,d,i,i.length),i?i.push(g,p):i=[g,p]}f=d,d=this._edgecode(y,b),f&&d&&this._edge(t,f,d,i,i.length),i?i.push(y,b):i=[y,b]}if(i)f=d,d=this._edgecode(i[0],i[1]),f&&d&&this._edge(t,f,d,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,a,o){for(;;){if(a===0&&o===0)return[t,n,r,i];if(a&o)return null;let s,l,c=a||o;c&8?(s=t+(r-t)*(this.ymax-n)/(i-n),l=this.ymax):c&4?(s=t+(r-t)*(this.ymin-n)/(i-n),l=this.ymin):c&2?(l=n+(i-n)*(this.xmax-t)/(r-t),s=this.xmax):(l=n+(i-n)*(this.xmin-t)/(r-t),s=this.xmin),a?(t=s,n=l,a=this._regioncode(t,n)):(r=s,i=l,o=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,a,o){let s=Array.from(n),l;if((l=this._project(s[0],s[1],r,i))&&s.unshift(l[0],l[1]),(l=this._project(s[s.length-2],s[s.length-1],a,o))&&s.push(l[0],l[1]),s=this._clipFinite(t,s))for(let c=0,u=s.length,f,d=this._edgecode(s[u-2],s[u-1]);c<u;c+=2)f=d,d=this._edgecode(s[c],s[c+1]),f&&d&&(c=this._edge(t,f,d,s,c),u=s.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(t,n,r,i,a){for(;n!==r;){let o,s;switch(n){case 5:n=4;continue;case 4:n=6,o=this.xmax,s=this.ymin;break;case 6:n=2;continue;case 2:n=10,o=this.xmax,s=this.ymax;break;case 10:n=8;continue;case 8:n=9,o=this.xmin,s=this.ymax;break;case 9:n=1;continue;case 1:n=5,o=this.xmin,s=this.ymin;break}(i[a]!==o||i[a+1]!==s)&&this.contains(t,o,s)&&(i.splice(a,0,o,s),a+=2)}if(i.length>4)for(let o=0;o<i.length;o+=2){const s=(o+2)%i.length,l=(o+4)%i.length;(i[o]===i[s]&&i[s]===i[l]||i[o+1]===i[s+1]&&i[s+1]===i[l+1])&&(i.splice(s,2),o-=2)}return a}_project(t,n,r,i){let a=1/0,o,s,l;if(i<0){if(n<=this.ymin)return null;(o=(this.ymin-n)/i)<a&&(l=this.ymin,s=t+(a=o)*r)}else if(i>0){if(n>=this.ymax)return null;(o=(this.ymax-n)/i)<a&&(l=this.ymax,s=t+(a=o)*r)}if(r>0){if(t>=this.xmax)return null;(o=(this.xmax-t)/r)<a&&(s=this.xmax,l=n+(a=o)*i)}else if(r<0){if(t<=this.xmin)return null;(o=(this.xmin-t)/r)<a&&(s=this.xmin,l=n+(a=o)*i)}return[s,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}};const MV=2*Math.PI,yl=Math.pow;function OV(e){return e[0]}function CV(e){return e[1]}function DV(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],a=2*t[r+1],o=2*t[r+2];if((n[o]-n[i])*(n[a+1]-n[i+1])-(n[a]-n[i])*(n[o+1]-n[i+1])>1e-10)return!1}return!0}function LV(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class bg{static from(t,n=OV,r=CV,i){return new bg("length"in t?FV(t,n,r,i):Float64Array.from(BV(t,n,r,i)))}constructor(t){this._delaunator=new Sm(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&DV(t)){this.collinear=Int32Array.from({length:n.length/2},(d,h)=>h).sort((d,h)=>n[2*d]-n[2*h]||n[2*d+1]-n[2*h+1]);const l=this.collinear[0],c=this.collinear[this.collinear.length-1],u=[n[2*l],n[2*l+1],n[2*c],n[2*c+1]],f=1e-8*Math.hypot(u[3]-u[1],u[2]-u[0]);for(let d=0,h=n.length/2;d<h;++d){const m=LV(n[2*d],n[2*d+1],f);n[2*d]=m[0],n[2*d+1]=m[1]}this._delaunator=new Sm(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,a=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let l=0,c=r.length;l<c;++l){const u=a[l%3===2?l-2:l+1];(r[l]===-1||o[u]===-1)&&(o[u]=l)}for(let l=0,c=i.length;l<c;++l)s[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],o[i[0]]=1,i.length===2&&(o[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new QO(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:a,triangles:o,collinear:s}=this;if(s){const f=s.indexOf(t);f>0&&(yield s[f-1]),f<s.length-1&&(yield s[f+1]);return}const l=n[t];if(l===-1)return;let c=l,u=-1;do{if(yield u=o[c],c=c%3===2?c-2:c+1,o[c]!==t)return;if(c=a[c],c===-1){const f=r[(i[t]+1)%r.length];f!==u&&(yield f);return}}while(c!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let a;for(;(a=this._step(r,t,n))>=0&&a!==r&&a!==i;)r=a;return a}_step(t,n,r){const{inedges:i,hull:a,_hullIndex:o,halfedges:s,triangles:l,points:c}=this;if(i[t]===-1||!c.length)return(t+1)%(c.length>>1);let u=t,f=yl(n-c[t*2],2)+yl(r-c[t*2+1],2);const d=i[t];let h=d;do{let m=l[h];const g=yl(n-c[m*2],2)+yl(r-c[m*2+1],2);if(g<f&&(f=g,u=m),h=h%3===2?h-2:h+1,l[h]!==t)break;if(h=s[h],h===-1){if(h=a[(o[t]+1)%a.length],h!==m&&yl(n-c[h*2],2)+yl(r-c[h*2+1],2)<f)return h;break}}while(h!==d);return u}render(t){const n=t==null?t=new Js:void 0,{points:r,halfedges:i,triangles:a}=this;for(let o=0,s=i.length;o<s;++o){const l=i[o];if(l<o)continue;const c=a[o]*2,u=a[l]*2;t.moveTo(r[c],r[c+1]),t.lineTo(r[u],r[u+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new Js:void 0,{points:i}=this;for(let a=0,o=i.length;a<o;a+=2){const s=i[a],l=i[a+1];t.moveTo(s+n,l),t.arc(s,l,n,0,MV)}return r&&r.value()}renderHull(t){const n=t==null?t=new Js:void 0,{hull:r,points:i}=this,a=r[0]*2,o=r.length;t.moveTo(i[a],i[a+1]);for(let s=1;s<o;++s){const l=2*r[s];t.lineTo(i[l],i[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new Zv;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new Js:void 0,{points:i,triangles:a}=this,o=a[t*=3]*2,s=a[t+1]*2,l=a[t+2]*2;return n.moveTo(i[o],i[o+1]),n.lineTo(i[s],i[s+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new Zv;return this.renderTriangle(t,n),n.value()}}function FV(e,t,n,r){const i=e.length,a=new Float64Array(i*2);for(let o=0;o<i;++o){const s=e[o];a[o*2]=t.call(r,s,o,e),a[o*2+1]=n.call(r,s,o,e)}return a}function*BV(e,t,n,r){let i=0;for(const a of e)yield t.call(r,a,i,e),yield n.call(r,a,i,e),++i}var $V={value:()=>{}};function G7(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new W1(n)}function W1(e){this._=e}function NV(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}W1.prototype=G7.prototype={constructor:W1,on:function(e,t){var n=this._,r=NV(e+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=IV(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(e=r[a]).type)n[i]=Ww(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Ww(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new W1(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function IV(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Ww(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=$V,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Hw={},Yy={},qy=34,Eu=10,Vy=13;function eC(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function ZV(e,t){var n=eC(e);return function(r,i){return t(n(r),i,e)}}function Yw(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Pn(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function RV(e){return e<0?"-"+Pn(-e,6):e>9999?"+"+Pn(e,6):Pn(e,4)}function PV(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":RV(e.getUTCFullYear())+"-"+Pn(e.getUTCMonth()+1,2)+"-"+Pn(e.getUTCDate(),2)+(i?"T"+Pn(t,2)+":"+Pn(n,2)+":"+Pn(r,2)+"."+Pn(i,3)+"Z":r?"T"+Pn(t,2)+":"+Pn(n,2)+":"+Pn(r,2)+"Z":n||t?"T"+Pn(t,2)+":"+Pn(n,2)+"Z":"")}function Rd(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,m,g=i(f,function(p,y){if(h)return h(p,y-1);m=p,h=d?ZV(p,d):eC(p)});return g.columns=m||[],g}function i(f,d){var h=[],m=f.length,g=0,p=0,y,b=m<=0,v=!1;f.charCodeAt(m-1)===Eu&&--m,f.charCodeAt(m-1)===Vy&&--m;function x(){if(b)return Yy;if(v)return v=!1,Hw;var T,w=g,S;if(f.charCodeAt(w)===qy){for(;g++<m&&f.charCodeAt(g)!==qy||f.charCodeAt(++g)===qy;);return(T=g)>=m?b=!0:(S=f.charCodeAt(g++))===Eu?v=!0:S===Vy&&(v=!0,f.charCodeAt(g)===Eu&&++g),f.slice(w+1,T-1).replace(/""/g,'"')}for(;g<m;){if((S=f.charCodeAt(T=g++))===Eu)v=!0;else if(S===Vy)v=!0,f.charCodeAt(g)===Eu&&++g;else if(S!==n)continue;return f.slice(w,T)}return b=!0,f.slice(w,m)}for(;(y=x())!==Yy;){for(var _=[];y!==Hw&&y!==Yy;)_.push(y),y=x();d&&(_=d(_,p++))==null||h.push(_)}return h}function a(f,d){return f.map(function(h){return d.map(function(m){return u(h[m])}).join(e)})}function o(f,d){return d==null&&(d=Yw(f)),[d.map(u).join(e)].concat(a(f,d)).join(`
`)}function s(f,d){return d==null&&(d=Yw(f)),a(f,d).join(`
`)}function l(f){return f.map(c).join(`
`)}function c(f){return f.map(u).join(e)}function u(f){return f==null?"":f instanceof Date?PV(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:o,formatBody:s,formatRows:l,formatRow:c,formatValue:u}}var U0=Rd(","),tC=U0.parse,jV=U0.parseRows,zV=U0.format,GV=U0.formatBody,UV=U0.formatRows,WV=U0.formatRow,HV=U0.formatValue,W0=Rd("	"),nC=W0.parse,YV=W0.parseRows,qV=W0.format,VV=W0.formatBody,XV=W0.formatRows,JV=W0.formatRow,KV=W0.formatValue;function QV(e){for(var t in e){var n=e[t].trim(),r,i;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))eX&&i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;e[t]=n}return e}const eX=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function tX(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function nX(e,t){return fetch(e,t).then(tX)}function rX(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function iX(e,t){return fetch(e,t).then(rX)}function aX(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function vg(e,t){return fetch(e,t).then(aX)}function rC(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),vg(t,n).then(function(i){return e(i,r)})}}function oX(e,t,n,r){arguments.length===3&&typeof n=="function"&&(r=n,n=void 0);var i=Rd(e);return vg(t,n).then(function(a){return i.parse(a,r)})}var sX=rC(tC),lX=rC(nC);function cX(e,t){return new Promise(function(n,r){var i=new Image;for(var a in t)i[a]=t[a];i.onerror=r,i.onload=function(){n(i)},i.src=e})}function uX(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function fX(e,t){return fetch(e,t).then(uX)}function U7(e){return(t,n)=>vg(t,n).then(r=>new DOMParser().parseFromString(r,e))}const dX=U7("application/xml");var hX=U7("text/html"),mX=U7("image/svg+xml");function iC(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var a,o=n.length,s,l=0,c=0;for(a=0;a<o;++a)s=n[a],l+=s.x,c+=s.y;for(l=(l/o-e)*r,c=(c/o-t)*r,a=0;a<o;++a)s=n[a],s.x-=l,s.y-=c}return i.initialize=function(a){n=a},i.x=function(a){return arguments.length?(e=+a,i):e},i.y=function(a){return arguments.length?(t=+a,i):t},i.strength=function(a){return arguments.length?(r=+a,i):r},i}function pX(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return aC(this.cover(t,n),t,n,e)}function aC(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a=e._root,o={data:r},s=e._x0,l=e._y0,c=e._x1,u=e._y1,f,d,h,m,g,p,y,b;if(!a)return e._root=o,e;for(;a.length;)if((g=t>=(f=(s+c)/2))?s=f:c=f,(p=n>=(d=(l+u)/2))?l=d:u=d,i=a,!(a=a[y=p<<1|g]))return i[y]=o,e;if(h=+e._x.call(null,a.data),m=+e._y.call(null,a.data),t===h&&n===m)return o.next=a,i?i[y]=o:e._root=o,e;do i=i?i[y]=new Array(4):e._root=new Array(4),(g=t>=(f=(s+c)/2))?s=f:c=f,(p=n>=(d=(l+u)/2))?l=d:u=d;while((y=p<<1|g)===(b=(m>=d)<<1|h>=f));return i[b]=a,i[y]=o,e}function gX(e){var t,n,r=e.length,i,a,o=new Array(r),s=new Array(r),l=1/0,c=1/0,u=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(a=+this._y.call(null,t))||(o[n]=i,s[n]=a,i<l&&(l=i),i>u&&(u=i),a<c&&(c=a),a>f&&(f=a));if(l>u||c>f)return this;for(this.cover(l,c).cover(u,f),n=0;n<r;++n)aC(this,o[n],s[n],e[n]);return this}function yX(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{for(var o=i-n||1,s=this._root,l,c;n>e||e>=i||r>t||t>=a;)switch(c=(t<r)<<1|e<n,l=new Array(4),l[c]=s,s=l,o*=2,c){case 0:i=n+o,a=r+o;break;case 1:n=i-o,a=r+o;break;case 2:i=n+o,r=a-o;break;case 3:n=i-o,r=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this}function bX(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function vX(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function On(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function xX(e,t,n){var r,i=this._x0,a=this._y0,o,s,l,c,u=this._x1,f=this._y1,d=[],h=this._root,m,g;for(h&&d.push(new On(h,i,a,u,f)),n==null?n=1/0:(i=e-n,a=t-n,u=e+n,f=t+n,n*=n);m=d.pop();)if(!(!(h=m.node)||(o=m.x0)>u||(s=m.y0)>f||(l=m.x1)<i||(c=m.y1)<a))if(h.length){var p=(o+l)/2,y=(s+c)/2;d.push(new On(h[3],p,y,l,c),new On(h[2],o,y,p,c),new On(h[1],p,s,l,y),new On(h[0],o,s,p,y)),(g=(t>=y)<<1|e>=p)&&(m=d[d.length-1],d[d.length-1]=d[d.length-1-g],d[d.length-1-g]=m)}else{var b=e-+this._x.call(null,h.data),v=t-+this._y.call(null,h.data),x=b*b+v*v;if(x<n){var _=Math.sqrt(n=x);i=e-_,a=t-_,u=e+_,f=t+_,r=h.data}}return r}function _X(e){if(isNaN(u=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,n=this._root,r,i,a,o=this._x0,s=this._y0,l=this._x1,c=this._y1,u,f,d,h,m,g,p,y;if(!n)return this;if(n.length)for(;;){if((m=u>=(d=(o+l)/2))?o=d:l=d,(g=f>=(h=(s+c)/2))?s=h:c=h,t=n,!(n=n[p=g<<1|m]))return this;if(!n.length)break;(t[p+1&3]||t[p+2&3]||t[p+3&3])&&(r=t,y=p)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):t?(a?t[p]=a:delete t[p],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=a,this)}function wX(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function TX(){return this._root}function AX(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function SX(e){var t=[],n,r=this._root,i,a,o,s,l;for(r&&t.push(new On(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,a=n.x0,o=n.y0,s=n.x1,l=n.y1)&&r.length){var c=(a+s)/2,u=(o+l)/2;(i=r[3])&&t.push(new On(i,c,u,s,l)),(i=r[2])&&t.push(new On(i,a,u,c,l)),(i=r[1])&&t.push(new On(i,c,o,s,u)),(i=r[0])&&t.push(new On(i,a,o,c,u))}return this}function EX(e){var t=[],n=[],r;for(this._root&&t.push(new On(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var a,o=r.x0,s=r.y0,l=r.x1,c=r.y1,u=(o+l)/2,f=(s+c)/2;(a=i[0])&&t.push(new On(a,o,s,u,f)),(a=i[1])&&t.push(new On(a,u,s,l,f)),(a=i[2])&&t.push(new On(a,o,f,u,c)),(a=i[3])&&t.push(new On(a,u,f,l,c))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function kX(e){return e[0]}function MX(e){return arguments.length?(this._x=e,this):this._x}function OX(e){return e[1]}function CX(e){return arguments.length?(this._y=e,this):this._y}function xg(e,t,n){var r=new W7(t??kX,n??OX,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function W7(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function qw(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var In=xg.prototype=W7.prototype;In.copy=function(){var e=new W7(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=qw(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=qw(r));return e};In.add=pX;In.addAll=gX;In.cover=yX;In.data=bX;In.extent=vX;In.find=xX;In.remove=_X;In.removeAll=wX;In.root=TX;In.size=AX;In.visit=SX;In.visitAfter=EX;In.x=MX;In.y=CX;function Et(e){return function(){return e}}function Eo(e){return(e()-.5)*1e-6}function DX(e){return e.x+e.vx}function LX(e){return e.y+e.vy}function oC(e){var t,n,r,i=1,a=1;typeof e!="function"&&(e=Et(e==null?1:+e));function o(){for(var c,u=t.length,f,d,h,m,g,p,y=0;y<a;++y)for(f=xg(t,DX,LX).visitAfter(s),c=0;c<u;++c)d=t[c],g=n[d.index],p=g*g,h=d.x+d.vx,m=d.y+d.vy,f.visit(b);function b(v,x,_,T,w){var S=v.data,C=v.r,k=g+C;if(S){if(S.index>d.index){var A=h-S.x-S.vx,L=m-S.y-S.vy,D=A*A+L*L;D<k*k&&(A===0&&(A=Eo(r),D+=A*A),L===0&&(L=Eo(r),D+=L*L),D=(k-(D=Math.sqrt(D)))/D*i,d.vx+=(A*=D)*(k=(C*=C)/(p+C)),d.vy+=(L*=D)*k,S.vx-=A*(k=1-k),S.vy-=L*k)}return}return x>h+k||T<h-k||_>m+k||w<m-k}}function s(c){if(c.data)return c.r=n[c.data.index];for(var u=c.r=0;u<4;++u)c[u]&&c[u].r>c.r&&(c.r=c[u].r)}function l(){if(t){var c,u=t.length,f;for(n=new Array(u),c=0;c<u;++c)f=t[c],n[f.index]=+e(f,c,t)}}return o.initialize=function(c,u){t=c,r=u,l()},o.iterations=function(c){return arguments.length?(a=+c,o):a},o.strength=function(c){return arguments.length?(i=+c,o):i},o.radius=function(c){return arguments.length?(e=typeof c=="function"?c:Et(+c),l(),o):e},o}function FX(e){return e.index}function Vw(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function sC(e){var t=FX,n=f,r,i=Et(30),a,o,s,l,c,u=1;e==null&&(e=[]);function f(p){return 1/Math.min(s[p.source.index],s[p.target.index])}function d(p){for(var y=0,b=e.length;y<u;++y)for(var v=0,x,_,T,w,S,C,k;v<b;++v)x=e[v],_=x.source,T=x.target,w=T.x+T.vx-_.x-_.vx||Eo(c),S=T.y+T.vy-_.y-_.vy||Eo(c),C=Math.sqrt(w*w+S*S),C=(C-a[v])/C*p*r[v],w*=C,S*=C,T.vx-=w*(k=l[v]),T.vy-=S*k,_.vx+=w*(k=1-k),_.vy+=S*k}function h(){if(o){var p,y=o.length,b=e.length,v=new Map(o.map((_,T)=>[t(_,T,o),_])),x;for(p=0,s=new Array(y);p<b;++p)x=e[p],x.index=p,typeof x.source!="object"&&(x.source=Vw(v,x.source)),typeof x.target!="object"&&(x.target=Vw(v,x.target)),s[x.source.index]=(s[x.source.index]||0)+1,s[x.target.index]=(s[x.target.index]||0)+1;for(p=0,l=new Array(b);p<b;++p)x=e[p],l[p]=s[x.source.index]/(s[x.source.index]+s[x.target.index]);r=new Array(b),m(),a=new Array(b),g()}}function m(){if(o)for(var p=0,y=e.length;p<y;++p)r[p]=+n(e[p],p,e)}function g(){if(o)for(var p=0,y=e.length;p<y;++p)a[p]=+i(e[p],p,e)}return d.initialize=function(p,y){o=p,c=y,h()},d.links=function(p){return arguments.length?(e=p,h(),d):e},d.id=function(p){return arguments.length?(t=p,d):t},d.iterations=function(p){return arguments.length?(u=+p,d):u},d.strength=function(p){return arguments.length?(n=typeof p=="function"?p:Et(+p),m(),d):n},d.distance=function(p){return arguments.length?(i=typeof p=="function"?p:Et(+p),g(),d):i},d}const BX=1664525,$X=1013904223,Xw=4294967296;function NX(){let e=1;return()=>(e=(BX*e+$X)%Xw)/Xw}function IX(e){return e.x}function ZX(e){return e.y}var RX=10,PX=Math.PI*(3-Math.sqrt(5));function lC(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=new Map,l=gg(f),c=Wc("tick","end"),u=NX();e==null&&(e=[]);function f(){d(),c.call("tick",t),n<r&&(l.stop(),c.call("end",t))}function d(g){var p,y=e.length,b;g===void 0&&(g=1);for(var v=0;v<g;++v)for(n+=(a-n)*i,s.forEach(function(x){x(n)}),p=0;p<y;++p)b=e[p],b.fx==null?b.x+=b.vx*=o:(b.x=b.fx,b.vx=0),b.fy==null?b.y+=b.vy*=o:(b.y=b.fy,b.vy=0);return t}function h(){for(var g=0,p=e.length,y;g<p;++g){if(y=e[g],y.index=g,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var b=RX*Math.sqrt(.5+g),v=g*PX;y.x=b*Math.cos(v),y.y=b*Math.sin(v)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function m(g){return g.initialize&&g.initialize(e,u),g}return h(),t={tick:d,restart:function(){return l.restart(f),t},stop:function(){return l.stop(),t},nodes:function(g){return arguments.length?(e=g,h(),s.forEach(m),t):e},alpha:function(g){return arguments.length?(n=+g,t):n},alphaMin:function(g){return arguments.length?(r=+g,t):r},alphaDecay:function(g){return arguments.length?(i=+g,t):+i},alphaTarget:function(g){return arguments.length?(a=+g,t):a},velocityDecay:function(g){return arguments.length?(o=1-g,t):1-o},randomSource:function(g){return arguments.length?(u=g,s.forEach(m),t):u},force:function(g,p){return arguments.length>1?(p==null?s.delete(g):s.set(g,m(p)),t):s.get(g)},find:function(g,p,y){var b=0,v=e.length,x,_,T,w,S;for(y==null?y=1/0:y*=y,b=0;b<v;++b)w=e[b],x=g-w.x,_=p-w.y,T=x*x+_*_,T<y&&(S=w,y=T);return S},on:function(g,p){return arguments.length>1?(c.on(g,p),t):c.on(g)}}}function cC(){var e,t,n,r,i=Et(-30),a,o=1,s=1/0,l=.81;function c(h){var m,g=e.length,p=xg(e,IX,ZX).visitAfter(f);for(r=h,m=0;m<g;++m)t=e[m],p.visit(d)}function u(){if(e){var h,m=e.length,g;for(a=new Array(m),h=0;h<m;++h)g=e[h],a[g.index]=+i(g,h,e)}}function f(h){var m=0,g,p,y=0,b,v,x;if(h.length){for(b=v=x=0;x<4;++x)(g=h[x])&&(p=Math.abs(g.value))&&(m+=g.value,y+=p,b+=p*g.x,v+=p*g.y);h.x=b/y,h.y=v/y}else{g=h,g.x=g.data.x,g.y=g.data.y;do m+=a[g.data.index];while(g=g.next)}h.value=m}function d(h,m,g,p){if(!h.value)return!0;var y=h.x-t.x,b=h.y-t.y,v=p-m,x=y*y+b*b;if(v*v/l<x)return x<s&&(y===0&&(y=Eo(n),x+=y*y),b===0&&(b=Eo(n),x+=b*b),x<o&&(x=Math.sqrt(o*x)),t.vx+=y*h.value*r/x,t.vy+=b*h.value*r/x),!0;if(h.length||x>=s)return;(h.data!==t||h.next)&&(y===0&&(y=Eo(n),x+=y*y),b===0&&(b=Eo(n),x+=b*b),x<o&&(x=Math.sqrt(o*x)));do h.data!==t&&(v=a[h.data.index]*r/x,t.vx+=y*v,t.vy+=b*v);while(h=h.next)}return c.initialize=function(h,m){e=h,n=m,u()},c.strength=function(h){return arguments.length?(i=typeof h=="function"?h:Et(+h),u(),c):i},c.distanceMin=function(h){return arguments.length?(o=h*h,c):Math.sqrt(o)},c.distanceMax=function(h){return arguments.length?(s=h*h,c):Math.sqrt(s)},c.theta=function(h){return arguments.length?(l=h*h,c):Math.sqrt(l)},c}function jX(e,t,n){var r,i=Et(.1),a,o;typeof e!="function"&&(e=Et(+e)),t==null&&(t=0),n==null&&(n=0);function s(c){for(var u=0,f=r.length;u<f;++u){var d=r[u],h=d.x-t||1e-6,m=d.y-n||1e-6,g=Math.sqrt(h*h+m*m),p=(o[u]-g)*a[u]*c/g;d.vx+=h*p,d.vy+=m*p}}function l(){if(r){var c,u=r.length;for(a=new Array(u),o=new Array(u),c=0;c<u;++c)o[c]=+e(r[c],c,r),a[c]=isNaN(o[c])?0:+i(r[c],c,r)}}return s.initialize=function(c){r=c,l()},s.strength=function(c){return arguments.length?(i=typeof c=="function"?c:Et(+c),l(),s):i},s.radius=function(c){return arguments.length?(e=typeof c=="function"?c:Et(+c),l(),s):e},s.x=function(c){return arguments.length?(t=+c,s):t},s.y=function(c){return arguments.length?(n=+c,s):n},s}function uC(e){var t=Et(.1),n,r,i;typeof e!="function"&&(e=Et(e==null?0:+e));function a(s){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vx+=(i[l]-u.x)*r[l]*s}function o(){if(n){var s,l=n.length;for(r=new Array(l),i=new Array(l),s=0;s<l;++s)r[s]=isNaN(i[s]=+e(n[s],s,n))?0:+t(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(t=typeof s=="function"?s:Et(+s),o(),a):t},a.x=function(s){return arguments.length?(e=typeof s=="function"?s:Et(+s),o(),a):e},a}function fC(e){var t=Et(.1),n,r,i;typeof e!="function"&&(e=Et(e==null?0:+e));function a(s){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vy+=(i[l]-u.y)*r[l]*s}function o(){if(n){var s,l=n.length;for(r=new Array(l),i=new Array(l),s=0;s<l;++s)r[s]=isNaN(i[s]=+e(n[s],s,n))?0:+t(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(t=typeof s=="function"?s:Et(+s),o(),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:Et(+s),o(),a):e},a}function zX(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Em(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function cc(e){return e=Em(Math.abs(e)),e?e[1]:NaN}function GX(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function UX(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var WX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Uo(e){if(!(t=WX.exec(e)))throw new Error("invalid format: "+e);var t;return new _g({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Uo.prototype=_g.prototype;function _g(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}_g.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function HX(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var dC;function YX(e,t){var n=Em(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(dC=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Em(e,Math.max(0,t+a-1))[0]}function Jw(e,t){var n=Em(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Kw={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:zX,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Jw(e*100,t),r:Jw,s:YX,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Qw(e){return e}var eT=Array.prototype.map,tT=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function H7(e){var t=e.grouping===void 0||e.thousands===void 0?Qw:GX(eT.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Qw:UX(eT.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=Uo(f);var d=f.fill,h=f.align,m=f.sign,g=f.symbol,p=f.zero,y=f.width,b=f.comma,v=f.precision,x=f.trim,_=f.type;_==="n"?(b=!0,_="g"):Kw[_]||(v===void 0&&(v=12),x=!0,_="g"),(p||d==="0"&&h==="=")&&(p=!0,d="0",h="=");var T=g==="$"?n:g==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",w=g==="$"?r:/[%p]/.test(_)?o:"",S=Kw[_],C=/[defgprs%]/.test(_);v=v===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function k(A){var L=T,D=w,E,O,M;if(_==="c")D=S(A)+D,A="";else{A=+A;var F=A<0||1/A<0;if(A=isNaN(A)?l:S(Math.abs(A),v),x&&(A=HX(A)),F&&+A==0&&m!=="+"&&(F=!1),L=(F?m==="("?m:s:m==="-"||m==="("?"":m)+L,D=(_==="s"?tT[8+dC/3]:"")+D+(F&&m==="("?")":""),C){for(E=-1,O=A.length;++E<O;)if(M=A.charCodeAt(E),48>M||M>57){D=(M===46?i+A.slice(E+1):A.slice(E))+D,A=A.slice(0,E);break}}}b&&!p&&(A=t(A,1/0));var $=L.length+A.length+D.length,N=$<y?new Array(y-$+1).join(d):"";switch(b&&p&&(A=t(N+A,N.length?y-D.length:1/0),N=""),h){case"<":A=L+A+D+N;break;case"=":A=L+N+A+D;break;case"^":A=N.slice(0,$=N.length>>1)+L+A+D+N.slice($);break;default:A=N+L+A+D;break}return a(A)}return k.toString=function(){return f+""},k}function u(f,d){var h=c((f=Uo(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(cc(d)/3)))*3,g=Math.pow(10,-m),p=tT[8+m/3];return function(y){return h(g*y)+p}}return{format:c,formatPrefix:u}}var Vh,Pd,wg;hC({thousands:",",grouping:[3],currency:["$",""]});function hC(e){return Vh=H7(e),Pd=Vh.format,wg=Vh.formatPrefix,Vh}function Y7(e){return Math.max(0,-cc(Math.abs(e)))}function q7(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cc(t)/3)))*3-cc(Math.abs(e)))}function V7(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,cc(t)-cc(e))+1}var ue=1e-6,Jf=1e-12,Se=Math.PI,gt=Se/2,km=Se/4,Bn=Se*2,Xe=180/Se,de=Se/180,ke=Math.abs,Vc=Math.atan,$n=Math.atan2,re=Math.cos,Xh=Math.ceil,mC=Math.exp,Rv=Math.hypot,Mm=Math.log,Xy=Math.pow,te=Math.sin,Er=Math.sign||function(e){return e>0?1:e<0?-1:0},jt=Math.sqrt,X7=Math.tan;function pC(e){return e>1?0:e<-1?Se:Math.acos(e)}function Nn(e){return e>1?gt:e<-1?-gt:Math.asin(e)}function nT(e){return(e=te(e/2))*e}function ft(){}function Om(e,t){e&&iT.hasOwnProperty(e.type)&&iT[e.type](e,t)}var rT={Feature:function(e,t){Om(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Om(n[r].geometry,t)}},iT={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Pv(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Pv(n[r],t,0)},Polygon:function(e,t){aT(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)aT(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Om(n[r],t)}};function Pv(e,t,n){var r=-1,i=e.length-n,a;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function aT(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Pv(e[n],t,1);t.polygonEnd()}function Kr(e,t){e&&rT.hasOwnProperty(e.type)?rT[e.type](e,t):Om(e,t)}var Cm=new Ot,Dm=new Ot,gC,yC,jv,zv,Gv,ta={point:ft,lineStart:ft,lineEnd:ft,polygonStart:function(){Cm=new Ot,ta.lineStart=qX,ta.lineEnd=VX},polygonEnd:function(){var e=+Cm;Dm.add(e<0?Bn+e:e),this.lineStart=this.lineEnd=this.point=ft},sphere:function(){Dm.add(Bn)}};function qX(){ta.point=XX}function VX(){bC(gC,yC)}function XX(e,t){ta.point=bC,gC=e,yC=t,e*=de,t*=de,jv=e,zv=re(t=t/2+km),Gv=te(t)}function bC(e,t){e*=de,t*=de,t=t/2+km;var n=e-jv,r=n>=0?1:-1,i=r*n,a=re(t),o=te(t),s=Gv*o,l=zv*a+s*re(i),c=s*r*te(i);Cm.add($n(c,l)),jv=e,zv=a,Gv=o}function vC(e){return Dm=new Ot,Kr(e,ta),Dm*2}function Lm(e){return[$n(e[1],e[0]),Nn(e[2])]}function v0(e){var t=e[0],n=e[1],r=re(n);return[r*re(t),r*te(t),te(n)]}function Jh(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function uc(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Jy(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Kh(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Fm(e){var t=jt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var ut,Gn,ht,ur,js,xC,_C,Ul,Sf,vo,Xa,Ba={point:Uv,lineStart:oT,lineEnd:sT,polygonStart:function(){Ba.point=TC,Ba.lineStart=JX,Ba.lineEnd=KX,Sf=new Ot,ta.polygonStart()},polygonEnd:function(){ta.polygonEnd(),Ba.point=Uv,Ba.lineStart=oT,Ba.lineEnd=sT,Cm<0?(ut=-(ht=180),Gn=-(ur=90)):Sf>ue?ur=90:Sf<-ue&&(Gn=-90),Xa[0]=ut,Xa[1]=ht},sphere:function(){ut=-(ht=180),Gn=-(ur=90)}};function Uv(e,t){vo.push(Xa=[ut=e,ht=e]),t<Gn&&(Gn=t),t>ur&&(ur=t)}function wC(e,t){var n=v0([e*de,t*de]);if(Ul){var r=uc(Ul,n),i=[r[1],-r[0],0],a=uc(i,r);Fm(a),a=Lm(a);var o=e-js,s=o>0?1:-1,l=a[0]*Xe*s,c,u=ke(o)>180;u^(s*js<l&&l<s*e)?(c=a[1]*Xe,c>ur&&(ur=c)):(l=(l+360)%360-180,u^(s*js<l&&l<s*e)?(c=-a[1]*Xe,c<Gn&&(Gn=c)):(t<Gn&&(Gn=t),t>ur&&(ur=t))),u?e<js?sr(ut,e)>sr(ut,ht)&&(ht=e):sr(e,ht)>sr(ut,ht)&&(ut=e):ht>=ut?(e<ut&&(ut=e),e>ht&&(ht=e)):e>js?sr(ut,e)>sr(ut,ht)&&(ht=e):sr(e,ht)>sr(ut,ht)&&(ut=e)}else vo.push(Xa=[ut=e,ht=e]);t<Gn&&(Gn=t),t>ur&&(ur=t),Ul=n,js=e}function oT(){Ba.point=wC}function sT(){Xa[0]=ut,Xa[1]=ht,Ba.point=Uv,Ul=null}function TC(e,t){if(Ul){var n=e-js;Sf.add(ke(n)>180?n+(n>0?360:-360):n)}else xC=e,_C=t;ta.point(e,t),wC(e,t)}function JX(){ta.lineStart()}function KX(){TC(xC,_C),ta.lineEnd(),ke(Sf)>ue&&(ut=-(ht=180)),Xa[0]=ut,Xa[1]=ht,Ul=null}function sr(e,t){return(t-=e)<0?t+360:t}function QX(e,t){return e[0]-t[0]}function lT(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function AC(e){var t,n,r,i,a,o,s;if(ur=ht=-(ut=Gn=1/0),vo=[],Kr(e,Ba),n=vo.length){for(vo.sort(QX),t=1,r=vo[0],a=[r];t<n;++t)i=vo[t],lT(r,i[0])||lT(r,i[1])?(sr(r[0],i[1])>sr(r[0],r[1])&&(r[1]=i[1]),sr(i[0],r[1])>sr(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,n=a.length-1,t=0,r=a[n];t<=n;r=i,++t)i=a[t],(s=sr(r[1],i[0]))>o&&(o=s,ut=i[0],ht=r[1])}return vo=Xa=null,ut===1/0||Gn===1/0?[[NaN,NaN],[NaN,NaN]]:[[ut,Gn],[ht,ur]]}var tf,Bm,$m,Nm,Im,Zm,Rm,Pm,Wv,Hv,Yv,SC,EC,En,kn,Mn,ii={sphere:ft,point:J7,lineStart:cT,lineEnd:uT,polygonStart:function(){ii.lineStart=nJ,ii.lineEnd=rJ},polygonEnd:function(){ii.lineStart=cT,ii.lineEnd=uT}};function J7(e,t){e*=de,t*=de;var n=re(t);jd(n*re(e),n*te(e),te(t))}function jd(e,t,n){++tf,$m+=(e-$m)/tf,Nm+=(t-Nm)/tf,Im+=(n-Im)/tf}function cT(){ii.point=eJ}function eJ(e,t){e*=de,t*=de;var n=re(t);En=n*re(e),kn=n*te(e),Mn=te(t),ii.point=tJ,jd(En,kn,Mn)}function tJ(e,t){e*=de,t*=de;var n=re(t),r=n*re(e),i=n*te(e),a=te(t),o=$n(jt((o=kn*a-Mn*i)*o+(o=Mn*r-En*a)*o+(o=En*i-kn*r)*o),En*r+kn*i+Mn*a);Bm+=o,Zm+=o*(En+(En=r)),Rm+=o*(kn+(kn=i)),Pm+=o*(Mn+(Mn=a)),jd(En,kn,Mn)}function uT(){ii.point=J7}function nJ(){ii.point=iJ}function rJ(){kC(SC,EC),ii.point=J7}function iJ(e,t){SC=e,EC=t,e*=de,t*=de,ii.point=kC;var n=re(t);En=n*re(e),kn=n*te(e),Mn=te(t),jd(En,kn,Mn)}function kC(e,t){e*=de,t*=de;var n=re(t),r=n*re(e),i=n*te(e),a=te(t),o=kn*a-Mn*i,s=Mn*r-En*a,l=En*i-kn*r,c=Rv(o,s,l),u=Nn(c),f=c&&-u/c;Wv.add(f*o),Hv.add(f*s),Yv.add(f*l),Bm+=u,Zm+=u*(En+(En=r)),Rm+=u*(kn+(kn=i)),Pm+=u*(Mn+(Mn=a)),jd(En,kn,Mn)}function MC(e){tf=Bm=$m=Nm=Im=Zm=Rm=Pm=0,Wv=new Ot,Hv=new Ot,Yv=new Ot,Kr(e,ii);var t=+Wv,n=+Hv,r=+Yv,i=Rv(t,n,r);return i<Jf&&(t=Zm,n=Rm,r=Pm,Bm<ue&&(t=$m,n=Nm,r=Im),i=Rv(t,n,r),i<Jf)?[NaN,NaN]:[$n(n,t)*Xe,Nn(r/i)*Xe]}function bl(e){return function(){return e}}function qv(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function Vv(e,t){return ke(e)>Se&&(e-=Math.round(e/Bn)*Bn),[e,t]}Vv.invert=Vv;function K7(e,t,n){return(e%=Bn)?t||n?qv(dT(e),hT(t,n)):dT(e):t||n?hT(t,n):Vv}function fT(e){return function(t,n){return t+=e,ke(t)>Se&&(t-=Math.round(t/Bn)*Bn),[t,n]}}function dT(e){var t=fT(e);return t.invert=fT(-e),t}function hT(e,t){var n=re(e),r=te(e),i=re(t),a=te(t);function o(s,l){var c=re(l),u=re(s)*c,f=te(s)*c,d=te(l),h=d*n+u*r;return[$n(f*i-h*a,u*n-d*r),Nn(h*i+f*a)]}return o.invert=function(s,l){var c=re(l),u=re(s)*c,f=te(s)*c,d=te(l),h=d*i-f*a;return[$n(f*i+d*a,u*n+h*r),Nn(h*n-u*r)]},o}function OC(e){e=K7(e[0]*de,e[1]*de,e.length>2?e[2]*de:0);function t(n){return n=e(n[0]*de,n[1]*de),n[0]*=Xe,n[1]*=Xe,n}return t.invert=function(n){return n=e.invert(n[0]*de,n[1]*de),n[0]*=Xe,n[1]*=Xe,n},t}function CC(e,t,n,r,i,a){if(n){var o=re(t),s=te(t),l=r*n;i==null?(i=t+r*Bn,a=t-l/2):(i=mT(o,i),a=mT(o,a),(r>0?i<a:i>a)&&(i+=r*Bn));for(var c,u=i;r>0?u>a:u<a;u-=l)c=Lm([o,-s*re(u),-s*te(u)]),e.point(c[0],c[1])}}function mT(e,t){t=v0(t),t[0]-=e,Fm(t);var n=pC(-t[1]);return((-t[2]<0?-n:n)+Bn-ue)%Bn}function aJ(){var e=bl([0,0]),t=bl(90),n=bl(6),r,i,a={point:o};function o(l,c){r.push(l=i(l,c)),l[0]*=Xe,l[1]*=Xe}function s(){var l=e.apply(this,arguments),c=t.apply(this,arguments)*de,u=n.apply(this,arguments)*de;return r=[],i=K7(-l[0]*de,-l[1]*de,0).invert,CC(a,c,u,1),l={type:"Polygon",coordinates:[r]},r=i=null,l}return s.center=function(l){return arguments.length?(e=typeof l=="function"?l:bl([+l[0],+l[1]]),s):e},s.radius=function(l){return arguments.length?(t=typeof l=="function"?l:bl(+l),s):t},s.precision=function(l){return arguments.length?(n=typeof l=="function"?l:bl(+l),s):n},s}function DC(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:ft,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function H1(e,t){return ke(e[0]-t[0])<ue&&ke(e[1]-t[1])<ue}function Qh(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function LC(e,t,n,r,i){var a=[],o=[],s,l;if(e.forEach(function(m){if(!((g=m.length-1)<=0)){var g,p=m[0],y=m[g],b;if(H1(p,y)){if(!p[2]&&!y[2]){for(i.lineStart(),s=0;s<g;++s)i.point((p=m[s])[0],p[1]);i.lineEnd();return}y[0]+=2*ue}a.push(b=new Qh(p,m,null,!0)),o.push(b.o=new Qh(p,null,b,!1)),a.push(b=new Qh(y,m,null,!1)),o.push(b.o=new Qh(y,null,b,!0))}}),!!a.length){for(o.sort(t),pT(a),pT(o),s=0,l=o.length;s<l;++s)o[s].e=n=!n;for(var c=a[0],u,f;;){for(var d=c,h=!0;d.v;)if((d=d.n)===c)return;u=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(s=0,l=u.length;s<l;++s)i.point((f=u[s])[0],f[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(u=d.p.z,s=u.length-1;s>=0;--s)i.point((f=u[s])[0],f[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,u=d.z,h=!h}while(!d.v);i.lineEnd()}}}function pT(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function Ky(e){return ke(e[0])<=Se?e[0]:Er(e[0])*((ke(e[0])+Se)%Bn-Se)}function FC(e,t){var n=Ky(t),r=t[1],i=te(r),a=[te(n),-re(n),0],o=0,s=0,l=new Ot;i===1?r=gt+ue:i===-1&&(r=-gt-ue);for(var c=0,u=e.length;c<u;++c)if(d=(f=e[c]).length)for(var f,d,h=f[d-1],m=Ky(h),g=h[1]/2+km,p=te(g),y=re(g),b=0;b<d;++b,m=x,p=T,y=w,h=v){var v=f[b],x=Ky(v),_=v[1]/2+km,T=te(_),w=re(_),S=x-m,C=S>=0?1:-1,k=C*S,A=k>Se,L=p*T;if(l.add($n(L*C*te(k),y*w+L*re(k))),o+=A?S+C*Bn:S,A^m>=n^x>=n){var D=uc(v0(h),v0(v));Fm(D);var E=uc(a,D);Fm(E);var O=(A^S>=0?-1:1)*Nn(E[2]);(r>O||r===O&&(D[0]||D[1]))&&(s+=A^S>=0?1:-1)}}return(o<-ue||o<ue&&l<-Jf)^s&1}function BC(e,t,n,r){return function(i){var a=t(i),o=DC(),s=t(o),l=!1,c,u,f,d={point:h,lineStart:g,lineEnd:p,polygonStart:function(){d.point=y,d.lineStart=b,d.lineEnd=v,u=[],c=[]},polygonEnd:function(){d.point=h,d.lineStart=g,d.lineEnd=p,u=y7(u);var x=FC(c,r);u.length?(l||(i.polygonStart(),l=!0),LC(u,sJ,x,n,i)):x&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(x,_){e(x,_)&&i.point(x,_)}function m(x,_){a.point(x,_)}function g(){d.point=m,a.lineStart()}function p(){d.point=h,a.lineEnd()}function y(x,_){f.push([x,_]),s.point(x,_)}function b(){s.lineStart(),f=[]}function v(){y(f[0][0],f[0][1]),s.lineEnd();var x=s.clean(),_=o.result(),T,w=_.length,S,C,k;if(f.pop(),c.push(f),f=null,!!w){if(x&1){if(C=_[0],(S=C.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),T=0;T<S;++T)i.point((k=C[T])[0],k[1]);i.lineEnd()}return}w>1&&x&2&&_.push(_.pop().concat(_.shift())),u.push(_.filter(oJ))}}return d}}function oJ(e){return e.length>1}function sJ(e,t){return((e=e.x)[0]<0?e[1]-gt-ue:gt-e[1])-((t=t.x)[0]<0?t[1]-gt-ue:gt-t[1])}const Xv=BC(function(){return!0},lJ,uJ,[-Se,-gt]);function lJ(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,o){var s=a>0?Se:-Se,l=ke(a-t);ke(l-Se)<ue?(e.point(t,n=(n+o)/2>0?gt:-gt),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),e.point(a,n),i=0):r!==s&&l>=Se&&(ke(t-r)<ue&&(t-=r*ue),ke(a-s)<ue&&(a-=s*ue),n=cJ(t,n,a,o),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),i=0),e.point(t=a,n=o),r=s},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function cJ(e,t,n,r){var i,a,o=te(e-n);return ke(o)>ue?Vc((te(t)*(a=re(r))*te(n)-te(r)*(i=re(t))*te(e))/(i*a*o)):(t+r)/2}function uJ(e,t,n,r){var i;if(e==null)i=n*gt,r.point(-Se,i),r.point(0,i),r.point(Se,i),r.point(Se,0),r.point(Se,-i),r.point(0,-i),r.point(-Se,-i),r.point(-Se,0),r.point(-Se,i);else if(ke(e[0]-t[0])>ue){var a=e[0]<t[0]?Se:-Se;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function $C(e){var t=re(e),n=6*de,r=t>0,i=ke(t)>ue;function a(u,f,d,h){CC(h,e,n,d,u,f)}function o(u,f){return re(u)*re(f)>t}function s(u){var f,d,h,m,g;return{lineStart:function(){m=h=!1,g=1},point:function(p,y){var b=[p,y],v,x=o(p,y),_=r?x?0:c(p,y):x?c(p+(p<0?Se:-Se),y):0;if(!f&&(m=h=x)&&u.lineStart(),x!==h&&(v=l(f,b),(!v||H1(f,v)||H1(b,v))&&(b[2]=1)),x!==h)g=0,x?(u.lineStart(),v=l(b,f),u.point(v[0],v[1])):(v=l(f,b),u.point(v[0],v[1],2),u.lineEnd()),f=v;else if(i&&f&&r^x){var T;!(_&d)&&(T=l(b,f,!0))&&(g=0,r?(u.lineStart(),u.point(T[0][0],T[0][1]),u.point(T[1][0],T[1][1]),u.lineEnd()):(u.point(T[1][0],T[1][1]),u.lineEnd(),u.lineStart(),u.point(T[0][0],T[0][1],3)))}x&&(!f||!H1(f,b))&&u.point(b[0],b[1]),f=b,h=x,d=_},lineEnd:function(){h&&u.lineEnd(),f=null},clean:function(){return g|(m&&h)<<1}}}function l(u,f,d){var h=v0(u),m=v0(f),g=[1,0,0],p=uc(h,m),y=Jh(p,p),b=p[0],v=y-b*b;if(!v)return!d&&u;var x=t*y/v,_=-t*b/v,T=uc(g,p),w=Kh(g,x),S=Kh(p,_);Jy(w,S);var C=T,k=Jh(w,C),A=Jh(C,C),L=k*k-A*(Jh(w,w)-1);if(!(L<0)){var D=jt(L),E=Kh(C,(-k-D)/A);if(Jy(E,w),E=Lm(E),!d)return E;var O=u[0],M=f[0],F=u[1],$=f[1],N;M<O&&(N=O,O=M,M=N);var R=M-O,Y=ke(R-Se)<ue,K=Y||R<ue;if(!Y&&$<F&&(N=F,F=$,$=N),K?Y?F+$>0^E[1]<(ke(E[0]-O)<ue?F:$):F<=E[1]&&E[1]<=$:R>Se^(O<=E[0]&&E[0]<=M)){var me=Kh(C,(-k+D)/A);return Jy(me,w),[E,Lm(me)]}}}function c(u,f){var d=r?e:Se-e,h=0;return u<-d?h|=1:u>d&&(h|=2),f<-d?h|=4:f>d&&(h|=8),h}return BC(o,s,a,r?[0,-e]:[-Se,e-Se])}function fJ(e,t,n,r,i,a){var o=e[0],s=e[1],l=t[0],c=t[1],u=0,f=1,d=l-o,h=c-s,m;if(m=n-o,!(!d&&m>0)){if(m/=d,d<0){if(m<u)return;m<f&&(f=m)}else if(d>0){if(m>f)return;m>u&&(u=m)}if(m=i-o,!(!d&&m<0)){if(m/=d,d<0){if(m>f)return;m>u&&(u=m)}else if(d>0){if(m<u)return;m<f&&(f=m)}if(m=r-s,!(!h&&m>0)){if(m/=h,h<0){if(m<u)return;m<f&&(f=m)}else if(h>0){if(m>f)return;m>u&&(u=m)}if(m=a-s,!(!h&&m<0)){if(m/=h,h<0){if(m>f)return;m>u&&(u=m)}else if(h>0){if(m<u)return;m<f&&(f=m)}return u>0&&(e[0]=o+u*d,e[1]=s+u*h),f<1&&(t[0]=o+f*d,t[1]=s+f*h),!0}}}}}var nf=1e9,e1=-nf;function Tg(e,t,n,r){function i(c,u){return e<=c&&c<=n&&t<=u&&u<=r}function a(c,u,f,d){var h=0,m=0;if(c==null||(h=o(c,f))!==(m=o(u,f))||l(c,u)<0^f>0)do d.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+f+4)%4)!==m);else d.point(u[0],u[1])}function o(c,u){return ke(c[0]-e)<ue?u>0?0:3:ke(c[0]-n)<ue?u>0?2:1:ke(c[1]-t)<ue?u>0?1:0:u>0?3:2}function s(c,u){return l(c.x,u.x)}function l(c,u){var f=o(c,1),d=o(u,1);return f!==d?f-d:f===0?u[1]-c[1]:f===1?c[0]-u[0]:f===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,f=DC(),d,h,m,g,p,y,b,v,x,_,T,w={point:S,lineStart:L,lineEnd:D,polygonStart:k,polygonEnd:A};function S(O,M){i(O,M)&&u.point(O,M)}function C(){for(var O=0,M=0,F=h.length;M<F;++M)for(var $=h[M],N=1,R=$.length,Y=$[0],K,me,pe=Y[0],fe=Y[1];N<R;++N)K=pe,me=fe,Y=$[N],pe=Y[0],fe=Y[1],me<=r?fe>r&&(pe-K)*(r-me)>(fe-me)*(e-K)&&++O:fe<=r&&(pe-K)*(r-me)<(fe-me)*(e-K)&&--O;return O}function k(){u=f,d=[],h=[],T=!0}function A(){var O=C(),M=T&&O,F=(d=y7(d)).length;(M||F)&&(c.polygonStart(),M&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),F&&LC(d,s,O,a,c),c.polygonEnd()),u=c,d=h=m=null}function L(){w.point=E,h&&h.push(m=[]),_=!0,x=!1,b=v=NaN}function D(){d&&(E(g,p),y&&x&&f.rejoin(),d.push(f.result())),w.point=S,x&&u.lineEnd()}function E(O,M){var F=i(O,M);if(h&&m.push([O,M]),_)g=O,p=M,y=F,_=!1,F&&(u.lineStart(),u.point(O,M));else if(F&&x)u.point(O,M);else{var $=[b=Math.max(e1,Math.min(nf,b)),v=Math.max(e1,Math.min(nf,v))],N=[O=Math.max(e1,Math.min(nf,O)),M=Math.max(e1,Math.min(nf,M))];fJ($,N,e,t,n,r)?(x||(u.lineStart(),u.point($[0],$[1])),u.point(N[0],N[1]),F||u.lineEnd(),T=!1):F&&(u.lineStart(),u.point(O,M),T=!1)}b=O,v=M,x=F}return w}}function dJ(){var e=0,t=0,n=960,r=500,i,a,o;return o={stream:function(s){return i&&a===s?i:i=Tg(e,t,n,r)(a=s)},extent:function(s){return arguments.length?(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1],i=a=null,o):[[e,t],[n,r]]}}}var Jv,Kv,Y1,q1,fc={sphere:ft,point:ft,lineStart:hJ,lineEnd:ft,polygonStart:ft,polygonEnd:ft};function hJ(){fc.point=pJ,fc.lineEnd=mJ}function mJ(){fc.point=fc.lineEnd=ft}function pJ(e,t){e*=de,t*=de,Kv=e,Y1=te(t),q1=re(t),fc.point=gJ}function gJ(e,t){e*=de,t*=de;var n=te(t),r=re(t),i=ke(e-Kv),a=re(i),o=te(i),s=r*o,l=q1*n-Y1*r*a,c=Y1*n+q1*r*a;Jv.add($n(jt(s*s+l*l),c)),Kv=e,Y1=n,q1=r}function NC(e){return Jv=new Ot,Kr(e,fc),+Jv}var Qv=[null,null],yJ={type:"LineString",coordinates:Qv};function jm(e,t){return Qv[0]=e,Qv[1]=t,NC(yJ)}var gT={Feature:function(e,t){return zm(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(zm(n[r].geometry,t))return!0;return!1}},yT={Sphere:function(){return!0},Point:function(e,t){return bT(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(bT(n[r],t))return!0;return!1},LineString:function(e,t){return vT(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(vT(n[r],t))return!0;return!1},Polygon:function(e,t){return xT(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(xT(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(zm(n[r],t))return!0;return!1}};function zm(e,t){return e&&yT.hasOwnProperty(e.type)?yT[e.type](e,t):!1}function bT(e,t){return jm(e,t)===0}function vT(e,t){for(var n,r,i,a=0,o=e.length;a<o;a++){if(r=jm(e[a],t),r===0||a>0&&(i=jm(e[a],e[a-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Jf*i))return!0;n=r}return!1}function xT(e,t){return!!FC(e.map(bJ),IC(t))}function bJ(e){return e=e.map(IC),e.pop(),e}function IC(e){return[e[0]*de,e[1]*de]}function vJ(e,t){return(e&&gT.hasOwnProperty(e.type)?gT[e.type]:zm)(e,t)}function _T(e,t,n){var r=ln(e,t-ue,n).concat(t);return function(i){return r.map(function(a){return[i,a]})}}function wT(e,t,n){var r=ln(e,t-ue,n).concat(t);return function(i){return r.map(function(a){return[a,i]})}}function Q7(){var e,t,n,r,i,a,o,s,l=10,c=l,u=90,f=360,d,h,m,g,p=2.5;function y(){return{type:"MultiLineString",coordinates:b()}}function b(){return ln(Xh(r/u)*u,n,u).map(m).concat(ln(Xh(s/f)*f,o,f).map(g)).concat(ln(Xh(t/l)*l,e,l).filter(function(v){return ke(v%u)>ue}).map(d)).concat(ln(Xh(a/c)*c,i,c).filter(function(v){return ke(v%f)>ue}).map(h))}return y.lines=function(){return b().map(function(v){return{type:"LineString",coordinates:v}})},y.outline=function(){return{type:"Polygon",coordinates:[m(r).concat(g(o).slice(1),m(n).reverse().slice(1),g(s).reverse().slice(1))]}},y.extent=function(v){return arguments.length?y.extentMajor(v).extentMinor(v):y.extentMinor()},y.extentMajor=function(v){return arguments.length?(r=+v[0][0],n=+v[1][0],s=+v[0][1],o=+v[1][1],r>n&&(v=r,r=n,n=v),s>o&&(v=s,s=o,o=v),y.precision(p)):[[r,s],[n,o]]},y.extentMinor=function(v){return arguments.length?(t=+v[0][0],e=+v[1][0],a=+v[0][1],i=+v[1][1],t>e&&(v=t,t=e,e=v),a>i&&(v=a,a=i,i=v),y.precision(p)):[[t,a],[e,i]]},y.step=function(v){return arguments.length?y.stepMajor(v).stepMinor(v):y.stepMinor()},y.stepMajor=function(v){return arguments.length?(u=+v[0],f=+v[1],y):[u,f]},y.stepMinor=function(v){return arguments.length?(l=+v[0],c=+v[1],y):[l,c]},y.precision=function(v){return arguments.length?(p=+v,d=_T(a,i,90),h=wT(t,e,p),m=_T(s,o,90),g=wT(r,n,p),y):p},y.extentMajor([[-180,-90+ue],[180,90-ue]]).extentMinor([[-180,-80-ue],[180,80+ue]])}function xJ(){return Q7()()}function _J(e,t){var n=e[0]*de,r=e[1]*de,i=t[0]*de,a=t[1]*de,o=re(r),s=te(r),l=re(a),c=te(a),u=o*re(n),f=o*te(n),d=l*re(i),h=l*te(i),m=2*Nn(jt(nT(a-r)+o*l*nT(i-n))),g=te(m),p=m?function(y){var b=te(y*=m)/g,v=te(m-y)/g,x=v*u+b*d,_=v*f+b*h,T=v*s+b*c;return[$n(_,x)*Xe,$n(T,jt(x*x+_*_))*Xe]}:function(){return[n*Xe,r*Xe]};return p.distance=m,p}const Kf=e=>e;var Qy=new Ot,e3=new Ot,ZC,RC,t3,n3,Ao={point:ft,lineStart:ft,lineEnd:ft,polygonStart:function(){Ao.lineStart=wJ,Ao.lineEnd=AJ},polygonEnd:function(){Ao.lineStart=Ao.lineEnd=Ao.point=ft,Qy.add(ke(e3)),e3=new Ot},result:function(){var e=Qy/2;return Qy=new Ot,e}};function wJ(){Ao.point=TJ}function TJ(e,t){Ao.point=PC,ZC=t3=e,RC=n3=t}function PC(e,t){e3.add(n3*e-t3*t),t3=e,n3=t}function AJ(){PC(ZC,RC)}const TT=Ao;var dc=1/0,Gm=dc,Qf=-dc,Um=Qf,SJ={point:EJ,lineStart:ft,lineEnd:ft,polygonStart:ft,polygonEnd:ft,result:function(){var e=[[dc,Gm],[Qf,Um]];return Qf=Um=-(Gm=dc=1/0),e}};function EJ(e,t){e<dc&&(dc=e),e>Qf&&(Qf=e),t<Gm&&(Gm=t),t>Um&&(Um=t)}const Wm=SJ;var r3=0,i3=0,rf=0,Hm=0,Ym=0,Bl=0,a3=0,o3=0,af=0,jC,zC,Ii,Zi,Qr={point:x0,lineStart:AT,lineEnd:ST,polygonStart:function(){Qr.lineStart=OJ,Qr.lineEnd=CJ},polygonEnd:function(){Qr.point=x0,Qr.lineStart=AT,Qr.lineEnd=ST},result:function(){var e=af?[a3/af,o3/af]:Bl?[Hm/Bl,Ym/Bl]:rf?[r3/rf,i3/rf]:[NaN,NaN];return r3=i3=rf=Hm=Ym=Bl=a3=o3=af=0,e}};function x0(e,t){r3+=e,i3+=t,++rf}function AT(){Qr.point=kJ}function kJ(e,t){Qr.point=MJ,x0(Ii=e,Zi=t)}function MJ(e,t){var n=e-Ii,r=t-Zi,i=jt(n*n+r*r);Hm+=i*(Ii+e)/2,Ym+=i*(Zi+t)/2,Bl+=i,x0(Ii=e,Zi=t)}function ST(){Qr.point=x0}function OJ(){Qr.point=DJ}function CJ(){GC(jC,zC)}function DJ(e,t){Qr.point=GC,x0(jC=Ii=e,zC=Zi=t)}function GC(e,t){var n=e-Ii,r=t-Zi,i=jt(n*n+r*r);Hm+=i*(Ii+e)/2,Ym+=i*(Zi+t)/2,Bl+=i,i=Zi*e-Ii*t,a3+=i*(Ii+e),o3+=i*(Zi+t),af+=i*3,x0(Ii=e,Zi=t)}const ET=Qr;function UC(e){this._context=e}UC.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Bn);break}}},result:ft};var s3=new Ot,eb,WC,HC,of,sf,qm={point:ft,lineStart:function(){qm.point=LJ},lineEnd:function(){eb&&YC(WC,HC),qm.point=ft},polygonStart:function(){eb=!0},polygonEnd:function(){eb=null},result:function(){var e=+s3;return s3=new Ot,e}};function LJ(e,t){qm.point=YC,WC=of=e,HC=sf=t}function YC(e,t){of-=e,sf-=t,s3.add(jt(of*of+sf*sf)),of=e,sf=t}const kT=qm;let MT,Vm,OT,CT;class DT{constructor(t){this._append=t==null?qC:FJ(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==OT||this._append!==Vm){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,OT=r,Vm=this._append,CT=this._,this._=i}this._+=CT;break}}}result(){const t=this._;return this._="",t.length?t:null}}function qC(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function FJ(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return qC;if(t!==MT){const n=10**t;MT=t,Vm=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return Vm}function e8(e,t){let n=3,r=4.5,i,a;function o(s){return s&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),Kr(s,i(a))),a.result()}return o.area=function(s){return Kr(s,i(TT)),TT.result()},o.measure=function(s){return Kr(s,i(kT)),kT.result()},o.bounds=function(s){return Kr(s,i(Wm)),Wm.result()},o.centroid=function(s){return Kr(s,i(ET)),ET.result()},o.projection=function(s){return arguments.length?(i=s==null?(e=null,Kf):(e=s).stream,o):e},o.context=function(s){return arguments.length?(a=s==null?(t=null,new DT(n)):new UC(t=s),typeof r!="function"&&a.pointRadius(r),o):t},o.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(a.pointRadius(+s),+s),o):r},o.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const l=Math.floor(s);if(!(l>=0))throw new RangeError(`invalid digits: ${s}`);n=l}return t===null&&(a=new DT(n)),o},o.projection(e).digits(n).context(t)}function BJ(e){return{stream:zd(e)}}function zd(e){return function(t){var n=new l3;for(var r in e)n[r]=e[r];return n.stream=t,n}}function l3(){}l3.prototype={constructor:l3,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function t8(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Kr(n,e.stream(Wm)),t(Wm.result()),r!=null&&e.clipExtent(r),e}function Ag(e,t,n){return t8(e,function(r){var i=t[1][0]-t[0][0],a=t[1][1]-t[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),s=+t[0][0]+(i-o*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(a-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,l])},n)}function n8(e,t,n){return Ag(e,[[0,0],t],n)}function r8(e,t,n){return t8(e,function(r){var i=+t,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,s=-a*r[0][1];e.scale(150*a).translate([o,s])},n)}function i8(e,t,n){return t8(e,function(r){var i=+t,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],s=(i-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([o,s])},n)}var LT=16,$J=re(30*de);function FT(e,t){return+t?IJ(e,t):NJ(e)}function NJ(e){return zd({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function IJ(e,t){function n(r,i,a,o,s,l,c,u,f,d,h,m,g,p){var y=c-r,b=u-i,v=y*y+b*b;if(v>4*t&&g--){var x=o+d,_=s+h,T=l+m,w=jt(x*x+_*_+T*T),S=Nn(T/=w),C=ke(ke(T)-1)<ue||ke(a-f)<ue?(a+f)/2:$n(_,x),k=e(C,S),A=k[0],L=k[1],D=A-r,E=L-i,O=b*D-y*E;(O*O/v>t||ke((y*D+b*E)/v-.5)>.3||o*d+s*h+l*m<$J)&&(n(r,i,a,o,s,l,A,L,C,x/=w,_/=w,T,g,p),p.point(A,L),n(A,L,C,x,_,T,c,u,f,d,h,m,g,p))}}return function(r){var i,a,o,s,l,c,u,f,d,h,m,g,p={point:y,lineStart:b,lineEnd:x,polygonStart:function(){r.polygonStart(),p.lineStart=_},polygonEnd:function(){r.polygonEnd(),p.lineStart=b}};function y(S,C){S=e(S,C),r.point(S[0],S[1])}function b(){f=NaN,p.point=v,r.lineStart()}function v(S,C){var k=v0([S,C]),A=e(S,C);n(f,d,u,h,m,g,f=A[0],d=A[1],u=S,h=k[0],m=k[1],g=k[2],LT,r),r.point(f,d)}function x(){p.point=y,r.lineEnd()}function _(){b(),p.point=T,p.lineEnd=w}function T(S,C){v(i=S,C),a=f,o=d,s=h,l=m,c=g,p.point=v}function w(){n(f,d,u,h,m,g,a,o,i,s,l,c,LT,r),p.lineEnd=x,x()}return p}}var ZJ=zd({point:function(e,t){this.stream.point(e*de,t*de)}});function RJ(e){return zd({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function PJ(e,t,n,r,i){function a(o,s){return o*=r,s*=i,[t+e*o,n-e*s]}return a.invert=function(o,s){return[(o-t)/e*r,(n-s)/e*i]},a}function BT(e,t,n,r,i,a){if(!a)return PJ(e,t,n,r,i);var o=re(a),s=te(a),l=o*e,c=s*e,u=o/e,f=s/e,d=(s*n-o*t)/e,h=(s*t+o*n)/e;function m(g,p){return g*=r,p*=i,[l*g-c*p+t,n-c*g-l*p]}return m.invert=function(g,p){return[r*(u*g-f*p+d),i*(h-f*g-u*p)]},m}function Ai(e){return a8(function(){return e})()}function a8(e){var t,n=150,r=480,i=250,a=0,o=0,s=0,l=0,c=0,u,f=0,d=1,h=1,m=null,g=Xv,p=null,y,b,v,x=Kf,_=.5,T,w,S,C,k;function A(O){return S(O[0]*de,O[1]*de)}function L(O){return O=S.invert(O[0],O[1]),O&&[O[0]*Xe,O[1]*Xe]}A.stream=function(O){return C&&k===O?C:C=ZJ(RJ(u)(g(T(x(k=O)))))},A.preclip=function(O){return arguments.length?(g=O,m=void 0,E()):g},A.postclip=function(O){return arguments.length?(x=O,p=y=b=v=null,E()):x},A.clipAngle=function(O){return arguments.length?(g=+O?$C(m=O*de):(m=null,Xv),E()):m*Xe},A.clipExtent=function(O){return arguments.length?(x=O==null?(p=y=b=v=null,Kf):Tg(p=+O[0][0],y=+O[0][1],b=+O[1][0],v=+O[1][1]),E()):p==null?null:[[p,y],[b,v]]},A.scale=function(O){return arguments.length?(n=+O,D()):n},A.translate=function(O){return arguments.length?(r=+O[0],i=+O[1],D()):[r,i]},A.center=function(O){return arguments.length?(a=O[0]%360*de,o=O[1]%360*de,D()):[a*Xe,o*Xe]},A.rotate=function(O){return arguments.length?(s=O[0]%360*de,l=O[1]%360*de,c=O.length>2?O[2]%360*de:0,D()):[s*Xe,l*Xe,c*Xe]},A.angle=function(O){return arguments.length?(f=O%360*de,D()):f*Xe},A.reflectX=function(O){return arguments.length?(d=O?-1:1,D()):d<0},A.reflectY=function(O){return arguments.length?(h=O?-1:1,D()):h<0},A.precision=function(O){return arguments.length?(T=FT(w,_=O*O),E()):jt(_)},A.fitExtent=function(O,M){return Ag(A,O,M)},A.fitSize=function(O,M){return n8(A,O,M)},A.fitWidth=function(O,M){return r8(A,O,M)},A.fitHeight=function(O,M){return i8(A,O,M)};function D(){var O=BT(n,0,0,d,h,f).apply(null,t(a,o)),M=BT(n,r-O[0],i-O[1],d,h,f);return u=K7(s,l,c),w=qv(t,M),S=qv(u,w),T=FT(w,_),E()}function E(){return C=k=null,A}return function(){return t=e.apply(this,arguments),A.invert=t.invert&&L,D()}}function o8(e){var t=0,n=Se/3,r=a8(e),i=r(t,n);return i.parallels=function(a){return arguments.length?r(t=a[0]*de,n=a[1]*de):[t*Xe,n*Xe]},i}function jJ(e){var t=re(e);function n(r,i){return[r*t,te(i)/t]}return n.invert=function(r,i){return[r/t,Nn(i*t)]},n}function VC(e,t){var n=te(e),r=(n+te(t))/2;if(ke(r)<ue)return jJ(e);var i=1+n*(2*r-n),a=jt(i)/r;function o(s,l){var c=jt(i-2*r*te(l))/r;return[c*te(s*=r),a-c*re(s)]}return o.invert=function(s,l){var c=a-l,u=$n(s,ke(c))*Er(c);return c*r<0&&(u-=Se*Er(s)*Er(c)),[u/r,Nn((i-(s*s+c*c)*r*r)/(2*r))]},o}function ed(){return o8(VC).scale(155.424).center([0,33.6442])}function s8(){return ed().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function zJ(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function XC(){var e,t,n=s8(),r,i=ed().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=ed().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,l,c={point:function(d,h){l=[d,h]}};function u(d){var h=d[0],m=d[1];return l=null,r.point(h,m),l||(a.point(h,m),l)||(s.point(h,m),l)}u.invert=function(d){var h=n.scale(),m=n.translate(),g=(d[0]-m[0])/h,p=(d[1]-m[1])/h;return(p>=.12&&p<.234&&g>=-.425&&g<-.214?i:p>=.166&&p<.234&&g>=-.214&&g<-.115?o:n).invert(d)},u.stream=function(d){return e&&t===d?e:e=zJ([n.stream(t=d),i.stream(d),o.stream(d)])},u.precision=function(d){return arguments.length?(n.precision(d),i.precision(d),o.precision(d),f()):n.precision()},u.scale=function(d){return arguments.length?(n.scale(d),i.scale(d*.35),o.scale(d),u.translate(n.translate())):n.scale()},u.translate=function(d){if(!arguments.length)return n.translate();var h=n.scale(),m=+d[0],g=+d[1];return r=n.translate(d).clipExtent([[m-.455*h,g-.238*h],[m+.455*h,g+.238*h]]).stream(c),a=i.translate([m-.307*h,g+.201*h]).clipExtent([[m-.425*h+ue,g+.12*h+ue],[m-.214*h-ue,g+.234*h-ue]]).stream(c),s=o.translate([m-.205*h,g+.212*h]).clipExtent([[m-.214*h+ue,g+.166*h+ue],[m-.115*h-ue,g+.234*h-ue]]).stream(c),f()},u.fitExtent=function(d,h){return Ag(u,d,h)},u.fitSize=function(d,h){return n8(u,d,h)},u.fitWidth=function(d,h){return r8(u,d,h)},u.fitHeight=function(d,h){return i8(u,d,h)};function f(){return e=t=null,u}return u.scale(1070)}function JC(e){return function(t,n){var r=re(t),i=re(n),a=e(r*i);return a===1/0?[2,0]:[a*i*te(t),a*te(n)]}}function Gd(e){return function(t,n){var r=jt(t*t+n*n),i=e(r),a=te(i),o=re(i);return[$n(t*a,r*o),Nn(r&&n*a/r)]}}var l8=JC(function(e){return jt(2/(1+e))});l8.invert=Gd(function(e){return 2*Nn(e/2)});function KC(){return Ai(l8).scale(124.75).clipAngle(180-.001)}var c8=JC(function(e){return(e=pC(e))&&e/te(e)});c8.invert=Gd(function(e){return e});function QC(){return Ai(c8).scale(79.4188).clipAngle(180-.001)}function Ud(e,t){return[e,Mm(X7((gt+t)/2))]}Ud.invert=function(e,t){return[e,2*Vc(mC(t))-gt]};function eD(){return tD(Ud).scale(961/Bn)}function tD(e){var t=Ai(e),n=t.center,r=t.scale,i=t.translate,a=t.clipExtent,o=null,s,l,c;t.scale=function(f){return arguments.length?(r(f),u()):r()},t.translate=function(f){return arguments.length?(i(f),u()):i()},t.center=function(f){return arguments.length?(n(f),u()):n()},t.clipExtent=function(f){return arguments.length?(f==null?o=s=l=c=null:(o=+f[0][0],s=+f[0][1],l=+f[1][0],c=+f[1][1]),u()):o==null?null:[[o,s],[l,c]]};function u(){var f=Se*r(),d=t(OC(t.rotate()).invert([0,0]));return a(o==null?[[d[0]-f,d[1]-f],[d[0]+f,d[1]+f]]:e===Ud?[[Math.max(d[0]-f,o),s],[Math.min(d[0]+f,l),c]]:[[o,Math.max(d[1]-f,s)],[l,Math.min(d[1]+f,c)]])}return u()}function t1(e){return X7((gt+e)/2)}function nD(e,t){var n=re(e),r=e===t?te(e):Mm(n/re(t))/Mm(t1(t)/t1(e)),i=n*Xy(t1(e),r)/r;if(!r)return Ud;function a(o,s){i>0?s<-gt+ue&&(s=-gt+ue):s>gt-ue&&(s=gt-ue);var l=i/Xy(t1(s),r);return[l*te(r*o),i-l*re(r*o)]}return a.invert=function(o,s){var l=i-s,c=Er(r)*jt(o*o+l*l),u=$n(o,ke(l))*Er(l);return l*r<0&&(u-=Se*Er(o)*Er(l)),[u/r,2*Vc(Xy(i/c,1/r))-gt]},a}function rD(){return o8(nD).scale(109.5).parallels([30,30])}function td(e,t){return[e,t]}td.invert=td;function iD(){return Ai(td).scale(152.63)}function aD(e,t){var n=re(e),r=e===t?te(e):(n-re(t))/(t-e),i=n/r+e;if(ke(r)<ue)return td;function a(o,s){var l=i-s,c=r*o;return[l*te(c),i-l*re(c)]}return a.invert=function(o,s){var l=i-s,c=$n(o,ke(l))*Er(l);return l*r<0&&(c-=Se*Er(o)*Er(l)),[c/r,i-Er(r)*jt(o*o+l*l)]},a}function oD(){return o8(aD).scale(131.154).center([0,13.9389])}var Ef=1.340264,kf=-.081106,Mf=893e-6,Of=.003796,Xm=jt(3)/2,GJ=12;function u8(e,t){var n=Nn(Xm*te(t)),r=n*n,i=r*r*r;return[e*re(n)/(Xm*(Ef+3*kf*r+i*(7*Mf+9*Of*r))),n*(Ef+kf*r+i*(Mf+Of*r))]}u8.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,a=0,o,s,l;a<GJ&&(s=n*(Ef+kf*r+i*(Mf+Of*r))-t,l=Ef+3*kf*r+i*(7*Mf+9*Of*r),n-=o=s/l,r=n*n,i=r*r*r,!(ke(o)<Jf));++a);return[Xm*e*(Ef+3*kf*r+i*(7*Mf+9*Of*r))/re(n),Nn(te(n)/Xm)]};function sD(){return Ai(u8).scale(177.158)}function f8(e,t){var n=re(t),r=re(e)*n;return[n*te(e)/r,te(t)/r]}f8.invert=Gd(Vc);function lD(){return Ai(f8).scale(144.049).clipAngle(60)}function cD(){var e=1,t=0,n=0,r=1,i=1,a=0,o,s,l=null,c,u,f,d=1,h=1,m=zd({point:function(x,_){var T=v([x,_]);this.stream.point(T[0],T[1])}}),g=Kf,p,y;function b(){return d=e*r,h=e*i,p=y=null,v}function v(x){var _=x[0]*d,T=x[1]*h;if(a){var w=T*o-_*s;_=_*o+T*s,T=w}return[_+t,T+n]}return v.invert=function(x){var _=x[0]-t,T=x[1]-n;if(a){var w=T*o+_*s;_=_*o-T*s,T=w}return[_/d,T/h]},v.stream=function(x){return p&&y===x?p:p=m(g(y=x))},v.postclip=function(x){return arguments.length?(g=x,l=c=u=f=null,b()):g},v.clipExtent=function(x){return arguments.length?(g=x==null?(l=c=u=f=null,Kf):Tg(l=+x[0][0],c=+x[0][1],u=+x[1][0],f=+x[1][1]),b()):l==null?null:[[l,c],[u,f]]},v.scale=function(x){return arguments.length?(e=+x,b()):e},v.translate=function(x){return arguments.length?(t=+x[0],n=+x[1],b()):[t,n]},v.angle=function(x){return arguments.length?(a=x%360*de,s=te(a),o=re(a),b()):a*Xe},v.reflectX=function(x){return arguments.length?(r=x?-1:1,b()):r<0},v.reflectY=function(x){return arguments.length?(i=x?-1:1,b()):i<0},v.fitExtent=function(x,_){return Ag(v,x,_)},v.fitSize=function(x,_){return n8(v,x,_)},v.fitWidth=function(x,_){return r8(v,x,_)},v.fitHeight=function(x,_){return i8(v,x,_)},v}function d8(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}d8.invert=function(e,t){var n=t,r=25,i;do{var a=n*n,o=a*a;n-=i=(n*(1.007226+a*(.015085+o*(-.044475+.028874*a-.005916*o)))-t)/(1.007226+a*(.015085*3+o*(-.044475*7+.028874*9*a-.005916*11*o)))}while(ke(i)>ue&&--r>0);return[e/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function uD(){return Ai(d8).scale(175.295)}function h8(e,t){return[re(t)*te(e),te(t)]}h8.invert=Gd(Nn);function fD(){return Ai(h8).scale(249.5).clipAngle(90+ue)}function m8(e,t){var n=re(t),r=1+re(e)*n;return[n*te(e)/r,te(t)/r]}m8.invert=Gd(function(e){return 2*Vc(e)});function dD(){return Ai(m8).scale(250).clipAngle(142)}function p8(e,t){return[Mm(X7((gt+t)/2)),-e]}p8.invert=function(e,t){return[-t,2*Vc(mC(e))-gt]};function hD(){var e=tD(p8),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function UJ(e,t){return e.parent===t.parent?1:2}function WJ(e){return e.reduce(HJ,0)/e.length}function HJ(e,t){return e+t.x}function YJ(e){return 1+e.reduce(qJ,0)}function qJ(e,t){return Math.max(e,t.y)}function VJ(e){for(var t;t=e.children;)e=t[0];return e}function XJ(e){for(var t;t=e.children;)e=t[t.length-1];return e}function mD(){var e=UJ,t=1,n=1,r=!1;function i(a){var o,s=0;a.eachAfter(function(d){var h=d.children;h?(d.x=WJ(h),d.y=YJ(h)):(d.x=o?s+=e(d,o):0,d.y=0,o=d)});var l=VJ(a),c=XJ(a),u=l.x-e(l,c)/2,f=c.x+e(c,l)/2;return a.eachAfter(r?function(d){d.x=(d.x-a.x)*t,d.y=(a.y-d.y)*n}:function(d){d.x=(d.x-u)/(f-u)*t,d.y=(1-(a.y?d.y/a.y:1))*n})}return i.separation=function(a){return arguments.length?(e=a,i):e},i.size=function(a){return arguments.length?(r=!1,t=+a[0],n=+a[1],i):r?null:[t,n]},i.nodeSize=function(a){return arguments.length?(r=!0,t=+a[0],n=+a[1],i):r?[t,n]:null},i}function JJ(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function KJ(){return this.eachAfter(JJ)}function QJ(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function eK(e,t){for(var n=this,r=[n],i,a,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function tK(e,t){for(var n=this,r=[n],i=[],a,o,s,l=-1;n=r.pop();)if(i.push(n),a=n.children)for(o=0,s=a.length;o<s;++o)r.push(a[o]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function nK(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function rK(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function iK(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function aK(e){for(var t=this,n=oK(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function oK(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function sK(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function lK(){return Array.from(this)}function cK(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function uK(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*fK(){var e=this,t,n=[e],r,i,a;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);while(n.length)}function Sg(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=mK)):t===void 0&&(t=hK);for(var n=new _0(e),r,i=[n],a,o,s,l;r=i.pop();)if((o=t(r.data))&&(l=(o=Array.from(o)).length))for(r.children=o,s=l-1;s>=0;--s)i.push(a=o[s]=new _0(o[s])),a.parent=r,a.depth=r.depth+1;return n.eachBefore(pD)}function dK(){return Sg(this).eachBefore(pK)}function hK(e){return e.children}function mK(e){return Array.isArray(e)?e[1]:null}function pK(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function pD(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function _0(e){this.data=e,this.depth=this.height=0,this.parent=null}_0.prototype=Sg.prototype={constructor:_0,count:KJ,each:QJ,eachAfter:tK,eachBefore:eK,find:nK,sum:rK,sort:iK,path:aK,ancestors:sK,descendants:lK,leaves:cK,links:uK,copy:dK,[Symbol.iterator]:fK};function V1(e){return e==null?null:gD(e)}function gD(e){if(typeof e!="function")throw new Error;return e}function Us(){return 0}function Dl(e){return function(){return e}}const gK=1664525,yK=1013904223,$T=4294967296;function g8(){let e=1;return()=>(e=(gK*e+yK)%$T)/$T}function bK(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function vK(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function xK(e){return yD(e,g8())}function yD(e,t){for(var n=0,r=(e=vK(Array.from(e),t)).length,i=[],a,o;n<r;)a=e[n],o&&bD(o,a)?++n:(o=wK(i=_K(i,a)),n=0);return o}function _K(e,t){var n,r;if(tb(t,e))return[t];for(n=0;n<e.length;++n)if(n1(t,e[n])&&tb(lf(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(n1(lf(e[n],e[r]),t)&&n1(lf(e[n],t),e[r])&&n1(lf(e[r],t),e[n])&&tb(vD(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function n1(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function bD(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function tb(e,t){for(var n=0;n<t.length;++n)if(!bD(e,t[n]))return!1;return!0}function wK(e){switch(e.length){case 1:return TK(e[0]);case 2:return lf(e[0],e[1]);case 3:return vD(e[0],e[1],e[2])}}function TK(e){return{x:e.x,y:e.y,r:e.r}}function lf(e,t){var n=e.x,r=e.y,i=e.r,a=t.x,o=t.y,s=t.r,l=a-n,c=o-r,u=s-i,f=Math.sqrt(l*l+c*c);return{x:(n+a+l/f*u)/2,y:(r+o+c/f*u)/2,r:(f+i+s)/2}}function vD(e,t,n){var r=e.x,i=e.y,a=e.r,o=t.x,s=t.y,l=t.r,c=n.x,u=n.y,f=n.r,d=r-o,h=r-c,m=i-s,g=i-u,p=l-a,y=f-a,b=r*r+i*i-a*a,v=b-o*o-s*s+l*l,x=b-c*c-u*u+f*f,_=h*m-d*g,T=(m*x-g*v)/(_*2)-r,w=(g*p-m*y)/_,S=(h*v-d*x)/(_*2)-i,C=(d*y-h*p)/_,k=w*w+C*C-1,A=2*(a+T*w+S*C),L=T*T+S*S-a*a,D=-(Math.abs(k)>1e-6?(A+Math.sqrt(A*A-4*k*L))/(2*k):L/A);return{x:r+T+w*D,y:i+S+C*D,r:D}}function NT(e,t,n){var r=e.x-t.x,i,a,o=e.y-t.y,s,l,c=r*r+o*o;c?(a=t.r+n.r,a*=a,l=e.r+n.r,l*=l,a>l?(i=(c+l-a)/(2*c),s=Math.sqrt(Math.max(0,l/c-i*i)),n.x=e.x-i*r-s*o,n.y=e.y-i*o+s*r):(i=(c+a-l)/(2*c),s=Math.sqrt(Math.max(0,a/c-i*i)),n.x=t.x+i*r-s*o,n.y=t.y+i*o+s*r)):(n.x=t.x+n.r,n.y=t.y)}function IT(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function ZT(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,a=(t.y*n.r+n.y*t.r)/r;return i*i+a*a}function r1(e){this._=e,this.next=null,this.previous=null}function xD(e,t){if(!(a=(e=bK(e)).length))return 0;var n,r,i,a,o,s,l,c,u,f,d;if(n=e[0],n.x=0,n.y=0,!(a>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(a>2))return n.r+r.r;NT(r,n,i=e[2]),n=new r1(n),r=new r1(r),i=new r1(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<a;++l){NT(n._,r._,i=e[l]),i=new r1(i),c=r.next,u=n.previous,f=r._.r,d=n._.r;do if(f<=d){if(IT(c._,i._)){r=c,n.next=r,r.previous=n,--l;continue e}f+=c._.r,c=c.next}else{if(IT(u._,i._)){n=u,n.next=r,r.previous=n,--l;continue e}d+=u._.r,u=u.previous}while(c!==u.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=ZT(n);(i=i.next)!==r;)(s=ZT(i))<o&&(n=i,o=s);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=yD(n,t),l=0;l<a;++l)n=e[l],n.x-=i.x,n.y-=i.y;return i.r}function AK(e){return xD(e,g8()),e}function SK(e){return Math.sqrt(e.value)}function _D(){var e=null,t=1,n=1,r=Us;function i(a){const o=g8();return a.x=t/2,a.y=n/2,e?a.eachBefore(RT(e)).eachAfter(nb(r,.5,o)).eachBefore(PT(1)):a.eachBefore(RT(SK)).eachAfter(nb(Us,1,o)).eachAfter(nb(r,a.r/Math.min(t,n),o)).eachBefore(PT(Math.min(t,n)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(e=V1(a),i):e},i.size=function(a){return arguments.length?(t=+a[0],n=+a[1],i):[t,n]},i.padding=function(a){return arguments.length?(r=typeof a=="function"?a:Dl(+a),i):r},i}function RT(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function nb(e,t,n){return function(r){if(i=r.children){var i,a,o=i.length,s=e(r)*t||0,l;if(s)for(a=0;a<o;++a)i[a].r+=s;if(l=xD(i,n),s)for(a=0;a<o;++a)i[a].r-=s;r.r=l+s}}}function PT(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function wD(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Xc(e,t,n,r,i){for(var a=e.children,o,s=-1,l=a.length,c=e.value&&(r-t)/e.value;++s<l;)o=a[s],o.y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*c}function TD(){var e=1,t=1,n=0,r=!1;function i(o){var s=o.height+1;return o.x0=o.y0=n,o.x1=e,o.y1=t/s,o.eachBefore(a(t,s)),r&&o.eachBefore(wD),o}function a(o,s){return function(l){l.children&&Xc(l,l.x0,o*(l.depth+1)/s,l.x1,o*(l.depth+2)/s);var c=l.x0,u=l.y0,f=l.x1-n,d=l.y1-n;f<c&&(c=f=(c+f)/2),d<u&&(u=d=(u+d)/2),l.x0=c,l.y0=u,l.x1=f,l.y1=d}}return i.round=function(o){return arguments.length?(r=!!o,i):r},i.size=function(o){return arguments.length?(e=+o[0],t=+o[1],i):[e,t]},i.padding=function(o){return arguments.length?(n=+o,i):n},i}var EK={depth:-1},jT={},rb={};function kK(e){return e.id}function MK(e){return e.parentId}function c3(){var e=kK,t=MK,n;function r(i){var a=Array.from(i),o=e,s=t,l,c,u,f,d,h,m,g,p=new Map;if(n!=null){const y=a.map((x,_)=>OK(n(x,_,i))),b=y.map(zT),v=new Set(y).add("");for(const x of b)v.has(x)||(v.add(x),y.push(x),b.push(zT(x)),a.push(rb));o=(x,_)=>y[_],s=(x,_)=>b[_]}for(u=0,l=a.length;u<l;++u)c=a[u],h=a[u]=new _0(c),(m=o(c,u,i))!=null&&(m+="")&&(g=h.id=m,p.set(g,p.has(g)?jT:h)),(m=s(c,u,i))!=null&&(m+="")&&(h.parent=m);for(u=0;u<l;++u)if(h=a[u],m=h.parent){if(d=p.get(m),!d)throw new Error("missing: "+m);if(d===jT)throw new Error("ambiguous: "+m);d.children?d.children.push(h):d.children=[h],h.parent=d}else{if(f)throw new Error("multiple roots");f=h}if(!f)throw new Error("no root");if(n!=null){for(;f.data===rb&&f.children.length===1;)f=f.children[0],--l;for(let y=a.length-1;y>=0&&(h=a[y],h.data===rb);--y)h.data=null}if(f.parent=EK,f.eachBefore(function(y){y.depth=y.parent.depth+1,--l}).eachBefore(pD),f.parent=null,l>0)throw new Error("cycle");return f}return r.id=function(i){return arguments.length?(e=V1(i),r):e},r.parentId=function(i){return arguments.length?(t=V1(i),r):t},r.path=function(i){return arguments.length?(n=V1(i),r):n},r}function OK(e){e=`${e}`;let t=e.length;return u3(e,t-1)&&!u3(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function zT(e){let t=e.length;if(t<2)return"";for(;--t>1&&!u3(e,t););return e.slice(0,t)}function u3(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if(!(n&1))return!0}return!1}function CK(e,t){return e.parent===t.parent?1:2}function ib(e){var t=e.children;return t?t[0]:e.t}function ab(e){var t=e.children;return t?t[t.length-1]:e.t}function DK(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function LK(e){for(var t=0,n=0,r=e.children,i=r.length,a;--i>=0;)a=r[i],a.z+=t,a.m+=t,t+=a.s+(n+=a.c)}function FK(e,t,n){return e.a.parent===t.parent?e.a:n}function X1(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}X1.prototype=Object.create(_0.prototype);function BK(e){for(var t=new X1(e,0),n,r=[t],i,a,o,s;n=r.pop();)if(a=n._.children)for(n.children=new Array(s=a.length),o=s-1;o>=0;--o)r.push(i=n.children[o]=new X1(a[o],o)),i.parent=n;return(t.parent=new X1(null,0)).children=[t],t}function AD(){var e=CK,t=1,n=1,r=null;function i(c){var u=BK(c);if(u.eachAfter(a),u.parent.m=-u.z,u.eachBefore(o),r)c.eachBefore(l);else{var f=c,d=c,h=c;c.eachBefore(function(b){b.x<f.x&&(f=b),b.x>d.x&&(d=b),b.depth>h.depth&&(h=b)});var m=f===d?1:e(f,d)/2,g=m-f.x,p=t/(d.x+m+g),y=n/(h.depth||1);c.eachBefore(function(b){b.x=(b.x+g)*p,b.y=b.depth*y})}return c}function a(c){var u=c.children,f=c.parent.children,d=c.i?f[c.i-1]:null;if(u){LK(c);var h=(u[0].z+u[u.length-1].z)/2;d?(c.z=d.z+e(c._,d._),c.m=c.z-h):c.z=h}else d&&(c.z=d.z+e(c._,d._));c.parent.A=s(c,d,c.parent.A||f[0])}function o(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function s(c,u,f){if(u){for(var d=c,h=c,m=u,g=d.parent.children[0],p=d.m,y=h.m,b=m.m,v=g.m,x;m=ab(m),d=ib(d),m&&d;)g=ib(g),h=ab(h),h.a=c,x=m.z+b-d.z-p+e(m._,d._),x>0&&(DK(FK(m,c,f),c,x),p+=x,y+=x),b+=m.m,p+=d.m,v+=g.m,y+=h.m;m&&!ab(h)&&(h.t=m,h.m+=b-y),d&&!ib(g)&&(g.t=d,g.m+=p-v,f=c)}return f}function l(c){c.x*=t,c.y=c.depth*n}return i.separation=function(c){return arguments.length?(e=c,i):e},i.size=function(c){return arguments.length?(r=!1,t=+c[0],n=+c[1],i):r?null:[t,n]},i.nodeSize=function(c){return arguments.length?(r=!0,t=+c[0],n=+c[1],i):r?[t,n]:null},i}function Wd(e,t,n,r,i){for(var a=e.children,o,s=-1,l=a.length,c=e.value&&(i-n)/e.value;++s<l;)o=a[s],o.x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*c}var SD=(1+Math.sqrt(5))/2;function ED(e,t,n,r,i,a){for(var o=[],s=t.children,l,c,u=0,f=0,d=s.length,h,m,g=t.value,p,y,b,v,x,_,T;u<d;){h=i-n,m=a-r;do p=s[f++].value;while(!p&&f<d);for(y=b=p,_=Math.max(m/h,h/m)/(g*e),T=p*p*_,x=Math.max(b/T,T/y);f<d;++f){if(p+=c=s[f].value,c<y&&(y=c),c>b&&(b=c),T=p*p*_,v=Math.max(b/T,T/y),v>x){p-=c;break}x=v}o.push(l={value:p,dice:h<m,children:s.slice(u,f)}),l.dice?Xc(l,n,r,i,g?r+=m*p/g:a):Wd(l,n,r,g?n+=h*p/g:i,a),g-=p,u=f}return o}const y8=function e(t){function n(r,i,a,o,s){ED(t,r,i,a,o,s)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(SD);function kD(){var e=y8,t=!1,n=1,r=1,i=[0],a=Us,o=Us,s=Us,l=Us,c=Us;function u(d){return d.x0=d.y0=0,d.x1=n,d.y1=r,d.eachBefore(f),i=[0],t&&d.eachBefore(wD),d}function f(d){var h=i[d.depth],m=d.x0+h,g=d.y0+h,p=d.x1-h,y=d.y1-h;p<m&&(m=p=(m+p)/2),y<g&&(g=y=(g+y)/2),d.x0=m,d.y0=g,d.x1=p,d.y1=y,d.children&&(h=i[d.depth+1]=a(d)/2,m+=c(d)-h,g+=o(d)-h,p-=s(d)-h,y-=l(d)-h,p<m&&(m=p=(m+p)/2),y<g&&(g=y=(g+y)/2),e(d,m,g,p,y))}return u.round=function(d){return arguments.length?(t=!!d,u):t},u.size=function(d){return arguments.length?(n=+d[0],r=+d[1],u):[n,r]},u.tile=function(d){return arguments.length?(e=gD(d),u):e},u.padding=function(d){return arguments.length?u.paddingInner(d).paddingOuter(d):u.paddingInner()},u.paddingInner=function(d){return arguments.length?(a=typeof d=="function"?d:Dl(+d),u):a},u.paddingOuter=function(d){return arguments.length?u.paddingTop(d).paddingRight(d).paddingBottom(d).paddingLeft(d):u.paddingTop()},u.paddingTop=function(d){return arguments.length?(o=typeof d=="function"?d:Dl(+d),u):o},u.paddingRight=function(d){return arguments.length?(s=typeof d=="function"?d:Dl(+d),u):s},u.paddingBottom=function(d){return arguments.length?(l=typeof d=="function"?d:Dl(+d),u):l},u.paddingLeft=function(d){return arguments.length?(c=typeof d=="function"?d:Dl(+d),u):c},u}function MD(e,t,n,r,i){var a=e.children,o,s=a.length,l,c=new Array(s+1);for(c[0]=l=o=0;o<s;++o)c[o+1]=l+=a[o].value;u(0,s,e.value,t,n,r,i);function u(f,d,h,m,g,p,y){if(f>=d-1){var b=a[f];b.x0=m,b.y0=g,b.x1=p,b.y1=y;return}for(var v=c[f],x=h/2+v,_=f+1,T=d-1;_<T;){var w=_+T>>>1;c[w]<x?_=w+1:T=w}x-c[_-1]<c[_]-x&&f+1<_&&--_;var S=c[_]-v,C=h-S;if(p-m>y-g){var k=h?(m*C+p*S)/h:p;u(f,_,S,m,g,k,y),u(_,d,C,k,g,p,y)}else{var A=h?(g*C+y*S)/h:y;u(f,_,S,m,g,p,A),u(_,d,C,m,A,p,y)}}}function OD(e,t,n,r,i){(e.depth&1?Wd:Xc)(e,t,n,r,i)}const CD=function e(t){function n(r,i,a,o,s){if((l=r._squarify)&&l.ratio===t)for(var l,c,u,f,d=-1,h,m=l.length,g=r.value;++d<m;){for(c=l[d],u=c.children,f=c.value=0,h=u.length;f<h;++f)c.value+=u[f].value;c.dice?Xc(c,i,a,o,g?a+=(s-a)*c.value/g:s):Wd(c,i,a,g?i+=(o-i)*c.value/g:o,s),g-=c.value}else r._squarify=l=ED(t,r,i,a,o,s),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(SD);function $K(e){for(var t=-1,n=e.length,r,i=e[n-1],a=0;++t<n;)r=i,i=e[t],a+=r[1]*i[0]-r[0]*i[1];return a/2}function NK(e){for(var t=-1,n=e.length,r=0,i=0,a,o=e[n-1],s,l=0;++t<n;)a=o,o=e[t],l+=s=a[0]*o[1]-o[0]*a[1],r+=(a[0]+o[0])*s,i+=(a[1]+o[1])*s;return l*=3,[r/l,i/l]}function IK(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function ZK(e,t){return e[0]-t[0]||e[1]-t[1]}function GT(e){const t=e.length,n=[0,1];let r=2,i;for(i=2;i<t;++i){for(;r>1&&IK(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function RK(e){if((n=e.length)<3)return null;var t,n,r=new Array(n),i=new Array(n);for(t=0;t<n;++t)r[t]=[+e[t][0],+e[t][1],t];for(r.sort(ZK),t=0;t<n;++t)i[t]=[r[t][0],-r[t][1]];var a=GT(r),o=GT(i),s=o[0]===a[0],l=o[o.length-1]===a[a.length-1],c=[];for(t=a.length-1;t>=0;--t)c.push(e[r[a[t]][2]]);for(t=+s;t<o.length-l;++t)c.push(e[r[o[t]][2]]);return c}function PK(e,t){for(var n=e.length,r=e[n-1],i=t[0],a=t[1],o=r[0],s=r[1],l,c,u=!1,f=0;f<n;++f)r=e[f],l=r[0],c=r[1],c>a!=s>a&&i<(o-l)*(a-c)/(s-c)+l&&(u=!u),o=l,s=c;return u}function jK(e){for(var t=-1,n=e.length,r=e[n-1],i,a,o=r[0],s=r[1],l=0;++t<n;)i=o,a=s,r=e[t],o=r[0],s=r[1],i-=o,a-=s,l+=Math.hypot(i,a);return l}const Xt=Math.random,zK=function e(t){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,arguments.length===1?(i=r,r=0):i-=r,function(){return t()*i+r}}return n.source=e,n}(Xt),GK=function e(t){function n(r,i){return arguments.length<2&&(i=r,r=0),r=Math.floor(r),i=Math.floor(i)-r,function(){return Math.floor(t()*i+r)}}return n.source=e,n}(Xt),b8=function e(t){function n(r,i){var a,o;return r=r==null?0:+r,i=i==null?1:+i,function(){var s;if(a!=null)s=a,a=null;else do a=t()*2-1,s=t()*2-1,o=a*a+s*s;while(!o||o>1);return r+i*s*Math.sqrt(-2*Math.log(o)/o)}}return n.source=e,n}(Xt),UK=function e(t){var n=b8.source(t);function r(){var i=n.apply(this,arguments);return function(){return Math.exp(i())}}return r.source=e,r}(Xt),DD=function e(t){function n(r){return(r=+r)<=0?()=>0:function(){for(var i=0,a=r;a>1;--a)i+=t();return i+a*t()}}return n.source=e,n}(Xt),WK=function e(t){var n=DD.source(t);function r(i){if((i=+i)==0)return t;var a=n(i);return function(){return a()/i}}return r.source=e,r}(Xt),HK=function e(t){function n(r){return function(){return-Math.log1p(-t())/r}}return n.source=e,n}(Xt),YK=function e(t){function n(r){if((r=+r)<0)throw new RangeError("invalid alpha");return r=1/-r,function(){return Math.pow(1-t(),r)}}return n.source=e,n}(Xt),qK=function e(t){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+r)}}return n.source=e,n}(Xt),LD=function e(t){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return r===0?()=>1/0:r===1?()=>1:(r=Math.log1p(-r),function(){return 1+Math.floor(Math.log1p(-t())/r)})}return n.source=e,n}(Xt),v8=function e(t){var n=b8.source(t)();function r(i,a){if((i=+i)<0)throw new RangeError("invalid k");if(i===0)return()=>0;if(a=a==null?1:+a,i===1)return()=>-Math.log1p(-t())*a;var o=(i<1?i+1:i)-1/3,s=1/(3*Math.sqrt(o)),l=i<1?()=>Math.pow(t(),1/i):()=>1;return function(){do{do var c=n(),u=1+s*c;while(u<=0);u*=u*u;var f=1-t()}while(f>=1-.0331*c*c*c*c&&Math.log(f)>=.5*c*c+o*(1-u+Math.log(u)));return o*u*l()*a}}return r.source=e,r}(Xt),FD=function e(t){var n=v8.source(t);function r(i,a){var o=n(i),s=n(a);return function(){var l=o();return l===0?0:l/(l+s())}}return r.source=e,r}(Xt),BD=function e(t){var n=LD.source(t),r=FD.source(t);function i(a,o){return a=+a,(o=+o)>=1?()=>a:o<=0?()=>0:function(){for(var s=0,l=a,c=o;l*c>16&&l*(1-c)>16;){var u=Math.floor((l+1)*c),f=r(u,l-u+1)();f<=c?(s+=u,l-=u,c=(c-f)/(1-f)):(l=u-1,c/=f)}for(var d=c<.5,h=d?c:1-c,m=n(h),g=m(),p=0;g<=l;++p)g+=m();return s+(d?p:l-p)}}return i.source=e,i}(Xt),VK=function e(t){function n(r,i,a){var o;return(r=+r)==0?o=s=>-Math.log(s):(r=1/r,o=s=>Math.pow(s,r)),i=i==null?0:+i,a=a==null?1:+a,function(){return i+a*o(-Math.log1p(-t()))}}return n.source=e,n}(Xt),XK=function e(t){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){return r+i*Math.tan(Math.PI*t())}}return n.source=e,n}(Xt),JK=function e(t){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){var a=t();return r+i*Math.log(a/(1-a))}}return n.source=e,n}(Xt),KK=function e(t){var n=v8.source(t),r=BD.source(t);function i(a){return function(){for(var o=0,s=a;s>16;){var l=Math.floor(.875*s),c=n(l)();if(c>s)return o+r(l-1,s/c)();o+=l,s-=c}for(var u=-Math.log1p(-t()),f=0;u<=s;++f)u-=Math.log1p(-t());return o+f}}return i.source=e,i}(Xt),QK=1664525,eQ=1013904223,UT=1/4294967296;function tQ(e=Math.random()){let t=(0<=e&&e<1?e/UT:Math.abs(e))|0;return()=>(t=QK*t+eQ|0,UT*(t>>>0))}function Pr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function no(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Jm=Symbol("implicit");function Hd(){var e=new zf,t=[],n=[],r=Jm;function i(a){let o=e.get(a);if(o===void 0){if(r!==Jm)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new zf;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Hd(t,n).unknown(r)},Pr.apply(i,arguments),i}function x8(){var e=Hd().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,s=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var d=t().length,h=i<r,m=h?i:r,g=h?r:i;a=(g-m)/Math.max(1,d-l+c*2),s&&(a=Math.floor(a)),m+=(g-m-a*(d-l))*u,o=a*(1-l),s&&(m=Math.round(m),o=Math.round(o));var p=ln(d).map(function(y){return m+a*y});return n(h?p.reverse():p)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(d){return arguments.length?(s=!!d,f()):s},e.padding=function(d){return arguments.length?(l=Math.min(1,c=+d),f()):l},e.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},e.paddingOuter=function(d){return arguments.length?(c=+d,f()):c},e.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),f()):u},e.copy=function(){return x8(t(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},Pr.apply(f(),arguments)}function $D(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return $D(t())},e}function nQ(){return $D(x8.apply(null,arguments).paddingInner(1))}function rQ(e){return function(){return e}}function Km(e){return+e}var WT=[0,1];function Cn(e){return e}function f3(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:rQ(isNaN(t)?NaN:.5)}function iQ(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function aQ(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=f3(i,r),a=n(o,a)):(r=f3(r,i),a=n(a,o)),function(s){return a(r(s))}}function oQ(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=f3(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(s){var l=fs(e,s,1,r)-1;return a[l](i[l](s))}}function Yd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Eg(){var e=WT,t=WT,n=ua,r,i,a,o=Cn,s,l,c;function u(){var d=Math.min(e.length,t.length);return o!==Cn&&(o=iQ(e[0],e[d-1])),s=d>2?oQ:aQ,l=c=null,f}function f(d){return d==null||isNaN(d=+d)?a:(l||(l=s(e.map(r),t,n)))(r(o(d)))}return f.invert=function(d){return o(i((c||(c=s(t,e.map(r),cr)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,Km),u()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),u()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=Yc,u()},f.clamp=function(d){return arguments.length?(o=d?!0:Cn,u()):o!==Cn},f.interpolate=function(d){return arguments.length?(n=d,u()):n},f.unknown=function(d){return arguments.length?(a=d,f):a},function(d,h){return r=d,i=h,u()}}function _8(){return Eg()(Cn,Cn)}function w8(e,t,n,r){var i=qa(e,t,n),a;switch(r=Uo(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=q7(i,o))&&(r.precision=a),wg(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=V7(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Y7(i))&&(r.precision=a-(r.type==="%")*2);break}}return Pd(r)}function hs(e){var t=e.domain;return e.ticks=function(n){var r=t();return d0(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return w8(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],s=r[a],l,c,u=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);u-- >0;){if(c=h0(o,s,n),c===l)return r[i]=o,r[a]=s,t(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function T8(){var e=_8();return e.copy=function(){return Yd(e,T8())},Pr.apply(e,arguments),hs(e)}function A8(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Km),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return A8(e).unknown(t)},e=arguments.length?Array.from(e,Km):[0,1],hs(n)}function ND(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function HT(e){return Math.log(e)}function YT(e){return Math.exp(e)}function sQ(e){return-Math.log(-e)}function lQ(e){return-Math.exp(-e)}function cQ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function uQ(e){return e===10?cQ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function fQ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function qT(e){return(t,n)=>-e(-t,n)}function S8(e){const t=e(HT,YT),n=t.domain;let r=10,i,a;function o(){return i=fQ(r),a=uQ(r),n()[0]<0?(i=qT(i),a=qT(a),e(sQ,lQ)):e(HT,YT),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const l=n();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let d=i(c),h=i(u),m,g;const p=s==null?10:+s;let y=[];if(!(r%1)&&h-d<p){if(d=Math.floor(d),h=Math.ceil(h),c>0){for(;d<=h;++d)for(m=1;m<r;++m)if(g=d<0?m/a(-d):m*a(d),!(g<c)){if(g>u)break;y.push(g)}}else for(;d<=h;++d)for(m=r-1;m>=1;--m)if(g=d>0?m/a(-d):m*a(d),!(g<c)){if(g>u)break;y.push(g)}y.length*2<p&&(y=d0(c,u,p))}else y=d0(d,h,Math.min(h-d,p)).map(a);return f?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Uo(l)).precision==null&&(l.trim=!0),l=Pd(l)),s===1/0)return l;const c=Math.max(1,r*s/t.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},t.nice=()=>n(ND(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function E8(){const e=S8(Eg()).domain([1,10]);return e.copy=()=>Yd(e,E8()).base(e.base()),Pr.apply(e,arguments),e}function VT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function XT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function k8(e){var t=1,n=e(VT(t),XT(t));return n.constant=function(r){return arguments.length?e(VT(t=+r),XT(t)):t},hs(n)}function M8(){var e=k8(Eg());return e.copy=function(){return Yd(e,M8()).constant(e.constant())},Pr.apply(e,arguments)}function JT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function dQ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function hQ(e){return e<0?-e*e:e*e}function O8(e){var t=e(Cn,Cn),n=1;function r(){return n===1?e(Cn,Cn):n===.5?e(dQ,hQ):e(JT(n),JT(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},hs(t)}function kg(){var e=O8(Eg());return e.copy=function(){return Yd(e,kg()).exponent(e.exponent())},Pr.apply(e,arguments),e}function ID(){return kg.apply(null,arguments).exponent(.5)}function KT(e){return Math.sign(e)*e*e}function mQ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function ZD(){var e=_8(),t=[0,1],n=!1,r;function i(a){var o=mQ(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(KT(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Km)).map(KT)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return ZD(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Pr.apply(i,arguments),hs(i)}function C8(){var e=[],t=[],n=[],r;function i(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=p7(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:t[fs(n,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ke),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return C8().domain(e).range(t).unknown(r)},Pr.apply(a,arguments)}function D8(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[fs(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return D8().domain([e,t]).range(i).unknown(a)},Pr.apply(hs(o),arguments)}function Mg(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[fs(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Mg().domain(e).range(t).unknown(n)},Pr.apply(i,arguments)}const ob=new Date,sb=new Date;function Tt(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),t(a,s),e(a);while(c<a&&a<o);return l},i.filter=a=>Tt(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(ob.setTime(+a),sb.setTime(+o),e(ob),e(sb),Math.floor(n(ob,sb))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Wo=Tt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Wo.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Tt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Wo);const QT=Wo.range,Ia=1e3,kr=Ia*60,Za=kr*60,Ja=Za*24,L8=Ja*7,eA=Ja*30,lb=Ja*365,ai=Tt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ia)},(e,t)=>(t-e)/Ia,e=>e.getUTCSeconds()),tA=ai.range,qd=Tt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ia)},(e,t)=>{e.setTime(+e+t*kr)},(e,t)=>(t-e)/kr,e=>e.getMinutes()),pQ=qd.range,Vd=Tt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*kr)},(e,t)=>(t-e)/kr,e=>e.getUTCMinutes()),gQ=Vd.range,Xd=Tt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ia-e.getMinutes()*kr)},(e,t)=>{e.setTime(+e+t*Za)},(e,t)=>(t-e)/Za,e=>e.getHours()),yQ=Xd.range,Jd=Tt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Za)},(e,t)=>(t-e)/Za,e=>e.getUTCHours()),bQ=Jd.range,qi=Tt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*kr)/Ja,e=>e.getDate()-1),vQ=qi.range,za=Tt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ja,e=>e.getUTCDate()-1),xQ=za.range,F8=Tt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ja,e=>Math.floor(e/Ja)),_Q=F8.range;function H0(e){return Tt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*kr)/L8)}const Ho=H0(0),nd=H0(1),RD=H0(2),PD=H0(3),w0=H0(4),jD=H0(5),zD=H0(6),nA=Ho.range,wQ=nd.range,TQ=RD.range,AQ=PD.range,SQ=w0.range,EQ=jD.range,kQ=zD.range;function Y0(e){return Tt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/L8)}const Yo=Y0(0),rd=Y0(1),GD=Y0(2),UD=Y0(3),T0=Y0(4),WD=Y0(5),HD=Y0(6),rA=Yo.range,MQ=rd.range,OQ=GD.range,CQ=UD.range,DQ=T0.range,LQ=WD.range,FQ=HD.range,hc=Tt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),BQ=hc.range,mc=Tt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()),$Q=mc.range,gi=Tt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());gi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Tt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});const NQ=gi.range,yi=Tt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());yi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Tt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});const IQ=yi.range;function YD(e,t,n,r,i,a){const o=[[ai,1,Ia],[ai,5,5*Ia],[ai,15,15*Ia],[ai,30,30*Ia],[a,1,kr],[a,5,5*kr],[a,15,15*kr],[a,30,30*kr],[i,1,Za],[i,3,3*Za],[i,6,6*Za],[i,12,12*Za],[r,1,Ja],[r,2,2*Ja],[n,1,L8],[t,1,eA],[t,3,3*eA],[e,1,lb]];function s(c,u,f){const d=u<c;d&&([c,u]=[u,c]);const h=f&&typeof f.range=="function"?f:l(c,u,f),m=h?h.range(c,+u+1):[];return d?m.reverse():m}function l(c,u,f){const d=Math.abs(u-c)/f,h=Gc(([,,p])=>p).right(o,d);if(h===o.length)return e.every(qa(c/lb,u/lb,f));if(h===0)return Wo.every(Math.max(qa(c,u,f),1));const[m,g]=o[d/o[h-1][2]<o[h][2]/d?h-1:h];return m.every(g)}return[s,l]}const[qD,VD]=YD(yi,mc,Yo,F8,Jd,Vd),[XD,JD]=YD(gi,hc,Ho,qi,Xd,qd);function cb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ub(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ku(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function B8(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=Mu(i),u=Ou(i),f=Mu(a),d=Ou(a),h=Mu(o),m=Ou(o),g=Mu(s),p=Ou(s),y=Mu(l),b=Ou(l),v={a:F,A:$,b:N,B:R,c:null,d:cA,e:cA,f:oee,g:gee,G:bee,H:ree,I:iee,j:aee,L:KD,m:see,M:lee,p:Y,q:K,Q:dA,s:hA,S:cee,u:uee,U:fee,V:dee,w:hee,W:mee,x:null,X:null,y:pee,Y:yee,Z:vee,"%":fA},x={a:me,A:pe,b:fe,B:Fe,c:null,d:uA,e:uA,f:Tee,g:Fee,G:$ee,H:xee,I:_ee,j:wee,L:eL,m:Aee,M:See,p:Ae,q:$e,Q:dA,s:hA,S:Eee,u:kee,U:Mee,V:Oee,w:Cee,W:Dee,x:null,X:null,y:Lee,Y:Bee,Z:Nee,"%":fA},_={a:k,A,b:L,B:D,c:E,d:sA,e:sA,f:QQ,g:oA,G:aA,H:lA,I:lA,j:VQ,L:KQ,m:qQ,M:XQ,p:C,q:YQ,Q:tee,s:nee,S:JQ,u:zQ,U:GQ,V:UQ,w:jQ,W:WQ,x:O,X:M,y:oA,Y:aA,Z:HQ,"%":eee};v.x=T(n,v),v.X=T(r,v),v.c=T(t,v),x.x=T(n,x),x.X=T(r,x),x.c=T(t,x);function T(X,he){return function(ye){var z=[],Pe=-1,Ee=0,ct=X.length,ot,ce,We;for(ye instanceof Date||(ye=new Date(+ye));++Pe<ct;)X.charCodeAt(Pe)===37&&(z.push(X.slice(Ee,Pe)),(ce=iA[ot=X.charAt(++Pe)])!=null?ot=X.charAt(++Pe):ce=ot==="e"?" ":"0",(We=he[ot])&&(ot=We(ye,ce)),z.push(ot),Ee=Pe+1);return z.push(X.slice(Ee,Pe)),z.join("")}}function w(X,he){return function(ye){var z=ku(1900,void 0,1),Pe=S(z,X,ye+="",0),Ee,ct;if(Pe!=ye.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(he&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(Ee=ub(ku(z.y,0,1)),ct=Ee.getUTCDay(),Ee=ct>4||ct===0?rd.ceil(Ee):rd(Ee),Ee=za.offset(Ee,(z.V-1)*7),z.y=Ee.getUTCFullYear(),z.m=Ee.getUTCMonth(),z.d=Ee.getUTCDate()+(z.w+6)%7):(Ee=cb(ku(z.y,0,1)),ct=Ee.getDay(),Ee=ct>4||ct===0?nd.ceil(Ee):nd(Ee),Ee=qi.offset(Ee,(z.V-1)*7),z.y=Ee.getFullYear(),z.m=Ee.getMonth(),z.d=Ee.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),ct="Z"in z?ub(ku(z.y,0,1)).getUTCDay():cb(ku(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(ct+5)%7:z.w+z.U*7-(ct+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,ub(z)):cb(z)}}function S(X,he,ye,z){for(var Pe=0,Ee=he.length,ct=ye.length,ot,ce;Pe<Ee;){if(z>=ct)return-1;if(ot=he.charCodeAt(Pe++),ot===37){if(ot=he.charAt(Pe++),ce=_[ot in iA?he.charAt(Pe++):ot],!ce||(z=ce(X,ye,z))<0)return-1}else if(ot!=ye.charCodeAt(z++))return-1}return z}function C(X,he,ye){var z=c.exec(he.slice(ye));return z?(X.p=u.get(z[0].toLowerCase()),ye+z[0].length):-1}function k(X,he,ye){var z=h.exec(he.slice(ye));return z?(X.w=m.get(z[0].toLowerCase()),ye+z[0].length):-1}function A(X,he,ye){var z=f.exec(he.slice(ye));return z?(X.w=d.get(z[0].toLowerCase()),ye+z[0].length):-1}function L(X,he,ye){var z=y.exec(he.slice(ye));return z?(X.m=b.get(z[0].toLowerCase()),ye+z[0].length):-1}function D(X,he,ye){var z=g.exec(he.slice(ye));return z?(X.m=p.get(z[0].toLowerCase()),ye+z[0].length):-1}function E(X,he,ye){return S(X,t,he,ye)}function O(X,he,ye){return S(X,n,he,ye)}function M(X,he,ye){return S(X,r,he,ye)}function F(X){return o[X.getDay()]}function $(X){return a[X.getDay()]}function N(X){return l[X.getMonth()]}function R(X){return s[X.getMonth()]}function Y(X){return i[+(X.getHours()>=12)]}function K(X){return 1+~~(X.getMonth()/3)}function me(X){return o[X.getUTCDay()]}function pe(X){return a[X.getUTCDay()]}function fe(X){return l[X.getUTCMonth()]}function Fe(X){return s[X.getUTCMonth()]}function Ae(X){return i[+(X.getUTCHours()>=12)]}function $e(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var he=T(X+="",v);return he.toString=function(){return X},he},parse:function(X){var he=w(X+="",!1);return he.toString=function(){return X},he},utcFormat:function(X){var he=T(X+="",x);return he.toString=function(){return X},he},utcParse:function(X){var he=w(X+="",!0);return he.toString=function(){return X},he}}}var iA={"-":"",_:" ",0:"0"},Wt=/^\s*\d+/,ZQ=/^%/,RQ=/[\\^$*+?|[\]().{}]/g;function Ie(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function PQ(e){return e.replace(RQ,"\\$&")}function Mu(e){return new RegExp("^(?:"+e.map(PQ).join("|")+")","i")}function Ou(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function jQ(e,t,n){var r=Wt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function zQ(e,t,n){var r=Wt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function GQ(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function UQ(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function WQ(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function aA(e,t,n){var r=Wt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function oA(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function HQ(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function YQ(e,t,n){var r=Wt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function qQ(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function sA(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function VQ(e,t,n){var r=Wt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function lA(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function XQ(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function JQ(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function KQ(e,t,n){var r=Wt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function QQ(e,t,n){var r=Wt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function eee(e,t,n){var r=ZQ.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function tee(e,t,n){var r=Wt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function nee(e,t,n){var r=Wt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function cA(e,t){return Ie(e.getDate(),t,2)}function ree(e,t){return Ie(e.getHours(),t,2)}function iee(e,t){return Ie(e.getHours()%12||12,t,2)}function aee(e,t){return Ie(1+qi.count(gi(e),e),t,3)}function KD(e,t){return Ie(e.getMilliseconds(),t,3)}function oee(e,t){return KD(e,t)+"000"}function see(e,t){return Ie(e.getMonth()+1,t,2)}function lee(e,t){return Ie(e.getMinutes(),t,2)}function cee(e,t){return Ie(e.getSeconds(),t,2)}function uee(e){var t=e.getDay();return t===0?7:t}function fee(e,t){return Ie(Ho.count(gi(e)-1,e),t,2)}function QD(e){var t=e.getDay();return t>=4||t===0?w0(e):w0.ceil(e)}function dee(e,t){return e=QD(e),Ie(w0.count(gi(e),e)+(gi(e).getDay()===4),t,2)}function hee(e){return e.getDay()}function mee(e,t){return Ie(nd.count(gi(e)-1,e),t,2)}function pee(e,t){return Ie(e.getFullYear()%100,t,2)}function gee(e,t){return e=QD(e),Ie(e.getFullYear()%100,t,2)}function yee(e,t){return Ie(e.getFullYear()%1e4,t,4)}function bee(e,t){var n=e.getDay();return e=n>=4||n===0?w0(e):w0.ceil(e),Ie(e.getFullYear()%1e4,t,4)}function vee(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ie(t/60|0,"0",2)+Ie(t%60,"0",2)}function uA(e,t){return Ie(e.getUTCDate(),t,2)}function xee(e,t){return Ie(e.getUTCHours(),t,2)}function _ee(e,t){return Ie(e.getUTCHours()%12||12,t,2)}function wee(e,t){return Ie(1+za.count(yi(e),e),t,3)}function eL(e,t){return Ie(e.getUTCMilliseconds(),t,3)}function Tee(e,t){return eL(e,t)+"000"}function Aee(e,t){return Ie(e.getUTCMonth()+1,t,2)}function See(e,t){return Ie(e.getUTCMinutes(),t,2)}function Eee(e,t){return Ie(e.getUTCSeconds(),t,2)}function kee(e){var t=e.getUTCDay();return t===0?7:t}function Mee(e,t){return Ie(Yo.count(yi(e)-1,e),t,2)}function tL(e){var t=e.getUTCDay();return t>=4||t===0?T0(e):T0.ceil(e)}function Oee(e,t){return e=tL(e),Ie(T0.count(yi(e),e)+(yi(e).getUTCDay()===4),t,2)}function Cee(e){return e.getUTCDay()}function Dee(e,t){return Ie(rd.count(yi(e)-1,e),t,2)}function Lee(e,t){return Ie(e.getUTCFullYear()%100,t,2)}function Fee(e,t){return e=tL(e),Ie(e.getUTCFullYear()%100,t,2)}function Bee(e,t){return Ie(e.getUTCFullYear()%1e4,t,4)}function $ee(e,t){var n=e.getUTCDay();return e=n>=4||n===0?T0(e):T0.ceil(e),Ie(e.getUTCFullYear()%1e4,t,4)}function Nee(){return"+0000"}function fA(){return"%"}function dA(e){return+e}function hA(e){return Math.floor(+e/1e3)}var vl,Og,$8,q0,Kd;nL({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function nL(e){return vl=B8(e),Og=vl.format,$8=vl.parse,q0=vl.utcFormat,Kd=vl.utcParse,vl}var rL="%Y-%m-%dT%H:%M:%S.%LZ";function Iee(e){return e.toISOString()}var Zee=Date.prototype.toISOString?Iee:q0(rL);const Ree=Zee;function Pee(e){var t=new Date(e);return isNaN(t)?null:t}var jee=+new Date("2000-01-01T00:00:00.000Z")?Pee:Kd(rL);const iL=jee;function zee(e){return new Date(e)}function Gee(e){return e instanceof Date?+e:+new Date(+e)}function N8(e,t,n,r,i,a,o,s,l,c){var u=_8(),f=u.invert,d=u.domain,h=c(".%L"),m=c(":%S"),g=c("%I:%M"),p=c("%I %p"),y=c("%a %d"),b=c("%b %d"),v=c("%B"),x=c("%Y");function _(T){return(l(T)<T?h:s(T)<T?m:o(T)<T?g:a(T)<T?p:r(T)<T?i(T)<T?y:b:n(T)<T?v:x)(T)}return u.invert=function(T){return new Date(f(T))},u.domain=function(T){return arguments.length?d(Array.from(T,Gee)):d().map(zee)},u.ticks=function(T){var w=d();return e(w[0],w[w.length-1],T??10)},u.tickFormat=function(T,w){return w==null?_:c(w)},u.nice=function(T){var w=d();return(!T||typeof T.range!="function")&&(T=t(w[0],w[w.length-1],T??10)),T?d(ND(w,T)):u},u.copy=function(){return Yd(u,N8(e,t,n,r,i,a,o,s,l,c))},u}function aL(){return Pr.apply(N8(XD,JD,gi,hc,Ho,qi,Xd,qd,ai,Og).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function oL(){return Pr.apply(N8(qD,VD,yi,mc,Yo,za,Jd,Vd,ai,q0).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Cg(){var e=0,t=1,n,r,i,a,o=Cn,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function u(f){return function(d){var h,m;return arguments.length?([h,m]=d,o=f(h,m),c):[o(0),o(1)]}}return c.range=u(ua),c.rangeRound=u(Yc),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),c}}function ms(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Dg(){var e=hs(Cg()(Cn));return e.copy=function(){return ms(e,Dg())},no.apply(e,arguments)}function I8(){var e=S8(Cg()).domain([1,10]);return e.copy=function(){return ms(e,I8()).base(e.base())},no.apply(e,arguments)}function Z8(){var e=k8(Cg());return e.copy=function(){return ms(e,Z8()).constant(e.constant())},no.apply(e,arguments)}function Lg(){var e=O8(Cg());return e.copy=function(){return ms(e,Lg()).exponent(e.exponent())},no.apply(e,arguments)}function sL(){return Lg.apply(null,arguments).exponent(.5)}function lL(){var e=[],t=Cn;function n(r){if(r!=null&&!isNaN(r=+r))return t((fs(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ke),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>m0(e,a/r))},n.copy=function(){return lL(t).domain(e)},no.apply(n,arguments)}function Fg(){var e=0,t=.5,n=1,r=1,i,a,o,s,l,c=Cn,u,f=!1,d;function h(g){return isNaN(g=+g)?d:(g=.5+((g=+u(g))-a)*(r*g<r*a?s:l),c(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,n]=g,i=u(e=+e),a=u(t=+t),o=u(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,h):[e,t,n]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(c=g,h):c};function m(g){return function(p){var y,b,v;return arguments.length?([y,b,v]=p,c=$d(g,[y,b,v]),h):[c(0),c(.5),c(1)]}}return h.range=m(ua),h.rangeRound=m(Yc),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return u=g,i=g(e),a=g(t),o=g(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,h}}function R8(){var e=hs(Fg()(Cn));return e.copy=function(){return ms(e,R8())},no.apply(e,arguments)}function P8(){var e=S8(Fg()).domain([.1,1,10]);return e.copy=function(){return ms(e,P8()).base(e.base())},no.apply(e,arguments)}function j8(){var e=k8(Fg());return e.copy=function(){return ms(e,j8()).constant(e.constant())},no.apply(e,arguments)}function Bg(){var e=O8(Fg());return e.copy=function(){return ms(e,Bg()).exponent(e.exponent())},no.apply(e,arguments)}function cL(){return Bg.apply(null,arguments).exponent(.5)}function we(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Uee=we("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Wee=we("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Hee=we("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Yee=we("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),qee=we("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Vee=we("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Xee=we("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Jee=we("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Kee=we("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Qee=we("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Qe=e=>O7(e[e.length-1]);var uL=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(we);const ete=Qe(uL);var fL=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(we);const tte=Qe(fL);var dL=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(we);const nte=Qe(dL);var hL=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(we);const rte=Qe(hL);var mL=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(we);const ite=Qe(mL);var pL=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(we);const ate=Qe(pL);var gL=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(we);const ote=Qe(gL);var yL=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(we);const ste=Qe(yL);var bL=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(we);const lte=Qe(bL);var vL=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(we);const cte=Qe(vL);var xL=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(we);const ute=Qe(xL);var _L=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(we);const fte=Qe(_L);var wL=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(we);const dte=Qe(wL);var TL=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(we);const hte=Qe(TL);var AL=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(we);const mte=Qe(AL);var SL=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(we);const pte=Qe(SL);var EL=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(we);const gte=Qe(EL);var kL=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(we);const yte=Qe(kL);var ML=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(we);const bte=Qe(ML);var OL=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(we);const vte=Qe(OL);var CL=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(we);const xte=Qe(CL);var DL=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(we);const _te=Qe(DL);var LL=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(we);const wte=Qe(LL);var FL=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(we);const Tte=Qe(FL);var BL=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(we);const Ate=Qe(BL);var $L=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(we);const Ste=Qe($L);var NL=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(we);const Ete=Qe(NL);function kte(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const Mte=Bd(pi(300,.5,0),pi(-240,.5,1));var Ote=Bd(pi(-100,.75,.35),pi(80,1.5,.8)),Cte=Bd(pi(260,.75,.35),pi(80,1.5,.8)),i1=pi();function Dte(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return i1.h=360*e-100,i1.s=1.5-1.5*t,i1.l=.8-.9*t,i1+""}var a1=Qi(),Lte=Math.PI/3,Fte=Math.PI*2/3;function Bte(e){var t;return e=(.5-e)*Math.PI,a1.r=255*(t=Math.sin(e))*t,a1.g=255*(t=Math.sin(e+Lte))*t,a1.b=255*(t=Math.sin(e+Fte))*t,a1+""}function $te(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function $g(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const Nte=$g(we("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Ite=$g(we("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Zte=$g(we("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Rte=$g(we("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function be(e){return function(){return e}}const mA=Math.abs,tn=Math.atan2,Da=Math.cos,Pte=Math.max,Wl=Math.min,jn=Math.sin,at=Math.sqrt,nn=1e-12,qo=Math.PI,Qm=qo/2,Bo=2*qo;function jte(e){return e>1?0:e<-1?qo:Math.acos(e)}function pA(e){return e>=1?Qm:e<=-1?-Qm:Math.asin(e)}function Qd(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Id(t)}function zte(e){return e.innerRadius}function Gte(e){return e.outerRadius}function Ute(e){return e.startAngle}function Wte(e){return e.endAngle}function Hte(e){return e&&e.padAngle}function Yte(e,t,n,r,i,a,o,s){var l=n-e,c=r-t,u=o-i,f=s-a,d=f*l-u*c;if(!(d*d<nn))return d=(u*(t-a)-f*(e-i))/d,[e+d*l,t+d*c]}function o1(e,t,n,r,i,a,o){var s=e-n,l=t-r,c=(o?a:-a)/at(s*s+l*l),u=c*l,f=-c*s,d=e+u,h=t+f,m=n+u,g=r+f,p=(d+m)/2,y=(h+g)/2,b=m-d,v=g-h,x=b*b+v*v,_=i-a,T=d*g-m*h,w=(v<0?-1:1)*at(Pte(0,_*_*x-T*T)),S=(T*v-b*w)/x,C=(-T*b-v*w)/x,k=(T*v+b*w)/x,A=(-T*b+v*w)/x,L=S-p,D=C-y,E=k-p,O=A-y;return L*L+D*D>E*E+O*O&&(S=k,C=A),{cx:S,cy:C,x01:-u,y01:-f,x11:S*(i/_-1),y11:C*(i/_-1)}}function z8(){var e=zte,t=Gte,n=be(0),r=null,i=Ute,a=Wte,o=Hte,s=null,l=Qd(c);function c(){var u,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),m=i.apply(this,arguments)-Qm,g=a.apply(this,arguments)-Qm,p=mA(g-m),y=g>m;if(s||(s=u=l()),h<d&&(f=h,h=d,d=f),!(h>nn))s.moveTo(0,0);else if(p>Bo-nn)s.moveTo(h*Da(m),h*jn(m)),s.arc(0,0,h,m,g,!y),d>nn&&(s.moveTo(d*Da(g),d*jn(g)),s.arc(0,0,d,g,m,y));else{var b=m,v=g,x=m,_=g,T=p,w=p,S=o.apply(this,arguments)/2,C=S>nn&&(r?+r.apply(this,arguments):at(d*d+h*h)),k=Wl(mA(h-d)/2,+n.apply(this,arguments)),A=k,L=k,D,E;if(C>nn){var O=pA(C/d*jn(S)),M=pA(C/h*jn(S));(T-=O*2)>nn?(O*=y?1:-1,x+=O,_-=O):(T=0,x=_=(m+g)/2),(w-=M*2)>nn?(M*=y?1:-1,b+=M,v-=M):(w=0,b=v=(m+g)/2)}var F=h*Da(b),$=h*jn(b),N=d*Da(_),R=d*jn(_);if(k>nn){var Y=h*Da(v),K=h*jn(v),me=d*Da(x),pe=d*jn(x),fe;if(p<qo)if(fe=Yte(F,$,me,pe,Y,K,N,R)){var Fe=F-fe[0],Ae=$-fe[1],$e=Y-fe[0],X=K-fe[1],he=1/jn(jte((Fe*$e+Ae*X)/(at(Fe*Fe+Ae*Ae)*at($e*$e+X*X)))/2),ye=at(fe[0]*fe[0]+fe[1]*fe[1]);A=Wl(k,(d-ye)/(he-1)),L=Wl(k,(h-ye)/(he+1))}else A=L=0}w>nn?L>nn?(D=o1(me,pe,F,$,h,L,y),E=o1(Y,K,N,R,h,L,y),s.moveTo(D.cx+D.x01,D.cy+D.y01),L<k?s.arc(D.cx,D.cy,L,tn(D.y01,D.x01),tn(E.y01,E.x01),!y):(s.arc(D.cx,D.cy,L,tn(D.y01,D.x01),tn(D.y11,D.x11),!y),s.arc(0,0,h,tn(D.cy+D.y11,D.cx+D.x11),tn(E.cy+E.y11,E.cx+E.x11),!y),s.arc(E.cx,E.cy,L,tn(E.y11,E.x11),tn(E.y01,E.x01),!y))):(s.moveTo(F,$),s.arc(0,0,h,b,v,!y)):s.moveTo(F,$),!(d>nn)||!(T>nn)?s.lineTo(N,R):A>nn?(D=o1(N,R,Y,K,d,-A,y),E=o1(F,$,me,pe,d,-A,y),s.lineTo(D.cx+D.x01,D.cy+D.y01),A<k?s.arc(D.cx,D.cy,A,tn(D.y01,D.x01),tn(E.y01,E.x01),!y):(s.arc(D.cx,D.cy,A,tn(D.y01,D.x01),tn(D.y11,D.x11),!y),s.arc(0,0,d,tn(D.cy+D.y11,D.cx+D.x11),tn(E.cy+E.y11,E.cx+E.x11),y),s.arc(E.cx,E.cy,A,tn(E.y11,E.x11),tn(E.y01,E.x01),!y))):s.arc(0,0,d,_,x,y)}if(s.closePath(),u)return s=null,u+""||null}return c.centroid=function(){var u=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-qo/2;return[Da(f)*u,jn(f)*u]},c.innerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:be(+u),c):e},c.outerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:be(+u),c):t},c.cornerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:be(+u),c):n},c.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:be(+u),c):r},c.startAngle=function(u){return arguments.length?(i=typeof u=="function"?u:be(+u),c):i},c.endAngle=function(u){return arguments.length?(a=typeof u=="function"?u:be(+u),c):a},c.padAngle=function(u){return arguments.length?(o=typeof u=="function"?u:be(+u),c):o},c.context=function(u){return arguments.length?(s=u??null,c):s},c}var qte=Array.prototype.slice;function Ng(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function IL(e){this._context=e}IL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function eh(e){return new IL(e)}function G8(e){return e[0]}function U8(e){return e[1]}function th(e,t){var n=be(!0),r=null,i=eh,a=null,o=Qd(s);e=typeof e=="function"?e:e===void 0?G8:be(e),t=typeof t=="function"?t:t===void 0?U8:be(t);function s(l){var c,u=(l=Ng(l)).length,f,d=!1,h;for(r==null&&(a=i(h=o())),c=0;c<=u;++c)!(c<u&&n(f=l[c],c,l))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(f,c,l),+t(f,c,l));if(h)return a=null,h+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:be(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:be(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:be(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function nh(e,t,n){var r=null,i=be(!0),a=null,o=eh,s=null,l=Qd(c);e=typeof e=="function"?e:e===void 0?G8:be(+e),t=typeof t=="function"?t:be(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?U8:be(+n);function c(f){var d,h,m,g=(f=Ng(f)).length,p,y=!1,b,v=new Array(g),x=new Array(g);for(a==null&&(s=o(b=l())),d=0;d<=g;++d){if(!(d<g&&i(p=f[d],d,f))===y)if(y=!y)h=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=d-1;m>=h;--m)s.point(v[m],x[m]);s.lineEnd(),s.areaEnd()}y&&(v[d]=+e(p,d,f),x[d]=+t(p,d,f),s.point(r?+r(p,d,f):v[d],n?+n(p,d,f):x[d]))}if(b)return s=null,b+""||null}function u(){return th().defined(i).curve(o).context(a)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:be(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:be(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:be(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:be(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:be(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:be(+f),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:be(!!f),c):i},c.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),c):o},c.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),c):a},c}function Vte(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function Xte(e){return e}function ZL(){var e=Xte,t=Vte,n=null,r=be(0),i=be(Bo),a=be(0);function o(s){var l,c=(s=Ng(s)).length,u,f,d=0,h=new Array(c),m=new Array(c),g=+r.apply(this,arguments),p=Math.min(Bo,Math.max(-Bo,i.apply(this,arguments)-g)),y,b=Math.min(Math.abs(p)/c,a.apply(this,arguments)),v=b*(p<0?-1:1),x;for(l=0;l<c;++l)(x=m[h[l]=l]=+e(s[l],l,s))>0&&(d+=x);for(t!=null?h.sort(function(_,T){return t(m[_],m[T])}):n!=null&&h.sort(function(_,T){return n(s[_],s[T])}),l=0,f=d?(p-c*v)/d:0;l<c;++l,g=y)u=h[l],x=m[u],y=g+(x>0?x*f:0)+v,m[u]={data:s[u],index:l,value:x,startAngle:g,endAngle:y,padAngle:b};return m}return o.value=function(s){return arguments.length?(e=typeof s=="function"?s:be(+s),o):e},o.sortValues=function(s){return arguments.length?(t=s,n=null,o):t},o.sort=function(s){return arguments.length?(n=s,t=null,o):n},o.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:be(+s),o):r},o.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:be(+s),o):i},o.padAngle=function(s){return arguments.length?(a=typeof s=="function"?s:be(+s),o):a},o}var RL=W8(eh);function PL(e){this._curve=e}PL.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};function W8(e){function t(n){return new PL(e(n))}return t._curve=e,t}function cf(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(n){return arguments.length?t(W8(n)):t()._curve},e}function gA(){return cf(th().curve(RL))}function yA(){var e=nh().curve(RL),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,a=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return cf(n())},delete e.lineX0,e.lineEndAngle=function(){return cf(r())},delete e.lineX1,e.lineInnerRadius=function(){return cf(i())},delete e.lineY0,e.lineOuterRadius=function(){return cf(a())},delete e.lineY1,e.curve=function(o){return arguments.length?t(W8(o)):t()._curve},e}function uf(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}class jL{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}class Jte{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,n){if(t=+t,n=+n,this._point===0)this._point=1;else{const r=uf(this._x0,this._y0),i=uf(this._x0,this._y0=(this._y0+n)/2),a=uf(t,this._y0),o=uf(t,n);this._context.moveTo(...r),this._context.bezierCurveTo(...i,...a,...o)}this._x0=t,this._y0=n}}function zL(e){return new jL(e,!0)}function GL(e){return new jL(e,!1)}function Kte(e){return new Jte(e)}function Qte(e){return e.source}function ene(e){return e.target}function Ig(e){let t=Qte,n=ene,r=G8,i=U8,a=null,o=null,s=Qd(l);function l(){let c;const u=qte.call(arguments),f=t.apply(this,u),d=n.apply(this,u);if(a==null&&(o=e(c=s())),o.lineStart(),u[0]=f,o.point(+r.apply(this,u),+i.apply(this,u)),u[0]=d,o.point(+r.apply(this,u),+i.apply(this,u)),o.lineEnd(),c)return o=null,c+""||null}return l.source=function(c){return arguments.length?(t=c,l):t},l.target=function(c){return arguments.length?(n=c,l):n},l.x=function(c){return arguments.length?(r=typeof c=="function"?c:be(+c),l):r},l.y=function(c){return arguments.length?(i=typeof c=="function"?c:be(+c),l):i},l.context=function(c){return arguments.length?(c==null?a=o=null:o=e(a=c),l):a},l}function tne(){return Ig(zL)}function nne(){return Ig(GL)}function rne(){const e=Ig(Kte);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}const ine=at(3),UL={draw(e,t){const n=at(t+Wl(t/28,.75))*.59436,r=n/2,i=r*ine;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},Zg={draw(e,t){const n=at(t/qo);e.moveTo(n,0),e.arc(0,0,n,0,Bo)}},WL={draw(e,t){const n=at(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},HL=at(1/3),ane=HL*2,YL={draw(e,t){const n=at(t/ane),r=n*HL;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},qL={draw(e,t){const n=at(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},VL={draw(e,t){const n=at(t-Wl(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},XL={draw(e,t){const n=at(t),r=-n/2;e.rect(r,r,n,n)}},JL={draw(e,t){const n=at(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},one=.8908130915292852,KL=jn(qo/10)/jn(7*qo/10),sne=jn(Bo/10)*KL,lne=-Da(Bo/10)*KL,QL={draw(e,t){const n=at(t*one),r=sne*n,i=lne*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=Bo*a/5,s=Da(o),l=jn(o);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},fb=at(3),eF={draw(e,t){const n=-at(t/(fb*3));e.moveTo(0,n*2),e.lineTo(-fb*n,-n),e.lineTo(fb*n,-n),e.closePath()}},cne=at(3),tF={draw(e,t){const n=at(t)*.6824,r=n/2,i=n*cne/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},wr=-.5,Tr=at(3)/2,d3=1/at(12),une=(d3/2+1)*3,nF={draw(e,t){const n=at(t/une),r=n/2,i=n*d3,a=r,o=n*d3+n,s=-a,l=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(wr*r-Tr*i,Tr*r+wr*i),e.lineTo(wr*a-Tr*o,Tr*a+wr*o),e.lineTo(wr*s-Tr*l,Tr*s+wr*l),e.lineTo(wr*r+Tr*i,wr*i-Tr*r),e.lineTo(wr*a+Tr*o,wr*o-Tr*a),e.lineTo(wr*s+Tr*l,wr*l-Tr*s),e.closePath()}},h3={draw(e,t){const n=at(t-Wl(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},bA=[Zg,WL,YL,XL,QL,eF,nF],fne=[Zg,VL,h3,tF,UL,JL,qL];function rF(e,t){let n=null,r=Qd(i);e=typeof e=="function"?e:be(e||Zg),t=typeof t=="function"?t:be(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:be(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:be(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Vo(){}function ep(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Rg(e){this._context=e}Rg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ep(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ep(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function iF(e){return new Rg(e)}function aF(e){this._context=e}aF.prototype={areaStart:Vo,areaEnd:Vo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ep(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function oF(e){return new aF(e)}function sF(e){this._context=e}sF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ep(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lF(e){return new sF(e)}function cF(e,t){this._basis=new Rg(e),this._beta=t}cF.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],a=e[n]-r,o=t[n]-i,s=-1,l;++s<=n;)l=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(r+l*a),this._beta*t[s]+(1-this._beta)*(i+l*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const uF=function e(t){function n(r){return t===1?new Rg(r):new cF(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function tp(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function H8(e,t){this._context=e,this._k=(1-t)/6}H8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:tp(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:tp(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const fF=function e(t){function n(r){return new H8(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Y8(e,t){this._context=e,this._k=(1-t)/6}Y8.prototype={areaStart:Vo,areaEnd:Vo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:tp(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const dF=function e(t){function n(r){return new Y8(r,t)}return n.tension=function(r){return e(+r)},n}(0);function q8(e,t){this._context=e,this._k=(1-t)/6}q8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:tp(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const hF=function e(t){function n(r){return new q8(r,t)}return n.tension=function(r){return e(+r)},n}(0);function V8(e,t,n){var r=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>nn){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>nn){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*c+e._x1*e._l23_2a-t*e._l12_2a)/u,o=(o*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,a,o,e._x2,e._y2)}function mF(e,t){this._context=e,this._alpha=t}mF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:V8(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const pF=function e(t){function n(r){return t?new mF(r,t):new H8(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function gF(e,t){this._context=e,this._alpha=t}gF.prototype={areaStart:Vo,areaEnd:Vo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:V8(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const yF=function e(t){function n(r){return t?new gF(r,t):new Y8(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function bF(e,t){this._context=e,this._alpha=t}bF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:V8(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const vF=function e(t){function n(r){return t?new bF(r,t):new q8(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function xF(e){this._context=e}xF.prototype={areaStart:Vo,areaEnd:Vo,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function _F(e){return new xF(e)}function vA(e){return e<0?-1:1}function xA(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(vA(a)+vA(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function _A(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function db(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function np(e){this._context=e}np.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:db(this,this._t0,_A(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,db(this,_A(this,n=xA(this,e,t)),n);break;default:db(this,this._t0,n=xA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function wF(e){this._context=new TF(e)}(wF.prototype=Object.create(np.prototype)).point=function(e,t){np.prototype.point.call(this,t,e)};function TF(e){this._context=e}TF.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function AF(e){return new np(e)}function SF(e){return new wF(e)}function EF(e){this._context=e}EF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=wA(e),i=wA(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function wA(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function kF(e){return new EF(e)}function Pg(e,t){this._context=e,this._t=t}Pg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function MF(e){return new Pg(e,.5)}function OF(e){return new Pg(e,0)}function CF(e){return new Pg(e,1)}function pc(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,s=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function gc(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function dne(e,t){return e[t]}function hne(e){const t=[];return t.key=e,t}function DF(){var e=be([]),t=gc,n=pc,r=dne;function i(a){var o=Array.from(e.apply(this,arguments),hne),s,l=o.length,c=-1,u;for(const f of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+r(f,o[s].key,c,a)]).data=f;for(s=0,u=Ng(t(o));s<l;++s)o[u[s]].index=s;return n(o,u),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:be(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:be(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?gc:typeof a=="function"?a:be(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??pc,i):n},i}function mne(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}pc(e,t)}}function pne(e,t){if((l=e.length)>0)for(var n,r=0,i,a,o,s,l,c=e[t[0]].length;r<c;++r)for(o=s=0,n=0;n<l;++n)(a=(i=e[t[n]][r])[1]-i[0])>0?(i[0]=o,i[1]=o+=a):a<0?(i[1]=s,i[0]=s+=a):(i[0]=0,i[1]=a)}function gne(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}pc(e,t)}}function yne(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,c=0;s<o;++s){for(var u=e[t[s]],f=u[r][1]||0,d=u[r-1][1]||0,h=(f-d)/2,m=0;m<s;++m){var g=e[t[m]],p=g[r][1]||0,y=g[r-1][1]||0;h+=p-y}l+=f,c+=h*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,pc(e,t)}}function LF(e){var t=e.map(bne);return gc(e).sort(function(n,r){return t[n]-t[r]})}function bne(e){for(var t=-1,n=0,r=e.length,i,a=-1/0;++t<r;)(i=+e[t][1])>a&&(a=i,n=t);return n}function FF(e){var t=e.map(BF);return gc(e).sort(function(n,r){return t[n]-t[r]})}function BF(e){for(var t=0,n=-1,r=e.length,i;++n<r;)(i=+e[n][1])&&(t+=i);return t}function vne(e){return FF(e).reverse()}function xne(e){var t=e.length,n,r,i=e.map(BF),a=LF(e),o=0,s=0,l=[],c=[];for(n=0;n<t;++n)r=a[n],o<s?(o+=i[r],l.push(r)):(s+=i[r],c.push(r));return c.reverse().concat(l)}function _ne(e){return gc(e).reverse()}const s1=e=>()=>e;function wne(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function zi(e,t,n){this.k=e,this.x=t,this.y=n}zi.prototype={constructor:zi,scale:function(e){return e===1?this:new zi(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new zi(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var jg=new zi(1,0,0);$F.prototype=zi.prototype;function $F(e){for(;!e.__zoom;)if(!(e=e.parentNode))return jg;return e.__zoom}function hb(e){e.stopImmediatePropagation()}function Cu(e){e.preventDefault(),e.stopImmediatePropagation()}function Tne(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Ane(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function TA(){return this.__zoom||jg}function Sne(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Ene(){return navigator.maxTouchPoints||"ontouchstart"in this}function kne(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function Mne(){var e=Tne,t=Ane,n=kne,r=Sne,i=Ene,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,l=B7,c=Wc("start","zoom","end"),u,f,d,h=500,m=150,g=0,p=10;function y(E){E.property("__zoom",TA).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",k).filter(i).on("touchstart.zoom",A).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(E,O,M,F){var $=E.selection?E.selection():E;$.property("__zoom",TA),E!==$?_(E,O,M,F):$.interrupt().each(function(){T(this,arguments).event(F).start().zoom(null,typeof O=="function"?O.apply(this,arguments):O).end()})},y.scaleBy=function(E,O,M,F){y.scaleTo(E,function(){var $=this.__zoom.k,N=typeof O=="function"?O.apply(this,arguments):O;return $*N},M,F)},y.scaleTo=function(E,O,M,F){y.transform(E,function(){var $=t.apply(this,arguments),N=this.__zoom,R=M==null?x($):typeof M=="function"?M.apply(this,arguments):M,Y=N.invert(R),K=typeof O=="function"?O.apply(this,arguments):O;return n(v(b(N,K),R,Y),$,o)},M,F)},y.translateBy=function(E,O,M,F){y.transform(E,function(){return n(this.__zoom.translate(typeof O=="function"?O.apply(this,arguments):O,typeof M=="function"?M.apply(this,arguments):M),t.apply(this,arguments),o)},null,F)},y.translateTo=function(E,O,M,F,$){y.transform(E,function(){var N=t.apply(this,arguments),R=this.__zoom,Y=F==null?x(N):typeof F=="function"?F.apply(this,arguments):F;return n(jg.translate(Y[0],Y[1]).scale(R.k).translate(typeof O=="function"?-O.apply(this,arguments):-O,typeof M=="function"?-M.apply(this,arguments):-M),N,o)},F,$)};function b(E,O){return O=Math.max(a[0],Math.min(a[1],O)),O===E.k?E:new zi(O,E.x,E.y)}function v(E,O,M){var F=O[0]-M[0]*E.k,$=O[1]-M[1]*E.k;return F===E.x&&$===E.y?E:new zi(E.k,F,$)}function x(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function _(E,O,M,F){E.on("start.zoom",function(){T(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(F).end()}).tween("zoom",function(){var $=this,N=arguments,R=T($,N).event(F),Y=t.apply($,N),K=M==null?x(Y):typeof M=="function"?M.apply($,N):M,me=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),pe=$.__zoom,fe=typeof O=="function"?O.apply($,N):O,Fe=l(pe.invert(K).concat(me/pe.k),fe.invert(K).concat(me/fe.k));return function(Ae){if(Ae===1)Ae=fe;else{var $e=Fe(Ae),X=me/$e[2];Ae=new zi(X,K[0]-$e[0]*X,K[1]-$e[1]*X)}R.zoom(null,Ae)}})}function T(E,O,M){return!M&&E.__zooming||new w(E,O)}function w(E,O){this.that=E,this.args=O,this.active=0,this.sourceEvent=null,this.extent=t.apply(E,O),this.taps=0}w.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,O){return this.mouse&&E!=="mouse"&&(this.mouse[1]=O.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=O.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=O.invert(this.touch1[0])),this.that.__zoom=O,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var O=ie(this.that).datum();c.call(E,this.that,new wne(E,{sourceEvent:this.sourceEvent,target:y,type:E,transform:this.that.__zoom,dispatch:c}),O)}};function S(E,...O){if(!e.apply(this,arguments))return;var M=T(this,O).event(E),F=this.__zoom,$=Math.max(a[0],Math.min(a[1],F.k*Math.pow(2,r.apply(this,arguments)))),N=lr(E);if(M.wheel)(M.mouse[0][0]!==N[0]||M.mouse[0][1]!==N[1])&&(M.mouse[1]=F.invert(M.mouse[0]=N)),clearTimeout(M.wheel);else{if(F.k===$)return;M.mouse=[N,F.invert(N)],r0(this),M.start()}Cu(E),M.wheel=setTimeout(R,m),M.zoom("mouse",n(v(b(F,$),M.mouse[0],M.mouse[1]),M.extent,o));function R(){M.wheel=null,M.end()}}function C(E,...O){if(d||!e.apply(this,arguments))return;var M=E.currentTarget,F=T(this,O,!0).event(E),$=ie(E.view).on("mousemove.zoom",K,!0).on("mouseup.zoom",me,!0),N=lr(E,M),R=E.clientX,Y=E.clientY;lg(E.view),hb(E),F.mouse=[N,this.__zoom.invert(N)],r0(this),F.start();function K(pe){if(Cu(pe),!F.moved){var fe=pe.clientX-R,Fe=pe.clientY-Y;F.moved=fe*fe+Fe*Fe>g}F.event(pe).zoom("mouse",n(v(F.that.__zoom,F.mouse[0]=lr(pe,M),F.mouse[1]),F.extent,o))}function me(pe){$.on("mousemove.zoom mouseup.zoom",null),cg(pe.view,F.moved),Cu(pe),F.event(pe).end()}}function k(E,...O){if(e.apply(this,arguments)){var M=this.__zoom,F=lr(E.changedTouches?E.changedTouches[0]:E,this),$=M.invert(F),N=M.k*(E.shiftKey?.5:2),R=n(v(b(M,N),F,$),t.apply(this,O),o);Cu(E),s>0?ie(this).transition().duration(s).call(_,R,F,E):ie(this).call(y.transform,R,F,E)}}function A(E,...O){if(e.apply(this,arguments)){var M=E.touches,F=M.length,$=T(this,O,E.changedTouches.length===F).event(E),N,R,Y,K;for(hb(E),R=0;R<F;++R)Y=M[R],K=lr(Y,this),K=[K,this.__zoom.invert(K),Y.identifier],$.touch0?!$.touch1&&$.touch0[2]!==K[2]&&($.touch1=K,$.taps=0):($.touch0=K,N=!0,$.taps=1+!!u);u&&(u=clearTimeout(u)),N&&($.taps<2&&(f=K[0],u=setTimeout(function(){u=null},h)),r0(this),$.start())}}function L(E,...O){if(this.__zooming){var M=T(this,O).event(E),F=E.changedTouches,$=F.length,N,R,Y,K;for(Cu(E),N=0;N<$;++N)R=F[N],Y=lr(R,this),M.touch0&&M.touch0[2]===R.identifier?M.touch0[0]=Y:M.touch1&&M.touch1[2]===R.identifier&&(M.touch1[0]=Y);if(R=M.that.__zoom,M.touch1){var me=M.touch0[0],pe=M.touch0[1],fe=M.touch1[0],Fe=M.touch1[1],Ae=(Ae=fe[0]-me[0])*Ae+(Ae=fe[1]-me[1])*Ae,$e=($e=Fe[0]-pe[0])*$e+($e=Fe[1]-pe[1])*$e;R=b(R,Math.sqrt(Ae/$e)),Y=[(me[0]+fe[0])/2,(me[1]+fe[1])/2],K=[(pe[0]+Fe[0])/2,(pe[1]+Fe[1])/2]}else if(M.touch0)Y=M.touch0[0],K=M.touch0[1];else return;M.zoom("touch",n(v(R,Y,K),M.extent,o))}}function D(E,...O){if(this.__zooming){var M=T(this,O).event(E),F=E.changedTouches,$=F.length,N,R;for(hb(E),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),N=0;N<$;++N)R=F[N],M.touch0&&M.touch0[2]===R.identifier?delete M.touch0:M.touch1&&M.touch1[2]===R.identifier&&delete M.touch1;if(M.touch1&&!M.touch0&&(M.touch0=M.touch1,delete M.touch1),M.touch0)M.touch0[1]=this.__zoom.invert(M.touch0[0]);else if(M.end(),M.taps===2&&(R=lr(R,this),Math.hypot(f[0]-R[0],f[1]-R[1])<p)){var Y=ie(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return y.wheelDelta=function(E){return arguments.length?(r=typeof E=="function"?E:s1(+E),y):r},y.filter=function(E){return arguments.length?(e=typeof E=="function"?E:s1(!!E),y):e},y.touchable=function(E){return arguments.length?(i=typeof E=="function"?E:s1(!!E),y):i},y.extent=function(E){return arguments.length?(t=typeof E=="function"?E:s1([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),y):t},y.scaleExtent=function(E){return arguments.length?(a[0]=+E[0],a[1]=+E[1],y):[a[0],a[1]]},y.translateExtent=function(E){return arguments.length?(o[0][0]=+E[0][0],o[1][0]=+E[1][0],o[0][1]=+E[0][1],o[1][1]=+E[1][1],y):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},y.constrain=function(E){return arguments.length?(n=E,y):n},y.duration=function(E){return arguments.length?(s=+E,y):s},y.interpolate=function(E){return arguments.length?(l=E,y):l},y.on=function(){var E=c.on.apply(c,arguments);return E===c?y:E},y.clickDistance=function(E){return arguments.length?(g=(E=+E)*E,y):Math.sqrt(g)},y.tapDistance=function(E){return arguments.length?(p=+E,y):p},y}const zg=Object.freeze(Object.defineProperty({__proto__:null,Adder:Ot,Delaunay:bg,FormatSpecifier:_g,InternMap:zf,InternSet:f0,Node:_0,Path:Id,Voronoi:QO,ZoomTransform:zi,active:Eq,arc:z8,area:nh,areaRadial:yA,ascending:Ke,autoType:QV,axisBottom:qM,axisLeft:VM,axisRight:OU,axisTop:MU,bin:iw,bisect:fs,bisectCenter:MG,bisectLeft:OM,bisectRight:jf,bisector:Gc,blob:nX,blur:OG,blur2:CM,blurImage:CG,brush:Rq,brushSelection:Nq,brushX:Iq,brushY:Zq,buffer:iX,chord:jq,chordDirected:Gq,chordTranspose:zq,cluster:mD,color:zo,contourDensity:pV,contours:Iv,count:ng,create:Pl,creator:og,cross:IG,csv:sX,csvFormat:zV,csvFormatBody:GV,csvFormatRow:WV,csvFormatRows:UV,csvFormatValue:HV,csvParse:tC,csvParseRows:jV,cubehelix:pi,cumsum:ZG,curveBasis:iF,curveBasisClosed:oF,curveBasisOpen:lF,curveBumpX:zL,curveBumpY:GL,curveBundle:uF,curveCardinal:fF,curveCardinalClosed:dF,curveCardinalOpen:hF,curveCatmullRom:pF,curveCatmullRomClosed:yF,curveCatmullRomOpen:vF,curveLinear:eh,curveLinearClosed:_F,curveMonotoneX:AF,curveMonotoneY:SF,curveNatural:kF,curveStep:MF,curveStepAfter:CF,curveStepBefore:OF,descending:o7,deviation:l7,difference:gU,disjoint:yU,dispatch:G7,drag:bH,dragDisable:lg,dragEnable:cg,dsv:oX,dsvFormat:Rd,easeBack:Mw,easeBackIn:bq,easeBackInOut:Mw,easeBackOut:vq,easeBounce:Vf,easeBounceIn:gq,easeBounceInOut:yq,easeBounceOut:Vf,easeCircle:kw,easeCircleIn:oq,easeCircleInOut:kw,easeCircleOut:sq,easeCubic:Lv,easeCubicIn:KY,easeCubicInOut:Lv,easeCubicOut:QY,easeElastic:Ow,easeElasticIn:xq,easeElasticInOut:_q,easeElasticOut:Ow,easeExp:Ew,easeExpIn:iq,easeExpInOut:Ew,easeExpOut:aq,easeLinear:VY,easePoly:Aw,easePolyIn:eq,easePolyInOut:Aw,easePolyOut:tq,easeQuad:Tw,easeQuadIn:XY,easeQuadInOut:Tw,easeQuadOut:JY,easeSin:Sw,easeSinIn:nq,easeSinInOut:Sw,easeSinOut:rq,every:uU,extent:ci,fcumsum:PG,filter:dU,flatGroup:jG,flatRollup:zG,forceCenter:iC,forceCollide:oC,forceLink:sC,forceManyBody:cC,forceRadial:jX,forceSimulation:lC,forceX:uC,forceY:fC,get format(){return Pd},formatDefaultLocale:hC,formatLocale:H7,get formatPrefix(){return wg},formatSpecifier:Uo,fsum:RG,geoAlbers:s8,geoAlbersUsa:XC,geoArea:vC,geoAzimuthalEqualArea:KC,geoAzimuthalEqualAreaRaw:l8,geoAzimuthalEquidistant:QC,geoAzimuthalEquidistantRaw:c8,geoBounds:AC,geoCentroid:MC,geoCircle:aJ,geoClipAntimeridian:Xv,geoClipCircle:$C,geoClipExtent:dJ,geoClipRectangle:Tg,geoConicConformal:rD,geoConicConformalRaw:nD,geoConicEqualArea:ed,geoConicEqualAreaRaw:VC,geoConicEquidistant:oD,geoConicEquidistantRaw:aD,geoContains:vJ,geoDistance:jm,geoEqualEarth:sD,geoEqualEarthRaw:u8,geoEquirectangular:iD,geoEquirectangularRaw:td,geoGnomonic:lD,geoGnomonicRaw:f8,geoGraticule:Q7,geoGraticule10:xJ,geoIdentity:cD,geoInterpolate:_J,geoLength:NC,geoMercator:eD,geoMercatorRaw:Ud,geoNaturalEarth1:uD,geoNaturalEarth1Raw:d8,geoOrthographic:fD,geoOrthographicRaw:h8,geoPath:e8,geoProjection:Ai,geoProjectionMutator:a8,geoRotation:OC,geoStereographic:dD,geoStereographicRaw:m8,geoStream:Kr,geoTransform:BJ,geoTransverseMercator:hD,geoTransverseMercatorRaw:p8,gray:CH,greatest:jM,greatestIndex:oU,group:rg,groupSort:WG,groups:NM,hcl:oc,hierarchy:Sg,histogram:iw,hsl:ac,html:hX,image:cX,index:GG,indexes:UG,interpolate:ua,interpolateArray:wO,interpolateBasis:k7,interpolateBasisClosed:M7,interpolateBlues:_te,interpolateBrBG:ete,interpolateBuGn:cte,interpolateBuPu:ute,interpolateCividis:kte,interpolateCool:Cte,interpolateCubehelix:NO,interpolateCubehelixDefault:Mte,interpolateCubehelixLong:Bd,interpolateDate:C7,interpolateDiscrete:AO,interpolateGnBu:fte,interpolateGreens:wte,interpolateGreys:Tte,interpolateHcl:FO,interpolateHclLong:BO,interpolateHsl:OO,interpolateHslLong:CO,interpolateHue:SO,interpolateInferno:Zte,interpolateLab:DO,interpolateMagma:Ite,interpolateNumber:cr,interpolateNumberArray:hg,interpolateObject:D7,interpolateOrRd:dte,interpolateOranges:Ete,interpolatePRGn:tte,interpolatePiYG:nte,interpolatePlasma:Rte,interpolatePuBu:mte,interpolatePuBuGn:hte,interpolatePuOr:rte,interpolatePuRd:pte,interpolatePurples:Ate,interpolateRainbow:Dte,interpolateRdBu:ite,interpolateRdGy:ate,interpolateRdPu:gte,interpolateRdYlBu:ote,interpolateRdYlGn:ste,interpolateReds:Ste,interpolateRgb:y0,interpolateRgbBasis:O7,interpolateRgbBasisClosed:xO,interpolateRound:Yc,interpolateSinebow:Bte,interpolateSpectral:lte,interpolateString:mg,interpolateTransformCss:L7,interpolateTransformSvg:F7,interpolateTurbo:$te,interpolateViridis:Nte,interpolateWarm:Ote,interpolateYlGn:bte,interpolateYlGnBu:yte,interpolateYlOrBr:vte,interpolateYlOrRd:xte,interpolateZoom:B7,interrupt:r0,intersection:bU,interval:jO,isoFormat:Ree,isoParse:iL,json:fX,lab:Wf,lch:DH,least:aU,leastIndex:UM,line:th,lineRadial:gA,link:Ig,linkHorizontal:tne,linkRadial:rne,linkVertical:nne,local:Ld,map:hU,matcher:x7,max:Dn,maxIndex:h7,mean:GM,median:g7,medianIndex:QG,merge:y7,min:Va,minIndex:m7,mode:tU,namespace:Dd,namespaces:wv,nice:f7,now:Nd,pack:_D,packEnclose:xK,packSiblings:AK,pairs:nU,partition:TD,path:qc,pathRound:Hq,permute:c7,pie:ZL,piecewise:$d,pointRadial:uf,pointer:lr,pointers:fH,polygonArea:$K,polygonCentroid:NK,polygonContains:PK,polygonHull:RK,polygonLength:jK,precisionFixed:Y7,precisionPrefix:q7,precisionRound:V7,quadtree:xg,quantile:m0,quantileIndex:zM,quantileSorted:p7,quantize:IO,quickselect:ig,radialArea:yA,radialLine:gA,randomBates:WK,randomBernoulli:qK,randomBeta:FD,randomBinomial:BD,randomCauchy:XK,randomExponential:HK,randomGamma:v8,randomGeometric:LD,randomInt:GK,randomIrwinHall:DD,randomLcg:tQ,randomLogNormal:UK,randomLogistic:JK,randomNormal:b8,randomPareto:YK,randomPoisson:KK,randomUniform:zK,randomWeibull:VK,range:ln,rank:iU,reduce:mU,reverse:pU,rgb:Qi,ribbon:eV,ribbonArrow:tV,rollup:ZM,rollups:RM,scaleBand:x8,scaleDiverging:R8,scaleDivergingLog:P8,scaleDivergingPow:Bg,scaleDivergingSqrt:cL,scaleDivergingSymlog:j8,scaleIdentity:A8,scaleImplicit:Jm,scaleLinear:T8,scaleLog:E8,scaleOrdinal:Hd,scalePoint:nQ,scalePow:kg,scaleQuantile:C8,scaleQuantize:D8,scaleRadial:ZD,scaleSequential:Dg,scaleSequentialLog:I8,scaleSequentialPow:Lg,scaleSequentialQuantile:lL,scaleSequentialSqrt:sL,scaleSequentialSymlog:Z8,scaleSqrt:ID,scaleSymlog:M8,scaleThreshold:Mg,scaleTime:aL,scaleUtc:oL,scan:sU,schemeAccent:Wee,schemeBlues:DL,schemeBrBG:uL,schemeBuGn:vL,schemeBuPu:xL,schemeCategory10:Uee,schemeDark2:Hee,schemeGnBu:_L,schemeGreens:LL,schemeGreys:FL,schemeOrRd:wL,schemeOranges:NL,schemePRGn:fL,schemePaired:Yee,schemePastel1:qee,schemePastel2:Vee,schemePiYG:dL,schemePuBu:AL,schemePuBuGn:TL,schemePuOr:hL,schemePuRd:SL,schemePurples:BL,schemeRdBu:mL,schemeRdGy:pL,schemeRdPu:EL,schemeRdYlBu:gL,schemeRdYlGn:yL,schemeReds:$L,schemeSet1:Xee,schemeSet2:Jee,schemeSet3:Kee,schemeSpectral:bL,schemeTableau10:Qee,schemeYlGn:ML,schemeYlGnBu:kL,schemeYlOrBr:OL,schemeYlOrRd:CL,select:ie,selectAll:dH,selection:G0,selector:sg,selectorAll:v7,shuffle:lU,shuffler:WM,some:fU,sort:vv,stack:DF,stackOffsetDiverging:pne,stackOffsetExpand:mne,stackOffsetNone:pc,stackOffsetSilhouette:gne,stackOffsetWiggle:yne,stackOrderAppearance:LF,stackOrderAscending:FF,stackOrderDescending:vne,stackOrderInsideOut:xne,stackOrderNone:gc,stackOrderReverse:_ne,stratify:c3,style:p0,subset:xU,sum:z0,superset:YM,svg:mX,symbol:rF,symbolAsterisk:UL,symbolCircle:Zg,symbolCross:WL,symbolDiamond:YL,symbolDiamond2:qL,symbolPlus:VL,symbolSquare:XL,symbolSquare2:JL,symbolStar:QL,symbolTimes:h3,symbolTriangle:eF,symbolTriangle2:tF,symbolWye:nF,symbolX:h3,symbols:bA,symbolsFill:bA,symbolsStroke:fne,text:vg,thresholdFreedmanDiaconis:JG,thresholdScott:KG,thresholdSturges:d7,tickFormat:w8,tickIncrement:h0,tickStep:qa,ticks:d0,timeDay:qi,timeDays:vQ,get timeFormat(){return Og},timeFormatDefaultLocale:nL,timeFormatLocale:B8,timeFriday:jD,timeFridays:EQ,timeHour:Xd,timeHours:yQ,timeInterval:Tt,timeMillisecond:Wo,timeMilliseconds:QT,timeMinute:qd,timeMinutes:pQ,timeMonday:nd,timeMondays:wQ,timeMonth:hc,timeMonths:BQ,get timeParse(){return $8},timeSaturday:zD,timeSaturdays:kQ,timeSecond:ai,timeSeconds:tA,timeSunday:Ho,timeSundays:nA,timeThursday:w0,timeThursdays:SQ,timeTickInterval:JD,timeTicks:XD,timeTuesday:RD,timeTuesdays:TQ,timeWednesday:PD,timeWednesdays:AQ,timeWeek:Ho,timeWeeks:nA,timeYear:gi,timeYears:NQ,timeout:Mv,timer:gg,timerFlush:PO,transition:WO,transpose:HM,tree:AD,treemap:kD,treemapBinary:MD,treemapDice:Xc,treemapResquarify:CD,treemapSlice:Wd,treemapSliceDice:OD,treemapSquarify:y8,tsv:lX,tsvFormat:qV,tsvFormatBody:VV,tsvFormatRow:JV,tsvFormatRows:XV,tsvFormatValue:KV,tsvParse:nC,tsvParseRows:YV,union:_U,unixDay:F8,unixDays:_Q,utcDay:za,utcDays:xQ,get utcFormat(){return q0},utcFriday:WD,utcFridays:LQ,utcHour:Jd,utcHours:bQ,utcMillisecond:Wo,utcMilliseconds:QT,utcMinute:Vd,utcMinutes:gQ,utcMonday:rd,utcMondays:MQ,utcMonth:mc,utcMonths:$Q,get utcParse(){return Kd},utcSaturday:HD,utcSaturdays:FQ,utcSecond:ai,utcSeconds:tA,utcSunday:Yo,utcSundays:rA,utcThursday:T0,utcThursdays:DQ,utcTickInterval:VD,utcTicks:qD,utcTuesday:GD,utcTuesdays:OQ,utcWednesday:UD,utcWednesdays:CQ,utcWeek:Yo,utcWeeks:rA,utcYear:yi,utcYears:IQ,variance:LM,window:_7,xml:dX,zip:b7,zoom:Mne,zoomIdentity:jg,zoomTransform:$F},Symbol.toStringTag,{value:"Module"})),yt=e=>{var t;return(t=e.data)==null?void 0:t.values.slice()},NF=(e,t)=>B(e).isCircular()&&t.data?t.data:t,IF=function(e,t,n){let r=t.split(".").reverse();if(arguments.length===2){let i=e;for(;r.length;)i=i[r.pop()];return i}if(arguments.length===3){let i=n;for(;r.length;)i={[r.pop()]:i};return i}},Ka=()=>"_",ZF=(e,t)=>{var r,i,a;if(e.mark.href)return e.mark.href;if(e.encoding.href.value)return e.encoding.href.value;const n=Oe(e,"href");return((i=(r=t==null?void 0:t.data)==null?void 0:r[Ka()])==null?void 0:i[n])||((a=t==null?void 0:t.data)==null?void 0:a[n])||Ge(e,"href")(t)},an=e=>{if(typeof e.mark=="string")return e.mark;if(typeof e.mark=="object")return e.mark.type},Lr=()=>{},id=e=>e,A0=e=>e==null?void 0:e.toLowerCase().replace(/ /g,"-"),RF=e=>e*180/Math.PI,PF=(e,t)=>["temporal","quantitative"].includes(bt(e,t)),Xo=(e,t)=>["nominal","ordinal"].includes(bt(e,t)),One=(e,t)=>({x:e*Math.cos(t),y:e*Math.sin(t)}),jF=(e,...t)=>n=>{const r=n.node().tagName,a=Pl(`${r==="g"?"svg":"html"}:${r}`);a.call(e,...t),n.append(()=>a.node())},mb={count:0,map:new WeakMap},Cne=e=>{const t=typeof e;if(t!=="object"&&t!=="function")return`${e}`;{const r=mb.map.get(e);if(r)return`${t}-${r}`;{const i=`${mb.count++}`;return mb.map.set(e,i),`${t}-${i}`}}},Dne=e=>e.map(Cne).join(" "),Be=e=>{const t=new Map;return function(...n){const r=Dne(n);if(t.has(r))return t.get(r);{const i=e.apply(this,n);return t.set(r,i),i}}},Cf="utc",X8="time",Lne=Kd("%Y-%m-%d"),Fne=iL,Bne=e=>new Date(e),$ne=e=>{const t=[Lne,Fne,Bne],n=a=>{const o=a(e),s=!!o&&o.getFullYear();return typeof s=="number"&&!Number.isNaN(s)},r=t.find(n);return typeof r=="function"?r:null},Nne=Be($ne),Ine=e=>{const t=Nne(e);if(typeof t=="function")return t(e)},na=Be(Ine),Zne=new RegExp(`(?:${X8}|${Cf})(\\w+)`,"gi"),zF=e=>{let t=[...e.matchAll(Zne)];if(!t.length)return e;let[,n]=t[0];return e.replace(n,n[0].toUpperCase()+n.slice(1))},Rne=e=>{const t=e.startsWith(Cf)?"":X8;return zF(`${t}${e}`)},GF=(e,t)=>{const n=e.encoding[t].timeUnit||"utcday",r=n.startsWith(Cf),i=n.endsWith("week"),a=r?Cf:X8;let o;if(!r)o=n;else if(i){const s=na(Va(e.data.values,Ge(e,t)));o=q0("%A")(s)}else o=n.slice(Cf.length);return zF(`${a}${o}`)},Pne=e=>e.toUTCString(),jne=(e,t)=>{var r,i,a;const n=(a=(i=(r=e.encoding)==null?void 0:r[t])==null?void 0:i.axis)==null?void 0:a.format;return n?q0(n):Pne},UF=Be(jne),WF=(e,t)=>{const n=B(e).isTemporalBar()?Ga(e,t):0,r=bi(e);return{...t,[r]:t[r]-n}},zne=(e,t=null)=>{const n=t||an(e),r={},i=o=>s=>Ge(e,o)(s),a=(...o)=>{o.forEach(s=>{var l;(l=e.encoding)!=null&&l[s]&&(r[s]=i(s))})};if(n==="series"&&(r.color=o=>o.key),["bar","area"].includes(n)){const o=l=>l[0],s=l=>l.data.key;g3(e)==="horizontal"?(r.x=o,B(e).hasEncodingY()&&(r.y=s)):g3(e)==="vertical"&&(r.y=o,B(e).hasEncodingX()&&(r.x=s)),r.start=l=>l[1]?l:[l[0],l[0]],r.length=l=>isNaN(l[1])?0:l[1]-l[0]}if(n==="arc"&&(r.theta=o=>o.data.value,r.color=o=>o.data.key),n==="rule"&&a("x","y","color"),["point","square","circle"].includes(n)&&a("x","y","color"),n==="line"){const o=Fr(e),s=bi(e);r[o]=l=>l.value,r[s]=B(e).isTemporal()?l=>na(l.period):i(s),r.color=l=>B(e).hasColor()?Ge(e,"color")(l):null}return n==="text"&&a("x","y","color","text"),n==="image"&&a("x","y","url"),e.encoding&&(Object.entries(e.encoding).forEach(([o,s])=>{s.datum&&(r[o]=()=>s.datum)}),Object.entries(e.encoding).forEach(([o,s])=>{if((s==null?void 0:s.type)==="temporal"){const l=r[o];r[o]=c=>na(l(c))}})),r},vr=Be(zne),Jc=(e,t)=>{var n;if(((n=e.usermeta)==null?void 0:n[t])!==void 0)return e.usermeta[t]},Gne=e=>{typeof e.usermeta!="object"&&(e.usermeta={})},Une="steelblue",HF=(e,t,n=1)=>e[t%2?"brighter":"darker"](n),AA={deuteranopia:["#e1daae","#ff934f","#cc2d35","#058ed9","#2d3142"],protanopia:["#e8f086","#6fde6e","#ff4242","#a691ae","#235fa4"],tritanopia:["#dd4444","#f48080","#ffdcdc","#2d676f","#194b4f"]},Wne=(e,t)=>{if(!AA[t])throw new Error(`unknown color palette "${t}"`);const n=$d(y0.gamma(2.2),AA[t]),r=1/e,i=Array.from({length:e}).map((o,s)=>n(s*r)).map(o=>ac(o));let a;return t==="tritanopia"?a=.1:a=.5,i.map((o,s)=>HF(o,s,a))},Hne=e=>{if(!e||e===1)return[Une];const n=ln(e).map((s,l)=>360/e*l).map(s=>oc(s,100,50)).map((s,l)=>HF(s,l)).map(s=>s.toString()),r=Math.floor(e*.5),i=n.slice(0,r),a=n.slice(r);return b7(i,a).flat()},SA=e=>{if(e.length===1)return e;const t=e.length,n=Math.floor(t*.5),r=e.slice(0,n),i=e.slice(n);return b7(r,i).flat()},YF=(e,t)=>{var r;const n=(r=Jc(e,"color"))==null?void 0:r.variant;return SA(n?Wne(t,n):Hne(t))},rp=["ascending","descending"],J8=e=>e[0]==="-",Yne=(e,t)=>{var r;const n=(r=e.encoding[t])==null?void 0:r.sort;if(n){if(typeof n=="string"){if(rp.includes(n))return Oe(e,t);{const i=J8(n)?1:0;return Oe(e,n.slice(i))}}else if(typeof n=="object"){if(n.field)return n.field;if(n.encoding)return Oe(e,n.encoding)}}},qF=Be(Yne),qne=(e,t)=>{var r;const n=(r=e.encoding[t])==null?void 0:r.sort;if(!n)return null;if(n){if(typeof n=="object"&&rp.includes(n.order))return n.order;if(typeof n=="string"){if(rp.includes(n))return n;if(J8(n))return"descending"}return"ascending"}},VF=Be(qne),Vne=(e,t)=>Object.entries(e.encoding).find(n=>n[1].field===qF(e,t))[0],m3=Be(Vne),Xne=(e,t)=>VF(e,t)==="ascending",Jne=(e,t)=>VF(e,t)==="descending",XF=(e,t)=>{const n=Ge(e,t),r=new Set(yt(e).map(n));if(yt(e).length===r.size)return yt(e);{const a={};yt(e).forEach(c=>{const u=n(c),f=Ge(e,m3(e,t))(c);if(!Object.prototype.hasOwnProperty.call(a,u))a[u]=f;else{const h=[f,a[u]];B(e).isBar()?a[u]=z0(h):a[u]=Va(h)}});const o=Object.entries(a).sort(([,c],[,u])=>Ke(c,u)).map(([c])=>c),s=(c,u)=>o.indexOf(n(c))-o.indexOf(n(u));return yt(e).map(c=>{const u=n(c);return{...c,[Oe(e,m3(e,t))]:a[u]}}).sort(s)}},Kne=e=>{var n;const t=(n=Object.entries(e.encoding).find(([,r])=>r.sort))==null?void 0:n[0];if(t){const i=yt(e).map(Ge(e,t)).sort(JF(e,t)),a=vr(e)[t];return(o,s)=>i.indexOf(a(o))-i.indexOf(a(s))}else return Q8()},EA=Be(Kne),Du=(e,t)=>{var r;const n=(r=e.encoding[t])==null?void 0:r.sort;if(PF(e,t))return"natural";if(Xo(e,t)){if(Array.isArray(n))return"array";if(qF(e,t)){if(n.field)return"field";if(n.encoding||typeof n=="string"&&!rp.includes(n))return"channel";if(n)return"natural"}else return"none"}},K8=(e,t)=>Xne(e,t)?Ke:Jne(e,t)?o7:Q8(),Qne=(e,t)=>{const n=K8(e,t);return(r,i)=>n(r,i)},ere=(e,t)=>{const n=K8(e,t),r=Ge(e,m3(e,t)),i=(o,s)=>n(r(o),r(s)),a=XF(e,t).sort(i).map(Ge(e,t));return(o,s)=>a.indexOf(o)-a.indexOf(s)},tre=(e,t)=>{const{sort:n}=e.encoding[t];let r;typeof n=="object"?r=n.encoding:typeof n=="string"&&(r=J8(n)?n.slice(1):n);const i=Ge(e,r),a=K8(e,t),o=XF(e,t).sort((s,l)=>a(i(s),i(l))).map(Ge(e,t));return(s,l)=>o.indexOf(s)-o.indexOf(l)},nre=(e,t)=>{const n=e.encoding[t].sort;return(r,i)=>!n.includes(r)&&n.includes(i)?1:n.includes(r)&&!n.includes(i)?-1:n.indexOf(r)-n.indexOf(i)},Q8=()=>()=>0,rre=(e,t)=>{var n;try{if(Du(e,t)==="channel")return tre(e,t);if(Du(e,t)==="array")return nre(e,t);if(Du(e,t)==="field")return ere(e,t);if(Du(e,t)==="natural")return Qne(e,t);if(Du(e,t)==="none")return Q8()}catch(r){const i=(n=e.encoding[t])==null?void 0:n.sort;throw new Error(`could not sort encoding ${t} by ${typeof i=="string"?i:JSON.stringify(i)} - ${r.message}`)}},JF=Be(rre),ire={x:0,y:0},are=(e,t,n)=>Object.assign(e,{domain:()=>t,range:()=>n}),ore=(e,t)=>{var n,r,i;if(((n=e.encoding[t])==null?void 0:n.scale)===null)return null;if(((i=(r=e.encoding[t])==null?void 0:r.scale)==null?void 0:i.type)==="symlog"&&bt(e,t)==="quantitative")return"scaleSymlog"},KF=(e,t)=>{var i,a,o;if((a=(i=e.encoding[t])==null?void 0:i.scale)!=null&&a.type||((o=e.encoding[t])==null?void 0:o.scale)===null)return ore(e,t);let n={temporal:"scaleUtc",nominal:"scaleOrdinal",quantitative:"scaleLinear",ordinal:"scaleOrdinal"},r;if(["x","y"].includes(e4(e,t))&&Xo(e,t)?B(e).isBar()?r="scaleBand":r="scalePoint":r=n[bt(e,t)],typeof zg[r]=="function")return r;throw new Error(`could not determine scale method for ${t} channel because encoding type is ${bt(e,t)}`)},QF=(e,t)=>{var r,i;const n=(i=(r=e.encoding[t])==null?void 0:r.scale)==null?void 0:i.domain;if(n)return bt(e,t)==="temporal"?n.map(na):n},kA=e=>["href","text","tooltip","description","url"].includes(e),e4=(e,t)=>t.endsWith("2")?t.slice(0,-1):t,sre=(e,t)=>{var r;const n=bt(e,t);if(t==="color")return Array.from(new Set(yt(e).map(Ge(e,"color"))));if(n==="temporal"){const i=a=>na(Ge(e,t)(a)).getTime();return ci(yt(e),i)}else{if(n==="nominal"||n==="ordinal")return[...new Set(yt(e).map(i=>Ge(e,t)(i)))];if(n==="quantitative"){if(t==="theta")return[0,360];let i,a;if(B(e).isBar()||B(e).isArea())i=0,a=Dn(wie(e));else if(B(e).isLine()){const o=cn(e).map(f=>f.values).flat(),s=((r=e.encoding.y.scale)==null?void 0:r.zero)===!1,l=f=>f.value,c=Va(o,l),u=typeof c=="number"&&c>0;s&&u?i=c:u?i=0:i=c,a=Dn(o,l)}else i=0,a=Dn(yt(e),Ge(e,t));return[i,a]}else return ci(yt(e),i=>Ge(e,t)(i))}},lre=(e,t)=>!e.encoding[t].sort||e.encoding[t].sort===null?id:n=>n.slice().sort(JF(e,t)),p3=(e,t)=>QF(e,t)||lre(e,t)(sre(e,t)),MA=(e,t,n)=>{const r=e4(e,n),i=()=>{let o;if(Xo(e,r)&&!["scaleBand","scalePoint"].includes(KF(e,r))){const s=p3(e,r).length,l=t[r]/s;o=Array.from({length:s}).map((u,f)=>f*l)}else o=[0,B(e).isTemporalBar()?WF(e,t)[r]:t[r]];return r==="y"&&bt(e,r)==="quantitative"&&o.reverse(),o};return{x:i,y:i,color:()=>{var s,l;let o;return B(e).isRule()?o=id:o=cn,((l=(s=e.encoding.color)==null?void 0:s.scale)==null?void 0:l.range)||YF(e,(QF(e,r)||o(e)).length)},theta:()=>[0,Math.PI*2]}[r]()},cre=(e,t)=>{if(typeof e.encoding!="object")return;const n={};return Object.entries(e.encoding).forEach(([r,i])=>{i!==null&&i.value&&(n[r]=()=>i.value),(i.datum&&kA(r)||B(e).isImage()&&r==="url")&&(n[r]=id)}),Object.entries(e.encoding).filter(([r])=>!kA(r)&&!n[r]).forEach(([r])=>{try{const i=KF(e,e4(e,r));if(i===null)n[r]=are(id,p3(e,r),MA(e,t,r));else{const a=zg[i]().domain(p3(e,r)).range(MA(e,t,r));i==="scaleLinear"&&a.nice(),n[r]=a}}catch(i){throw i.message=`could not generate ${r} scale - ${i.message}`,i}}),!n.color&&!B(e).isMulticolor()&&(n.color=()=>YF(e,1).pop()),n},ure=e=>{const t=[];return(B(e).isBar()||B(e).isArea())&&t.push("length"),B(e).isText()&&!e.mark.text&&e.encoding.text.field&&t.push("text"),t},fre=(e,t,n)=>{const r={...n},i=ure(e);if(i.includes("length")){const a=Fr(e);r.length=o=>{if(r[a].domain().every(s=>s===0))return 0;if(a==="y")return t[a]-r[a](o);if(a==="x")return r[a](o)},r.start=o=>{if(a==="y")return r[a](o[0])-r.length(o[1]-o[0]);if(a==="x")return r[a](o[0])}}return i.includes("text")&&(r.text=a=>`${a}`),r},dre=(e,t=ire)=>{const n=cre(e,t);return fre(e,t,n)},xr=Be(dre),hre=e=>{const t=e.split("+").map(n=>n.trim()).map(n=>{const r=typeof n=="string"&&n.startsWith("datum.");if(n.startsWith("'")&&n.endsWith("'"))return n.slice(1,-1);if(r)return n}).filter(n=>!!n);return n=>t.map(r=>{if(r.startsWith("datum.")){const i=r.slice(6);return n[i]}else return r}).join("")},mre=e=>t=>e!=null&&e.length?e.reduce((n,r)=>{if(!r.calculate)throw new Error("only calculate transforms are currently supported");return{...n,[r.as]:hre(r.calculate)({...t})}},{...t}):id,pre=Be(mre),eB=e=>pre(e.transform),gre=e=>`${e.key}: ${e.value}`,yre=e=>Array.isArray(e)?e.map(gre).join("; "):e,bre=e=>{const t=["tooltip","href","text","description"];return B(e).isMulticolor()||t.push("color"),Object.keys(e.encoding).filter(n=>t.includes(n)===!1)},vre=Be(bre);function xre(e,t,n){try{const r=ie(t).datum();if(!r)return;const i={datum:r,node:t,interaction:n,content:nB(e)(r)};B(e).isMulticolor()&&(i.color=xr(e).color(pt.get(r)));const a=new CustomEvent("tooltip",{bubbles:!0,detail:i});t.dispatchEvent(a)}catch(r){throw r.message=`could not emit tooltip event - ${r.message}`,r}}const _re=(e,t)=>{if(!t.mark.tooltip||t.encoding.tooltip===null)return Lr;e.append("title").text(rB(t)(e.datum()))},t4=e=>{var t;return(t=e.usermeta)!=null&&t.tooltipHandler?Lr:n=>{n.each(function(){_re(ie(this),e)})}},wre=(e,t)=>{let n;const r=t;n=vr(e),(B(e).isBar()||B(e).isArea())&&(n[Fr(e)]=n.length);let i;i=Oe(e,r);const a=n!=null&&n[r]?n[r]:Ge(e,r);return o=>{let s;return s=a(o),r==="color"&&s===void 0&&(s=pt.get(o)),bt(e,r)==="temporal"&&(s=UF(e,r)(s)),!i&&!s&&(i=t,s=eB(e)()(o)[i]),{key:i,value:s}}},ip=Be(wre),Tre=e=>t=>vre(e).map(n=>ip(e,n)(t)),tB=Be(Tre),Are=e=>t=>{const n=tB(e)(t),r=new Set(n.map(s=>s.key)),o=Object.keys(t).filter(s=>!r.has(s)).map(s=>({key:s,value:t[s]}));return[...n,...o]},Sre=Be(Are),nB=e=>t=>{var a;if(!Object.keys(t).length)return;const n=Oe(e,"tooltip")&&!Array.isArray(e.encoding.tooltip),r=Array.isArray(e.encoding.tooltip);return((a=e.mark.tooltip)==null?void 0:a.content)==="data"?Sre(e)(t):n?ip(e,"tooltip")(t).value:r?e.encoding.tooltip.map(o=>{const s=ip(e,o.field)(t);return o.label&&(s.key=o.label),s}):tB(e)(t)},Ere=e=>Be(t=>yre(nB(e)(t))),rB=Be(Ere),OA="; ",n4=e=>Object.entries(e.encoding).filter(([n,r])=>r.type==="quantitative").map(([n])=>n),kre=e=>{const t=n4(e);let n={},r,i;return B(e).isCircular()?(r=cn(e),i=a=>a.value):B(e).isLine()?(r=cn(e).map(a=>a.values).flat(),i=a=>a.value):B(e).isBar()?(r=cn(e).flat(),i=a=>a[1]-a[0]):r=cn(e),t.forEach(a=>{i||(i=l=>Ge(e,a)(l)),n[a]=new Map;const[o,s]=ci(r,i);n[a].set(o,{type:"minimum"}),n[a].set(s,{type:"maximum"})}),n},Mre=()=>"",Ore=e=>{var r;if(((r=Jc(e,"description"))==null?void 0:r.extent)===!1||B(e).hasLayers())return Mre;const n=kre(e);return i=>{const a=n4(e).map(o=>{const s=c=>ip(e,o)(c).value,l=n[o].get(s(i));return l?`${l.type} value of ${e.encoding[o].field} field`:""}).filter(Boolean);return a.length?OA+a.join(OA):""}},Cre=Be(Ore),Dre=e=>{let t=[];if(B(e).isCircular())t.push(`${Oe(e,Fr(e))}`);else if(B(e).isCartesian()){const n=n4(e).length;n===1?(t.push(`${Oe(e,Fr(e))}`),B(e).isTemporal()?t.push("over time"):t.push(`by ${Oe(e,bi(e))}`)):n===2&&t.push(`${Oe(e,"x")} by ${Oe(e,"y")}`)}if(B(e).hasColor()&&t.push(`split by ${Oe(e,"color")}`),t.length)return`of ${t.join(" ")}`},Lre=e=>t=>{if(e.mark.aria!==!1)return e.encoding.description?Ge(e,"description")(NF(e,t)):`${rB(e)(t)}${Cre(e)(t)}`},ad=Be(Lre),Fre=e=>B(e).hasLayers()?"chart":B(e).isBar()?"bar chart":B(e).isCircular()?e.mark&&e.mark.innerRadius?"donut chart":"pie chart":B(e).isLine()?"line chart":B(e).isArea()?"area chart":B(e).hasPoints&&!B(e).isLine()&&B(e).hasEncodingX()&&B(e).hasEncodingY()?"scatterplot":null,Bre=e=>[Fre(e),e.encoding&&Dre(e)].filter(Boolean).join(" "),$re=e=>{var t;return((t=Jc(e,"description"))==null?void 0:t.instructions)===!1?"":["Use the arrow keys to navigate",B(e).hasLinks()?" and press the Enter key to open links":"","."].join("")},Nre=e=>{if(!e.title.text)throw new Error("specification title is required");return e.description?e.description:`${[e.title.text,e.title.subtitle].filter(Boolean).join(" - ")}. ${$re(e)}`},l1=.001,Kc=e=>Array.isArray(cn(e))&&cn(e).every(Array.isArray)?cn(e).map(n=>n.sort(EA(e))):cn(e).sort((n,r)=>EA(e)(n,r)),pt={get(e){return this.datum.get(e)||this.datum.get(ie(e).datum())||this.node.get(e)},datum:new Map,node:Ld(),set(e,t){typeof e.querySelector=="function"?(this.datum.set(ie(e).datum(),t),this.node.set(e,t)):this.datum.set(e,t)}},Ire=3,iB=30,Zre=(e,t)=>{var u,f;const n=bi(e),r=t[n]/3,i=Kc(e),o=bt(e,n)==="temporal",s=(f=(u=e.encoding[n])==null?void 0:u.scale)==null?void 0:f.domain;let l;if(s&&!o)l=s.length;else if(o){let d;s?d=s==null?void 0:s.map(na):d=ci(i.flat(),m=>na(m.data.key)),l=zg[GF(e,n)].count(d[0],d[1])}else l=Dn(i,d=>d.length);const c=t[n]/l*.5;if(c>Oy&&c<r)return c;if(c<Oy)return Oy;if(c>r)return r},Ga=Be(Zre),Hl=e=>{const t="circle";if(B(e).isLine()||an(e)==="point")return t;if(an(e)==="square")return"rect";if(an(e)==="circle")return"circle"},Qa=e=>{if(B(e).isBar())return"rect";if(B(e).isLine()||B(e).isCircular()||B(e).isArea())return"path";if(!B(e).isLine()&&B(e).hasPoints())return Hl(e);if(B(e).isRule())return"line";if(B(e).isText())return"text";if(B(e).isImage())return"image"},yc=e=>{const t=B(e).hasLayers()?e.layer.find(n=>!B(n).isRule()):e;return B(t).isLine()?`.marks ${Hl(t)}.point.mark`:`.marks ${Qa(t)}`},g3=e=>{var t,n;if(((t=e.encoding.x)==null?void 0:t.type)==="quantitative")return"horizontal";if(((n=e.encoding.y)==null?void 0:n.type)==="quantitative")return"vertical"},aB=(e,t)=>{const n=Si(e,t,vr(e)),r=g3(e)==="vertical",i=n[bi(e)],a=n.start,o=n.length,s=()=>Ga(e,t);return{x:r?i:a,y:r?a:i,height:r?o:s,width:r?s:o}},Rre=(e,t)=>{const n=aB(e,t),r=B(e).hasEncodingY()?n.y:0,i=B(e).hasEncodingX()?n.x:0,a=ad(e),o=Ge(e,"href"),s=t4(e);return c=>{c.append(Qa(e)).attr("role","region").attr("aria-roledescription","data point").attr("tabindex",-1).attr("class","block mark").attr("y",r).attr("x",i).attr("aria-label",a).attr("height",n.height).attr("width",n.width).classed("link",o).call(s)}},Pre=(e,t)=>{let n=0,r=0;return bt(e,"y")==="quantitative"?B(e).hasEncodingX()&&Xo(e,"x")&&(n=Ga(e,t)*.5):bt(e,"x")==="quantitative"&&B(e).hasEncodingY()&&Xo(e,"y")&&(r=Ga(e,t)*.5),`translate(${n},${r})`},jre=(e,t)=>{const n=Si(e,t,vr(e,"series"));return i=>{const o=i.append("g").attr("class","marks").attr("transform",Pre(e,t)).selectAll("g").data(Kc(e)).enter().append("g").each(function(s){pt.set(this,s.key),s.forEach(l=>{pt.set(l,s.key)})}).attr("class",s=>["series",A0(pt.get(s))].join(" ")).attr("role","region").attr("aria-label",s=>`${s.key}`).style("fill",n.color);o.order(),o.selectAll(Qa(e)).data(s=>s).enter().call(Rre(e,t))}},zre=(e,t)=>{const{x:n,y:r,width:i,height:a}=aB(e,t);let o={y0:r,x0:n,x1:s=>n(s)+i(s)};if(Fr(e)==="x")return{...o};if(Fr(e)==="y")return{x0:n,y0:r,y1:s=>r(s)+a(s)}},Gre=(e,t)=>{const n=zre(e,t),{color:r}=Si(e,t,vr(e,"series"));return a=>{const o=a.append("g").attr("class","marks"),s=nh();["x0","x1","y0","y1"].forEach(c=>{s[c](n[c])});const l=cn(e);o.selectAll(Qa(e)).data(l).enter().append("path").attr("d",s).attr("role","region").attr("aria-roledescription","data series").attr("tabindex",-1).attr("fill",r).attr("class","area mark").attr("aria-label",c=>c.key)}},Ure=(e,t)=>{const n=e.mark.size||iB,r=Math.sqrt(n/Math.PI),i=Si(e,t,vr(e));return o=>{o.attr("cx",i.x).attr("cy",i.y).attr("r",r)}},Wre=(e,t)=>{const n=e.mark.size||iB,r=Math.sqrt(n),i=r*.5*-1,a=Si(e,t,vr(e));return s=>{s.attr("x",l=>a.x(l)+i).attr("y",l=>a.y(l)+i).attr("height",r).attr("width",r)}},Hre=(e,t)=>{const n=an(e)==="square"?Wre:Ure;return i=>{const a=i.append(Hl(e));a.classed("point",!0).classed("mark",!0).attr("role","region").attr("aria-roledescription","data point").each(function(o){const s=Ge(e,"color")(o);s&&pt.set(this,s)}).attr("aria-label",ad(e)).classed("link",Ge(e,"href")).call(n(e,t)).call(t4(e)),B(e).isLine()||a.attr("aria-label",ad(e))}},Yre=(e,t)=>{const n=Si(e,t,vr(e)),r=(e.mark.width||0)*.5*-1,i=(e.mark.height||0)*.5*-1;return o=>{o.append("g").attr("class","images").selectAll(Qa(e)).data(cn(e)).enter().append(Qa(e)).attr("class","mark image").attr("href",n.url).attr("transform",l=>{const c=n.x(l),u=n.y(l);return`translate(${c+r},${u+i})`}).attr("aspect",e.mark.aspect).attr("width",e.mark.width).attr("height",e.mark.height)}},oB=(e,t)=>{const n=Si(e,t,vr(e));return i=>{const a=i.append("g").attr("class",()=>{const s=["marks","points"];return B(e).isLine()&&s.push("mark-group"),s.join(" ")}),o=B(e).isLine()?s=>s.values:Die(e);if(a.selectAll(Hl(e)).data(o).enter().call(Hre(e,t)),B(e).isLine())a.style("stroke",n.color).style("fill",B(e).hasPointsFilled()?n.color:null).style("fill-opacity",B(e).hasPointsFilled()?1:l1),e.mark.point==="transparent"&&a.selectAll(Hl(e)).style("stroke-opacity",l1).style("fill-opacity",l1);else{const{color:s}=xr(e),l=a.selectAll(Hl(e));l.style("stroke",B(e).isMulticolor()?n.color:s).style("stroke-width",1),l.style("fill",B(e).isMulticolor()?n.color:s).style("fill-opacity",B(e).hasPointsFilled()?1:l1)}}},qre=(e,t)=>{const n=Si(e,t,vr(e)),r=th().x(n.x).y(n.y);return a=>{const o=a.append("g").attr("class","marks"),s=["x","y"].map(u=>{if(["nominal","ordinal"].includes(e.encoding[u].type)){const d=xr(e,t)[u];return Math.abs(d.range()[1]-d.range()[0])/d.domain().length/2}return 0});s.some(u=>!!u)&&o.attr("transform",`translate(${s.join(",")})`);const l=o.selectAll("g.series").data(Kc(e)).enter().append("g").classed("series",!0);l.each(u=>{const f=Ge(e,"color")(u);pt.set(u,f),u.values.forEach(d=>{pt.set(d,f)})}),l.attr("fill",n.color),l.append("g").attr("class","mark-group line").attr("aria-hidden",!0).append("path").classed("mark",!0).attr("d",u=>r(u.values)).attr("aria-label",u=>{const f=pt.get(u);return typeof f=="string"&&f!==Ka()?f:"line"}).style("fill","none").style("stroke",n.color).style("stroke-width",Ire),e.mark.point&&l.call(oB(e,t))}},sB=e=>Math.min(e.x,e.y)*.5,Vre=(e,t)=>{var f;const n=sB(t),r=(f=e.mark)!=null&&f.innerRadius?e.mark.innerRadius/100:0,i=n*r,{color:a}=xr(e),o=(d,h)=>a.domain().indexOf(d.group)-a.domain().indexOf(h.group),s=d=>d.value,l=ZL().value(s).sort(o),c=Si(e,t,vr(e));return d=>{const m=d.append("g").attr("class","marks").selectAll("path").data(l(Kc(e))).enter().append("path").attr("role","region").attr("aria-roledescription","data point").each(function(p){pt.set(this,p.data.key)}).attr("class","mark arc"),g=z8().innerRadius(i).outerRadius(n);m.attr("d",g).attr("aria-label",ad(e)).style("fill",c.color).classed("link",p=>Ge(e,"href")(NF(e,p))).call(t4(e))}},Xre=e=>{if(e.encoding.x&&e.encoding.x2&&e.encoding.y&&e.encoding.y2)return"diagonal";if(e.encoding.y&&!e.encoding.x)return"horizontal";if(e.encoding.x&&!e.encoding.y)return"vertical";if(e.encoding.x&&e.encoding.y){if(e.encoding.x2)return"horizontal";if(e.encoding.y2)return"vertical"}},Jre=(e,t)=>r=>{const i=r.append("g").attr("class","marks"),a=Si(e,t,vr(e)),o={};o.vertical=l=>{l.attr("x1",a.x).attr("x2",a.x).attr("y1",a.y||0).attr("y2",a.y2||t.y)},o.horizontal=l=>{l.attr("x1",a.x||0).attr("x2",a.x2||t.x).attr("y1",a.y).attr("y2",a.y)},i.selectAll("line").data(yt(e)).enter().append("line").call(o[Xre(e)]).each(function(l){pt.set(this,Ge(e,"color")(l))}).style("stroke",a.color).attr("class","mark rule").attr("role","region").attr("aria-roledescription","data point").attr("aria-label",ad(e)).style("fill",a.color)},Kre=(e,t)=>r=>{const i=r.append("g").attr("class","marks"),a=Si(e,t,vr(e));let o;B(e).hasData()?o=i.selectAll("text").data(Kc(e)).enter().append("text").attr("class","mark"):e.mark.text&&(o=i.append("text").classed("mark",!0)),o.style("font-size",11),e.mark.text?o.text(e.mark.text):o.text(a.text),["x","y"].forEach(c=>{typeof a[c]=="function"&&o.attr(c,a[c])}),a.color&&o.attr("fill",a.color),["dx","dy"].forEach(c=>{e.mark[c]&&o.attr(c,e.mark[c])}),Object.entries({size:"font-size",fontSize:"font-size",font:"font-family",fontStyle:"font-style",fontWeight:"font-weight"}).forEach(([c,u])=>{e.mark[c]&&o.style(u,e.mark[c])}),o.attr("text-anchor",e.mark.align||"middle"),o.attr("alignment-baseline",e.mark.baseline||"middle");const l=!!(e.encoding&&Ge(e,"href"));o.classed("link",l)},Qre=(e,t)=>{try{if(B(e).isBar())return jre(e,t);if(B(e).isArea())return Gre(e,t);if(B(e).isCircular())return Vre(e,t);if(B(e).isLine())return qre(e,t);if(B(e).isRule())return Jre(e,t);if(B(e).hasPoints()&&!B(e).isLine())return oB(e,t);if(B(e).isText())return Kre(e,t);if(B(e).isImage())return Yre(e,t);throw new Error("could not determine mark rendering function")}catch(n){throw n.message=`could not render marks - ${n.message}`,n}},lB=(e,t)=>jF(Qre(e,t)),cB=(e,t)=>{const n=e.layer.map(r=>{var i,a;return(a=(i=r.encoding)==null?void 0:i[t])==null?void 0:a.type}).filter(r=>!!r);if(new Set(n).size===1)return n.pop()},eie=e=>e?e.some(t=>Object.keys(t).length)===!1:!0,uB=(e,t,n)=>{const o=e.layer.map(c=>{const u=!c.data||eie(yt(c))?e.data:c.data;return{...c,data:u}}).filter(c=>c.data).map(c=>{var d;const u=(d=c.encoding)==null?void 0:d[t];if(!u)return null;if(u&&!u.type&&!u.value){const h=cB(e,t);h&&(c.encoding[t].type=h)}return xr(c)[t]}).filter(c=>!!c).map(c=>typeof c[n]=="function"?c[n]():null).flat(),s=c=>{var u,f;return(f=(u=c.encoding)==null?void 0:u[t])==null?void 0:f.type},l=s(e)||s(e.layer.find(s));if(l==="quantitative"||l==="temporal"||!l)return ci(o);if(l==="nominal"||l==="ordinal")return[...new Set(o).values()]},fB=(e,t)=>uB(e,t,"domain"),tie=(e,t)=>uB(e,t,"range"),nie=(e,t)=>e.layer?e.layer.some((n,r)=>t(i0(e,r))):!1,r4=(e,t)=>{if(!e.layer&&t(e))return e;if(e.layer){const r=e.layer.map((i,a)=>i0(e,a)).findIndex(t);if(r!==-1)return i0(e,r)}},rie=e=>{var n,r;if(!e.layer)return e;const t=[i=>{var a,o;return((a=i.encoding.x)==null?void 0:a.axis)||((o=i.encoding.y)==null?void 0:o.axis)},i=>i.encoding.theta&&i.encoding.color,i=>i.encoding.x&&i.encoding.y,i=>i.encoding.x&&!i.encoding.y||!i.encoding.x&&i.encoding.y].map(i=>a=>a.encoding&&i(a)).map(i=>a=>!B(a).hasStaticText()&&i(a));for(const i of t){let a=r4(e,i);if(typeof a=="object"){if(B(e).hasColor()&&!((r=(n=a.encoding.color)==null?void 0:n.scale)!=null&&r.domain)){a.encoding.color||(a.encoding.color={}),a.encoding.color.scale||(a.encoding.color.scale={});const o=fB(e,"color"),s=tie(e,"color");a.encoding.color.scale={domain:o},s.length===o.length&&(a.encoding.color.scale.range=s)}return a}}},Gg=Be(rie),dB=(e,t)=>{const r=ie(t).selectAll("g.layer").filter(function(){return!!ie(this).selectAll(Qa(e)).size()});if(r.size())return r.node();if(!e.layer)return t},i0=(e,t)=>{if(t===void 0)throw new Error(`layer ${t} in specification is undefined`);const n=e.layer[t];if(!n)return;if(n.layer)throw new Error(`layer at index ${t} has a layer property, but nested layers are not supported`);const r={...e,...n};return r.mark.type==="text"&&r.mark.text&&delete r.data,Object.entries(r.encoding||{}).forEach(([a,o])=>{var s,l;if(!o.type){const c=cB(e,a);c&&(r.encoding[a].type=c)}["x","y"].includes(a)&&(r.encoding||(r.encoding={}),r.encoding[a]||(r.encoding[a]={}),r.encoding[a].scale||(r.encoding[a].scale={}),(l=(s=r.encoding[a])==null?void 0:s.scale)!=null&&l.domain||(r.encoding[a].scale={domain:fB(e,a)}))}),["layer","$schema","title","description"].forEach(a=>{delete r[a]}),r},iie=(e,t)=>e.layer.length?n=>{e.layer.forEach((r,i)=>{try{const a=i0(e,i),o=i0(e,e.layer.findIndex(l=>B(l).isBar())),s=B(e).isTemporalBar()&&!B(a).isTemporalBar();n.append("g").classed("layer",!0).call(lB(a,s?WF(o,t):t))}catch(a){const o=an(i0(e,i));throw a.message=`could not render ${o} mark layer at index ${i} - ${a.message}`,a}})}:Lr,pb=(e,t)=>t(e)||nie(e,t),aie=(e,t)=>{const n=e.layer?e.layer.map((r,i)=>i0(e,i)):[e];if(!n.length)throw new Error(`could not determine layers for calling function ${t.name}`);return r=>{n.forEach((i,a)=>{try{r.call(t(i))}catch(o){throw o.message=`function ${t.name} does not return a function for layer ${a} - ${o.message}`,o}})}},oie=e=>e!==null,sie=e=>{const n=pb(e,s=>{var c;const l=[...(Array.from(new Set(yt(s)))||[]).map(Ge(s,"color")).filter(u=>!!u)];return((c=s.encoding)==null?void 0:c.color)&&l.length>1}),i=pb(e,s=>Object.values(s.encoding||{}).some(l=>l.type==="temporal")),a={isBar:s=>an(s)==="bar",isLine:s=>an(s)==="line",isArea:s=>an(s)==="area",hasPoints:s=>{var l,c;return["point","circle","square"].includes(an(s))||((l=s.mark)==null?void 0:l.point)===!0||((c=s.mark)==null?void 0:c.point)==="transparent"},hasPointsFilled:s=>{var l,c;return an(s)!=="point"&&((l=s.mark)==null?void 0:l.filled)!==!1&&((c=s.mark)==null?void 0:c.point)!=="transparent"},hasLayers:s=>s.layer,isCircular:s=>an(s)==="arc",isRule:s=>an(s)==="rule",isText:s=>an(s)==="text",isImage:s=>an(s)==="image",hasColor:s=>{var l;return(l=s.encoding)==null?void 0:l.color},hasLinks:s=>{var l,c;return((l=s.encoding)==null?void 0:l.href)||((c=s.mark)==null?void 0:c.href)},hasData:s=>{var l;return(l=s.data)==null?void 0:l.values.length},hasLegend:s=>{var l,c,u;return((l=s.encoding)==null?void 0:l.color)&&((u=(c=s.encoding)==null?void 0:c.color)==null?void 0:u.legend)!==null},hasLegendTitle:s=>{var l,c,u;return oie((u=(c=(l=s.encoding)==null?void 0:l.color)==null?void 0:c.legend)==null?void 0:u.title)},hasTooltip:s=>{var l,c;return((l=s.mark)==null?void 0:l.tooltip)||((c=s.encoding)==null?void 0:c.tooltip)},hasTransforms:s=>Array.isArray(s.transform),hasAxisX:s=>{var l,c;return((l=s.encoding)==null?void 0:l.x)&&((c=s.encoding)==null?void 0:c.x.axis)!==null},hasAxisY:s=>{var l,c;return((l=s.encoding)==null?void 0:l.y)&&((c=s.encoding)==null?void 0:c.y.axis)!==null},hasAxisLabelsY:s=>{var l,c,u;return((u=(c=(l=s.encoding)==null?void 0:l.y)==null?void 0:c.axis)==null?void 0:u.labels)!==!1},hasAxisLabelsX:s=>{var l,c,u;return((u=(c=(l=s.encoding)==null?void 0:l.x)==null?void 0:c.axis)==null?void 0:u.labels)!==!1},hasAxisTitleX:s=>{var l,c,u;return((u=(c=(l=s.encoding)==null?void 0:l.x)==null?void 0:c.axis)==null?void 0:u.title)!==null},hasAxisTitleY:s=>{var l,c,u;return((u=(c=(l=s.encoding)==null?void 0:l.y)==null?void 0:c.axis)==null?void 0:u.title)!==null},hasStaticText:s=>{var l,c;return((l=s.mark)==null?void 0:l.text)&&!((c=s.encoding)!=null&&c.text)},hasTable:s=>{var l;return((l=s.usermeta)==null?void 0:l.table)!==null},isCartesian:s=>{var l,c;return((l=s.encoding)==null?void 0:l.x)&&((c=s.encoding)==null?void 0:c.y)},isLinear:s=>{var l,c,u,f;return((l=s.encoding)==null?void 0:l.x)&&!((c=s.encoding)!=null&&c.y)||((u=s.encoding)==null?void 0:u.y)&&!((f=s.encoding)!=null&&f.x)},isRadial:s=>{var l;return(l=s.encoding)==null?void 0:l.theta},isTemporal:()=>i,isMulticolor:()=>n,hasEncodingX:s=>{var l;return(l=s.encoding)==null?void 0:l.x},hasEncodingY:s=>{var l;return(l=s.encoding)==null?void 0:l.y},hasEncodingColor:s=>{var l;return(l=s.encoding)==null?void 0:l.color}};a.hasAxis=s=>a.hasEncodingX(s)||a.hasEncodingY(s),a.isTemporalBar=s=>a.isBar(s)&&i;const o={};return Object.entries(a).forEach(([s,l])=>{o[s]=Be(()=>!!pb(e,l))}),o},B=Be(sie),Oe=(e,t)=>{var n,r,i,a;return((r=(n=e.encoding)==null?void 0:n[t])==null?void 0:r.field)||((a=(i=e.facet)==null?void 0:i[t])==null?void 0:a.field)},bt=(e,t)=>{var n,r;return(r=(n=e.encoding)==null?void 0:n[t])==null?void 0:r.type},Ge=(e,t)=>{const n=Oe(e,t),r=n&&n.includes(".");return i=>{if(!r&&i[n]!==void 0)return i[n];if(r)return IF(i,n);if(e.transform)return eB(e)(i)[n]}},Fr=e=>cie(e,(n,r)=>r.type==="quantitative"),lie=(e,t)=>{const n=Object.entries(e.encoding).filter(([r,i])=>t(r,i));if(n.length===1)return n[0][0];if(n.length===0)throw new Error("no channels match test function");if(n.length>1){const r=n.map(i=>i[0]).join(", ");throw new Error(`multiple channels (${r}) match test function`)}},cie=Be(lie),i4=e=>{if((B(e).isCircular()||B(e).isLinear())&&B(e).hasColor())return"color";if(B(e).isCartesian()){const t=Object.entries(e.encoding).filter(([n,r])=>n!=="color"&&r.type&&r.type!=="quantitative");if(t.length!==1)throw new Error("could not identify independent variable");return t.pop()[0]}},bi=e=>{const t=["x","y"].find(n=>n!==Fr(e));if(t)return t;{const n=B(e).isCartesian()?"could not determine Cartesian covariate encoding":"specification is not Cartesian";throw new Error(n)}},Si=(e,t,n)=>{const r={},i=xr(e,t);return Object.keys(n).forEach(a=>{const o=n[a],s=l=>{var d;const c=i[a];if((d=e.encoding[a])!=null&&d.value)return c();const u=bt(e,a)==="temporal"?na(o(l)):o(l);if(o&&c===void 0)throw new Error(`accessor function ${a}() is missing corresponding scale function`);if(l===void 0&&u!==null)throw new Error(`datum for ${a} is undefined`);if(typeof c!="function")throw new Error(`scale function for ${a} is not available`);if(u===void 0&&B(e).isMulticolor())throw new Error(`data value for ${a} is undefined`);const f=c(u);if(f===void 0)throw new Error(`encoded value for ${a} is undefined`);if(Number.isNaN(f))throw new Error(`encoded value for ${a} is not a number (NaN)`);return f};r[a]=s}),r},hB=["description","tooltip","href"],uie=e=>Object.keys(e.encoding).some(t=>hB.includes(t)),fie=(e,t,n)=>n.filter(r=>e[r]===t[r]),die=e=>{const t=" + ",r=mB(e).map(a=>o=>o[a]);return a=>r.map(o=>o(a)).join(t)},hie=e=>hB.map(t=>Oe(e,t)).filter(Boolean),gb=(e,t)=>{let n={};return t.forEach(r=>{e[r]&&(n[r]=e[r])}),n},mie=e=>{let t=[];return B(e).hasColor()&&t.push("color"),B(e).isCartesian()&&t.push(bi(e)),t},mB=e=>mie(e).map(t=>Oe(e,t)).filter(Boolean),pie=(e,t,n)=>{const r={},i=hie(e);return t.forEach(a=>{const o=n(a);r[o]||(r[o]={count:0}),r[o].count++;const s=r[o].count;if(s===1)r[o].fields=gb(a,i);else if(s>1){const l=fie(r[o].fields,gb(a,i),i);l.length!==i.length&&(r[o].fields=gb(a,l))}}),r},gie=(e,t)=>{let n={};const r=mB(e);return B(e).isCircular()?{[r[0]]:t.key}:n},yie=(e,t,n,r)=>{let i={};return t!==Ka()&&(i[Oe(e,"color")]=t),i[n]=r.data.key,i},bie=(e,t,n,r)=>{let i=[];if(t!==Ka()){const a=Oe(e,"color");i[a]=t[a]}return i[n]=r.period||r.bucket,i},vie=(e,t,n)=>{const r=die(e),i=pie(e,n,r);if(B(e).isCircular()&&t.forEach(a=>{var s;const o=r(gie(e,a));Object.assign(a,(s=i[o])==null?void 0:s.fields)}),B(e).isBar()){const a=Oe(e,bi(e));t.forEach(o=>{o.forEach(s=>{var c;const l=r(yie(e,o.key,a,s));Object.assign(s,(c=i[l])==null?void 0:c.fields)})})}return B(e).isLine()&&t.forEach(a=>{const o=Oe(e,bi(e));a.values.forEach(s=>{var c;const l=r(bie(e,a,o,s));Object.assign(s,(c=i[l])==null?void 0:c.fields)})}),t},a4=(e,t)=>{if(!uie(e))return t;if(B(e).isBar()||B(e).isArea()||B(e).isCircular()||B(e).isLine())return vie(e,t,yt(e))},xie=(e,t)=>Array.from(rg(e,n=>n[t])).map(([n,r])=>({key:n,values:r})),_ie=(e,t,n)=>{const r={};return r.key=e.key,e.values.forEach(i=>{const a=i[t];r[a]===void 0&&(r[a]={value:0});const o=n&&n.includes(".")?IF(i,n):i[n];r[a].value+=o,["url","description","tooltip"].forEach(l=>{i[l]&&(r[a][l]=i[l])})}),r},o4=(e,t,n,r)=>xie(e,t).map(i=>_ie(i,n,r)),Ug=e=>{const t=e.map(r=>Object.keys(r).filter(i=>i!=="key")).flat();return[...new Set(t)]},wie=e=>{const t=Oe(e,Fr(e)),n=Oe(e,bi(e)),r=Oe(e,"color"),i=o4(yt(e),n,r,t),a=Ug(i);return i.map(s=>z0(a.map(l=>{var c;return((c=s[l])==null?void 0:c.value)||0})))},Tie=e=>{const t=Ug(e);return e.map(i=>i.sort((a,o)=>Number(new Date(a.data.key))-Number(new Date(o.data.key)))).sort((i,a)=>t.indexOf(i.key)-t.indexOf(a.key))},Aie=(e,t)=>{var n;return((n=e[t])==null?void 0:n.value)||0},Sie=e=>{const t=Oe(e,bi(e)),n=Oe(e,Fr(e)),r=Oe(e,"color"),i=o4(yt(e),t,r,n),o=DF().keys(Ug).value(Aie)(i),s=o.length===1,l=Oe(e,"color");return s&&!l&&o.forEach(u=>{u.key=Ka(),u.forEach(f=>{f.data.undefined&&(f.data[Ka()]=f.data.undefined,delete f.data.undefined)})}),a4(e,Tie(o))},Eie=Be(Sie),kie=e=>{const n=Array.from(rg(yt(e),Ge(e,"color"))).map(([r,i])=>({key:r,values:i})).map(({key:r,values:i})=>({key:r,value:z0(i,Ge(e,"theta"))}));return a4(e,n)},Mie=Be(kie),Oie=e=>{const t=Oe(e,Fr(e)),n=Oe(e,bi(e))||Ka(),r=Oe(e,"color"),i=o4(yt(e),n,r,t),a=Ug(i).map(o=>{const s=i.filter(l=>!!l[o]).map(l=>({[B(e).isTemporal()?"period":Oe(e,i4(e))]:l.key,value:l[o].value})).sort((l,c)=>Number(na(l.period))-Number(na(c.period)));return{[Oe(e,"color")||Ka()]:o,values:s}});return a4(e,a)},Cie=Be(Oie),Die=yt,Lie=yt,cn=e=>B(e).isBar()||B(e).isArea()?Eie(e):B(e).isLine()?Cie(e):B(e).isCircular()?Mie(e):Lie(e),Qc=Ld(),pB=Ld(),Fie=e=>{if(B(e).isBar()||B(e).isArea()||B(e).isCircular()||B(e).isLine()||B(e).isRule()||B(e).isText()||!B(e).isLine()&&B(e).hasPoints())return["addLegendHighlight","removeLegendHighlight","addMarkHighlight","removeMarkHighlight","link","tooltip","play","focus"]},CA=(e,t)=>{const n=G7(...Fie(t)||[]);Qc.set(e,n),pB.set(e,e)},DA=(e,t,n)=>{const r=t.select(".marks").selectAll(".series"),i=t.select(".marks").selectAll(Qa(e));let a=n,o;return B(e).isCircular()||!B(e).isLine()&&B(e).hasPoints()?o=i.node():B(e).isBar()&&(o=r.filter(s=>A0(s.key)===A0(pt.get(n))).node()),{target:a,parent:o}},yb=e=>B(e).isLine()?`${Qa(e)},${yc(e)}`:yc(e),Bie=e=>{window.open(e)},$ie=e=>n=>{if(!e)return Lr;const r=Qc.get(n.node());(()=>{const o=dB(e,n.node()),s=ie(o).selectAll(yb(e)),l=ie(o).selectAll(yc(e)),c=ie(o).selectAll(yc(e));(B(e).isBar()||B(e).isLine()||B(e).isCircular()||B(e).isText()||!B(e).isLine()&&B(e).hasPoints())&&(r.on("addMarkHighlight",function(){const u=document.activeElement,{target:f,parent:d}=DA(e,n,this);d&&(ie(d).order(),ie(d).raise()),ie(f).raise(),ie(f).attr("data-highlight",!0),u.focus()}),r.on("removeMarkHighlight",function(){const{target:u}=DA(e,n,this);ie(u).attr("data-highlight",null)}),s.on("mouseover.highlight",function(){r.call("addMarkHighlight",this),r.call("addLegendHighlight",null,pt.get(this))}).on("mouseout.highlight",function(){r.call("removeMarkHighlight",this),r.call("removeLegendHighlight",this)}),r.on("tooltip",function(u,f){f&&xre(f,this,u)}),r.on("focus",function(u,f){r.call("tooltip",null,u,f),r.call("addMarkHighlight",null)}),c.on("mouseover.tooltip",function(u){B(e).hasTooltip()&&r.call("tooltip",this,u,e)}),r.on("link",function(u){u&&Bie(u)}),l.on("click",function(){if(B(e).hasLinks()){const u=ZF(e,ie(this).datum()||null);r.call("link",this,u)}}))})(),(()=>{const o=".category",l=ie(pB.get(n.node())).select(".legend").selectAll(o);l.on("mouseover",function(){const c=A0(ie(this).select(".label").text());r.call("addLegendHighlight",null,c),n.selectAll(yb(e)).filter(function(){return c===A0(pt.get(this))}).each(function(){r.call("addMarkHighlight",this)})}),l.on("mouseout",function(){r.call("removeLegendHighlight"),n.selectAll(yb(e)).each(function(){r.call("removeMarkHighlight",this)})})})()},Nie=e=>aie(e,$ie),Os=new window.AudioContext,Iie=440,LA=Iie/2,ap=2,Zie=160,y3=60/Zie/2,Rie=Math.pow(2,1/12),Pie=e=>Array.from({length:13}).map((t,n)=>e*Math.pow(Rie,n)),jie=(e,t)=>{const n=(t-e)/12,r=n*2,i=[0,r,n,r,r,n,r,r];return i.map((a,o)=>z0(i.slice(0,o))+e)},zie=e=>{const t=[0,2,3,5,7,8,10,12];return Pie(e).filter((n,r)=>t.includes(r))},Gie=(e,t)=>{const n=Os.createOscillator(),r=Os.createGain();r.gain.setValueAtTime(1,Os.currentTime+t);const i=Os.currentTime+t+y3;n.connect(r),r.connect(Os.destination),n.frequency.value=e,r.gain.setValueAtTime(Os.currentTime+t*.8,1),r.gain.linearRampToValueAtTime(.001,i),n.start(Os.currentTime+t),n.stop(i)},Uie=(e,t)=>{const r=(t-e)/ap;return Array.from({length:ap}).map((i,a)=>{const o=r*a+e,s=r*(a+1)+e,l=jie(o,s).map(c=>c+o);return a===0?l:l.slice(1)}).flat()},Wie=(e,t)=>(t%e!==0&&console.error("endpoints supplied for exponential scale repetition are not octaves"),Array.from({length:ap}).map((n,r)=>{const i=zie(e*2**r);return r===0?i:i.slice(1)}).flat()),Hie=(e,t,n)=>{const[r,i]=ci(e,c=>c.value),a=Uie(B(n).isBar()?0:r,i),o=Wie(LA,LA*2**ap),s=Mg().domain(a).range(o);e.map(({value:c})=>s(c)).forEach((c,u)=>{Gie(c,u*y3),setTimeout(()=>{t.call("focus",null,u,n)},(u+1)*y3*1e3)})},Yie=e=>e.layer?Lr:t=>{var c;const n=((c=cn(e))==null?void 0:c.length)===1,r=B(e).isLine()&&n||B(e).isBar()&&n||B(e).isCircular(),i=Jc(e,"audio")===null;if(!r||i)return;let a;if(B(e).isLine()?{values:a}=cn(e)[0]:B(e).isCircular()?a=cn(e):B(e).isBar()&&(a=cn(e)[0].map(u=>({value:u.data[Ka()].value}))),!a)return;const o=Qc.get(t.node());o.on("play",(u,f)=>{Hie(u,o,f)}),o.on("focus",u=>{t.selectAll(yc(e)).nodes()[u].focus(),u===a.length-1&&(l=!1)});const s=t.append("div").classed("play",!0).text("▶");let l=!1;s.on("click",()=>{l||(o.call("play",null,a,e),l=!0)})},qie=document.createElement("canvas"),bb=qie.getContext("2d"),s4={},Vie=(e,t=s4)=>{Object.assign(bb,t);const n=bb.measureText(e).width;return Object.entries(t).forEach(([r])=>{bb[r]=null}),n},gB=Be(Vie),Xie=e=>{const t=["letter-spacing","font-size","font","font-weight"],n=getComputedStyle(e);let r={};return t.forEach(i=>{const a=n[i];a&&(r[i]=a)}),r},Jie=(e,t,n)=>r=>{if(bt(e,n)!=="quantitative")return r;const i=xr(e,t);return i[n].ticks().some(s=>typeof s=="number"&&s>=1e3)?i[n].tickFormat(EG,".1~s")(r).toUpperCase().replace("G","B"):r},Kie=Be(Jie),Qie=(e,t)=>{const n=bt(e,t)==="temporal"?UF(e,t):r=>r.toString();return r=>n(r)},op=(e,t)=>{var n,r,i;return((i=(r=(n=e.encoding)==null?void 0:n[t])==null?void 0:r.axis)==null?void 0:i.labelAngle)*Math.PI/180||0},eae=(e,t,n,r=s4)=>{var l;let a=Va([(l=e.encoding[t].axis)==null?void 0:l.labelLimit,180]);if(a===0)return n;let o=n;for(;gB(`${o}…`,r)>a&&o.length>0;)o=o.slice(0,-1);const s=o.length<n.length?"…":"";return`${o}${s}`},tae=Be(eae),nae=(e,t,n,r=s4)=>{let i=n;return i=Qie(e,t)(i),i=Kie(e,t)(i),i=tae(e,t,i,r),i},yB=Be(nae),rae=e=>{const t=xr(e),n=["x","y"];return n.map(o=>{const s=l=>yB(e,o,l);return PF(e,o)?t[o].ticks(l4(e,o)).map(s):Xo(e,o)?t[o].domain().map(s):[""]}).map(o=>Dn(o,s=>gB(s))).reduce((o,s,l)=>({...o,[n[l]]:s||null}),{})},iae=Be(rae),aae=(e,t)=>{let n={};return r=>{const i=r.node();!n[t]&&i&&(n[t]=Xie(i)),r.text(a=>yB(e,t,a,n[t]))}},b3=Gs*5,oae=180+b3,v3={x:"bottom",y:"left"},sae=()=>({top:0,right:0,bottom:0,left:0}),bB=e=>{const t=iae(e),n={};return Object.entries(v3).forEach(([r,i])=>{const a=op(e,r);if(t[r]&&typeof a=="number"){const o=One(t[r],a),s=Object.keys(v3).find(c=>c!==r),l=Math.abs(o[s]);n[i]=Math.min(oae,l+Gs)}}),n},lae=e=>({bottom:B(e).hasAxisTitleX()?b3:0,left:B(e).hasAxisTitleY()?b3:0}),cae=e=>{const t={top:Gs*2,right:Gs*2,bottom:Gs*4,left:Gs*4},n={};return Object.values(v3).forEach(r=>{var i,a;n[r]=((i=bB(e))==null?void 0:i[r])+((a=lae(e))==null?void 0:a[r])+Gs}),{top:t.top,right:t.right,bottom:n.bottom||t.bottom,left:n.left||t.left}},uae=e=>B(e).isCircular()?sae():cae(Gg(e)),vB=Be(uae),fae=(e,t)=>{const n=t.x>t.y?(t.y-sB(t)*2)*.5:0,r={x:t.x*.5,y:t.y*.5+n};let i;const{left:a,top:o}=vB(e,t);i={x:a,y:o};const s=B(e).isCircular()?r:i,l=`translate(${s.x},${s.y})`;return c=>{c.select(`g.${a7}`).attr("transform",l)}},l4=(e,t)=>{var u,f;const n=(u=e.encoding[t].axis)==null?void 0:u.tickCount,r=!!((f=e.encoding[t])!=null&&f.timeUnit);if(typeof n=="number")return n;if(bt(e,t)==="temporal"&&r){let d;if(typeof n=="string"?d=n:typeof(n==null?void 0:n.interval)=="string"?d=n.interval:d=GF(e,t),d){let h=(n==null?void 0:n.step)||1;return zg[Rne(d)].every(h)}}const i=xr(e);if(Xo(e,t))return i[t].range();if(i[t].domain()[0]===i[t].domain()[1])return 1;const o=i[t].domain()[1],s=o===parseInt(o,10),l=i[t].domain()[0]===0,c=o<10;return s&&l&&c?o:10},xB=(e,t)=>{var r;const n=e.encoding[t];return((r=n.axis)==null?void 0:r.title)||n.field},_B=(e,t)=>n=>{const r=B(e)[`hasAxisLabels${t.toUpperCase()}`](),i=n.selectAll(".tick").select("text");r?i.call(aae(e,t)):i.text("")},dae=(e,t)=>B(e).hasAxisX()?n=>{const r=xr(e,t),i=B(e).isBar()?Ga(e,t):0,a=B(e).isTemporalBar()&&i4(e)==="y"?Ga(e,t):0,o=qM(r.x);o.ticks(l4(e,"x")),B(e).isBar()&&o.tickSize(0);const s=n.select("g.x").attr("class","x"),l=["axis",bt(e,"x"),op(e,"x")?"angled":""].join(" "),c=s.append("g").attr("class",l).classed(bt(e,"x"),!0);c.call(o),s.call(_B(e,"x")),B(e).hasAxisTitleX()&&s.append("text").attr("class","title").attr("x",t.x*.5-i*.5).attr("y",()=>{const h=c.node().getBBox().height*2,m=bB(e).bottom;return h+m}).text(xB(e,"x"));const u=B(e).isBar()&&bt(e,"x")==="temporal";s.attr("transform",()=>{const d=u?i*.5:0;let h;return r.y?(h=Xo(e,"y")||bt(e,"y")==="temporal"?r.y.range().pop():r.y.range()[0],h+=a):B(e).isBar()&&!B(e).hasEncodingY()?h=Ga(e,t):h=0,`translate(${d},${h})`});const f=RF(op(e,"x"));if(f){const d=c.selectAll(".tick text"),m=[d.node().getBBox().height*.5*-1,0],g=f%360,p=g>0&&g<180,y=`translate(${m.join(", ")}) rotate(${f})`;d.attr("transform",y).attr("text-anchor",p?"start":"end")}return o}:Lr,hae=(e,t)=>B(e).hasAxisY()?n=>{const r=xr(e,t),i=B(e).isTemporalBar()&&i4(e)==="y"?Ga(e,t):0,a=VM(r.y);a.ticks(l4(e,"y"));const o=n.select("g.y"),s=o.append("g").classed("axis",!0).classed(bt(e,"y"),!0);s.call(a).select(".domain").attr("stroke-width",0),o.call(_B(e,"y"));const l=RF(op(e,"y"));if(l){const c=s.selectAll(".tick text"),d=`translate(${[c.node().getBBox().height*.5*-1,i*.5].join(", ")}) rotate(${l})`;c.attr("transform",d)}if(B(e).hasAxisTitleY()){const c=o.append("text").attr("class","title"),u={x:.2},f={x:s.node().getBBox().width*(1+u.x)*-1,y:t.y*.5};c.attr("x",f.x).attr("y",f.y).attr("transform",`rotate(270 ${f.x} ${f.y})`).text(xB(e,"y"))}if((B(e).isBar()||B(e).isLine())&&Fr(e)==="y"&&B(e).hasEncodingX()){const c=B(e).isTemporalBar()&&bt(e,"x")==="temporal"?Ga(e,t):0,u=r.x.range()[1]+c;n.select(".y .axis").selectAll(".tick").select("line").attr("x1",u)}}:Lr,mae=(e,t)=>{let r=r4(e,a=>{var o,s,l,c;return B(e).hasLayers()?a:((s=(o=a.encoding)==null?void 0:o.x)==null?void 0:s.type)&&((c=(l=a.encoding)==null?void 0:l.y)==null?void 0:c.type)});return r?a=>{if(typeof r.encoding!="object")return Lr;const o=a.select("g.axes");B(r).hasEncodingY()&&o.call(hae(r,t)),B(r).hasEncodingX()&&o.call(dae(r,t))}:Lr},pae=(e,t)=>jF(r=>{var c;r.html("");const i=r.append("div").classed("chart",!0),a=i.append("div").classed("graphic",!0);B(e).hasLegend()&&i.append("div").classed("legend",!0),B(e).hasTable()&&i.append("div").classed("table",!0);const o=a.append("svg");o.attr("tabindex",0);const s=o.append("g").classed(a7,!0);if(o.attr("width",t.x),o.attr("role","document"),!((c=e.title)!=null&&c.text))throw new Error("specification title is required");if(o.attr("aria-label",Nre(e)),o.attr("aria-description",Bre(e)),B(e).hasAxis()){const u=s.append("g").classed("axes",!0);u.attr("aria-hidden",!0),B(e).hasEncodingX()&&u.append("g").attr("class","x"),B(e).hasEncodingY()&&u.append("g").attr("class","y")}const l=Jc(e,"id");l&&o.attr("aria-labelledby",`title-${l}`)}),sp="up",Yl="right",lp="down",od="left",Lu={match(e,t,n){return pt.get(t.nodes()[n.index()])===pt.get(e)},later(e,t,n){const r=[...t.nodes()].indexOf(e);return pt.get(t.nodes()[r])!==pt.get(t.nodes()[n.index()])&&r>n.index()},earlier(e,t,n){const r=[...t.nodes()].indexOf(e);return pt.get(t.nodes()[r])!==pt.get(t.nodes()[n.index()])&&r<n.index()}},vb={position(e){return Math.round(e.getBoundingClientRect().left)},match(e,t,n){return this.position(e)===this.position(t.nodes()[n.index()])}},c1=(e,t)=>(n,r)=>{const i=Qc.get(n.node());let a=0,o=n.nodes().length-1;const s=()=>n.nodes()[r.index()],l=m=>B(e).isBar()?isNaN(ie(m).datum()[1])||ie(m).datum()[1]-ie(m).datum()[0]===0:!1;if(r.index()===void 0){r.init(),i.call("addMarkHighlight",s()),i.call("addLegendHighlight",null,pt.get(s()));return}i.call("removeMarkHighlight",s()),i.call("removeLegendHighlight",null,s());let c,u;if(B(e).isCartesian()){if(t===Yl&&(c=(m,g)=>Lu.match(m,n,r)&&g>r.index()&&!l(m),u=m=>Lu.match(m,n,r)&&!l(m)),t===od){const m=[...n.nodes()].filter(g=>Lu.match(g,n,r)&&!l(g));c=g=>g===m[m.indexOf(s())-1],u=g=>g===m[m.length-1]}if(t===sp&&(c=m=>Lu.later(m,n,r)&&vb.match(m,n,r)&&!l(m),u=m=>Lu.earlier(m,n,r)&&vb.match(m,n,r)&&!l(m)),t===lp){const m=[...n.nodes()].filter(g=>vb.match(g,n,r)&&!l(g));c=g=>g===m[m.indexOf(s())-1],u=g=>g===m[m.length-1]}}B(e).isCircular()&&(t===Yl&&(c=(m,g)=>g===r.index()+1,u=(m,g)=>g===a),t===od&&(c=(m,g)=>g===r.index()-1,u=(m,g)=>g===o));let f;const d=[...n.nodes()].findIndex(c),h=[...n.nodes()].findIndex(u);d!==-1?f=d:h!==-1&&(f=h),typeof f=="number"&&(n.attr("tabindex",-1),r.index(f),ie(s()).attr("tabindex",0),s().focus(),i.call("addMarkHighlight",s()),i.call("addLegendHighlight",null,pt.get(s())))},gae=()=>{let e;return{init(){e===void 0&&(e=0)},index(t){return t===void 0?e:(e=t,!0)}}},FA=e=>{e.key!=="Tab"&&e.preventDefault()},yae=e=>({ArrowUp:sp,ArrowRight:Yl,ArrowDown:lp,ArrowLeft:od})[e],bae=e=>{try{const n=r4(e,a=>!B(a).isRule()&&!B(a).isText());return!n||!an(n)||B(n).isRule()||B(n).isText()||!B(n).isLine()&&B(n).hasPoints()||B(n).isLine()&&!B(n).hasPoints()?Lr:a=>{let o={};o[od]=c1(n,od),o[Yl]=c1(n,Yl),B(n).isMulticolor()&&B(n).isCartesian()&&(o[sp]=c1(n,sp),o[lp]=c1(n,lp));const s=ie(dB(n,a.node())).selectAll(yc(n)),l=gae(),c=s.node();if(!(c instanceof Element))return;const u=Qc.get(c);s.filter((d,h)=>h===0).attr("tabindex",0),s.on("focus",function(d){l.index()===void 0&&o[Yl](s,l),u.call("tooltip",this,d,n)}),s.on("keydown",d=>{if(FA(d),d.key==="Enter"){const h=s.nodes()[l.index()],m=ie(h).datum();if(B(n).hasLinks()){const g=ZF(n,m);g&&u.call("link",h,g)}}}),s.on("keyup",d=>{FA(d);const h=o[yae(d.key)];typeof h=="function"&&(h(s,l),u.call("tooltip",s.nodes()[l.index()],d,n))})}}catch(t){throw new Error(`keyboard navigation failure - ${t.message}`)}};function vae(e){const t=Pl("li");t.attr("class","category pair");const n=Pl("div");n.classed("color",!0).style("background-color",e.color);const r=Pl("div");return r.classed("label",!0).text(e.group),t.append(()=>n.node()),t.append(()=>r.node()),t.node()}const BA=({clientWidth:e,clientHeight:t,scrollWidth:n,scrollHeight:r})=>r>t||n>e,xae=e=>{let t=B(e).hasLayers()?Gg(e):e;return r=>{var i;try{const{color:a}=xr(t),o=Qc.get(r.node());if(B(t).hasLegendTitle()){const y=((i=t.encoding.color.legend)==null?void 0:i.title)||Oe(t,"color");r.append("h3").text(y)}const s=r.append("div").classed("items-main",!0).append("ul"),l=Pl("ul").classed("items-more",!0),c=l.append("h3");let u=s;const f=a.domain().map((p,y)=>{const b={group:p,color:a.range()[y]};return vae(b)});u.node().append(...f);const d=()=>{let p=s.select("li:last-of-type").remove().node();p&&l.append(()=>p)};if(BA(r.node())){for(;BA(r.node());)d();d(),s.append(()=>l.node())}const h=l.selectAll("li").size();c.text(`+ ${h} more`);const m=p=>{r.selectAll(".pair").filter(function(){return A0(ie(this).text())===A0(p)}).attr("data-highlight",!0)},g=()=>{r.selectAll(".pair").attr("data-highlight",null)};o&&(o.on("addLegendHighlight",m),o.on("removeLegendHighlight",g))}catch(a){throw a.message=`could not render legend - ${a.message}`,a}}},_ae=e=>B(e).hasLegend()&&(B(e).isMulticolor()||B(e).isCircular())?xae(e):Lr,wae=[".graphic","svg","svg > title",".wrapper",".layer",".marks",".mark",".marks .mark.point",".marks .mark.text",".axes",".axes .x",".axes .x .title",".axes .y",".axes .y .title",".mark title",".point title",".tick",".legend",".legend .pair",".legend .items-main",".legend .items-more"],Tae=e=>{const t=e.slice(0,1)===".";let n;return n=t?e.slice(1):e,n.replace(/\./g,"-")},Aae=e=>e!==">",Sae=e=>e.split(" ").map(Tae).filter(Aae).join("-"),Eae=e=>{wae.forEach(t=>{e.selectAll(t).attr("data-test-selector",Sae(t))})},kae=e=>t=>{t.append("table").append("caption").text(e.title.text)},Mae=e=>Object.keys(e.encoding),x3=e=>Mae(e).map(t=>Oe(e,t)),Oae=e=>t=>Object.entries(t).sort((n,r)=>x3(e).indexOf(n[0])-x3(e).indexOf(r[0])),Cae=e=>t=>{t.select("table").append("thead").append("tr").selectAll("td").data(x3(e)).enter().append("td").attr("scope","col").text(r=>r)},Dae=e=>t=>{var r;const n=t.select("table").append("tbody").selectAll("tr").data(yt(e)).enter().append("tr").attr("scope","row").selectAll("td").data(i=>Oae(e)(i)).enter().append("td").text(([i,a])=>a).attr("class",([i,a])=>typeof a=="number"?"quantitative":null);(r=e.encoding.color)!=null&&r.field&&n.filter(([i])=>i===Oe(e,"color")).append("div").style("background-color",([i,a])=>xr(e).color(a))},Lae=e=>({data:{marks:Kc(Gg(e))}}),Fae=(e,t)=>{const n=Gg(e);return Jc(n,"table")===null?Lr:r=>{r.call(kae(e)).call(Cae(n)).call(Dae(n))}},Dt=(e,t)=>{let n,r=console.error,i=Fae;const a=o=>{var s;try{o.html(""),o.call(pae(e,t)),CA(o.node(),e),o.call(Yie(e));const l=o.select("div.chart");CA(l.node(),e),B(e).hasTable()&&l.select(".table").call(i(e,Lae(e))),B(e).hasLegend()&&l.select(".legend").call(_ae(e));const c=((s=l.select(".legend").node())==null?void 0:s.getBoundingClientRect().height)||0,u=l.select("svg"),f=t.y-c;u.attr("height",Math.max(f,0));const{top:d,right:h,bottom:m,left:g}=vB(e,t),p={x:t.x-g-h,y:f-d-m};p.y>0&&(l.select(".graphic").select("svg").call(fae(e,{x:t.x,y:f})).select(`g.${a7}`).call(mae(e,p)).call((e.layer?iie:lB)(e,p)).call(bae(e)).call(Nie(e)),o.call(Eae))}catch(l){r(l)}};return a.table=o=>o===void 0?i:(typeof o=="function"&&(i=o),a),a.tooltip=o=>{if(o===void 0)return n;if(typeof o=="function")n=o,Gne(e),e.usermeta.tooltipHandler=!0;else throw new Error(`tooltip handler must be a function, but input was of type ${typeof o}`);return a},a.error=o=>typeof o<"u"?(r=o,a):r,a},Bae=e=>{Dt({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Barcode"},data:{values:[{a:"A",b:28},{a:"B",b:55},{a:"C",b:33},{a:"D",b:91},{a:"E",b:81},{a:"F",b:53},{a:"G",b:19},{a:"H",b:87},{a:"I",b:52}]},mark:"tick",encoding:{x:{field:"b",type:"quantitative"}}},{x:500,y:500})(ie(e))};/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var $ae=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nae=Object.prototype.hasOwnProperty;function _3(e,t){return Nae.call(e,t)}function w3(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)_3(e,i)&&r.push(i);return r}function dr(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function T3(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function zs(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function wB(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function A3(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(A3(e[t]))return!0}else if(typeof e=="object"){for(var r=w3(e),i=r.length,a=0;a<i;a++)if(A3(e[r[a]]))return!0}}return!1}function $A(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var TB=function(e){$ae(t,e);function t(n,r,i,a,o){var s=this.constructor,l=e.call(this,$A(n,{name:r,index:i,operation:a,tree:o}))||this;return l.name=r,l.index=i,l.operation=a,l.tree=o,Object.setPrototypeOf(l,s.prototype),l.message=$A(n,{name:r,index:i,operation:a,tree:o}),l}return t}(Error),mt=TB,Iae=dr,$l={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=cp(n,this.path);r&&(r=dr(r));var i=a0(n,{op:"remove",path:this.from}).removed;return a0(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=cp(n,this.from);return a0(n,{op:"add",path:this.path,value:dr(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:sd(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},Zae={add:function(e,t,n){return T3(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:$l.move,copy:$l.copy,test:$l.test,_get:$l._get};function cp(e,t){if(t=="")return e;var n={op:"_get",path:t};return a0(e,n),n.value}function a0(e,t,n,r,i,a){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),a===void 0&&(a=0),n&&(typeof n=="function"?n(t,0,e,t.path):up(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=cp(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=sd(e,t.value),o.test===!1)throw new mt("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new mt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",a,t,e);return o}}else{r||(e=dr(e));var s=t.path||"",l=s.split("/"),c=e,u=1,f=l.length,d=void 0,h=void 0,m=void 0;for(typeof n=="function"?m=n:m=up;;){if(h=l[u],h&&h.indexOf("~")!=-1&&(h=wB(h)),i&&(h=="__proto__"||h=="prototype"&&u>0&&l[u-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(c[h]===void 0?d=l.slice(0,u).join("/"):u==f-1&&(d=t.path),d!==void 0&&m(t,0,e,d)),u++,Array.isArray(c)){if(h==="-")h=c.length;else{if(n&&!T3(h))throw new mt("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",a,t,e);T3(h)&&(h=~~h)}if(u>=f){if(n&&t.op==="add"&&h>c.length)throw new mt("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",a,t,e);var o=Zae[t.op].call(t,c,h,e);if(o.test===!1)throw new mt("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return o}}else if(u>=f){var o=$l[t.op].call(t,c,h,e);if(o.test===!1)throw new mt("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return o}if(c=c[h],n&&u<f&&(!c||typeof c!="object"))throw new mt("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",a,t,e)}}}function Wg(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new mt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=dr(e));for(var a=new Array(t.length),o=0,s=t.length;o<s;o++)a[o]=a0(e,t[o],n,!0,i,o),e=a[o].newDocument;return a.newDocument=e,a}function Rae(e,t,n){var r=a0(e,t);if(r.test===!1)throw new mt("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function up(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new mt("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if($l[e.op]){if(typeof e.path!="string")throw new mt("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new mt('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new mt("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new mt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&A3(e.value))throw new mt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,a=r.split("/").length;if(i!==a+1&&i!==a)throw new mt("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new mt("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},s=AB([o],n);if(s&&s.name==="OPERATION_PATH_UNRESOLVABLE")throw new mt("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new mt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function AB(e,t,n){try{if(!Array.isArray(e))throw new mt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)Wg(dr(t),dr(e),n||!0);else{n=n||up;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof mt)return i;throw i}}function sd(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,a,o;if(n&&r){if(a=e.length,a!=t.length)return!1;for(i=a;i--!==0;)if(!sd(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var s=Object.keys(e);if(a=s.length,a!==Object.keys(t).length)return!1;for(i=a;i--!==0;)if(!t.hasOwnProperty(s[i]))return!1;for(i=a;i--!==0;)if(o=s[i],!sd(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}const Pae=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:mt,_areEquals:sd,applyOperation:a0,applyPatch:Wg,applyReducer:Rae,deepClone:Iae,getValueByPointer:cp,validate:AB,validator:up},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var c4=new WeakMap,jae=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),zae=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function Gae(e){return c4.get(e)}function Uae(e,t){return e.observers.get(t)}function Wae(e,t){e.observers.delete(t.callback)}function Hae(e,t){t.unobserve()}function Yae(e,t){var n=[],r,i=Gae(e);if(!i)i=new jae(e),c4.set(e,i);else{var a=Uae(i,t);r=a&&a.observer}if(r)return r;if(r={},i.value=dr(e),t){r.callback=t,r.next=null;var o=function(){S3(r)},s=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",s),window.addEventListener("keyup",s),window.addEventListener("mousedown",s),window.addEventListener("keydown",s),window.addEventListener("change",s))}return r.patches=n,r.object=e,r.unobserve=function(){S3(r),clearTimeout(r.next),Wae(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",s),window.removeEventListener("keyup",s),window.removeEventListener("mousedown",s),window.removeEventListener("keydown",s),window.removeEventListener("change",s))},i.observers.set(t,new zae(t,r)),r}function S3(e,t){t===void 0&&(t=!1);var n=c4.get(e.object);u4(n.value,e.object,e.patches,"",t),e.patches.length&&Wg(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function u4(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var a=w3(t),o=w3(e),s=!1,l=o.length-1;l>=0;l--){var c=o[l],u=e[c];if(_3(t,c)&&!(t[c]===void 0&&u!==void 0&&Array.isArray(t)===!1)){var f=t[c];typeof u=="object"&&u!=null&&typeof f=="object"&&f!=null&&Array.isArray(u)===Array.isArray(f)?u4(u,f,n,r+"/"+zs(c),i):u!==f&&(i&&n.push({op:"test",path:r+"/"+zs(c),value:dr(u)}),n.push({op:"replace",path:r+"/"+zs(c),value:dr(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+zs(c),value:dr(u)}),n.push({op:"remove",path:r+"/"+zs(c)}),s=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!s&&a.length==o.length))for(var l=0;l<a.length;l++){var c=a[l];!_3(e,c)&&t[c]!==void 0&&n.push({op:"add",path:r+"/"+zs(c),value:dr(t[c])})}}}function qae(e,t,n){n===void 0&&(n=!1);var r=[];return u4(e,t,r,"",n),r}const Vae=Object.freeze(Object.defineProperty({__proto__:null,compare:qae,generate:S3,observe:Yae,unobserve:Hae},Symbol.toStringTag,{value:"Module"}));Object.assign({},Pae,Vae,{JsonPatchError:TB,deepClone:dr,escapePathComponent:zs,unescapePathComponent:wB});var Xae=/("(?:[^\\"]|\\.)*")|[:,]/g,xb=function(t,n){var r,i,a;return n=n||{},r=JSON.stringify([1],void 0,n.indent===void 0?2:n.indent).slice(2,-3),i=r===""?1/0:n.maxLength===void 0?80:n.maxLength,a=n.replacer,function o(s,l,c){var u,f,d,h,m,g,p,y,b,v,x,_;if(s&&typeof s.toJSON=="function"&&(s=s.toJSON()),x=JSON.stringify(s,a),x===void 0)return x;if(p=i-l.length-c,x.length<=p&&(b=x.replace(Xae,function(T,w){return w||T+" "}),b.length<=p))return b;if(a!=null&&(s=JSON.parse(x),a=void 0),typeof s=="object"&&s!==null){if(y=l+r,d=[],f=0,Array.isArray(s))for(v="[",u="]",p=s.length;f<p;f++)d.push(o(s[f],y,f===p-1?0:1)||"null");else for(v="{",u="}",g=Object.keys(s),p=g.length;f<p;f++)h=g[f],m=JSON.stringify(h)+": ",_=o(s[h],y,m.length+(f===p-1?0:1)),_!==void 0&&d.push(m+_);if(d.length>0)return[v,r+d.join(`,
`+y),u].join(`
`+l)}return x}(t,"",0)};function rr(e,t,n){return e.fields=t||[],e.fname=n,e}function vt(e){return e==null?null:e.fname}function hn(e){return e==null?null:e.fields}function SB(e){return e.length===1?Jae(e[0]):Kae(e)}const Jae=e=>function(t){return t[e]},Kae=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function P(e){throw Error(e)}function da(e){const t=[],n=e.length;let r=null,i=0,a="",o,s,l;e=e+"";function c(){t.push(a+e.substring(o,s)),a="",o=s+1}for(o=s=0;s<n;++s)if(l=e[s],l==="\\")a+=e.substring(o,s),a+=e.substring(++s,++s),o=s;else if(l===r)c(),r=null,i=-1;else{if(r)continue;o===i&&l==='"'||o===i&&l==="'"?(o=s+1,r=l):l==="."&&!i?s>o?c():o=s+1:l==="["?(s>o&&c(),i=o=s+1):l==="]"&&(i||P("Access path missing open bracket: "+e),i>0&&c(),i=0,o=s+1)}return i&&P("Access path missing closing bracket: "+e),r&&P("Access path missing closing quote: "+e),s>o&&(s++,c()),t}function Jn(e,t,n){const r=da(e);return e=r.length===1?r[0]:e,rr((n&&n.get||SB)(r),[e],t||e)}const rh=Jn("id"),bn=rr(e=>e,[],"identity"),So=rr(()=>0,[],"zero"),eu=rr(()=>1,[],"one"),Br=rr(()=>!0,[],"true"),po=rr(()=>!1,[],"false");function Qae(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const EB=0,f4=1,d4=2,kB=3,MB=4;function h4(e,t,n=Qae){let r=e||EB;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=f4&&n(t||"error","ERROR",arguments),this},warn(){return r>=d4&&n(t||"warn","WARN",arguments),this},info(){return r>=kB&&n(t||"log","INFO",arguments),this},debug(){return r>=MB&&n(t||"log","DEBUG",arguments),this}}}var j=Array.isArray;function ee(e){return e===Object(e)}const NA=e=>e!=="__proto__";function tu(...e){return e.reduce((t,n)=>{for(const r in n)if(r==="signals")t.signals=eoe(t.signals,n.signals);else{const i=r==="legend"?{layout:1}:r==="style"?!0:null;nu(t,r,n[r],i)}return t},{})}function nu(e,t,n,r){if(!NA(t))return;let i,a;if(ee(n)&&!j(n)){a=ee(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?nu(a,i,n[i]):NA(i)&&(a[i]=n[i])}else e[t]=n}function eoe(e,t){if(e==null)return t;const n={},r=[];function i(a){n[a.name]||(n[a.name]=1,r.push(a))}return t.forEach(i),e.forEach(i),r}function Ce(e){return e[e.length-1]}function un(e){return e==null||e===""?null:+e}const OB=e=>t=>e*Math.exp(t),CB=e=>t=>Math.log(e*t),DB=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),LB=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,fp=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function Hg(e,t,n,r){const i=n(e[0]),a=n(Ce(e)),o=(a-i)*t;return[r(i-o),r(a-o)]}function FB(e,t){return Hg(e,t,un,bn)}function BB(e,t){var n=Math.sign(e[0]);return Hg(e,t,CB(n),OB(n))}function $B(e,t,n){return Hg(e,t,fp(n),fp(1/n))}function NB(e,t,n){return Hg(e,t,DB(n),LB(n))}function Yg(e,t,n,r,i){const a=r(e[0]),o=r(Ce(e)),s=t!=null?r(t):(a+o)/2;return[i(s+(a-s)*n),i(s+(o-s)*n)]}function m4(e,t,n){return Yg(e,t,n,un,bn)}function p4(e,t,n){const r=Math.sign(e[0]);return Yg(e,t,n,CB(r),OB(r))}function dp(e,t,n,r){return Yg(e,t,n,fp(r),fp(1/r))}function g4(e,t,n,r){return Yg(e,t,n,DB(r),LB(r))}function IB(e){return 1+~~(new Date(e).getMonth()/3)}function ZB(e){return 1+~~(new Date(e).getUTCMonth()/3)}function Q(e){return e!=null?j(e)?e:[e]:[]}function RB(e,t,n){let r=e[0],i=e[1],a;return i<r&&(a=i,i=r,r=a),a=i-r,a>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-a),r+a]}function _e(e){return typeof e=="function"}const toe="descending";function y4(e,t,n){n=n||{},t=Q(t)||[];const r=[],i=[],a={},o=n.comparator||noe;return Q(e).forEach((s,l)=>{s!=null&&(r.push(t[l]===toe?-1:1),i.push(s=_e(s)?s:Jn(s,null,n)),(hn(s)||[]).forEach(c=>a[c]=1))}),i.length===0?null:rr(o(i,r),Object.keys(a))}const qg=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),noe=(e,t)=>e.length===1?roe(e[0],t[0]):ioe(e,t,e.length),roe=(e,t)=>function(n,r){return qg(e(n),e(r))*t},ioe=(e,t,n)=>(t.push(0),function(r,i){let a,o=0,s=-1;for(;o===0&&++s<n;)a=e[s],o=qg(a(r),a(i));return o*t[s]});function vn(e){return _e(e)?e:()=>e}function b4(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function xe(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function ra(e,t){let n=0,r,i,a,o;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(a=o=i;n<r;++n)i=e[n],i!=null&&(i<a&&(a=i),i>o&&(o=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(a=o=i;n<r;++n)i=t(e[n]),i!=null&&(i<a&&(a=i),i>o&&(o=i))}return[a,o]}function PB(e,t){const n=e.length;let r=-1,i,a,o,s,l;if(t==null){for(;++r<n;)if(a=e[r],a!=null&&a>=a){i=o=a;break}if(r===n)return[-1,-1];for(s=l=r;++r<n;)a=e[r],a!=null&&(i>a&&(i=a,s=r),o<a&&(o=a,l=r))}else{for(;++r<n;)if(a=t(e[r],r,e),a!=null&&a>=a){i=o=a;break}if(r===n)return[-1,-1];for(s=l=r;++r<n;)a=t(e[r],r,e),a!=null&&(i>a&&(i=a,s=r),o<a&&(o=a,l=r))}return[s,l]}const aoe=Object.prototype.hasOwnProperty;function oe(e,t){return aoe.call(e,t)}const u1={};function ru(e){let t={},n;function r(a){return oe(t,a)&&t[a]!==u1}const i={size:0,empty:0,object:t,has:r,get(a){return r(a)?t[a]:void 0},set(a,o){return r(a)||(++i.size,t[a]===u1&&--i.empty),t[a]=o,this},delete(a){return r(a)&&(--i.size,++i.empty,t[a]=u1),this},clear(){i.size=i.empty=0,i.object=t={}},test(a){return arguments.length?(n=a,i):n},clean(){const a={};let o=0;for(const s in t){const l=t[s];l!==u1&&(!n||!n(l))&&(a[s]=l,++o)}i.size=o,i.empty=0,i.object=t=a}};return e&&Object.keys(e).forEach(a=>{i.set(a,e[a])}),i}function jB(e,t,n,r,i,a){if(!n&&n!==0)return a;const o=+n;let s=e[0],l=Ce(e),c;l<s&&(c=s,s=l,l=c),c=Math.abs(t-s);const u=Math.abs(l-t);return c<u&&c<=o?r:u<=o?i:a}function H(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),xe(r,n)}function Nl(e,t,n,r){let i=t[0],a=t[t.length-1],o;return i>a&&(o=i,i=a,a=o),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=a:e<a)}function ps(e){return typeof e=="boolean"}function $o(e){return Object.prototype.toString.call(e)==="[object Date]"}function zB(e){return e&&_e(e[Symbol.iterator])}function Ye(e){return typeof e=="number"}function GB(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function J(e){return typeof e=="string"}function v4(e,t,n){e&&(e=t?Q(e).map(s=>s.replace(/\\(.)/g,"$1")):Q(e));const r=e&&e.length,i=n&&n.get||SB,a=s=>i(t?[s]:da(s));let o;if(!r)o=function(){return""};else if(r===1){const s=a(e[0]);o=function(l){return""+s(l)}}else{const s=e.map(a);o=function(l){let c=""+s[0](l),u=0;for(;++u<r;)c+="|"+s[u](l);return c}}return rr(o,e,"key")}function UB(e,t){const n=e[0],r=Ce(e),i=+t;return i?i===1?r:n+i*(r-n):n}const ooe=1e4;function WB(e){e=+e||ooe;let t,n,r;const i=()=>{t={},n={},r=0},a=(o,s)=>(++r>e&&(n=t,t={},r=1),t[o]=s);return i(),{clear:i,has:o=>oe(t,o)||oe(n,o),get:o=>oe(t,o)?t[o]:oe(n,o)?a(o,n[o]):void 0,set:(o,s)=>oe(t,o)?t[o]=s:a(o,s)}}function HB(e,t,n,r){const i=t.length,a=n.length;if(!a)return t;if(!i)return n;const o=r||new t.constructor(i+a);let s=0,l=0,c=0;for(;s<i&&l<a;++c)o[c]=e(t[s],n[l])>0?n[l++]:t[s++];for(;s<i;++s,++c)o[c]=t[s];for(;l<a;++l,++c)o[c]=n[l];return o}function ff(e,t){let n="";for(;--t>=0;)n+=e;return n}function YB(e,t,n,r){const i=n||" ",a=e+"",o=t-a.length;return o<=0?a:r==="left"?ff(i,o)+a:r==="center"?ff(i,~~(o/2))+a+ff(i,Math.ceil(o/2)):a+ff(i,o)}function ih(e){return e&&Ce(e)-e[0]||0}function q(e){return j(e)?"["+e.map(q)+"]":ee(e)||J(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function x4(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const soe=e=>Ye(e)||$o(e)?e:Date.parse(e);function _4(e,t){return t=t||soe,e==null||e===""?null:t(e)}function w4(e){return e==null||e===""?null:e+""}function vi(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function qB(e,t,n,r){const i=r??"…",a=e+"",o=a.length,s=Math.max(0,t-i.length);return o<=t?a:n==="left"?i+a.slice(o-s):n==="center"?a.slice(0,Math.ceil(s/2))+i+a.slice(o-~~(s/2)):a.slice(0,s)+i}function xo(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const a=t(e[i]);a&&n(a,i,e)}}else e.forEach(n)}function loe(e){return e}function coe(e){if(e==null)return loe;var t,n,r=e.scale[0],i=e.scale[1],a=e.translate[0],o=e.translate[1];return function(s,l){l||(t=n=0);var c=2,u=s.length,f=new Array(u);for(f[0]=(t+=s[0])*r+a,f[1]=(n+=s[1])*i+o;c<u;)f[c]=s[c],++c;return f}}function uoe(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function foe(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return IA(e,n)})}:IA(e,t)}function IA(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,a=VB(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:a}:r==null?{type:"Feature",id:n,properties:i,geometry:a}:{type:"Feature",id:n,bbox:r,properties:i,geometry:a}}function VB(e,t){var n=coe(e.transform),r=e.arcs;function i(u,f){f.length&&f.pop();for(var d=r[u<0?~u:u],h=0,m=d.length;h<m;++h)f.push(n(d[h],h));u<0&&uoe(f,m)}function a(u){return n(u)}function o(u){for(var f=[],d=0,h=u.length;d<h;++d)i(u[d],f);return f.length<2&&f.push(f[0]),f}function s(u){for(var f=o(u);f.length<4;)f.push(f[0]);return f}function l(u){return u.map(s)}function c(u){var f=u.type,d;switch(f){case"GeometryCollection":return{type:f,geometries:u.geometries.map(c)};case"Point":d=a(u.coordinates);break;case"MultiPoint":d=u.coordinates.map(a);break;case"LineString":d=o(u.arcs);break;case"MultiLineString":d=u.arcs.map(o);break;case"Polygon":d=l(u.arcs);break;case"MultiPolygon":d=u.arcs.map(l);break;default:return null}return{type:f,coordinates:d}}return c(t)}function doe(e,t){var n={},r={},i={},a=[],o=-1;t.forEach(function(c,u){var f=e.arcs[c<0?~c:c],d;f.length<3&&!f[1][0]&&!f[1][1]&&(d=t[++o],t[o]=c,t[u]=d)}),t.forEach(function(c){var u=s(c),f=u[0],d=u[1],h,m;if(h=i[f])if(delete i[h.end],h.push(c),h.end=d,m=r[d]){delete r[m.start];var g=m===h?h:h.concat(m);r[g.start=h.start]=i[g.end=m.end]=g}else r[h.start]=i[h.end]=h;else if(h=r[d])if(delete r[h.start],h.unshift(c),h.start=f,m=i[f]){delete i[m.end];var p=m===h?h:m.concat(h);r[p.start=m.start]=i[p.end=h.end]=p}else r[h.start]=i[h.end]=h;else h=[c],r[h.start=f]=i[h.end=d]=h});function s(c){var u=e.arcs[c<0?~c:c],f=u[0],d;return e.transform?(d=[0,0],u.forEach(function(h){d[0]+=h[0],d[1]+=h[1]})):d=u[u.length-1],c<0?[d,f]:[f,d]}function l(c,u){for(var f in c){var d=c[f];delete u[d.start],delete d.start,delete d.end,d.forEach(function(h){n[h<0?~h:h]=1}),a.push(d)}}return l(i,r),l(r,i),t.forEach(function(c){n[c<0?~c:c]||a.push([c])}),a}function hoe(e){return VB(e,moe.apply(this,arguments))}function moe(e,t,n){var r,i,a;if(arguments.length>1)r=poe(e,t,n);else for(i=0,r=new Array(a=e.arcs.length);i<a;++i)r[i]=i;return{type:"MultiLineString",arcs:doe(e,r)}}function poe(e,t,n){var r=[],i=[],a;function o(f){var d=f<0?~f:f;(i[d]||(i[d]=[])).push({i:f,g:a})}function s(f){f.forEach(o)}function l(f){f.forEach(s)}function c(f){f.forEach(l)}function u(f){switch(a=f,f.type){case"GeometryCollection":f.geometries.forEach(u);break;case"LineString":s(f.arcs);break;case"MultiLineString":case"Polygon":l(f.arcs);break;case"MultiPolygon":c(f.arcs);break}}return u(t),i.forEach(n==null?function(f){r.push(f[0].i)}:function(f){n(f[0].g,f[f.length-1].g)&&r.push(f[0].i)}),r}const qt="year",Kn="quarter",mn="month",kt="week",Qn="date",sn="day",ia="dayofyear",mr="hours",pr="minutes",$r="seconds",xi="milliseconds",T4=[qt,Kn,mn,kt,Qn,sn,ia,mr,pr,$r,xi],_b=T4.reduce((e,t,n)=>(e[t]=1+n,e),{});function A4(e){const t=Q(e).slice(),n={};return t.length||P("Missing time unit."),t.forEach(i=>{oe(_b,i)?n[i]=1:P("Invalid time unit: ".concat(i,"."))}),(n[kt]||n[sn]?1:0)+(n[Kn]||n[mn]||n[Qn]?1:0)+(n[ia]?1:0)>1&&P("Incompatible time units: ".concat(e)),t.sort((i,a)=>_b[i]-_b[a]),t}const goe={[qt]:"%Y ",[Kn]:"Q%q ",[mn]:"%b ",[Qn]:"%d ",[kt]:"W%U ",[sn]:"%a ",[ia]:"%j ",[mr]:"%H:00",[pr]:"00:%M",[$r]:":%S",[xi]:".%L",["".concat(qt,"-").concat(mn)]:"%Y-%m ",["".concat(qt,"-").concat(mn,"-").concat(Qn)]:"%Y-%m-%d ",["".concat(mr,"-").concat(pr)]:"%H:%M"};function XB(e,t){const n=xe({},goe,t),r=A4(e),i=r.length;let a="",o=0,s,l;for(o=0;o<i;)for(s=r.length;s>o;--s)if(l=r.slice(o,s).join("-"),n[l]!=null){a+=n[l],o=s;break}return a.trim()}const Ws=new Date;function S4(e){return Ws.setFullYear(e),Ws.setMonth(0),Ws.setDate(1),Ws.setHours(0,0,0,0),Ws}function JB(e){return QB(new Date(e))}function KB(e){return E3(new Date(e))}function QB(e){return qi.count(S4(e.getFullYear())-1,e)}function E3(e){return Ho.count(S4(e.getFullYear())-1,e)}function k3(e){return S4(e).getDay()}function yoe(e,t,n,r,i,a,o){if(0<=e&&e<100){const s=new Date(-1,t,n,r,i,a,o);return s.setFullYear(e),s}return new Date(e,t,n,r,i,a,o)}function e$(e){return n$(new Date(e))}function t$(e){return M3(new Date(e))}function n$(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return za.count(t-1,e)}function M3(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return Yo.count(t-1,e)}function O3(e){return Ws.setTime(Date.UTC(e,0,1)),Ws.getUTCDay()}function boe(e,t,n,r,i,a,o){if(0<=e&&e<100){const s=new Date(Date.UTC(-1,t,n,r,i,a,o));return s.setUTCFullYear(n.y),s}return new Date(Date.UTC(e,t,n,r,i,a,o))}function r$(e,t,n,r,i){const a=t||1,o=Ce(e),s=(y,b,v)=>(v=v||y,voe(n[v],r[v],y===o&&a,b)),l=new Date,c=vi(e),u=c[qt]?s(qt):vn(2012),f=c[mn]?s(mn):c[Kn]?s(Kn):So,d=c[kt]&&c[sn]?s(sn,1,kt+sn):c[kt]?s(kt,1):c[sn]?s(sn,1):c[Qn]?s(Qn,1):c[ia]?s(ia,1):eu,h=c[mr]?s(mr):So,m=c[pr]?s(pr):So,g=c[$r]?s($r):So,p=c[xi]?s(xi):So;return function(y){l.setTime(+y);const b=u(l);return i(b,f(l),d(l,b),h(l),m(l),g(l),p(l))}}function voe(e,t,n,r){const i=n<=1?e:r?(a,o)=>r+n*Math.floor((e(a,o)-r)/n):(a,o)=>n*Math.floor(e(a,o)/n);return t?(a,o)=>t(i(a,o),o):i}function bc(e,t,n){return t+e*7-(n+6)%7}const xoe={[qt]:e=>e.getFullYear(),[Kn]:e=>Math.floor(e.getMonth()/3),[mn]:e=>e.getMonth(),[Qn]:e=>e.getDate(),[mr]:e=>e.getHours(),[pr]:e=>e.getMinutes(),[$r]:e=>e.getSeconds(),[xi]:e=>e.getMilliseconds(),[ia]:e=>QB(e),[kt]:e=>E3(e),[kt+sn]:(e,t)=>bc(E3(e),e.getDay(),k3(t)),[sn]:(e,t)=>bc(1,e.getDay(),k3(t))},_oe={[Kn]:e=>3*e,[kt]:(e,t)=>bc(e,0,k3(t))};function i$(e,t){return r$(e,t||1,xoe,_oe,yoe)}const woe={[qt]:e=>e.getUTCFullYear(),[Kn]:e=>Math.floor(e.getUTCMonth()/3),[mn]:e=>e.getUTCMonth(),[Qn]:e=>e.getUTCDate(),[mr]:e=>e.getUTCHours(),[pr]:e=>e.getUTCMinutes(),[$r]:e=>e.getUTCSeconds(),[xi]:e=>e.getUTCMilliseconds(),[ia]:e=>n$(e),[kt]:e=>M3(e),[sn]:(e,t)=>bc(1,e.getUTCDay(),O3(t)),[kt+sn]:(e,t)=>bc(M3(e),e.getUTCDay(),O3(t))},Toe={[Kn]:e=>3*e,[kt]:(e,t)=>bc(e,0,O3(t))};function a$(e,t){return r$(e,t||1,woe,Toe,boe)}const Aoe={[qt]:gi,[Kn]:hc.every(3),[mn]:hc,[kt]:Ho,[Qn]:qi,[sn]:qi,[ia]:qi,[mr]:Xd,[pr]:qd,[$r]:ai,[xi]:Wo},Soe={[qt]:yi,[Kn]:mc.every(3),[mn]:mc,[kt]:Yo,[Qn]:za,[sn]:za,[ia]:za,[mr]:Jd,[pr]:Vd,[$r]:ai,[xi]:Wo};function iu(e){return Aoe[e]}function au(e){return Soe[e]}function o$(e,t,n){return e?e.offset(t,n):void 0}function s$(e,t,n){return o$(iu(e),t,n)}function l$(e,t,n){return o$(au(e),t,n)}function c$(e,t,n,r){return e?e.range(t,n,r):void 0}function u$(e,t,n,r){return c$(iu(e),t,n,r)}function f$(e,t,n,r){return c$(au(e),t,n,r)}const df=1e3,hf=df*60,mf=hf*60,Vg=mf*24,Eoe=Vg*7,ZA=Vg*30,C3=Vg*365,d$=[qt,mn,Qn,mr,pr,$r,xi],pf=d$.slice(0,-1),gf=pf.slice(0,-1),yf=gf.slice(0,-1),koe=yf.slice(0,-1),Moe=[qt,kt],RA=[qt,mn],h$=[qt],Fu=[[pf,1,df],[pf,5,5*df],[pf,15,15*df],[pf,30,30*df],[gf,1,hf],[gf,5,5*hf],[gf,15,15*hf],[gf,30,30*hf],[yf,1,mf],[yf,3,3*mf],[yf,6,6*mf],[yf,12,12*mf],[koe,1,Vg],[Moe,1,Eoe],[RA,1,ZA],[RA,3,3*ZA],[h$,1,C3]];function m$(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(ih(t))/n;let i=Gc(s=>s[2]).right(Fu,r),a,o;return i===Fu.length?(a=h$,o=qa(t[0]/C3,t[1]/C3,n)):i?(i=Fu[r/Fu[i-1][2]<Fu[i][2]/r?i-1:i],a=i[0],o=i[1]):(a=d$,o=Math.max(qa(t[0],t[1],n),1)),{units:a,step:o}}function bf(e){const t={};return n=>t[n]||(t[n]=e(n))}function Ooe(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let a=Coe(r,i);const o=a<r.length?r.slice(a):"";for(;--a>i;)if(r[a]!=="0"){++a;break}return r.slice(0,a)+o}}function Coe(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function p$(e){const t=bf(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=Uo(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return Ooe(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,a,o){o=Uo(o??",f");const s=qa(r,i,a),l=Math.max(Math.abs(r),Math.abs(i));let c;if(o.precision==null)switch(o.type){case"s":return isNaN(c=q7(s,l))||(o.precision=c),n(o,l);case"":case"e":case"g":case"p":case"r":{isNaN(c=V7(s,l))||(o.precision=c-(o.type==="e"));break}case"f":case"%":{isNaN(c=Y7(s))||(o.precision=c-(o.type==="%")*2);break}}return t(o)}}}let D3;g$();function g$(){return D3=p$({format:Pd,formatPrefix:wg})}function y$(e){return p$(H7(e))}function hp(e){return arguments.length?D3=y$(e):D3}function PA(e,t,n){n=n||{},ee(n)||P("Invalid time multi-format specifier: ".concat(n));const r=t($r),i=t(pr),a=t(mr),o=t(Qn),s=t(kt),l=t(mn),c=t(Kn),u=t(qt),f=e(n[xi]||".%L"),d=e(n[$r]||":%S"),h=e(n[pr]||"%I:%M"),m=e(n[mr]||"%I %p"),g=e(n[Qn]||n[sn]||"%a %d"),p=e(n[kt]||"%b %d"),y=e(n[mn]||"%B"),b=e(n[Kn]||"%B"),v=e(n[qt]||"%Y");return x=>(r(x)<x?f:i(x)<x?d:a(x)<x?h:o(x)<x?m:l(x)<x?s(x)<x?g:p:u(x)<x?c(x)<x?y:b:v)(x)}function b$(e){const t=bf(e.format),n=bf(e.utcFormat);return{timeFormat:r=>J(r)?t(r):PA(t,iu,r),utcFormat:r=>J(r)?n(r):PA(n,au,r),timeParse:bf(e.parse),utcParse:bf(e.utcParse)}}let L3;v$();function v$(){return L3=b$({format:Og,parse:$8,utcFormat:q0,utcParse:Kd})}function x$(e){return b$(B8(e))}function ld(e){return arguments.length?L3=x$(e):L3}const F3=(e,t)=>xe({},e,t);function _$(e,t){const n=e?y$(e):hp(),r=t?x$(t):ld();return F3(n,r)}function E4(e,t){const n=arguments.length;return n&&n!==2&&P("defaultLocale expects either zero or two arguments."),n?F3(hp(e),ld(t)):F3(hp(),ld())}function Doe(){return g$(),v$(),E4()}const Loe=/^(data:|([A-Za-z]+:)?\/\/)/,Foe=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,Boe=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,jA="file://";function $oe(e,t){return n=>({options:n||{},sanitize:Ioe,load:Noe,fileAccess:!!t,file:Zoe(t),http:Poe(e)})}async function Noe(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function Ioe(e,t){t=xe({},this.options,t);const n=this.fileAccess,r={href:null};let i,a,o;const s=Foe.test(e.replace(Boe,""));(e==null||typeof e!="string"||!s)&&P("Sanitize failure, invalid URI: "+q(e));const l=Loe.test(e);return(o=t.baseURL)&&!l&&(!e.startsWith("/")&&!o.endsWith("/")&&(e="/"+e),e=o+e),a=(i=e.startsWith(jA))||t.mode==="file"||t.mode!=="http"&&!l&&n,i?e=e.slice(jA.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),a=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!a}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function Zoe(e){return e?t=>new Promise((n,r)=>{e.readFile(t,(i,a)=>{i?r(i):n(a)})}):Roe}async function Roe(){P("No file system access.")}function Poe(e){return e?async function(t,n){const r=xe({},this.options.http,n),i=n&&n.response,a=await e(t,r);return a.ok?_e(a[i])?a[i]():a.text():P(a.status+""+a.statusText)}:joe}async function joe(){P("No HTTP fetch method available.")}const zoe=e=>e!=null&&e===e,Goe=e=>e==="true"||e==="false"||e===!0||e===!1,Uoe=e=>!Number.isNaN(Date.parse(e)),w$=e=>!Number.isNaN(+e)&&!(e instanceof Date),Woe=e=>w$(e)&&Number.isInteger(+e),B3={boolean:x4,integer:un,number:un,date:_4,string:w4,unknown:bn},f1=[Goe,Woe,w$,Uoe],Hoe=["boolean","integer","number","date"];function T$(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=f1.length,i=f1.map((a,o)=>o+1);for(let a=0,o=0,s,l;a<n;++a)for(l=t?e[a][t]:e[a],s=0;s<r;++s)if(i[s]&&zoe(l)&&!f1[s](l)&&(i[s]=0,++o,o===f1.length))return"string";return Hoe[i.reduce((a,o)=>a===0?o:a,0)-1]}function A$(e,t){return t.reduce((n,r)=>(n[r]=T$(e,r),n),{})}function zA(e){const t=function(n,r){const i={delimiter:e};return k4(n,r?xe(r,i):i)};return t.responseType="text",t}function k4(e,t){return t.header&&(e=t.header.map(q).join(t.delimiter)+`
`+e),Rd(t.delimiter).parse(e+"")}k4.responseType="text";function Yoe(e){return typeof Buffer=="function"&&_e(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function M4(e,t){const n=t&&t.property?Jn(t.property):bn;return ee(e)&&!Yoe(e)?qoe(n(e),t):n(JSON.parse(e))}M4.responseType="json";function qoe(e,t){return!j(e)&&zB(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const Voe={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function S$(e,t){let n,r,i,a;return e=M4(e,t),t&&t.feature?(n=foe,i=t.feature):t&&t.mesh?(n=hoe,i=t.mesh,a=Voe[t.filter]):P("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,a):P("Invalid TopoJSON object: "+i),r&&r.features||[r]}S$.responseType="json";const J1={dsv:k4,csv:zA(","),tsv:zA("	"),json:M4,topojson:S$};function O4(e,t){return arguments.length>1?(J1[e]=t,this):oe(J1,e)?J1[e]:null}function E$(e){const t=O4(e);return t&&t.responseType||"text"}function k$(e,t,n,r){t=t||{};const i=O4(t.type||"json");return i||P("Unknown data format type: "+t.type),e=i(e,t),t.parse&&Xoe(e,t.parse,n,r),oe(e,"columns")&&delete e.columns,e}function Xoe(e,t,n,r){if(!e.length)return;const i=ld();n=n||i.timeParse,r=r||i.utcParse;let a=e.columns||Object.keys(e[0]),o,s,l,c,u,f;t==="auto"&&(t=A$(e,a)),a=Object.keys(t);const d=a.map(h=>{const m=t[h];let g,p;if(m&&(m.startsWith("date:")||m.startsWith("utc:")))return g=m.split(/:(.+)?/,2),p=g[1],(p[0]==="'"&&p[p.length-1]==="'"||p[0]==='"'&&p[p.length-1]==='"')&&(p=p.slice(1,-1)),(g[0]==="utc"?r:n)(p);if(!B3[m])throw Error("Illegal format pattern: "+h+":"+m);return B3[m]});for(l=0,u=e.length,f=a.length;l<u;++l)for(o=e[l],c=0;c<f;++c)s=a[c],o[s]=d[c](o[s])}const Xg=$oe(typeof fetch<"u"&&fetch,null);function Jg(e){const t=e||bn,n=[],r={};return n.add=i=>{const a=t(i);return r[a]||(r[a]=1,n.push(i)),n},n.remove=i=>{const a=t(i);if(r[a]){r[a]=0;const o=n.indexOf(i);o>=0&&n.splice(o,1)}return n},n}async function K1(e,t){try{await t(e)}catch(n){e.error(n)}}const M$=Symbol("vega_id");let Joe=1;function Kg(e){return!!(e&&le(e))}function le(e){return e[M$]}function O$(e,t){return e[M$]=t,e}function je(e){const t=e===Object(e)?e:{data:e};return le(t)?t:O$(t,Joe++)}function C4(e){return Qg(e,je({}))}function Qg(e,t){for(const n in e)t[n]=e[n];return t}function C$(e,t){return O$(t,le(e))}function V0(e,t){return e?t?(n,r)=>e(n,r)||le(t(n))-le(t(r)):(n,r)=>e(n,r)||le(n)-le(r):null}function D$(e){return e&&e.constructor===X0}function X0(){const e=[],t=[],n=[],r=[],i=[];let a=null,o=!1;return{constructor:X0,insert(s){const l=Q(s),c=l.length;for(let u=0;u<c;++u)e.push(l[u]);return this},remove(s){const l=_e(s)?r:t,c=Q(s),u=c.length;for(let f=0;f<u;++f)l.push(c[f]);return this},modify(s,l,c){const u={field:l,value:vn(c)};return _e(s)?(u.filter=s,i.push(u)):(u.tuple=s,n.push(u)),this},encode(s,l){return _e(s)?i.push({filter:s,field:l}):n.push({tuple:s,field:l}),this},clean(s){return a=s,this},reflow(){return o=!0,this},pulse(s,l){const c={},u={};let f,d,h,m,g,p;for(f=0,d=l.length;f<d;++f)c[le(l[f])]=1;for(f=0,d=t.length;f<d;++f)g=t[f],c[le(g)]=-1;for(f=0,d=r.length;f<d;++f)m=r[f],l.forEach(b=>{m(b)&&(c[le(b)]=-1)});for(f=0,d=e.length;f<d;++f)g=e[f],p=le(g),c[p]?c[p]=1:s.add.push(je(e[f]));for(f=0,d=l.length;f<d;++f)g=l[f],c[le(g)]<0&&s.rem.push(g);function y(b,v,x){x?b[v]=x(b):s.encode=v,o||(u[le(b)]=b)}for(f=0,d=n.length;f<d;++f)h=n[f],g=h.tuple,m=h.field,p=c[le(g)],p>0&&(y(g,m,h.value),s.modifies(m));for(f=0,d=i.length;f<d;++f)h=i[f],m=h.filter,l.forEach(b=>{m(b)&&c[le(b)]>0&&y(b,h.field,h.value)}),s.modifies(h.field);if(o)s.mod=t.length||r.length?l.filter(b=>c[le(b)]>0):l.slice();else for(p in u)s.mod.push(u[p]);return(a||a==null&&(t.length||r.length))&&s.clean(!0),s}}}const Q1="_:mod:_";function e2(){Object.defineProperty(this,Q1,{writable:!0,value:{}})}e2.prototype={set(e,t,n,r){const i=this,a=i[e],o=i[Q1];return t!=null&&t>=0?(a[t]!==n||r)&&(a[t]=n,o[t+":"+e]=-1,o[e]=-1):(a!==n||r)&&(i[e]=n,o[e]=j(n)?1+n.length:-1),i},modified(e,t){const n=this[Q1];if(arguments.length){if(j(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[Q1]={},this}};let Koe=0;const Qoe="pulse",ese=new e2,tse=1,nse=2;function Je(e,t,n,r){this.id=++Koe,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function GA(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}Je.prototype={targets(){return this._targets||(this._targets=Jg(rh))},set(e){return this.value!==e?(this.value=e,1):0},skip:GA(tse),modified:GA(nse),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new e2,i=this._argops=this._argops||[],a=[];let o,s,l,c;const u=(f,d,h)=>{h instanceof Je?(h!==this&&(t&&h.targets().add(this),a.push(h)),i.push({op:h,name:f,index:d})):r.set(f,d,h)};for(o in e)if(s=e[o],o===Qoe)Q(s).forEach(f=>{f instanceof Je?f!==this&&(f.targets().add(this),a.push(f)):P("Pulse parameters must be operator instances.")}),this.source=s;else if(j(s))for(r.set(o,-1,Array(l=s.length)),c=0;c<l;++c)u(o,c,s[c]);else u(o,-1,s);return this.marshall().clear(),n&&(i.initonly=!0),a},marshall(e){const t=this._argval||ese,n=this._argops;let r,i,a,o;if(n){const s=n.length;for(i=0;i<s;++i)r=n[i],a=r.op,o=a.modified()&&a.stamp===e,t.set(r.name,r.index,a.value,o);if(n.initonly){for(i=0;i<s;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function rse(e,t,n,r){let i=1,a;return e instanceof Je?a=e:e&&e.prototype instanceof Je?a=new e:_e(e)?a=new Je(null,e):(i=0,a=new Je(e,t)),this.rank(a),i&&(r=n,n=t),n&&this.connect(a,a.parameters(n,r)),this.touch(a),a}function ise(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let ase=0;function t2(e,t,n){this.id=++ase,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function go(e,t,n){return new t2(e,t,n)}t2.prototype={_filter:Br,_apply:bn,targets(){return this._targets||(this._targets=Jg(rh))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=go(e);return this.targets().add(t),t},apply(e){const t=go(null,e);return this.targets().add(t),t},merge(){const e=go();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=go();return this.targets().add(go(null,null,b4(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(go(null,null,()=>n=!0)),t.targets().add(go(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=Br,this._targets=null}};function ose(e,t,n,r){const i=this,a=go(n,r),o=function(c){c.dataflow=i;try{a.receive(c)}catch(u){i.error(u)}finally{i.run()}};let s;typeof e=="string"&&typeof document<"u"?s=document.querySelectorAll(e):s=Q(e);const l=s.length;for(let c=0;c<l;++c)s[c].addEventListener(t,o);return a}function sse(e,t){const n=this.locale();return k$(e,t,n.timeParse,n.utcParse)}function lse(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function cse(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:E$(t&&t.type)});try{i=n.parse(i,t)}catch(a){r=-2,n.warn("Data ingestion failed",e,a)}}catch(a){r=-1,n.warn("Loading failed",e,a)}return{data:i,status:r}}async function use(e,t,n){const r=this,i=r._pending||fse(r);i.requests+=1;const a=await r.request(t,n);return r.pulse(e,r.changeset().remove(Br).insert(a.data||[])),i.done(),a}function fse(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const dse={skip:!0};function hse(e,t,n,r,i){return(e instanceof Je?pse:mse)(this,e,t,n,r,i),this}function mse(e,t,n,r,i,a){const o=xe({},a,dse);let s,l;_e(n)||(n=vn(n)),r===void 0?s=c=>e.touch(n(c)):_e(r)?(l=new Je(null,r,i,!1),s=c=>{l.evaluate(c);const u=n(c),f=l.value;D$(f)?e.pulse(u,f,a):e.update(u,f,o)}):s=c=>e.update(n(c),r,o),t.apply(s)}function pse(e,t,n,r,i,a){if(r===void 0)t.targets().add(n);else{const o=a||{},s=new Je(null,gse(n,r),i,!1);s.modified(o.force),s.rank=t.rank,t.targets().add(s),n&&(s.skip(!0),s.value=n.value,s.targets().add(n),e.connect(n,[s]))}}function gse(e,t){return t=_e(t)?t:vn(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function yse(e){e.rank=++this._rank}function bse(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&P("Cycle detected in dataflow graph.")}const mp={},$i=1<<0,_o=1<<1,La=1<<2,vse=$i|_o,UA=$i|La,xl=$i|_o|La,WA=1<<3,Bu=1<<4,HA=1<<5,YA=1<<6;function No(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function wb(e,t){const n=[];return xo(e,t,r=>n.push(r)),n}function qA(e,t){const n={};return e.visit(t,r=>{n[le(r)]=1}),r=>n[le(r)]?null:r}function d1(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}No.prototype={StopPropagation:mp,ADD:$i,REM:_o,MOD:La,ADD_REM:vse,ADD_MOD:UA,ALL:xl,REFLOW:WA,SOURCE:Bu,NO_SOURCE:HA,NO_FIELDS:YA,fork(e){return new No(this.dataflow).init(this,e)},clone(){const e=this.fork(xl);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(xl|Bu)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new No(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&YA)&&(n.fields=e.fields),t&$i?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&_o?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&La?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&HA?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||xl;return t&$i&&this.add.length||t&_o&&this.rem.length||t&La&&this.mod.length},reflow(e){if(e)return this.fork(xl).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(La,qA(this,$i))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return j(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?j(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&$i&&(n.addF=d1(n.addF,t)),e&_o&&(n.remF=d1(n.remF,t)),e&La&&(n.modF=d1(n.modF,t)),e&Bu&&(n.srcF=d1(n.srcF,t)),n},materialize(e){e=e||xl;const t=this;return e&$i&&t.addF&&(t.add=wb(t.add,t.addF),t.addF=null),e&_o&&t.remF&&(t.rem=wb(t.rem,t.remF),t.remF=null),e&La&&t.modF&&(t.mod=wb(t.mod,t.modF),t.modF=null),e&Bu&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&Bu)return xo(n.source,n.srcF,r),n;e&$i&&xo(n.add,n.addF,r),e&_o&&xo(n.rem,n.remF,r),e&La&&xo(n.mod,n.modF,r);const i=n.source;if(e&WA&&i){const a=n.add.length+n.mod.length;a===i.length||(a?xo(i,qA(n,UA),r):xo(i,n.srcF,r))}return n}};function D4(e,t,n,r){const i=this,a=n.length;let o=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(let s=0;s<a;++s){const l=n[s];if(l.stamp===t){if(l.fields){const c=i.fields||(i.fields={});for(const u in l.fields)c[u]=1}l.changed(i.ADD)&&(o|=i.ADD),l.changed(i.REM)&&(o|=i.REM),l.changed(i.MOD)&&(o|=i.MOD)}}this.changes=o}H(D4,No,{fork(e){const t=new No(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?j(e)?e.some(r=>n[r]):n[e]:0},filter(){P("MultiPulse does not support filtering.")},materialize(){P("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let a=0;if(e&n.SOURCE)for(;a<i;++a)r[a].visit(e,t);else for(;a<i;++a)r[a].stamp===n.stamp&&r[a].visit(e,t);return n}});async function xse(e,t,n){const r=this,i=[];if(r._pulse)return L$(r);if(r._pending&&await r._pending,t&&await K1(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const a=++r._clock;r._pulse=new No(r,a,e),r._touched.forEach(u=>r._enqueue(u,!0)),r._touched=Jg(rh);let o=0,s,l,c;try{for(;r._heap.size()>0;){if(s=r._heap.pop(),s.rank!==s.qrank){r._enqueue(s,!0);continue}l=s.run(r._getPulse(s,e)),l.then?l=await l:l.async&&(i.push(l.async),l=mp),l!==mp&&s._targets&&s._targets.forEach(u=>r._enqueue(u)),++o}}catch(u){r._heap.clear(),c=u}if(r._input={},r._pulse=null,r.debug(`Pulse ${a}: ${o} operators`),c&&(r._postrun=[],r.error(c)),r._postrun.length){const u=r._postrun.sort((f,d)=>d.priority-f.priority);r._postrun=[];for(let f=0;f<u.length;++f)await K1(r,u[f].callback)}return n&&await K1(r,n),i.length&&Promise.all(i).then(u=>r.runAsync(null,()=>{u.forEach(f=>{try{f(r)}catch(d){r.error(d)}})})),r}async function _se(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function wse(e,t,n){return this._pulse?L$(this):(this.evaluate(e,t,n),this)}function Tse(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function L$(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function Ase(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function Sse(e,t){const n=e.source,r=this._clock;return n&&j(n)?new D4(this,r,n.map(i=>i.pulse),t):this._input[e.id]||Ese(this._pulse,n&&n.pulse)}function Ese(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==mp&&(e.source=t.source),e)}const L4={skip:!1,force:!1};function kse(e,t){const n=t||L4;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function Mse(e,t,n){const r=n||L4;return(e.set(t)||r.force)&&this.touch(e,r),this}function Ose(e,t,n){this.touch(e,n||L4);const r=new No(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function Cse(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),F$(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,Dse(t,0,e)):r=n,r}}}function F$(e,t,n,r){let i,a;const o=e[n];for(;n>t;){if(a=n-1>>1,i=e[a],r(o,i)<0){e[n]=i,n=a;continue}break}return e[n]=o}function Dse(e,t,n){const r=t,i=e.length,a=e[t];let o=(t<<1)+1,s;for(;o<i;)s=o+1,s<i&&n(e[o],e[s])>=0&&(o=s),e[t]=e[o],t=o,o=(t<<1)+1;return e[t]=a,F$(e,r,t,n)}function ql(){this.logger(h4()),this.logLevel(f4),this._clock=0,this._rank=0,this._locale=E4();try{this._loader=Xg()}catch{}this._touched=Jg(rh),this._input={},this._pulse=null,this._heap=Cse((e,t)=>e.qrank-t.qrank),this._postrun=[]}function $u(e){return function(){return this._log[e].apply(this,arguments)}}ql.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:$u("error"),warn:$u("warn"),info:$u("info"),debug:$u("debug"),logLevel:$u("level"),cleanThreshold:1e4,add:rse,connect:ise,rank:yse,rerank:bse,pulse:Ose,touch:kse,update:Mse,changeset:X0,ingest:lse,parse:sse,preload:use,request:cse,events:ose,on:hse,evaluate:xse,run:wse,runAsync:_se,runAfter:Tse,_enqueue:Ase,_getPulse:Sse};function I(e,t){Je.call(this,e,null,t)}H(I,Je,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const vc={};function B$(e){const t=$$(e);return t&&t.Definition||null}function $$(e){return e=e&&e.toLowerCase(),oe(vc,e)?vc[e]:null}function*N$(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function F4(e,t,n){const r=Float64Array.from(N$(e,n));return r.sort(Ke),t.map(i=>p7(r,i))}function B4(e,t){return F4(e,[.25,.5,.75],t)}function $4(e,t){const n=e.length,r=l7(e,t),i=B4(e,t),a=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,a)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function I$(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let a=e.extent[0],o=e.extent[1],s,l,c,u,f,d;const h=e.span||o-a||Math.abs(a)||1;if(e.step)s=e.step;else if(e.steps){for(u=h/t,f=0,d=e.steps.length;f<d&&e.steps[f]<u;++f);s=e.steps[Math.max(0,f-1)]}else{for(l=Math.ceil(Math.log(t)/r),c=e.minstep||0,s=Math.max(c,Math.pow(n,Math.round(Math.log(h)/r)-l));Math.ceil(h/s)>t;)s*=n;for(f=0,d=i.length;f<d;++f)u=s/i[f],u>=c&&h/u<=t&&(s=u)}u=Math.log(s);const m=u>=0?0:~~(-u/r)+1,g=Math.pow(n,-m-1);return(e.nice||e.nice===void 0)&&(u=Math.floor(a/s+g)*s,a=a<u?u-s:u,o=Math.ceil(o/s)*s),{start:a,stop:o===a?a+s:o,step:s}}var Nr=Math.random;function Lse(e){Nr=e}function Z$(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(N$(e,r)),a=i.length,o=t;let s,l,c,u;for(c=0,u=Array(o);c<o;++c){for(s=0,l=0;l<a;++l)s+=i[~~(Nr()*a)];u[c]=s/a}return u.sort(Ke),[m0(u,n/2),m0(u,1-n/2)]}function R$(e,t,n,r){r=r||(d=>d);const i=e.length,a=new Float64Array(i);let o=0,s=1,l=r(e[0]),c=l,u=l+t,f;for(;s<i;++s){if(f=r(e[s]),f>=u){for(c=(l+c)/2;o<s;++o)a[o]=c;u=f+t,l=f}c=f}for(c=(l+c)/2;o<s;++o)a[o]=c;return n?Fse(a,t+t/4):a}function Fse(e,t){const n=e.length;let r=0,i=1,a,o;for(;e[r]===e[i];)++i;for(;i<n;){for(a=i+1;e[i]===e[a];)++a;if(e[i]-e[i-1]<t){for(o=i+(r+a-i-i>>1);o<i;)e[o++]=e[i];for(;o>i;)e[o--]=e[r]}r=i,i=a}return e}function Bse(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function $se(e,t){t==null&&(t=e,e=0);let n,r,i;const a={min(o){return arguments.length?(n=o||0,i=r-n,a):n},max(o){return arguments.length?(r=o||0,i=r-n,a):r},sample(){return n+Math.floor(i*Nr())},pdf(o){return o===Math.floor(o)&&o>=n&&o<r?1/i:0},cdf(o){const s=Math.floor(o);return s<n?0:s>=r?1:(s-n+1)/i},icdf(o){return o>=0&&o<=1?n-1+Math.floor(o*i):NaN}};return a.min(e).max(t)}const P$=Math.sqrt(2*Math.PI),Nse=Math.SQRT2;let Nu=NaN;function n2(e,t){e=e||0,t=t??1;let n=0,r=0,i,a;if(Nu===Nu)n=Nu,Nu=NaN;else{do n=Nr()*2-1,r=Nr()*2-1,i=n*n+r*r;while(i===0||i>1);a=Math.sqrt(-2*Math.log(i)/i),n*=a,Nu=r*a}return e+n*t}function N4(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*P$)}function r2(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let a;if(i>37)a=0;else{const o=Math.exp(-i*i/2);let s;i<7.07106781186547?(s=.0352624965998911*i+.700383064443688,s=s*i+6.37396220353165,s=s*i+33.912866078383,s=s*i+112.079291497871,s=s*i+221.213596169931,s=s*i+220.206867912376,a=o*s,s=.0883883476483184*i+1.75566716318264,s=s*i+16.064177579207,s=s*i+86.7807322029461,s=s*i+296.564248779674,s=s*i+637.333633378831,s=s*i+793.826512519948,s=s*i+440.413735824752,a=a/s):(s=i+.65,s=i+4/s,s=i+3/s,s=i+2/s,s=i+1/s,a=o/s/2.506628274631)}return r>0?1-a:a}function i2(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*Nse*Ise(2*e-1)}function Ise(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function I4(e,t){let n,r;const i={mean(a){return arguments.length?(n=a||0,i):n},stdev(a){return arguments.length?(r=a??1,i):r},sample:()=>n2(n,r),pdf:a=>N4(a,n,r),cdf:a=>r2(a,n,r),icdf:a=>i2(a,n,r)};return i.mean(e).stdev(t)}function Z4(e,t){const n=I4();let r=0;const i={data(a){return arguments.length?(e=a,r=a?a.length:0,i.bandwidth(t)):e},bandwidth(a){return arguments.length?(t=a,!t&&e&&(t=$4(e)),i):t},sample(){return e[~~(Nr()*r)]+t*n.sample()},pdf(a){let o=0,s=0;for(;s<r;++s)o+=n.pdf((a-e[s])/t);return o/t/r},cdf(a){let o=0,s=0;for(;s<r;++s)o+=n.cdf((a-e[s])/t);return o/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function R4(e,t){return e=e||0,t=t??1,Math.exp(e+n2()*t)}function P4(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*P$*e)}function j4(e,t,n){return r2(Math.log(e),t,n)}function z4(e,t,n){return Math.exp(i2(e,t,n))}function j$(e,t){let n,r;const i={mean(a){return arguments.length?(n=a||0,i):n},stdev(a){return arguments.length?(r=a??1,i):r},sample:()=>R4(n,r),pdf:a=>P4(a,n,r),cdf:a=>j4(a,n,r),icdf:a=>z4(a,n,r)};return i.mean(e).stdev(t)}function z$(e,t){let n=0,r;function i(o){const s=[];let l=0,c;for(c=0;c<n;++c)l+=s[c]=o[c]==null?1:+o[c];for(c=0;c<n;++c)s[c]/=l;return s}const a={weights(o){return arguments.length?(r=i(t=o||[]),a):t},distributions(o){return arguments.length?(o?(n=o.length,e=o):(n=0,e=[]),a.weights(t)):e},sample(){const o=Nr();let s=e[n-1],l=r[0],c=0;for(;c<n-1;l+=r[++c])if(o<l){s=e[c];break}return s.sample()},pdf(o){let s=0,l=0;for(;l<n;++l)s+=r[l]*e[l].pdf(o);return s},cdf(o){let s=0,l=0;for(;l<n;++l)s+=r[l]*e[l].cdf(o);return s},icdf(){throw Error("Mixture icdf not supported.")}};return a.distributions(e).weights(t)}function G4(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*Nr()}function U4(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function W4(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function H4(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function G$(e,t){let n,r;const i={min(a){return arguments.length?(n=a||0,i):n},max(a){return arguments.length?(r=a??1,i):r},sample:()=>G4(n,r),pdf:a=>U4(a,n,r),cdf:a=>W4(a,n,r),icdf:a=>H4(a,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function ah(e,t,n,r){const i=r-e*e,a=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-a*e,a]}function a2(e,t,n,r){e=e.filter(h=>{let m=t(h),g=n(h);return m!=null&&(m=+m)>=m&&g!=null&&(g=+g)>=g}),r&&e.sort((h,m)=>t(h)-t(m));const i=e.length,a=new Float64Array(i),o=new Float64Array(i);let s=0,l=0,c=0,u,f,d;for(d of e)a[s]=u=+t(d),o[s]=f=+n(d),++s,l+=(u-l)/s,c+=(f-c)/s;for(s=0;s<i;++s)a[s]-=l,o[s]-=c;return[a,o,l,c]}function oh(e,t,n,r){let i=-1,a,o;for(const s of e)a=t(s),o=n(s),a!=null&&(a=+a)>=a&&o!=null&&(o=+o)>=o&&r(a,o,++i)}function ou(e,t,n,r,i){let a=0,o=0;return oh(e,t,n,(s,l)=>{const c=l-i(s),u=l-r;a+=c*c,o+=u*u}),1-a/o}function Y4(e,t,n){let r=0,i=0,a=0,o=0,s=0;oh(e,t,n,(u,f)=>{++s,r+=(u-r)/s,i+=(f-i)/s,a+=(u*f-a)/s,o+=(u*u-o)/s});const l=ah(r,i,a,o),c=u=>l[0]+l[1]*u;return{coef:l,predict:c,rSquared:ou(e,t,n,i,c)}}function U$(e,t,n){let r=0,i=0,a=0,o=0,s=0;oh(e,t,n,(u,f)=>{++s,u=Math.log(u),r+=(u-r)/s,i+=(f-i)/s,a+=(u*f-a)/s,o+=(u*u-o)/s});const l=ah(r,i,a,o),c=u=>l[0]+l[1]*Math.log(u);return{coef:l,predict:c,rSquared:ou(e,t,n,i,c)}}function W$(e,t,n){const[r,i,a,o]=a2(e,t,n);let s=0,l=0,c=0,u=0,f=0,d,h,m;oh(e,t,n,(b,v)=>{d=r[f++],h=Math.log(v),m=d*v,s+=(v*h-s)/f,l+=(m-l)/f,c+=(m*h-c)/f,u+=(d*m-u)/f});const[g,p]=ah(l/o,s/o,c/o,u/o),y=b=>Math.exp(g+p*(b-a));return{coef:[Math.exp(g-p*a),p],predict:y,rSquared:ou(e,t,n,o,y)}}function H$(e,t,n){let r=0,i=0,a=0,o=0,s=0,l=0;oh(e,t,n,(f,d)=>{const h=Math.log(f),m=Math.log(d);++l,r+=(h-r)/l,i+=(m-i)/l,a+=(h*m-a)/l,o+=(h*h-o)/l,s+=(d-s)/l});const c=ah(r,i,a,o),u=f=>c[0]*Math.pow(f,c[1]);return c[0]=Math.exp(c[0]),{coef:c,predict:u,rSquared:ou(e,t,n,s,u)}}function q4(e,t,n){const[r,i,a,o]=a2(e,t,n),s=r.length;let l=0,c=0,u=0,f=0,d=0,h,m,g,p;for(h=0;h<s;)m=r[h],g=i[h++],p=m*m,l+=(p-l)/h,c+=(p*m-c)/h,u+=(p*p-u)/h,f+=(m*g-f)/h,d+=(p*g-d)/h;const y=u-l*l,b=l*y-c*c,v=(d*l-f*c)/b,x=(f*y-d*c)/b,_=-v*l,T=w=>(w=w-a,v*w*w+x*w+_+o);return{coef:[_-x*a+v*a*a+o,x-2*v*a,v],predict:T,rSquared:ou(e,t,n,o,T)}}function Y$(e,t,n,r){if(r===1)return Y4(e,t,n);if(r===2)return q4(e,t,n);const[i,a,o,s]=a2(e,t,n),l=i.length,c=[],u=[],f=r+1;let d,h,m,g,p;for(d=0;d<f;++d){for(m=0,g=0;m<l;++m)g+=Math.pow(i[m],d)*a[m];for(c.push(g),p=new Float64Array(f),h=0;h<f;++h){for(m=0,g=0;m<l;++m)g+=Math.pow(i[m],d+h);p[h]=g}u.push(p)}u.push(c);const y=Rse(u),b=v=>{v-=o;let x=s+y[0]+y[1]*v+y[2]*v*v;for(d=3;d<f;++d)x+=y[d]*Math.pow(v,d);return x};return{coef:Zse(f,y,-o,s),predict:b,rSquared:ou(e,t,n,s,b)}}function Zse(e,t,n,r){const i=Array(e);let a,o,s,l;for(a=0;a<e;++a)i[a]=0;for(a=e-1;a>=0;--a)for(s=t[a],l=1,i[a]+=s,o=1;o<=a;++o)l*=(a+1-o)/o,i[a-o]+=s*Math.pow(n,o)*l;return i[0]+=r,i}function Rse(e){const t=e.length-1,n=[];let r,i,a,o,s;for(r=0;r<t;++r){for(o=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][o])&&(o=i);for(a=r;a<t+1;++a)s=e[a][r],e[a][r]=e[a][o],e[a][o]=s;for(i=r+1;i<t;++i)for(a=t;a>=r;a--)e[a][i]-=e[a][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(s=0,a=i+1;a<t;++a)s+=e[a][i]*n[a];n[i]=(e[t][i]-s)/e[i][i]}return n}const VA=2,XA=1e-12;function q$(e,t,n,r){const[i,a,o,s]=a2(e,t,n,!0),l=i.length,c=Math.max(2,~~(r*l)),u=new Float64Array(l),f=new Float64Array(l),d=new Float64Array(l).fill(1);for(let h=-1;++h<=VA;){const m=[0,c-1];for(let p=0;p<l;++p){const y=i[p],b=m[0],v=m[1],x=y-i[b]>i[v]-y?b:v;let _=0,T=0,w=0,S=0,C=0;const k=1/Math.abs(i[x]-y||1);for(let D=b;D<=v;++D){const E=i[D],O=a[D],M=Pse(Math.abs(y-E)*k)*d[D],F=E*M;_+=M,T+=F,w+=O*M,S+=O*F,C+=E*F}const[A,L]=ah(T/_,w/_,S/_,C/_);u[p]=A+L*y,f[p]=Math.abs(a[p]-u[p]),jse(i,p+1,m)}if(h===VA)break;const g=g7(f);if(Math.abs(g)<XA)break;for(let p=0,y,b;p<l;++p)y=f[p]/(6*g),d[p]=y>=1?XA:(b=1-y*y)*b}return zse(i,u,o,s)}function Pse(e){return(e=1-e*e*e)*e*e}function jse(e,t,n){const r=e[t];let i=n[0],a=n[1]+1;if(!(a>=e.length))for(;t>i&&e[a]-r<=r-e[i];)n[0]=++i,n[1]=a,++a}function zse(e,t,n,r){const i=e.length,a=[];let o=0,s=0,l=[],c;for(;o<i;++o)c=e[o]+n,l[0]===c?l[1]+=(t[o]-l[1])/++s:(s=0,l[1]+=r,l=[c,t[o]],a.push(l));return l[1]+=r,a}const Gse=.5*Math.PI/180;function o2(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=g=>[g,e(g)],a=t[0],o=t[1],s=o-a,l=s/r,c=[i(a)],u=[];if(n===r){for(let g=1;g<r;++g)c.push(i(a+g/n*s));return c.push(i(o)),c}else{u.push(i(o));for(let g=n;--g>0;)u.push(i(a+g/n*s))}let f=c[0],d=u[u.length-1];const h=1/s,m=Use(f[1],u);for(;d;){const g=i((f[0]+d[0])/2);g[0]-f[0]>=l&&Wse(f,g,d,h,m)>Gse?u.push(g):(f=d,c.push(d),u.pop()),d=u[u.length-1]}return c}function Use(e,t){let n=e,r=e;const i=t.length;for(let a=0;a<i;++a){const o=t[a][1];o<n&&(n=o),o>r&&(r=o)}return 1/(r-n)}function Wse(e,t,n,r,i){const a=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),o=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(a-o)}function Hse(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function $3(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:Hse(e)}function V$(e,t,n){return n||e+(t?"_"+t:"")}const Tb=()=>{},Yse={init:Tb,add:Tb,rem:Tb,idx:0},cd={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.sum,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3}},sh=Object.keys(cd);function qse(e,t){return n=>xe({name:e,out:n||e},Yse,t)}sh.forEach(e=>{cd[e]=qse(e,cd[e])});function X$(e,t){return cd[e](t)}function J$(e,t){return e.idx-t.idx}function Vse(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=cd[i]())})};return e.forEach(n),Object.values(t).sort(J$)}function Xse(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.init(this))}function Jse(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function Kse(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function Qse(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function K$(e,t){const n=t||bn,r=Vse(e),i=e.slice().sort(J$);function a(o){this._ops=r,this._out=i,this.cell=o,this.init()}return a.prototype.init=Xse,a.prototype.add=Jse,a.prototype.rem=Kse,a.prototype.set=Qse,a.prototype.get=n,a.fields=e.map(o=>o.out),a}function V4(e){this._key=e?Jn(e):le,this.reset()}const Jt=V4.prototype;Jt.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};Jt.add=function(e){this._add.push(e)};Jt.rem=function(e){this._rem.push(e)};Jt.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,a=Array(r-i),o={};let s,l,c;for(s=0;s<i;++s)o[n(t[s])]=1;for(s=0,l=0;s<r;++s)o[n(c=e[s])]?o[n(c)]=0:a[l++]=c;return this._rem=[],this._add=a};Jt.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,a;for(;--r>=0;)a=e(t[r])+"",oe(n,a)||(n[a]=1,++i);return i};Jt.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=PB(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};Jt.argmin=function(e){return this.extent(e)[0]||{}};Jt.argmax=function(e){return this.extent(e)[1]||{}};Jt.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};Jt.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};Jt.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=B4(this.values(),e),this._get=e),this._q};Jt.q1=function(e){return this.quartile(e)[0]};Jt.q2=function(e){return this.quartile(e)[1]};Jt.q3=function(e){return this.quartile(e)[2]};Jt.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=Z$(this.values(),1e3,.05,e),this._get=e),this._ci};Jt.ci0=function(e){return this.ci(e)[0]};Jt.ci1=function(e){return this.ci(e)[1]};function Jo(e){I.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}Jo.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:sh},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};H(Jo,I,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):{},t.visit(t.SOURCE,a=>n.add(a))):(n.value=n.value||n.init(e),t.visit(t.REM,a=>n.rem(a)),t.visit(t.ADD,a=>n.add(a))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function a(s){let l,c,u,f;for(l in s)for(u=s[l].tuple,c=0;c<i;++c)r[c][f=u[n[c]]]=f}a(e._prev),a(t);function o(s,l,c){const u=n[c],f=r[c++];for(const d in f){const h=s?s+"|"+d:d;l[u]=f[d],c<i?o(h,l,c):t[h]||e.cell(h,l)}}o("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(p){const y=Q(hn(p)),b=y.length;let v=0,x;for(;v<b;++v)r[x=y[v]]||(r[x]=1,t.push(x))}this._dims=Q(e.groupby),this._dnames=this._dims.map(p=>{const y=vt(p);return i(p),n.push(y),y}),this.cellkey=e.key?e.key:$3(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const a=e.fields||[null],o=e.ops||["count"],s=e.as||[],l=a.length,c={};let u,f,d,h,m,g;for(l!==o.length&&P("Unmatched number of fields and aggregate ops."),g=0;g<l;++g){if(u=a[g],f=o[g],u==null&&f!=="count"&&P("Null aggregate field specified."),h=vt(u),m=V$(f,h,s[g]),n.push(m),f==="count"){this._counts.push(m);continue}d=c[h],d||(i(u),d=c[h]=[],d.field=u,this._measures.push(d)),f!=="count"&&(this._countOnly=!1),d.push(X$(f,m))}return this._measures=this._measures.map(p=>K$(p,p.field)),{}},cellkey:$3(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let a=0;a<i;++a)n.agg[a]=new r[a](n)}return n.store&&(n.data=new V4),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,a={};for(let o=0;o<i;++o)a[n[o]]=r[o](e);return t?C$(t.tuple,a):je(a)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,a=r.length;i<a;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,a=r.length;i<a;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,a=r.length;i<a;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,a=e.add,o=e.rem,s=e.mod;let l,c,u,f;if(r)for(c in r)l=r[c],(!i||l.num)&&o.push(l.tuple);for(u=0,f=this._alen;u<f;++u)a.push(this.celltuple(t[u])),t[u]=null;for(u=0,f=this._mlen;u<f;++u)l=n[u],(l.num===0&&i?o:s).push(this.celltuple(l)),n[u]=null;return this._alen=this._mlen=0,this._prev=null,e}});const e0e=1e-14;function X4(e){I.call(this,null,e)}X4.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};H(X4,I,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,a=r.step,o=e.as||["bin0","bin1"],s=o[0],l=o[1];let c;return e.modified()?(t=t.reflow(!0),c=t.SOURCE):c=t.modified(hn(e.field))?t.ADD_MOD:t.ADD,t.visit(c,n?u=>{const f=r(u);u[s]=f,u[l]=f==null?null:i+a*(1+(f-i)/a)}:u=>u[s]=r(u)),t.modifies(n?o:s)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=I$(e),r=n.step;let i=n.start,a=i+Math.ceil((n.stop-i)/r)*r,o,s;(o=e.anchor)!=null&&(s=o-(i+r*Math.floor((o-i)/r)),i+=s,a+=s);const l=function(c){let u=un(t(c));return u==null?null:u<i?-1/0:u>a?1/0:(u=Math.max(i,Math.min(u,a-r)),i+r*Math.floor(e0e+(u-i)/r))};return l.start=i,l.stop=n.stop,l.step=r,this.value=rr(l,hn(t),e.name||"bin_"+vt(t))}});function Q$(e,t,n){const r=e;let i=t||[],a=n||[],o={},s=0;return{add:l=>a.push(l),remove:l=>o[r(l)]=++s,size:()=>i.length,data:(l,c)=>(s&&(i=i.filter(u=>!o[r(u)]),o={},s=0),c&&l&&i.sort(l),a.length&&(i=l?HB(l,i,a.sort(l)):i.concat(a),a=[]),i)}}function J4(e){I.call(this,[],e)}J4.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};H(J4,I,{transform(e,t){const n=t.fork(t.ALL),r=Q$(le,this.value,n.materialize(n.ADD).add),i=e.sort,a=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(a),this.value=n.source=r.data(V0(i),a),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function eN(e){Je.call(this,null,t0e,e)}H(eN,Je);function t0e(e){return this.value&&!e.modified()?this.value:y4(e.fields,e.orders)}function K4(e){I.call(this,null,e)}K4.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function n0e(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}H(K4,I,{transform(e,t){const n=f=>d=>{for(var h=n0e(s(d),e.case,a)||[],m,g=0,p=h.length;g<p;++g)o.test(m=h[g])||f(m)},r=this._parameterCheck(e,t),i=this._counts,a=this._match,o=this._stop,s=e.field,l=e.as||["text","count"],c=n(f=>i[f]=1+(i[f]||0)),u=n(f=>i[f]-=1);return r?t.visit(t.SOURCE,c):(t.visit(t.ADD,c),t.visit(t.REM,u)),this._finish(t,l)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],a=t[1],o=e.fork(e.NO_SOURCE|e.NO_FIELDS);let s,l,c;for(s in n)l=r[s],c=n[s]||0,!l&&c?(r[s]=l=je({}),l[i]=s,l[a]=c,o.add.push(l)):c===0?(l&&o.rem.push(l),n[s]=null,r[s]=null):l[a]!==c&&(l[a]=c,o.mod.push(l));return o.modifies(t)}});function Q4(e){I.call(this,null,e)}Q4.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};H(Q4,I,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],a=r[1],o=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let s=this.value;return o?(s&&(n.rem=s),s=t.materialize(t.SOURCE).source,n.add=this.value=r0e(s,i,a,e.filter||Br)):n.mod=s,n.source=this.value,n.modifies(r)}});function r0e(e,t,n,r){for(var i=[],a={},o=e.length,s=0,l,c;s<o;++s)for(a[t]=c=e[s],l=0;l<o;++l)a[n]=e[l],r(a)&&(i.push(je(a)),a={},a[t]=c);return i}const JA={kde:Z4,mixture:z$,normal:I4,lognormal:j$,uniform:G$},i0e="distributions",KA="function",a0e="field";function tN(e,t){const n=e[KA];oe(JA,n)||P("Unknown distribution function: "+n);const r=JA[n]();for(const i in e)i===a0e?r.data((e.from||t()).map(e[i])):i===i0e?r[i](e[i].map(a=>tN(a,t))):typeof r[i]===KA&&r[i](e[i]);return r}function ex(e){I.call(this,null,e)}const nN=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],o0e={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:nN},{name:"weights",type:"number",array:!0}]};ex.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:nN.concat(o0e)},{name:"as",type:"string",array:!0,default:["value","density"]}]};H(ex,I,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=tN(e.distribution,s0e(t)),i=e.steps||e.minsteps||25,a=e.steps||e.maxsteps||200;let o=e.method||"pdf";o!=="pdf"&&o!=="cdf"&&P("Invalid density method: "+o),!e.extent&&!r.data&&P("Missing density extent parameter."),o=r[o];const s=e.as||["value","density"],l=e.extent||ra(r.data()),c=o2(o,l,i,a).map(u=>{const f={};return f[s[0]]=u[0],f[s[1]]=u[1],je(f)});this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n}});function s0e(e){return()=>e.materialize(e.SOURCE).source}function rN(e,t){return e?e.map((n,r)=>t[r]||vt(n)):null}function tx(e,t,n){const r=[],i=f=>f(l);let a,o,s,l,c,u;if(t==null)r.push(e.map(n));else for(a={},o=0,s=e.length;o<s;++o)l=e[o],c=t.map(i),u=a[c],u||(a[c]=u=[],u.dims=c,r.push(u)),u.push(n(l));return r}const iN="bin";function nx(e){I.call(this,null,e)}nx.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:iN}]};const l0e=(e,t)=>ih(ra(e,t))/30;H(nx,I,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=tx(t.source,e.groupby,bn),i=e.smooth||!1,a=e.field,o=e.step||l0e(n,a),s=V0((m,g)=>a(m)-a(g)),l=e.as||iN,c=r.length;let u=1/0,f=-1/0,d=0,h;for(;d<c;++d){const m=r[d].sort(s);h=-1;for(const g of R$(m,o,i,a))g<u&&(u=g),g>f&&(f=g),m[++h][l]=g}return this.value={start:u,stop:f,step:o},t.reflow(!0).modifies(l)}});function aN(e){Je.call(this,null,c0e,e),this.modified(!0)}H(aN,Je);function c0e(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:rr(n=>t(n,e),hn(t),vt(t))}function rx(e){I.call(this,[void 0,void 0],e)}rx.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};H(rx,I,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let a=n[0],o=n[1];if((i||a==null)&&(a=1/0,o=-1/0),t.visit(i?t.SOURCE:t.ADD,s=>{const l=un(r(s));l!=null&&(l<a&&(a=l),l>o&&(o=l))}),!Number.isFinite(a)||!Number.isFinite(o)){let s=vt(r);s&&(s=' for field "'.concat(s,'"')),t.dataflow.warn("Infinite extent".concat(s,": [").concat(a,", ").concat(o,"]")),a=o=void 0}this.value=[a,o]}});function ix(e,t){Je.call(this,e),this.parent=t,this.count=0}H(ix,Je,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function s2(e){I.call(this,{},e),this._keys=ru();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}H(s2,I,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let a=oe(i,e)&&i[e],o,s;return a?a.value.stamp<n.stamp&&(a.init(n),this.activate(a)):(s=r||(s=this._group[e])&&s.tuple,o=n.dataflow,a=new ix(n.fork(n.NO_SOURCE),this),o.add(a).connect(t(o,e,s)),i[e]=a,this.activate(a)),a},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,a=this._keys,o=e.modified("key"),s=l=>this.subflow(l,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,l=>{const c=le(l),u=a.get(c);u!==void 0&&(a.delete(c),s(u).rem(l))}),t.visit(t.ADD,l=>{const c=r(l);a.set(le(l),c),s(c).add(l)}),o||t.modified(r.fields)?t.visit(t.MOD,l=>{const c=le(l),u=a.get(c),f=r(l);u===f?s(f).mod(l):(a.set(c,f),s(u).rem(l),s(f).add(l))}):t.changed(t.MOD)&&t.visit(t.MOD,l=>{s(a.get(le(l))).mod(l)}),o&&t.visit(t.REFLOW,l=>{const c=le(l),u=a.get(c),f=r(l);u!==f&&(a.set(c,f),s(u).rem(l),s(f).add(l))}),t.clean()?n.runAfter(()=>{this.clean(),a.clean()}):a.empty>n.cleanThreshold&&n.runAfter(a.clean),t}});function oN(e){Je.call(this,null,u0e,e)}H(oN,Je);function u0e(e){return this.value&&!e.modified()?this.value:j(e.name)?Q(e.name).map(t=>Jn(t)):Jn(e.name,e.as)}function ax(e){I.call(this,ru(),e)}ax.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};H(ax,I,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),a=i.add,o=i.rem,s=i.mod,l=e.expr;let c=!0;t.visit(t.REM,f=>{const d=le(f);r.has(d)?r.delete(d):o.push(f)}),t.visit(t.ADD,f=>{l(f,e)?a.push(f):r.set(le(f),1)});function u(f){const d=le(f),h=l(f,e),m=r.get(d);h&&m?(r.delete(d),a.push(f)):!h&&!m?(r.set(d,1),o.push(f)):c&&h&&!m&&s.push(f)}return t.visit(t.MOD,u),e.modified()&&(c=!1,t.visit(t.REFLOW,u)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function ox(e){I.call(this,[],e)}ox.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};H(ox,I,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=rN(r,e.as||[]),a=e.index||null,o=i.length;return n.rem=this.value,t.visit(t.SOURCE,s=>{const l=r.map(m=>m(s)),c=l.reduce((m,g)=>Math.max(m,g.length),0);let u=0,f,d,h;for(;u<c;++u){for(d=C4(s),f=0;f<o;++f)d[i[f]]=(h=l[f][u])==null?null:h;a&&(d[a]=u),n.add.push(d)}}),this.value=n.source=n.add,a&&n.modifies(a),n.modifies(i)}});function sx(e){I.call(this,[],e)}sx.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};H(sx,I,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(vt),a=e.as||["key","value"],o=a[0],s=a[1],l=r.length;return n.rem=this.value,t.visit(t.SOURCE,c=>{for(let u=0,f;u<l;++u)f=C4(c),f[o]=i[u],f[s]=r[u](c),n.add.push(f)}),this.value=n.source=n.add,n.modifies(a)}});function lx(e){I.call(this,null,e)}lx.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};H(lx,I,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),a=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(a,o=>o[r]=n(o,e))}});function sN(e){I.call(this,[],e)}H(sN,I,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,a=e.size-i.length,o,s,l;if(a>0){for(o=[];--a>=0;)o.push(l=je(r(e))),i.push(l);n.add=n.add.length?n.materialize(n.ADD).add.concat(o):o}else s=i.slice(0,-a),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(s):s,i=i.slice(-a);return n.source=this.value=i,n}});const h1={value:"value",median:g7,mean:GM,min:Va,max:Dn},f0e=[];function cx(e){I.call(this,[],e)}cx.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function d0e(e){var t=e.method||h1.value,n;if(h1[t]==null)P("Unrecognized imputation method: "+t);else return t===h1.value?(n=e.value!==void 0?e.value:0,()=>n):h1[t]}function h0e(e){const t=e.field;return n=>n?t(n):NaN}H(cx,I,{transform(e,t){var n=t.fork(t.ALL),r=d0e(e),i=h0e(e),a=vt(e.field),o=vt(e.key),s=(e.groupby||[]).map(vt),l=m0e(t.source,e.groupby,e.key,e.keyvals),c=[],u=this.value,f=l.domain.length,d,h,m,g,p,y,b,v,x,_;for(p=0,v=l.length;p<v;++p)for(d=l[p],m=d.values,h=NaN,b=0;b<f;++b)if(d[b]==null){for(g=l.domain[b],_={_impute:!0},y=0,x=m.length;y<x;++y)_[s[y]]=m[y];_[o]=g,_[a]=Number.isNaN(h)?h=r(d,i):h,c.push(je(_))}return c.length&&(n.add=n.materialize(n.ADD).add.concat(c)),u.length&&(n.rem=n.materialize(n.REM).rem.concat(u)),this.value=c,n}});function m0e(e,t,n,r){var i=y=>y(p),a=[],o=r?r.slice():[],s={},l={},c,u,f,d,h,m,g,p;for(o.forEach((y,b)=>s[y]=b+1),d=0,g=e.length;d<g;++d)p=e[d],m=n(p),h=s[m]||(s[m]=o.push(m)),u=(c=t?t.map(i):f0e)+"",(f=l[u])||(f=l[u]=[],a.push(f),f.values=c),f[h-1]=p;return a.domain=o,a}function ux(e){Jo.call(this,e)}ux.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:sh},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};H(ux,Jo,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,a=>n.add(a))):(i=n.value=n.value||this.init(e),t.visit(t.REM,a=>n.rem(a)),t.visit(t.ADD,a=>n.add(a))),n.changes(),t.visit(t.SOURCE,a=>{xe(a,i[n.cellkey(a)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function fx(e){I.call(this,null,e)}fx.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};H(fx,I,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=tx(r,e.groupby,e.field),a=(e.groupby||[]).map(vt),o=e.bandwidth,s=e.cumulative?"cdf":"pdf",l=e.as||["value","density"],c=[];let u=e.extent,f=e.steps||e.minsteps||25,d=e.steps||e.maxsteps||200;s!=="pdf"&&s!=="cdf"&&P("Invalid density method: "+s),e.resolve==="shared"&&(u||(u=ra(r,e.field)),f=d=e.steps||d),i.forEach(h=>{const m=Z4(h,o)[s],g=e.counts?h.length:1,p=u||ra(h);o2(m,p,f,d).forEach(y=>{const b={};for(let v=0;v<a.length;++v)b[a[v]]=h.dims[v];b[l[0]]=y[0],b[l[1]]=y[1]*g,c.push(je(b))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n}});function lN(e){Je.call(this,null,p0e,e)}H(lN,Je);function p0e(e){return this.value&&!e.modified()?this.value:v4(e.fields,e.flat)}function cN(e){I.call(this,[],e),this._pending=null}H(cN,I,{transform(e,t){const n=t.dataflow;return this._pending?Ab(this,t,this._pending):g0e(e)?t.StopPropagation:e.values?Ab(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=Q(i.data),a=>a.touch(this)))}:n.request(e.url,e.format).then(r=>Ab(this,t,Q(r.data)))}});function g0e(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function Ab(e,t,n){n.forEach(je);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function dx(e){I.call(this,{},e)}dx.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};H(dx,I,{transform(e,t){const n=e.fields,r=e.index,i=e.values,a=e.default==null?null:e.default,o=e.modified(),s=n.length;let l=o?t.SOURCE:t.ADD,c=t,u=e.as,f,d,h;return i?(d=i.length,s>1&&!u&&P('Multi-field lookup requires explicit "as" parameter.'),u&&u.length!==s*d&&P('The "as" parameter has too few output field names.'),u=u||i.map(vt),f=function(m){for(var g=0,p=0,y,b;g<s;++g)if(b=r.get(n[g](m)),b==null)for(y=0;y<d;++y,++p)m[u[p]]=a;else for(y=0;y<d;++y,++p)m[u[p]]=i[y](b)}):(u||P("Missing output field names."),f=function(m){for(var g=0,p;g<s;++g)p=r.get(n[g](m)),m[u[g]]=p??a}),o?c=t.reflow(!0):(h=n.some(m=>t.modified(m.fields)),l|=h?t.MOD:0),t.visit(l,f),c.modifies(u)}});function uN(e){Je.call(this,null,y0e,e)}H(uN,Je);function y0e(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,a,o;for(a=0;a<n;++a)o=t[a],o[0]<r&&(r=o[0]),o[1]>i&&(i=o[1]);return[r,i]}function fN(e){Je.call(this,null,b0e,e)}H(fN,Je);function b0e(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function dN(e){I.call(this,null,e)}H(dN,I,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function hx(e){Jo.call(this,e)}hx.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:sh,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};H(hx,Jo,{_transform:Jo.prototype.transform,transform(e,t){return this._transform(v0e(e,t),t)}});function v0e(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",a=hn(n).concat(hn(r)),o=_0e(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:o.map(()=>i),fields:o.map(s=>x0e(s,n,r,a)),as:o.map(s=>s+""),modified:e.modified.bind(e)}}function x0e(e,t,n,r){return rr(i=>t(i)===e?n(i):NaN,r,e+"")}function _0e(e,t,n){const r={},i=[];return n.visit(n.SOURCE,a=>{const o=e(a);r[o]||(r[o]=1,i.push(o))}),i.sort(qg),t?i.slice(0,t):i}function hN(e){s2.call(this,e)}H(hN,s2,{transform(e,t){const n=e.subflow,r=e.field,i=a=>this.subflow(le(a),n,t,a);return(e.modified("field")||r&&t.modified(hn(r)))&&P("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,a=>{const o=i(a);r(a).forEach(s=>o.mod(s))}),t.visit(t.ADD,a=>{const o=i(a);r(a).forEach(s=>o.add(je(s)))}),t.visit(t.REM,a=>{const o=i(a);r(a).forEach(s=>o.rem(s))})):(t.visit(t.MOD,a=>i(a).mod(a)),t.visit(t.ADD,a=>i(a).add(a)),t.visit(t.REM,a=>i(a).rem(a))),t.clean()&&t.runAfter(()=>this.clean()),t}});function mx(e){I.call(this,null,e)}mx.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};H(mx,I,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=rN(e.fields,e.as||[]),a=r?(s,l)=>w0e(s,l,r,i):Qg;let o;return this.value?o=this.value:(t=t.addAll(),o=this.value={}),t.visit(t.REM,s=>{const l=le(s);n.rem.push(o[l]),o[l]=null}),t.visit(t.ADD,s=>{const l=a(s,je({}));o[le(s)]=l,n.add.push(l)}),t.visit(t.MOD,s=>{n.mod.push(a(s,o[le(s)]))}),n}});function w0e(e,t,n,r){for(let i=0,a=n.length;i<a;++i)t[r[i]]=n[i](e);return t}function mN(e){I.call(this,null,e)}H(mN,I,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function px(e){I.call(this,null,e)}px.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const T0e=1e-14;H(px,I,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,a=tx(i,e.groupby,e.field),o=(e.groupby||[]).map(vt),s=[],l=e.step||.01,c=e.probs||ln(l/2,1-T0e,l),u=c.length;return a.forEach(f=>{const d=F4(f,c);for(let h=0;h<u;++h){const m={};for(let g=0;g<o.length;++g)m[o[g]]=f.dims[g];m[r[0]]=c[h],m[r[1]]=d[h],s.push(je(m))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=s,n}});function pN(e){I.call(this,null,e)}H(pN,I,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const a=le(i);n.rem.push(r[a]),r[a]=null}),t.visit(t.ADD,i=>{const a=C4(i);r[le(i)]=a,n.add.push(a)}),t.visit(t.MOD,i=>{const a=r[le(i)];for(const o in i)a[o]=i[o],n.modifies(o);n.mod.push(a)})),n}});function gx(e){I.call(this,[],e),this.count=0}gx.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};H(gx,I,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,a=this.value.reduce((u,f)=>(u[le(f)]=1,u),{});let o=this.value,s=this.count,l=0;function c(u){let f,d;o.length<i?o.push(u):(d=~~((s+1)*Nr()),d<o.length&&d>=l&&(f=o[d],a[le(f)]&&n.rem.push(f),o[d]=u)),++s}if(t.rem.length&&(t.visit(t.REM,u=>{const f=le(u);a[f]&&(a[f]=-1,n.rem.push(u)),--s}),o=o.filter(u=>a[le(u)]!==-1)),(t.rem.length||r)&&o.length<i&&t.source&&(l=s=o.length,t.visit(t.SOURCE,u=>{a[le(u)]||c(u)}),l=-1),r&&o.length>i){const u=o.length-i;for(let f=0;f<u;++f)a[le(o[f])]=-1,n.rem.push(o[f]);o=o.slice(u)}return t.mod.length&&t.visit(t.MOD,u=>{a[le(u)]&&n.mod.push(u)}),t.add.length&&t.visit(t.ADD,c),(t.add.length||l<0)&&(n.add=o.filter(u=>!a[le(u)])),this.count=s,this.value=n.source=o,n}});function yx(e){I.call(this,null,e)}yx.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};H(yx,I,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=ln(e.start,e.stop,e.step||1).map(i=>{const a={};return a[r]=i,je(a)}),n.add=t.add.concat(this.value),n}});function gN(e){I.call(this,null,e),this.modified(!0)}H(gN,I,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function bx(e){I.call(this,null,e)}const yN=["unit0","unit1"];bx.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:T4,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:yN}]};H(bx,I,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",a=this._floor(e,t),o=(i?au:iu)(a.unit).offset,s=e.as||yN,l=s[0],c=s[1],u=a.step;let f=a.start||1/0,d=a.stop||-1/0,h=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(hn(n)))&&(t=t.reflow(!0),h=t.SOURCE,f=1/0,d=-1/0),t.visit(h,m=>{const g=n(m);let p,y;g==null?(m[l]=null,r&&(m[c]=null)):(m[l]=p=y=a(g),r&&(m[c]=y=o(p,u)),p<f&&(f=p),y>d&&(d=y))}),a.start=f,a.stop=d,t.modifies(r?s:l)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:m$({extent:e.extent||ra(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),a=A4(r),o=this.value||{},s=(n?a$:i$)(a,i);return s.unit=Ce(a),s.units=a,s.step=i,s.start=o.start,s.stop=o.stop,this.value=s}});function bN(e){I.call(this,ru(),e)}H(bN,I,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,a=s=>i.set(r(s),s);let o=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,a)):t.changed()?(t.visit(t.REM,s=>i.delete(r(s))),t.visit(t.ADD,a)):o=!1,this.modified(o),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function vN(e){I.call(this,null,e)}H(vN,I,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(V0(e.sort)):t.source).map(e.field))}});function A0e(e,t,n,r){const i=ud[e](t,n);return{init:i.init||So,update:function(a,o){o[r]=i.next(a)}}}const ud={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=ud.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||P("ntile num must be greater than zero.");const n=ud.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||P("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=S0e(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function S0e(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const E0e=Object.keys(ud);function xN(e){const t=Q(e.ops),n=Q(e.fields),r=Q(e.params),i=Q(e.as),a=this.outputs=[],o=this.windows=[],s={},l={},c=[],u=[];let f=!0;function d(h){Q(hn(h)).forEach(m=>s[m]=1)}d(e.sort),t.forEach((h,m)=>{const g=n[m],p=vt(g),y=V$(h,p,i[m]);if(d(g),a.push(y),oe(ud,h))o.push(A0e(h,n[m],r[m],y));else{if(g==null&&h!=="count"&&P("Null aggregate field specified."),h==="count"){c.push(y);return}f=!1;let b=l[p];b||(b=l[p]=[],b.field=g,u.push(b)),b.push(X$(h,y))}}),(c.length||u.length)&&(this.cell=k0e(u,c,f)),this.inputs=Object.keys(s)}const _N=xN.prototype;_N.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};_N.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,a=r&&r.length;let o;if(n){for(o=e.p0;o<e.i0;++o)n.rem(i[o]);for(o=e.p1;o<e.i1;++o)n.add(i[o]);n.set(t)}for(o=0;o<a;++o)r[o].update(e,t)};function k0e(e,t,n){e=e.map(l=>K$(l,l.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,a=r.agg=Array(i),o=0;o<i;++o)a[o]=new e[o](r);if(r.store)var s=r.data=new V4;return r.add=function(l){if(r.num+=1,!n){s&&s.add(l);for(let c=0;c<i;++c)a[c].add(a[c].get(l),l)}},r.rem=function(l){if(r.num-=1,!n){s&&s.rem(l);for(let c=0;c<i;++c)a[c].rem(a[c].get(l),l)}},r.set=function(l){let c,u;for(s&&s.values(),c=0,u=t.length;c<u;++c)l[t[c]]=r.num;if(!n)for(c=0,u=a.length;c<u;++c)a[c].set(l)},r.init=function(){r.num=0,s&&s.reset();for(let l=0;l<i;++l)a[l].init()},r}function vx(e){I.call(this,{},e),this._mlen=0,this._mods=[]}vx.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:E0e.concat(sh)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};H(vx,I,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=V0(e.sort),i=$3(e.groupby),a=s=>this.group(i(s));let o=this.state;(!o||n)&&(o=this.state=new xN(e)),n||t.modified(o.inputs)?(this.value={},t.visit(t.SOURCE,s=>a(s).add(s))):(t.visit(t.REM,s=>a(s).remove(s)),t.visit(t.ADD,s=>a(s).add(s)));for(let s=0,l=this._mlen;s<l;++s)M0e(this._mods[s],o,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(o.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=Q$(le),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function M0e(e,t,n,r){const i=r.sort,a=i&&!r.ignorePeers,o=r.frame||[null,0],s=e.data(n),l=s.length,c=a?Gc(i):null,u={i0:0,i1:0,p0:0,p1:0,index:0,data:s,compare:i||vn(-1)};t.init();for(let f=0;f<l;++f)O0e(u,o,f,l),a&&C0e(u,c),t.update(u,s[f])}function O0e(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function C0e(e,t){const n=e.i0,r=e.i1-1,i=e.compare,a=e.data,o=a.length-1;n>0&&!i(a[n],a[n-1])&&(e.i0=t.left(a,a[n])),r<o&&!i(a[r],a[r+1])&&(e.i1=t.right(a,a[r]))}const D0e=Object.freeze(Object.defineProperty({__proto__:null,aggregate:Jo,bin:X4,collect:J4,compare:eN,countpattern:K4,cross:Q4,density:ex,dotbin:nx,expression:aN,extent:rx,facet:s2,field:oN,filter:ax,flatten:ox,fold:sx,formula:lx,generate:sN,impute:cx,joinaggregate:ux,kde:fx,key:lN,load:cN,lookup:dx,multiextent:uN,multivalues:fN,params:dN,pivot:hx,prefacet:hN,project:mx,proxy:mN,quantile:px,relay:pN,sample:gx,sequence:yx,sieve:gN,subflow:ix,timeunit:bx,tupleindex:bN,values:vN,window:vx},Symbol.toStringTag,{value:"Module"}));function Io(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const L0e=()=>typeof Image<"u"?Image:null;function xx(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const F0e="identity",xc="linear",eo="log",lh="pow",ch="sqrt",l2="symlog",S0="time",E0="utc",Vi="sequential",su="diverging",_c="quantile",c2="quantize",u2="threshold",_x="ordinal",N3="point",wN="band",wx="bin-ordinal",Lt="continuous",uh="discrete",fh="discretizing",jr="interpolating",Tx="temporal";function B0e(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function $0e(e){return function(t){const n=e.range();let r=t[0],i=t[1],a=-1,o,s,l,c;for(i<r&&(s=r,r=i,i=s),l=0,c=n.length;l<c;++l)n[l]>=r&&n[l]<=i&&(a<0&&(a=l),o=l);if(!(a<0))return r=e.invertExtent(n[a]),i=e.invertExtent(n[o]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function Ax(){const e=Hd().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,a,o=!1,s=0,l=0,c=.5;delete e.unknown;function u(){const f=t().length,d=r[1]<r[0],h=r[1-d],m=xx(f,s,l);let g=r[d-0];i=(h-g)/(m||1),o&&(i=Math.floor(i)),g+=(h-g-i*(f-s))*c,a=i*(1-s),o&&(g=Math.round(g),a=Math.round(a));const p=ln(f).map(y=>g+i*y);return n(d?p.reverse():p)}return e.domain=function(f){return arguments.length?(t(f),u()):t()},e.range=function(f){return arguments.length?(r=[+f[0],+f[1]],u()):r.slice()},e.rangeRound=function(f){return r=[+f[0],+f[1]],o=!0,u()},e.bandwidth=function(){return a},e.step=function(){return i},e.round=function(f){return arguments.length?(o=!!f,u()):o},e.padding=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),s=l,u()):s},e.paddingInner=function(f){return arguments.length?(s=Math.max(0,Math.min(1,f)),u()):s},e.paddingOuter=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),u()):l},e.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),u()):c},e.invertRange=function(f){if(f[0]==null||f[1]==null)return;const d=r[1]<r[0],h=d?n().reverse():n(),m=h.length-1;let g=+f[0],p=+f[1],y,b,v;if(!(g!==g||p!==p)&&(p<g&&(v=g,g=p,p=v),!(p<h[0]||g>r[1-d])))return y=Math.max(0,jf(h,g)-1),b=g===p?y:jf(h,p)-1,g-h[y]>a+1e-10&&++y,d&&(v=y,y=m-b,b=m-v),y>b?void 0:t().slice(y,b+1)},e.invert=function(f){const d=e.invertRange([f,f]);return d&&d[0]},e.copy=function(){return Ax().domain(t()).range(r).round(o).paddingInner(s).paddingOuter(l).align(c)},u()}function TN(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return TN(t())},e}function N0e(){return TN(Ax().paddingInner(1))}var I0e=Array.prototype.map;function Z0e(e){return I0e.call(e,un)}const R0e=Array.prototype.slice;function AN(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(fs(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=Z0e(r),n):e.slice()},n.range=function(r){return arguments.length?(t=R0e.call(r),n):t.slice()},n.tickFormat=function(r,i){return w8(e[0],Ce(e),r??10,i)},n.copy=function(){return AN().domain(n.domain()).range(n.range())},n}const pp={};function P0e(e,t,n){const r=function(){const a=t();return a.invertRange||(a.invertRange=a.invert?B0e(a):a.invertExtent?$0e(a):void 0),a.type=e,a};return r.metadata=vi(Q(n)),r}function Ze(e,t,n){return arguments.length>1?(pp[e]=P0e(e,t,n),this):SN(e)?pp[e]:void 0}Ze(F0e,A8);Ze(xc,T8,Lt);Ze(eo,E8,[Lt,eo]);Ze(lh,kg,Lt);Ze(ch,ID,Lt);Ze(l2,M8,Lt);Ze(S0,aL,[Lt,Tx]);Ze(E0,oL,[Lt,Tx]);Ze(Vi,Dg,[Lt,jr]);Ze("".concat(Vi,"-").concat(xc),Dg,[Lt,jr]);Ze("".concat(Vi,"-").concat(eo),I8,[Lt,jr,eo]);Ze("".concat(Vi,"-").concat(lh),Lg,[Lt,jr]);Ze("".concat(Vi,"-").concat(ch),sL,[Lt,jr]);Ze("".concat(Vi,"-").concat(l2),Z8,[Lt,jr]);Ze("".concat(su,"-").concat(xc),R8,[Lt,jr]);Ze("".concat(su,"-").concat(eo),P8,[Lt,jr,eo]);Ze("".concat(su,"-").concat(lh),Bg,[Lt,jr]);Ze("".concat(su,"-").concat(ch),cL,[Lt,jr]);Ze("".concat(su,"-").concat(l2),j8,[Lt,jr]);Ze(_c,C8,[fh,_c]);Ze(c2,D8,fh);Ze(u2,Mg,fh);Ze(wx,AN,[uh,fh]);Ze(_x,Hd,uh);Ze(wN,Ax,uh);Ze(N3,N0e,uh);function SN(e){return oe(pp,e)}function J0(e,t){const n=pp[e];return n&&n.metadata[t]}function Sx(e){return J0(e,Lt)}function wc(e){return J0(e,uh)}function I3(e){return J0(e,fh)}function EN(e){return J0(e,eo)}function j0e(e){return J0(e,Tx)}function kN(e){return J0(e,jr)}function MN(e){return J0(e,_c)}const z0e=["clamp","base","constant","exponent"];function ON(e,t){const n=t[0],r=Ce(t)-n;return function(i){return e(n+i*r)}}function f2(e,t,n){return $d(Ex(t||"rgb",n),e)}function CN(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function DN(e,t,n){const r=n-t;let i,a,o;return!r||!Number.isFinite(r)?vn(.5):(i=(a=e.type).indexOf("-"),a=i<0?a:a.slice(i+1),o=Ze(a)().domain([t,n]).range([0,1]),z0e.forEach(s=>e[s]?o[s](e[s]()):0),o)}function Ex(e,t){const n=zH[G0e(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function G0e(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const U0e={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},W0e={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"};function LN(e){const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function FN(e,t){for(const n in e)kx(n,t(e[n]))}const QA={};FN(W0e,LN);FN(U0e,e=>f2(LN(e)));function kx(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(QA[e]=t,this):QA[e]}const em="symbol",H0e="discrete",Y0e="gradient",q0e=e=>j(e)?e.map(t=>String(t)):String(e),V0e=(e,t)=>e[1]-t[1],X0e=(e,t)=>t[1]-e[1];function Mx(e,t,n){let r;return Ye(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(ih(e.domain())/n||1)))),ee(t)&&(r=t.step,t=t.interval),J(t)&&(t=e.type===S0?iu(t):e.type==E0?au(t):P("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function BN(e,t,n){let r=e.range(),i=r[0],a=Ce(r),o=V0e;if(i>a&&(r=a,a=i,i=r,o=X0e),i=Math.floor(i),a=Math.ceil(a),t=t.map(s=>[s,e(s)]).filter(s=>i<=s[1]&&s[1]<=a).sort(o).map(s=>s[0]),n>0&&t.length>1){const s=[t[0],Ce(t)];for(;t.length>n&&t.length>=3;)t=t.filter((l,c)=>!(c%2));t.length<3&&(t=s)}return t}function Ox(e,t){return e.bins?BN(e,e.bins):e.ticks?e.ticks(t):e.domain()}function $N(e,t,n,r,i,a){const o=t.type;let s=q0e;if(o===S0||i===S0)s=e.timeFormat(r);else if(o===E0||i===E0)s=e.utcFormat(r);else if(EN(o)){const l=e.formatFloat(r);if(a||t.bins)s=l;else{const c=NN(t,n,!1);s=u=>c(u)?l(u):""}}else if(t.tickFormat){const l=t.domain();s=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(s=e.format(r));return s}function NN(e,t,n){const r=Ox(e,t),i=e.base(),a=Math.log(i),o=Math.max(1,i*t/r.length),s=l=>{let c=l/Math.pow(i,Math.round(Math.log(l)/a));return c*i<i-.5&&(c*=i),c<=o};return n?r.filter(s):s}const Z3={[_c]:"quantiles",[c2]:"thresholds",[u2]:"domain"},IN={[_c]:"quantiles",[c2]:"domain"};function ZN(e,t){return e.bins?Q0e(e.bins):e.type===eo?NN(e,t,!0):Z3[e.type]?K0e(e[Z3[e.type]]()):Ox(e,t)}function J0e(e,t,n){const r=t[IN[t.type]](),i=r.length;let a=i>1?r[1]-r[0]:r[0],o;for(o=1;o<i;++o)a=Math.min(a,r[o]-r[o-1]);return e.formatSpan(0,a,3*10,n)}function K0e(e){const t=[-1/0].concat(e);return t.max=1/0,t}function Q0e(e){const t=e.slice(0,-1);return t.max=Ce(e),t}const ele=e=>Z3[e.type]||e.bins;function RN(e,t,n,r,i,a,o){const s=IN[t.type]&&a!==S0&&a!==E0?J0e(e,t,i):$N(e,t,n,i,a,o);return r===em&&ele(t)?tle(s):r===H0e?nle(s):rle(s)}const tle=e=>(t,n,r)=>{const i=eS(r[n+1],eS(r.max,1/0)),a=tS(t,e),o=tS(i,e);return a&&o?a+" – "+o:o?"< "+o:"≥ "+a},eS=(e,t)=>e??t,nle=e=>(t,n)=>n?e(t):null,rle=e=>t=>e(t),tS=(e,t)=>Number.isFinite(e)?t(e):null;function ile(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+Ce(t),a=i-r;if(e.type===u2){const o=n?a/n:.1;r-=o,i+=o,a=i-r}return o=>(o-r)/a}function ale(e,t,n,r){const i=r||t.type;return J(n)&&j0e(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===S0?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===E0?e.utcFormat("%A, %d %B %Y, %X UTC"):RN(e,t,5,null,n,r,!0)}function PN(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=ale(e,t,n.format,n.formatType);if(I3(t.type)){const a=ZN(t).slice(1).map(i),o=a.length;return"".concat(o," boundar").concat(o===1?"y":"ies",": ").concat(a.join(", "))}else if(wc(t.type)){const a=t.domain(),o=a.length,s=o>r?a.slice(0,r-2).map(i).join(", ")+", ending with "+a.slice(-1).map(i):a.map(i).join(", ");return"".concat(o," value").concat(o===1?"":"s",": ").concat(s)}else{const a=t.domain();return"values from ".concat(i(a[0])," to ").concat(i(Ce(a)))}}let jN=0;function ole(){jN=0}const gp="p_";function Cx(e){return e&&e.gradient}function zN(e,t,n){const r=e.gradient;let i=e.id,a=r==="radial"?gp:"";return i||(i=e.id="gradient_"+jN++,r==="radial"?(e.x1=Li(e.x1,.5),e.y1=Li(e.y1,.5),e.r1=Li(e.r1,0),e.x2=Li(e.x2,.5),e.y2=Li(e.y2,.5),e.r2=Li(e.r2,.5),a=gp):(e.x1=Li(e.x1,0),e.y1=Li(e.y1,0),e.x2=Li(e.x2,1),e.y2=Li(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+a+i+")"}function Li(e,t){return e??t}function GN(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,a){return n.push({offset:i,color:a}),r}}}const nS={basis:{curve:iF},"basis-closed":{curve:oF},"basis-open":{curve:lF},bundle:{curve:uF,tension:"beta",value:.85},cardinal:{curve:fF,tension:"tension",value:0},"cardinal-open":{curve:hF,tension:"tension",value:0},"cardinal-closed":{curve:dF,tension:"tension",value:0},"catmull-rom":{curve:pF,tension:"alpha",value:.5},"catmull-rom-closed":{curve:yF,tension:"alpha",value:.5},"catmull-rom-open":{curve:vF,tension:"alpha",value:.5},linear:{curve:eh},"linear-closed":{curve:_F},monotone:{horizontal:SF,vertical:AF},natural:{curve:kF},step:{curve:MF},"step-after":{curve:CF},"step-before":{curve:OF}};function Dx(e,t,n){var r=oe(nS,e)&&nS[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const sle={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},lle=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,cle=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,ule=/^((\s+,?\s*)|(,\s*))/,fle=/^[01]/;function Tc(e){const t=[];return(e.match(lle)||[]).forEach(r=>{let i=r[0];const a=i.toLowerCase(),o=sle[a],s=dle(a,o,r.slice(1).trim()),l=s.length;if(l<o||l&&l%o!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...s.slice(0,o)]),l!==o){a==="m"&&(i=i==="M"?"L":"l");for(let c=o;c<l;c+=o)t.push([i,...s.slice(c,c+o)])}}),t}function dle(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let a=0;a<t;++a){const o=e==="a"&&(a===3||a===4)?fle:cle,s=n.slice(i).match(o);if(s===null)throw Error("Invalid SVG path, incorrect parameter type");i+=s[0].length,r.push(+s[0]);const l=n.slice(i).match(ule);l!==null&&(i+=l[0].length)}return r}const Ko=Math.PI/180,hle=1e-14,Hs=Math.PI/2,Ri=Math.PI*2,_l=Math.sqrt(3)/2;var Sb={},Eb={},UN=[].join;function mle(e,t,n,r,i,a,o,s,l){const c=UN.call(arguments);if(Sb[c])return Sb[c];const u=o*Ko,f=Math.sin(u),d=Math.cos(u);n=Math.abs(n),r=Math.abs(r);const h=d*(s-e)*.5+f*(l-t)*.5,m=d*(l-t)*.5-f*(s-e)*.5;let g=h*h/(n*n)+m*m/(r*r);g>1&&(g=Math.sqrt(g),n*=g,r*=g);const p=d/n,y=f/n,b=-f/r,v=d/r,x=p*s+y*l,_=b*s+v*l,T=p*e+y*t,w=b*e+v*t;let C=1/((T-x)*(T-x)+(w-_)*(w-_))-.25;C<0&&(C=0);let k=Math.sqrt(C);a==i&&(k=-k);const A=.5*(x+T)-k*(w-_),L=.5*(_+w)+k*(T-x),D=Math.atan2(_-L,x-A);let O=Math.atan2(w-L,T-A)-D;O<0&&a===1?O+=Ri:O>0&&a===0&&(O-=Ri);const M=Math.ceil(Math.abs(O/(Hs+.001))),F=[];for(let $=0;$<M;++$){const N=D+$*O/M,R=D+($+1)*O/M;F[$]=[A,L,N,R,n,r,f,d]}return Sb[c]=F}function ple(e){const t=UN.call(e);if(Eb[t])return Eb[t];var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7];const u=c*o,f=-l*s,d=l*o,h=c*s,m=Math.cos(i),g=Math.sin(i),p=Math.cos(a),y=Math.sin(a),b=.5*(a-i),v=Math.sin(b*.5),x=8/3*v*v/Math.sin(b),_=n+m-x*g,T=r+g+x*m,w=n+p,S=r+y,C=w+x*y,k=S-x*p;return Eb[t]=[u*_+f*T,d*_+h*T,u*C+f*k,d*C+h*k,u*w+f*S,d*w+h*S]}const Ar=["l",0,0,0,0,0,0,0];function gle(e,t,n){const r=Ar[0]=e[0];if(r==="a"||r==="A")Ar[1]=t*e[1],Ar[2]=n*e[2],Ar[3]=e[3],Ar[4]=e[4],Ar[5]=e[5],Ar[6]=t*e[6],Ar[7]=n*e[7];else if(r==="h"||r==="H")Ar[1]=t*e[1];else if(r==="v"||r==="V")Ar[1]=n*e[1];else for(var i=1,a=e.length;i<a;++i)Ar[i]=(i%2==1?t:n)*e[i];return Ar}function fd(e,t,n,r,i,a){var o,s=null,l=0,c=0,u=0,f=0,d,h,m,g,p=0,y=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),a==null&&(a=i),e.beginPath&&e.beginPath();for(var b=0,v=t.length;b<v;++b){switch(o=t[b],(i!==1||a!==1)&&(o=gle(o,i,a)),o[0]){case"l":l+=o[1],c+=o[2],e.lineTo(l+n,c+r);break;case"L":l=o[1],c=o[2],e.lineTo(l+n,c+r);break;case"h":l+=o[1],e.lineTo(l+n,c+r);break;case"H":l=o[1],e.lineTo(l+n,c+r);break;case"v":c+=o[1],e.lineTo(l+n,c+r);break;case"V":c=o[1],e.lineTo(l+n,c+r);break;case"m":l+=o[1],c+=o[2],p=l,y=c,e.moveTo(l+n,c+r);break;case"M":l=o[1],c=o[2],p=l,y=c,e.moveTo(l+n,c+r);break;case"c":d=l+o[5],h=c+o[6],u=l+o[3],f=c+o[4],e.bezierCurveTo(l+o[1]+n,c+o[2]+r,u+n,f+r,d+n,h+r),l=d,c=h;break;case"C":l=o[5],c=o[6],u=o[3],f=o[4],e.bezierCurveTo(o[1]+n,o[2]+r,u+n,f+r,l+n,c+r);break;case"s":d=l+o[3],h=c+o[4],u=2*l-u,f=2*c-f,e.bezierCurveTo(u+n,f+r,l+o[1]+n,c+o[2]+r,d+n,h+r),u=l+o[1],f=c+o[2],l=d,c=h;break;case"S":d=o[3],h=o[4],u=2*l-u,f=2*c-f,e.bezierCurveTo(u+n,f+r,o[1]+n,o[2]+r,d+n,h+r),l=d,c=h,u=o[1],f=o[2];break;case"q":d=l+o[3],h=c+o[4],u=l+o[1],f=c+o[2],e.quadraticCurveTo(u+n,f+r,d+n,h+r),l=d,c=h;break;case"Q":d=o[3],h=o[4],e.quadraticCurveTo(o[1]+n,o[2]+r,d+n,h+r),l=d,c=h,u=o[1],f=o[2];break;case"t":d=l+o[1],h=c+o[2],s[0].match(/[QqTt]/)===null?(u=l,f=c):s[0]==="t"?(u=2*l-m,f=2*c-g):s[0]==="q"&&(u=2*l-u,f=2*c-f),m=u,g=f,e.quadraticCurveTo(u+n,f+r,d+n,h+r),l=d,c=h,u=l+o[1],f=c+o[2];break;case"T":d=o[1],h=o[2],u=2*l-u,f=2*c-f,e.quadraticCurveTo(u+n,f+r,d+n,h+r),l=d,c=h;break;case"a":rS(e,l+n,c+r,[o[1],o[2],o[3],o[4],o[5],o[6]+l+n,o[7]+c+r]),l+=o[6],c+=o[7];break;case"A":rS(e,l+n,c+r,[o[1],o[2],o[3],o[4],o[5],o[6]+n,o[7]+r]),l=o[6],c=o[7];break;case"z":case"Z":l=p,c=y,e.closePath();break}s=o}}function rS(e,t,n,r){const i=mle(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let a=0;a<i.length;++a){const o=ple(i[a]);e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}}const iS=.5773502691896257,aS={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,Ri)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,a=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-a),e.lineTo(i,-a),e.lineTo(0,-n),e.lineTo(-i,-a),e.lineTo(-r,-a),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=_l*n,i=r-n*iS,a=n/4;e.moveTo(0,-r-i),e.lineTo(-a,r-i),e.lineTo(a,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=_l*n,i=r-n*iS;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=_l*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=_l*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=_l*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=_l*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function WN(e){return oe(aS,e)?aS[e]:yle(e)}var kb={};function yle(e){if(!oe(kb,e)){const t=Tc(e);kb[e]={draw:function(n,r){fd(n,t,0,0,Math.sqrt(r)/2)}}}return kb[e]}const ho=.448084975506;function ble(e){return e.x}function vle(e){return e.y}function xle(e){return e.width}function _le(e){return e.height}function ka(e){return typeof e=="function"?e:()=>+e}function m1(e,t,n){return Math.max(t,Math.min(e,n))}function HN(){var e=ble,t=vle,n=xle,r=_le,i=ka(0),a=i,o=i,s=i,l=null;function c(u,f,d){var h,m=f??+e.call(this,u),g=d??+t.call(this,u),p=+n.call(this,u),y=+r.call(this,u),b=Math.min(p,y)/2,v=m1(+i.call(this,u),0,b),x=m1(+a.call(this,u),0,b),_=m1(+o.call(this,u),0,b),T=m1(+s.call(this,u),0,b);if(l||(l=h=qc()),v<=0&&x<=0&&_<=0&&T<=0)l.rect(m,g,p,y);else{var w=m+p,S=g+y;l.moveTo(m+v,g),l.lineTo(w-x,g),l.bezierCurveTo(w-ho*x,g,w,g+ho*x,w,g+x),l.lineTo(w,S-T),l.bezierCurveTo(w,S-ho*T,w-ho*T,S,w-T,S),l.lineTo(m+_,S),l.bezierCurveTo(m+ho*_,S,m,S-ho*_,m,S-_),l.lineTo(m,g+v),l.bezierCurveTo(m,g+ho*v,m+ho*v,g,m+v,g),l.closePath()}if(h)return l=null,h+""||null}return c.x=function(u){return arguments.length?(e=ka(u),c):e},c.y=function(u){return arguments.length?(t=ka(u),c):t},c.width=function(u){return arguments.length?(n=ka(u),c):n},c.height=function(u){return arguments.length?(r=ka(u),c):r},c.cornerRadius=function(u,f,d,h){return arguments.length?(i=ka(u),a=f!=null?ka(f):i,s=d!=null?ka(d):i,o=h!=null?ka(h):a,c):i},c.context=function(u){return arguments.length?(l=u??null,c):l},c}function YN(){var e,t,n,r,i=null,a,o,s,l;function c(f,d,h){const m=h/2;if(a){var g=s-d,p=f-o;if(g||p){var y=Math.sqrt(g*g+p*p),b=(g/=y)*l,v=(p/=y)*l,x=Math.atan2(p,g);i.moveTo(o-b,s-v),i.lineTo(f-g*m,d-p*m),i.arc(f,d,m,x-Math.PI,x),i.lineTo(o+b,s+v),i.arc(o,s,l,x,x+Math.PI)}else i.arc(f,d,m,0,Ri);i.closePath()}else a=1;o=f,s=d,l=m}function u(f){var d,h=f.length,m,g=!1,p;for(i==null&&(i=p=qc()),d=0;d<=h;++d)!(d<h&&r(m=f[d],d,f))===g&&(g=!g)&&(a=0),g&&c(+e(m,d,f),+t(m,d,f),+n(m,d,f));if(p)return i=null,p+""||null}return u.x=function(f){return arguments.length?(e=f,u):e},u.y=function(f){return arguments.length?(t=f,u):t},u.size=function(f){return arguments.length?(n=f,u):n},u.defined=function(f){return arguments.length?(r=f,u):r},u.context=function(f){return arguments.length?(f==null?i=null:i=f,u):i},u}function dh(e,t){return e??t}const hh=e=>e.x||0,mh=e=>e.y||0,wle=e=>e.width||0,Tle=e=>e.height||0,Ale=e=>(e.x||0)+(e.width||0),Sle=e=>(e.y||0)+(e.height||0),Ele=e=>e.startAngle||0,kle=e=>e.endAngle||0,Mle=e=>e.padAngle||0,Ole=e=>e.innerRadius||0,Cle=e=>e.outerRadius||0,Dle=e=>e.cornerRadius||0,Lle=e=>dh(e.cornerRadiusTopLeft,e.cornerRadius)||0,Fle=e=>dh(e.cornerRadiusTopRight,e.cornerRadius)||0,Ble=e=>dh(e.cornerRadiusBottomRight,e.cornerRadius)||0,$le=e=>dh(e.cornerRadiusBottomLeft,e.cornerRadius)||0,Nle=e=>dh(e.size,64),Ile=e=>e.size||1,d2=e=>e.defined!==!1,Zle=e=>WN(e.shape||"circle"),Rle=z8().startAngle(Ele).endAngle(kle).padAngle(Mle).innerRadius(Ole).outerRadius(Cle).cornerRadius(Dle),Ple=nh().x(hh).y1(mh).y0(Sle).defined(d2),jle=nh().y(mh).x1(hh).x0(Ale).defined(d2),zle=th().x(hh).y(mh).defined(d2),Gle=HN().x(hh).y(mh).width(wle).height(Tle).cornerRadius(Lle,Fle,Ble,$le),Ule=rF().type(Zle).size(Nle),Wle=YN().x(hh).y(mh).defined(d2).size(Ile);function Lx(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function Hle(e,t){return Rle.context(e)(t)}function Yle(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?jle:Ple).curve(Dx(r,n.orient,n.tension)).context(e)(t)}function qle(e,t){const n=t[0],r=n.interpolate||"linear";return zle.curve(Dx(r,n.orient,n.tension)).context(e)(t)}function lu(e,t,n,r){return Gle.context(e)(t,n,r)}function Vle(e,t){return(t.mark.shape||t.shape).context(e)(t)}function Xle(e,t){return Ule.context(e)(t)}function Jle(e,t){return Wle.context(e)(t)}var qN=1;function VN(){qN=1}function Fx(e,t,n){var r=t.clip,i=e._defs,a=t.clip_id||(t.clip_id="clip"+qN++),o=i.clipping[a]||(i.clipping[a]={id:a});return _e(r)?o.path=r(null):Lx(n)?o.path=lu(null,n,0,0):(o.width=n.width||0,o.height=n.height||0),"url(#"+a+")"}function _t(e){this.clear(),e&&this.union(e)}_t.prototype={clone(){return new _t(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:a,y2:o}=this,s=Math.cos(e),l=Math.sin(e),c=t-t*s+n*l,u=n-t*l-n*s;return[s*r-l*i+c,l*r+s*i+u,s*r-l*o+c,l*r+s*o+u,s*a-l*i+c,l*a+s*i+u,s*a-l*o+c,l*a+s*o+u]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function h2(e){this.mark=e,this.bounds=this.bounds||new _t}function m2(e){h2.call(this,e),this.items=this.items||[]}H(m2,h2);function Bx(e){this._pending=0,this._loader=e||Xg()}function oS(e){e._pending+=1}function Iu(e){e._pending-=1}Bx.prototype={pending(){return this._pending},sanitizeURL(e){const t=this;return oS(t),t._loader.sanitize(e,{context:"href"}).then(n=>(Iu(t),n)).catch(()=>(Iu(t),null))},loadImage(e){const t=this,n=L0e();return oS(t),t._loader.sanitize(e,{context:"image"}).then(r=>{const i=r.href;if(!i||!n)throw{url:i};const a=new n,o=oe(r,"crossOrigin")?r.crossOrigin:"anonymous";return o!=null&&(a.crossOrigin=o),a.onload=()=>Iu(t),a.onerror=()=>Iu(t),a.src=i,a}).catch(r=>(Iu(t),{complete:!1,width:0,height:0,src:r&&r.url||""}))},ready(){const e=this;return new Promise(t=>{function n(r){e.pending()?setTimeout(()=>{n(!0)},10):t(r)}n(!1)})}};function ro(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?Kle(t,r):0))}return e}function Kle(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const Qle=Ri-1e-8;let p2,tm,nm,Ks,R3,rm,P3,j3;const ko=(e,t)=>p2.add(e,t),im=(e,t)=>ko(tm=e,nm=t),sS=e=>ko(e,p2.y1),lS=e=>ko(p2.x1,e),Ys=(e,t)=>R3*e+P3*t,qs=(e,t)=>rm*e+j3*t,Mb=(e,t)=>ko(Ys(e,t),qs(e,t)),Ob=(e,t)=>im(Ys(e,t),qs(e,t));function ph(e,t){return p2=e,t?(Ks=t*Ko,R3=j3=Math.cos(Ks),rm=Math.sin(Ks),P3=-rm):(R3=j3=1,Ks=rm=P3=0),ece}const ece={beginPath(){},closePath(){},moveTo:Ob,lineTo:Ob,rect(e,t,n,r){Ks?(Mb(e+n,t),Mb(e+n,t+r),Mb(e,t+r),Ob(e,t)):(ko(e+n,t+r),im(e,t))},quadraticCurveTo(e,t,n,r){const i=Ys(e,t),a=qs(e,t),o=Ys(n,r),s=qs(n,r);cS(tm,i,o,sS),cS(nm,a,s,lS),im(o,s)},bezierCurveTo(e,t,n,r,i,a){const o=Ys(e,t),s=qs(e,t),l=Ys(n,r),c=qs(n,r),u=Ys(i,a),f=qs(i,a);uS(tm,o,l,u,sS),uS(nm,s,c,f,lS),im(u,f)},arc(e,t,n,r,i,a){if(r+=Ks,i+=Ks,tm=n*Math.cos(i)+e,nm=n*Math.sin(i)+t,Math.abs(i-r)>Qle)ko(e-n,t-n),ko(e+n,t+n);else{const o=c=>ko(n*Math.cos(c)+e,n*Math.sin(c)+t);let s,l;if(o(r),o(i),i!==r)if(r=r%Ri,r<0&&(r+=Ri),i=i%Ri,i<0&&(i+=Ri),i<r&&(a=!a,s=r,r=i,i=s),a)for(i-=Ri,s=r-r%Hs,l=0;l<4&&s>i;++l,s-=Hs)o(s);else for(s=r-r%Hs+Hs,l=0;l<4&&s<i;++l,s=s+Hs)o(s)}}};function cS(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function uS(e,t,n,r,i){const a=r-e+3*t-3*n,o=e+n-2*t,s=e-t;let l=0,c=0,u;Math.abs(a)>hle?(u=o*o+s*a,u>=0&&(u=Math.sqrt(u),l=(-o+u)/a,c=(-o-u)/a)):l=.5*s/o,0<l&&l<1&&i(fS(l,e,t,n,r)),0<c&&c<1&&i(fS(c,e,t,n,r))}function fS(e,t,n,r,i){const a=1-e,o=a*a,s=e*e;return o*a*t+3*o*e*n+3*a*s*r+s*e*i}var Zo=(Zo=Io(1,1))?Zo.getContext("2d"):null;const z3=new _t;function $x(e){return function(t,n){if(!Zo)return!0;e(Zo,t),z3.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:a,y2:o}=z3;for(let s=i;s<=o;++s)for(let l=r;l<=a;++l)if(Zo.isPointInPath(l,s))return!0;return!1}}function Nx(e,t){return t.contains(e.x||0,e.y||0)}function XN(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,a=e.height||0;return t.intersects(z3.set(n,r,n+i,r+a))}function JN(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,a=e.y2!=null?e.y2:r;return Il(t,n,r,i,a)}function Il(e,t,n,r,i){const{x1:a,y1:o,x2:s,y2:l}=e,c=r-t,u=i-n;let f=0,d=1,h,m,g,p;for(p=0;p<4;++p){if(p===0&&(h=-c,m=-(a-t)),p===1&&(h=c,m=s-t),p===2&&(h=-u,m=-(o-n)),p===3&&(h=u,m=l-n),Math.abs(h)<1e-10&&m<0)return!1;if(g=m/h,h<0){if(g>d)return!1;g>f&&(f=g)}else if(h>0){if(g<f)return!1;g<d&&(d=g)}}return!0}function Ac(e,t){e.globalCompositeOperation=t.blend||"source-over"}function Wr(e,t){return e??t}function dS(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function tce(e,t,n){const r=n.width(),i=n.height();let a;if(t.gradient==="radial")a=e.createRadialGradient(n.x1+Wr(t.x1,.5)*r,n.y1+Wr(t.y1,.5)*i,Math.max(r,i)*Wr(t.r1,0),n.x1+Wr(t.x2,.5)*r,n.y1+Wr(t.y2,.5)*i,Math.max(r,i)*Wr(t.r2,.5));else{const o=Wr(t.x1,0),s=Wr(t.y1,0),l=Wr(t.x2,1),c=Wr(t.y2,0);if(o===l||s===c||r===i)a=e.createLinearGradient(n.x1+o*r,n.y1+s*i,n.x1+l*r,n.y1+c*i);else{const u=Io(Math.ceil(r),Math.ceil(i)),f=u.getContext("2d");return f.scale(r,i),f.fillStyle=dS(f.createLinearGradient(o,s,l,c),t.stops),f.fillRect(0,0,r,i),e.createPattern(u,"no-repeat")}}return dS(a,t.stops)}function KN(e,t,n){return Cx(n)?tce(e,n,t.bounds):n}function yp(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=KN(e,t,t.fill),!0):!1}var nce=[];function Sc(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=KN(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||nce),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function rce(e,t){return e.zindex-t.zindex||e.index-t.index}function Ix(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,a;for(i=0,a=t.length;i<a;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(rce)}function _i(e,t){var n=e.items,r,i;if(!n||!n.length)return;const a=Ix(e);if(a&&a.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=a}for(r=0,i=n.length;r<i;++r)t(n[r])}function bp(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const a=Ix(e);for(a&&a.length&&(n=a),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===a){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function Zx(e){return function(t,n,r){_i(n,i=>{(!r||r.intersects(i.bounds))&&QN(e,t,i,i)})}}function ice(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&QN(e,t,n.items[0],n.items)}}function QN(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||(Ac(t,n),n.fill&&yp(t,n,i)&&t.fill(),n.stroke&&Sc(t,n,i)&&t.stroke()))}function g2(e){return e=e||Br,function(t,n,r,i,a,o){return r*=t.pixelRatio,i*=t.pixelRatio,bp(n,s=>{const l=s.bounds;if(!(l&&!l.contains(a,o)||!l)&&e(t,s,r,i,a,o))return s})}}function gh(e,t){return function(n,r,i,a){var o=Array.isArray(r)?r[0]:r,s=t??o.fill,l=o.stroke&&n.isPointInStroke,c,u;return l&&(c=o.strokeWidth,u=o.strokeCap,n.lineWidth=c??1,n.lineCap=u??"butt"),e(n,r)?!1:s&&n.isPointInPath(i,a)||l&&n.isPointInStroke(i,a)}}function Rx(e){return g2(gh(e))}function o0(e,t){return"translate("+e+","+t+")"}function Px(e){return"rotate("+e+")"}function ace(e,t){return"scale("+e+","+t+")"}function eI(e){return o0(e.x||0,e.y||0)}function oce(e){return o0(e.x||0,e.y||0)+(e.angle?" "+Px(e.angle):"")}function sce(e){return o0(e.x||0,e.y||0)+(e.angle?" "+Px(e.angle):"")+(e.scaleX||e.scaleY?" "+ace(e.scaleX||1,e.scaleY||1):"")}function jx(e,t,n){function r(o,s){o("transform",oce(s)),o("d",t(null,s))}function i(o,s){return t(ph(o,s.angle),s),ro(o,s).translate(s.x||0,s.y||0)}function a(o,s){var l=s.x||0,c=s.y||0,u=s.angle||0;o.translate(l,c),u&&o.rotate(u*=Ko),o.beginPath(),t(o,s),u&&o.rotate(-u),o.translate(-l,-c)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:Zx(a),pick:Rx(a),isect:n||$x(a)}}var lce=jx("arc",Hle);function cce(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,a=1/0,o,s;--i>=0;)e[i].defined!==!1&&(s=Math.abs(e[i][r]-n),s<a&&(a=s,o=e[i]));return o}function uce(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,a,o;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],a=e[r].y-t[1],o=i*i+a*a,o<n))return e[r];return null}function fce(e,t){for(var n=e.length,r,i,a;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],a=r*r+i*i,r=e[n].size||1,a<r*r))return e[n];return null}function zx(e,t,n){function r(l,c){var u=c.mark.items;u.length&&l("d",t(null,u))}function i(l,c){var u=c.items;return u.length===0?l:(t(ph(l),u),ro(l,u[0]))}function a(l,c){l.beginPath(),t(l,c)}const o=gh(a);function s(l,c,u,f,d,h){var m=c.items,g=c.bounds;return!m||!m.length||g&&!g.contains(d,h)?null:(u*=l.pixelRatio,f*=l.pixelRatio,o(l,m,u,f)?m[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:ice(a),pick:s,isect:Nx,tip:n}}var dce=zx("area",Yle,cce);function hce(e,t){var n=t.clip;e.save(),_e(n)?(e.beginPath(),n(e),e.clip()):tI(e,t.group)}function tI(e,t){e.beginPath(),Lx(t)?lu(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function nI(e){const t=Wr(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function mce(e,t){e("transform",eI(t))}function rI(e,t){const n=nI(t);e("d",lu(null,t,n,n))}function pce(e,t){e("class","background"),e("aria-hidden",!0),rI(e,t)}function gce(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?rI(e,t):e("d","")}function yce(e,t,n){const r=t.clip?Fx(n,t,t):null;e("clip-path",r)}function bce(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),ro(e,t),e.translate(t.x||0,t.y||0)}function dd(e,t,n,r){const i=nI(t);e.beginPath(),lu(e,t,(n||0)+i,(r||0)+i)}const vce=gh(dd),xce=gh(dd,!1),_ce=gh(dd,!0);function wce(e,t,n){_i(t,r=>{const i=r.x||0,a=r.y||0,o=r.strokeForeground,s=r.opacity==null?1:r.opacity;(r.stroke||r.fill)&&s&&(dd(e,r,i,a),Ac(e,r),r.fill&&yp(e,r,s)&&e.fill(),r.stroke&&!o&&Sc(e,r,s)&&e.stroke()),e.save(),e.translate(i,a),r.clip&&tI(e,r),n&&n.translate(-i,-a),_i(r,l=>{this.draw(e,l,n)}),n&&n.translate(i,a),e.restore(),o&&r.stroke&&s&&(dd(e,r,i,a),Ac(e,r),Sc(e,r,s)&&e.stroke())})}function Tce(e,t,n,r,i,a){if(t.bounds&&!t.bounds.contains(i,a)||!t.items)return null;const o=n*e.pixelRatio,s=r*e.pixelRatio;return bp(t,l=>{let c,u,f;const d=l.bounds;if(d&&!d.contains(i,a))return;u=l.x||0,f=l.y||0;const h=u+(l.width||0),m=f+(l.height||0),g=l.clip;if(g&&(i<u||i>h||a<f||a>m))return;if(e.save(),e.translate(u,f),u=i-u,f=a-f,g&&Lx(l)&&!_ce(e,l,o,s))return e.restore(),null;const p=l.strokeForeground,y=t.interactive!==!1;return y&&p&&l.stroke&&xce(e,l,o,s)?(e.restore(),l):(c=bp(l,b=>Ace(b,u,f)?this.pick(b,n,r,u,f):null),!c&&y&&(l.fill||!p&&l.stroke)&&vce(e,l,o,s)&&(c=l),e.restore(),c||null)})}function Ace(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var Sce={type:"group",tag:"g",nested:!1,attr:mce,bound:bce,draw:wce,pick:Tce,isect:XN,content:yce,background:pce,foreground:gce},hd={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function Gx(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function Ux(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function Wx(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function y2(e,t){return e==="center"?t/2:e==="right"?t:0}function b2(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function Ece(e,t,n){const r=Gx(t,n),i=Ux(t,r),a=Wx(t,r),o=(t.x||0)-y2(t.align,i),s=(t.y||0)-b2(t.baseline,a),l=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",l,hd["xmlns:xlink"],"xlink:href"),e("transform",o0(o,s)),e("width",i),e("height",a),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function kce(e,t){const n=t.image,r=Ux(t,n),i=Wx(t,n),a=(t.x||0)-y2(t.align,r),o=(t.y||0)-b2(t.baseline,i);return e.set(a,o,a+r,o+i)}function Mce(e,t,n){_i(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=Gx(r,this);let a=Ux(r,i),o=Wx(r,i);if(a===0||o===0)return;let s=(r.x||0)-y2(r.align,a),l=(r.y||0)-b2(r.baseline,o),c,u,f,d;r.aspect!==!1&&(u=i.width/i.height,f=r.width/r.height,u===u&&f===f&&u!==f&&(f<u?(d=a/u,l+=(o-d)/2,o=d):(d=o*u,s+=(a-d)/2,a=d))),(i.complete||i.toDataURL)&&(Ac(e,r),e.globalAlpha=(c=r.opacity)!=null?c:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,s,l,a,o))})}var Oce={type:"image",tag:"image",nested:!1,attr:Ece,bound:kce,draw:Mce,pick:g2(),isect:Br,get:Gx,xOffset:y2,yOffset:b2},Cce=zx("line",qle,uce);function Dce(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",sce(t)),e("d",t.path)}function am(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,a=t.scaleX||1,o=t.scaleY||1,s=(t.angle||0)*Ko,l=t.pathCache;(!l||l.path!==n)&&((t.pathCache=l=Tc(n)).path=n),s&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(s),fd(e,l,0,0,a,o),e.rotate(-s),e.translate(-r,-i)):fd(e,l,r,i,a,o)}function Lce(e,t){return am(ph(e,t.angle),t)?e.set(0,0,0,0):ro(e,t,!0)}var Fce={type:"path",tag:"path",nested:!1,attr:Dce,bound:Lce,draw:Zx(am),pick:Rx(am),isect:$x(am)};function Bce(e,t){e("d",lu(null,t))}function $ce(e,t){var n,r;return ro(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function hS(e,t){e.beginPath(),lu(e,t)}var Nce={type:"rect",tag:"path",nested:!1,attr:Bce,bound:$ce,draw:Zx(hS),pick:Rx(hS),isect:XN};function Ice(e,t){e("transform",eI(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function Zce(e,t){var n,r;return ro(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function iI(e,t,n){var r,i,a,o;return t.stroke&&Sc(e,t,n)?(r=t.x||0,i=t.y||0,a=t.x2!=null?t.x2:r,o=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(a,o),!0):!1}function Rce(e,t,n){_i(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&iI(e,r,i)&&(Ac(e,r),e.stroke())}})}function Pce(e,t,n,r){return e.isPointInStroke?iI(e,t,1)&&e.isPointInStroke(n,r):!1}var jce={type:"rule",tag:"line",nested:!1,attr:Ice,bound:Zce,draw:Rce,pick:g2(Pce),isect:JN},zce=jx("shape",Vle),Gce=jx("symbol",Xle,Nx);const mS=WB();var fi={height:ha,measureWidth:Hx,estimateWidth:G3,width:G3,canvas:aI};aI(!0);function aI(e){fi.width=e&&Zo?Hx:G3}function G3(e,t){return oI(es(e,t),ha(e))}function oI(e,t){return~~(.8*e.length*t)}function Hx(e,t){return ha(e)<=0||!(t=es(e,t))?0:sI(t,v2(e))}function sI(e,t){const n="(".concat(t,") ").concat(e);let r=mS.get(n);return r===void 0&&(Zo.font=t,r=Zo.measureText(e).width,mS.set(n,r)),r}function ha(e){return e.fontSize!=null?+e.fontSize||0:11}function Qo(e){return e.lineHeight!=null?e.lineHeight:ha(e)+2}function Uce(e){return j(e)?e.length>1?e:e[0]:e}function yh(e){return Uce(e.lineBreak&&e.text&&!j(e.text)?e.text.split(e.lineBreak):e.text)}function Yx(e){const t=yh(e);return(j(t)?t.length-1:0)*Qo(e)}function es(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?Hce(e,n):n}function Wce(e){if(fi.width===Hx){const t=v2(e);return n=>sI(n,t)}else{const t=ha(e);return n=>oI(n,t)}}function Hce(e,t){var n=+e.limit,r=Wce(e);if(r(t)<n)return t;var i=e.ellipsis||"…",a=e.dir==="rtl",o=0,s=t.length,l;if(n-=r(i),a){for(;o<s;)l=o+s>>>1,r(t.slice(l))>n?o=l+1:s=l;return i+t.slice(o)}else{for(;o<s;)l=1+(o+s>>>1),r(t.slice(0,l))<n?o=l:s=l-1;return t.slice(0,o)+i}}function bh(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function v2(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+ha(e)+"px "+bh(e,t)}function qx(e){var t=e.baseline,n=ha(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*Qo(e):t==="line-bottom"?.29*n-.5*Qo(e):0)}const Yce={left:"start",center:"middle",right:"end"},Df=new _t;function x2(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-Hs,t+=r*Math.cos(i),n+=r*Math.sin(i)),Df.x1=t,Df.y1=n,Df}function qce(e,t){var n=t.dx||0,r=(t.dy||0)+qx(t),i=x2(t),a=i.x1,o=i.y1,s=t.angle||0,l;e("text-anchor",Yce[t.align]||"start"),s?(l=o0(a,o)+" "+Px(s),(n||r)&&(l+=" "+o0(n,r))):l=o0(a+n,o+r),e("transform",l)}function Vx(e,t,n){var r=fi.height(t),i=t.align,a=x2(t),o=a.x1,s=a.y1,l=t.dx||0,c=(t.dy||0)+qx(t)-Math.round(.8*r),u=yh(t),f;if(j(u)?(r+=Qo(t)*(u.length-1),f=u.reduce((d,h)=>Math.max(d,fi.width(t,h)),0)):f=fi.width(t,u),i==="center"?l-=f/2:i==="right"&&(l-=f),e.set(l+=o,c+=s,l+f,c+r),t.angle&&!n)e.rotate(t.angle*Ko,o,s);else if(n===2)return e.rotatedPoints(t.angle*Ko,o,s);return e}function Vce(e,t,n){_i(t,r=>{var i=r.opacity==null?1:r.opacity,a,o,s,l,c,u,f;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=v2(r),e.textAlign=r.align||"left",a=x2(r),o=a.x1,s=a.y1,r.angle&&(e.save(),e.translate(o,s),e.rotate(r.angle*Ko),o=s=0),o+=r.dx||0,s+=(r.dy||0)+qx(r),u=yh(r),Ac(e,r),j(u))for(c=Qo(r),l=0;l<u.length;++l)f=es(r,u[l]),r.fill&&yp(e,r,i)&&e.fillText(f,o,s),r.stroke&&Sc(e,r,i)&&e.strokeText(f,o,s),s+=c;else f=es(r,u),r.fill&&yp(e,r,i)&&e.fillText(f,o,s),r.stroke&&Sc(e,r,i)&&e.strokeText(f,o,s);r.angle&&e.restore()}})}function Xce(e,t,n,r,i,a){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var o=x2(t),s=o.x1,l=o.y1,c=Vx(Df,t,1),u=-t.angle*Ko,f=Math.cos(u),d=Math.sin(u),h=f*i-d*a+(s-f*s+d*l),m=d*i+f*a+(l-d*s-f*l);return c.contains(h,m)}function Jce(e,t){const n=Vx(Df,e,2);return Il(t,n[0],n[1],n[2],n[3])||Il(t,n[0],n[1],n[4],n[5])||Il(t,n[4],n[5],n[6],n[7])||Il(t,n[2],n[3],n[6],n[7])}var Kce={type:"text",tag:"text",nested:!1,attr:qce,bound:Vx,draw:Vce,pick:g2(Xce),isect:Jce},Qce=zx("trail",Jle,fce),gr={arc:lce,area:dce,group:Sce,image:Oce,line:Cce,path:Fce,rect:Nce,rule:jce,shape:zce,symbol:Gce,text:Kce,trail:Qce};function U3(e,t,n){var r=gr[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new _t),e,n)}var pS={mark:null};function lI(e,t,n){var r=gr[e.marktype],i=r.bound,a=e.items,o=a&&a.length,s,l,c,u;if(r.nested)return o?c=a[0]:(pS.mark=e,c=pS),u=U3(c,i,n),t=t&&t.union(u)||u,t;if(t=t||e.bounds&&e.bounds.clear()||new _t,o)for(s=0,l=a.length;s<l;++s)t.union(U3(a[s],i,n));return e.bounds=t}const eue=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function cI(e,t){return JSON.stringify(e,eue,t)}function uI(e){const t=typeof e=="string"?JSON.parse(e):e;return fI(t)}function fI(e){var t=e.marktype,n=e.items,r,i,a;if(n)for(i=0,a=n.length;i<a;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&fI(n[i]);return t&&lI(e),e}function Xx(e){arguments.length?this.root=uI(e):(this.root=dI({marktype:"group",name:"root",role:"frame"}),this.root.items=[new m2(this.root)])}Xx.prototype={toJSON(e){return cI(this.root,e||0)},mark(e,t,n){t=t||this.root.items[0];const r=dI(e,t);return t.items[n]=r,r.zindex&&(r.group.zdirty=!0),r}};function dI(e,t){const n={bounds:new _t,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function Mo(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function Jx(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function Wn(e,t,n,r){var i=e.childNodes[t],a;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(a=i||null,i=Mo(e.ownerDocument,n,r),e.insertBefore(i,a)),i}function ei(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function hI(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function _2(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function tue(e,t,n,r){var i=e&&e.mark,a,o;if(i&&(a=gr[i.marktype]).tip){for(o=_2(t,n),o[0]-=r[0],o[1]-=r[1];e=e.mark.group;)o[0]-=e.x||0,o[1]-=e.y||0;e=a.tip(i.items,o)}return e}function ts(e,t){this._active=null,this._handlers={},this._loader=e||Xg(),this._tooltip=t||nue}function nue(e,t,n,r){e.element().setAttribute("title",r||"")}ts.prototype={initialize(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},scene(e){return arguments.length?(this._scene=e,this):this._scene},on(){},off(){},_handlerIndex(e,t,n){for(let r=e?e.length:0;--r>=0;)if(e[r].type===t&&(!n||e[r].handler===n))return r;return-1},handlers(e){const t=this._handlers,n=[];if(e)n.push(...t[this.eventName(e)]);else for(const r in t)n.push(...t[r]);return n},eventName(e){const t=e.indexOf(".");return t<0?e:e.slice(0,t)},handleHref(e,t,n){this._loader.sanitize(n,{context:"href"}).then(r=>{const i=new MouseEvent(e.type,e),a=Mo(null,"a");for(const o in r)a.setAttribute(o,r[o]);a.dispatchEvent(i)}).catch(()=>{})},handleTooltip(e,t,n){if(t&&t.tooltip!=null){t=tue(t,e,this.canvas(),this._origin);const r=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,r)}},getItemBoundingClientRect(e){const t=this.canvas();if(!t)return;const n=t.getBoundingClientRect(),r=this._origin,i=e.bounds,a=i.width(),o=i.height();let s=i.x1+r[0]+n.left,l=i.y1+r[1]+n.top;for(;e.mark&&(e=e.mark.group);)s+=e.x||0,l+=e.y||0;return{x:s,y:l,width:a,height:o,left:s,top:l,right:s+a,bottom:l+o}}};function ma(e){this._el=null,this._bgcolor=null,this._loader=new Bx(e)}ma.prototype={initialize(e,t,n,r,i){return this._el=e,this.resize(t,n,r,i)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(e){return arguments.length===0?this._bgcolor:(this._bgcolor=e,this)},resize(e,t,n,r){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=r||1,this},dirty(){},render(e){const t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},_render(){},renderAsync(e){const t=this.render(e);return this._ready?this._ready.then(()=>t):Promise.resolve(t)},_load(e,t){var n=this,r=n._loader[e](t);if(!n._ready){const i=n._call;n._ready=n._loader.ready().then(a=>{a&&i(),n._ready=null})}return r},sanitizeURL(e){return this._load("sanitizeURL",e)},loadImage(e){return this._load("loadImage",e)}};const rue="keydown",iue="keypress",aue="keyup",mI="dragenter",om="dragleave",pI="dragover",W3="mousedown",oue="mouseup",vp="mousemove",Lf="mouseout",gI="mouseover",xp="click",sue="dblclick",lue="wheel",yI="mousewheel",_p="touchstart",wp="touchmove",Tp="touchend",cue=[rue,iue,aue,mI,om,pI,W3,oue,vp,Lf,gI,xp,sue,lue,yI,_p,wp,Tp],H3=vp,md=Lf,Y3=xp;function vh(e,t){ts.call(this,e,t),this._down=null,this._touch=null,this._first=!0,this._events={}}const uue=e=>e===_p||e===wp||e===Tp?[_p,wp,Tp]:[e];function gS(e,t){uue(t).forEach(n=>fue(e,n))}function fue(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function yS(e,t,n){return function(r){const i=this._active,a=this.pickEvent(r);a===i?this.fire(e,r):((!i||!i.exit)&&this.fire(n,r),this._active=a,this.fire(t,r),this.fire(e,r))}}function bS(e){return function(t){this.fire(e,t),this._active=null}}H(vh,ts,{initialize(e,t,n){return this._canvas=e&&Jx(e,"canvas"),[xp,W3,vp,Lf,om].forEach(r=>gS(this,r)),ts.prototype.initialize.call(this,e,t,n)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:cue,DOMMouseScroll(e){this.fire(yI,e)},mousemove:yS(vp,gI,Lf),dragover:yS(pI,mI,om),mouseout:bS(Lf),dragleave:bS(om),mousedown(e){this._down=this._active,this.fire(W3,e)},click(e){this._down===this._active&&(this.fire(xp,e),this._down=null)},touchstart(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(_p,e,!0)},touchmove(e){this.fire(wp,e,!0)},touchend(e){this.fire(Tp,e,!0),this._touch=null},fire(e,t,n){const r=n?this._touch:this._active,i=this._handlers[e];if(t.vegaType=e,e===Y3&&r&&r.href?this.handleHref(t,r,r.href):(e===H3||e===md)&&this.handleTooltip(t,r,e!==md),i)for(let a=0,o=i.length;a<o;++a)i[a].handler.call(this._obj,t,r)},on(e,t){const n=this.eventName(e),r=this._handlers;return this._handlerIndex(r[n],e,t)<0&&(gS(this,e),(r[n]||(r[n]=[])).push({type:e,handler:t})),this},off(e,t){const n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&r.splice(i,1),this},pickEvent(e){const t=_2(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},pick(e,t,n,r,i){const a=this.context();return gr[e.marktype].pick.call(this,a,e,t,n,r,i)}});function due(){return typeof window<"u"&&window.devicePixelRatio||1}var hue=due();function mue(e,t,n,r,i,a){const o=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,s=e.getContext("2d"),l=o?hue:i;e.width=t*l,e.height=n*l;for(const c in a)s[c]=a[c];return o&&l!==1&&(e.style.width=t+"px",e.style.height=n+"px"),s.pixelRatio=l,s.setTransform(l,0,0,l,l*r[0],l*r[1]),e}function Ap(e){ma.call(this,e),this._options={},this._redraw=!1,this._dirty=new _t,this._tempb=new _t}const vS=ma.prototype,pue=(e,t,n)=>new _t().set(0,0,t,n).translate(-e[0],-e[1]);function gue(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}H(Ap,ma,{initialize(e,t,n,r,i,a){return this._options=a||{},this._canvas=this._options.externalContext?null:Io(1,1,this._options.type),e&&this._canvas&&(ei(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),vS.initialize.call(this,e,t,n,r,i)},resize(e,t,n,r){if(vS.resize.call(this,e,t,n,r),this._canvas)mue(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const i=this._options.externalContext;i||P("CanvasRenderer is missing a valid canvas or context"),i.scale(this._scale,this._scale),i.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(e){const t=this._tempb.clear().union(e.bounds);let n=e.mark.group;for(;n;)t.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(t)},_render(e){const t=this.context(),n=this._origin,r=this._width,i=this._height,a=this._dirty,o=pue(n,r,i);t.save();const s=this._redraw||a.empty()?(this._redraw=!1,o.expand(1)):gue(t,o.intersect(a),n);return this.clear(-n[0],-n[1],r,i),this.draw(t,e,s),t.restore(),a.clear(),this},draw(e,t,n){const r=gr[t.marktype];t.clip&&hce(e,t),r.draw.call(this,e,t,n),t.clip&&e.restore()},clear(e,t,n,r){const i=this._options,a=this.context();i.type!=="pdf"&&!i.externalContext&&a.clearRect(e,t,n,r),this._bgcolor!=null&&(a.fillStyle=this._bgcolor,a.fillRect(e,t,n,r))}});function Kx(e,t){ts.call(this,e,t);const n=this;n._hrefHandler=q3(n,(r,i)=>{i&&i.href&&n.handleHref(r,i,i.href)}),n._tooltipHandler=q3(n,(r,i)=>{n.handleTooltip(r,i,r.type!==md)})}const q3=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)};H(Kx,ts,{initialize(e,t,n){let r=this._svg;return r&&(r.removeEventListener(Y3,this._hrefHandler),r.removeEventListener(H3,this._tooltipHandler),r.removeEventListener(md,this._tooltipHandler)),this._svg=r=e&&Jx(e,"svg"),r&&(r.addEventListener(Y3,this._hrefHandler),r.addEventListener(H3,this._tooltipHandler),r.addEventListener(md,this._tooltipHandler)),ts.prototype.initialize.call(this,e,t,n)},canvas(){return this._svg},on(e,t){const n=this.eventName(e),r=this._handlers;if(this._handlerIndex(r[n],e,t)<0){const a={type:e,handler:t,listener:q3(this,t)};(r[n]||(r[n]=[])).push(a),this._svg&&this._svg.addEventListener(n,a.listener)}return this},off(e,t){const n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&(this._svg&&this._svg.removeEventListener(n,r[i].listener),r.splice(i,1)),this}});const bI="aria-hidden",Qx="aria-label",e_="role",t_="aria-roledescription",vI="graphics-object",n_="graphics-symbol",xI=(e,t,n)=>({[e_]:e,[t_]:t,[Qx]:n||void 0}),yue=vi(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),xS={axis:{desc:"axis",caption:xue},legend:{desc:"legend",caption:_ue},"title-text":{desc:"title",caption:e=>"Title text '".concat(wS(e),"'")},"title-subtitle":{desc:"subtitle",caption:e=>"Subtitle text '".concat(wS(e),"'")}},_S={ariaRole:e_,ariaRoleDescription:t_,description:Qx};function _I(e,t){const n=t.aria===!1;if(e(bI,n||void 0),n||t.description==null)for(const r in _S)e(_S[r],void 0);else{const r=t.mark.marktype;e(Qx,t.description),e(e_,t.ariaRole||(r==="group"?vI:n_)),e(t_,t.ariaRoleDescription||"".concat(r," mark"))}}function wI(e){return e.aria===!1?{[bI]:!0}:yue[e.role]?null:xS[e.role]?vue(e,xS[e.role]):bue(e)}function bue(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return xI(n?vI:n_,"".concat(t," mark container"),e.description)}function vue(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return xI(t.role||n_,t.desc,n.description||r(n))}catch{return null}}function wS(e){return Q(e.text).join(" ")}function xue(e){const t=e.datum,n=e.orient,r=t.title?TI(e):null,i=e.context,a=i.scales[t.scale].value,o=i.dataflow.locale(),s=a.type,l=n==="left"||n==="right"?"Y":"X";return"".concat(l,"-axis")+(r?" titled '".concat(r,"'"):"")+" for a ".concat(wc(s)?"discrete":s," scale")+" with ".concat(PN(o,a,e))}function _ue(e){const t=e.datum,n=t.title?TI(e):null,r="".concat(t.type||""," legend").trim(),i=t.scales,a=Object.keys(i),o=e.context,s=o.scales[i[a[0]]].value,l=o.dataflow.locale();return Tue(r)+(n?" titled '".concat(n,"'"):"")+" for ".concat(wue(a))+" with ".concat(PN(l,s,e))}function TI(e){try{return Q(Ce(e.items).items[0].text).join(" ")}catch{return null}}function wue(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Ce(e)}function Tue(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const AI=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Aue=e=>AI(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function r_(){let e="",t="",n="";const r=[],i=()=>t=n="",a=l=>{t&&(e+="".concat(t,">").concat(n),i()),r.push(l)},o=(l,c)=>(c!=null&&(t+=" ".concat(l,'="').concat(Aue(c),'"')),s),s={open(l){a(l),t="<"+l;for(var c=arguments.length,u=new Array(c>1?c-1:0),f=1;f<c;f++)u[f-1]=arguments[f];for(const d of u)for(const h in d)o(h,d[h]);return s},close(){const l=r.pop();return t?e+=t+(n?">".concat(n,"</").concat(l,">"):"/>"):e+="</".concat(l,">"),i(),s},attr:o,text:l=>(n+=AI(l),s),toString:()=>e};return s}const SI=e=>EI(r_(),e)+"";function EI(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):EI(e,r)}return e.close()}const Sp={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},Ep={blend:"mix-blend-mode"},kI={fill:"none","stroke-miterlimit":10},Zu=0,TS="http://www.w3.org/2000/xmlns/",St=hd.xmlns;function i_(e){ma.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}const Cb=ma.prototype;H(i_,ma,{initialize(e,t,n,r,i){return this._defs={},this._clearDefs(),e&&(this._svg=Wn(e,0,"svg",St),this._svg.setAttributeNS(TS,"xmlns",St),this._svg.setAttributeNS(TS,"xmlns:xlink",hd["xmlns:xlink"]),this._svg.setAttribute("version",hd.version),this._svg.setAttribute("class","marks"),ei(e,1),this._root=Wn(this._svg,Zu,"g",St),Oo(this._root,kI),ei(this._svg,Zu+1)),this.background(this._bgcolor),Cb.initialize.call(this,e,t,n,r,i)},background(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),Cb.background.apply(this,arguments)},resize(e,t,n,r){return Cb.resize.call(this,e,t,n,r),this._svg&&(Oo(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}),this._root.setAttribute("transform","translate(".concat(this._origin,")"))),this._dirty=[],this},canvas(){return this._svg},svg(){const e=this._svg,t=this._bgcolor;if(!e)return null;let n;t&&(e.removeAttribute("style"),n=Wn(e,Zu,"rect",St),Oo(n,{width:this._width,height:this._height,fill:t}));const r=SI(e);return t&&(e.removeChild(n),this._svg.style.setProperty("background-color",t)),r},_render(e){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,e),ei(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},isDirty(e){return this._dirtyAll||!e._svg||!e._svg.ownerSVGElement||e.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const e=this._dirty;if(!e.length||!this._dirtyID)return!0;const t=++this._dirtyID;let n,r,i,a,o,s,l;for(o=0,s=e.length;o<s;++o)if(n=e[o],r=n.mark,r.marktype!==i&&(i=r.marktype,a=gr[i]),r.zdirty&&r.dirty!==t&&(this._dirtyAll=!1,AS(n,t),r.items.forEach(c=>{c.dirty=t})),!r.zdirty){if(n.exit){a.nested&&r.items.length?(l=r.items[0],l._svg&&this._update(a,l._svg,l)):n._svg&&(l=n._svg.parentNode,l&&l.removeChild(n._svg)),n._svg=null;continue}n=a.nested?r.items[0]:n,n._update!==t&&(!n._svg||!n._svg.ownerSVGElement?(this._dirtyAll=!1,AS(n,t)):this._update(a,n._svg,n),n._update=t)}return!this._dirtyAll},mark(e,t,n){if(!this.isDirty(t))return t._svg;const r=this._svg,i=gr[t.marktype],a=t.interactive===!1?"none":null,o=i.tag==="g",s=SS(t,e,n,"g",r);s.setAttribute("class",hI(t));const l=wI(t);for(const d in l)An(s,d,l[d]);o||An(s,"pointer-events",a),An(s,"clip-path",t.clip?Fx(this,t,t.group):null);let c=null,u=0;const f=d=>{const h=this.isDirty(d),m=SS(d,s,c,i.tag,r);h&&(this._update(i,m,d),o&&kue(this,m,d)),c=m,++u};return i.nested?t.items.length&&f(t.items[0]):_i(t,f),ei(s,u),s},_update(e,t,n){Ra=t,on=t.__values__,_I(Ff,n),e.attr(Ff,n,this);const r=Oue[e.type];r&&r.call(this,e,t,n),Ra&&this.style(Ra,n)},style(e,t){if(t!=null){for(const n in Sp){let r=n==="font"?bh(t):t[n];if(r===on[n])continue;const i=Sp[n];r==null?e.removeAttribute(i):(Cx(r)&&(r=zN(r,this._defs.gradient,MI())),e.setAttribute(i,r+"")),on[n]=r}for(const n in Ep)sm(e,Ep[n],t[n])}},defs(){const e=this._svg,t=this._defs;let n=t.el,r=0;for(const i in t.gradient)n||(t.el=n=Wn(e,Zu+1,"defs",St)),r=Sue(n,t.gradient[i],r);for(const i in t.clipping)n||(t.el=n=Wn(e,Zu+1,"defs",St)),r=Eue(n,t.clipping[i],r);n&&(r===0?(e.removeChild(n),t.el=null):ei(n,r))},_clearDefs(){const e=this._defs;e.gradient={},e.clipping={}}});function AS(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function Sue(e,t,n){let r,i,a;if(t.gradient==="radial"){let o=Wn(e,n++,"pattern",St);Oo(o,{id:gp+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),o=Wn(o,0,"rect",St),Oo(o,{width:1,height:1,fill:"url(".concat(MI(),"#").concat(t.id,")")}),e=Wn(e,n++,"radialGradient",St),Oo(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=Wn(e,n++,"linearGradient",St),Oo(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)a=Wn(e,r,"stop",St),a.setAttribute("offset",t.stops[r].offset),a.setAttribute("stop-color",t.stops[r].color);return ei(e,r),n}function Eue(e,t,n){let r;return e=Wn(e,n,"clipPath",St),e.setAttribute("id",t.id),t.path?(r=Wn(e,0,"path",St),r.setAttribute("d",t.path)):(r=Wn(e,0,"rect",St),Oo(r,{x:0,y:0,width:t.width,height:t.height})),ei(e,1),n+1}function kue(e,t,n){t=t.lastChild.previousSibling;let r,i=0;_i(n,a=>{r=e.mark(t,a,r),++i}),ei(t,1+i)}function SS(e,t,n,r,i){let a=e._svg,o;if(!a&&(o=t.ownerDocument,a=Mo(o,r,St),e._svg=a,e.mark&&(a.__data__=e,a.__values__={fill:"default"},r==="g"))){const s=Mo(o,"path",St);a.appendChild(s),s.__data__=e;const l=Mo(o,"g",St);a.appendChild(l),l.__data__=e;const c=Mo(o,"path",St);a.appendChild(c),c.__data__=e,c.__values__={fill:"default"}}return(a.ownerSVGElement!==i||Mue(a,n))&&t.insertBefore(a,n?n.nextSibling:t.firstChild),a}function Mue(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let Ra=null,on=null;const Oue={group(e,t,n){const r=Ra=t.childNodes[2];on=r.__values__,e.foreground(Ff,n,this),on=t.__values__,Ra=t.childNodes[1],e.content(Ff,n,this);const i=Ra=t.childNodes[0];e.background(Ff,n,this);const a=n.mark.interactive===!1?"none":null;if(a!==on.events&&(An(r,"pointer-events",a),An(i,"pointer-events",a),on.events=a),n.strokeForeground&&n.stroke){const o=n.fill;An(r,"display",null),this.style(i,n),An(i,"stroke",null),o&&(n.fill=null),on=r.__values__,this.style(r,n),o&&(n.fill=o),Ra=null}else An(r,"display","none")},image(e,t,n){n.smooth===!1?(sm(t,"image-rendering","optimizeSpeed"),sm(t,"image-rendering","pixelated")):sm(t,"image-rendering",null)},text(e,t,n){const r=yh(n);let i,a,o,s;j(r)?(a=r.map(l=>es(n,l)),i=a.join(`
`),i!==on.text&&(ei(t,0),o=t.ownerDocument,s=Qo(n),a.forEach((l,c)=>{const u=Mo(o,"tspan",St);u.__data__=n,u.textContent=l,c&&(u.setAttribute("x",0),u.setAttribute("dy",s)),t.appendChild(u)}),on.text=i)):(a=es(n,r),a!==on.text&&(t.textContent=a,on.text=a)),An(t,"font-family",bh(n)),An(t,"font-size",ha(n)+"px"),An(t,"font-style",n.fontStyle),An(t,"font-variant",n.fontVariant),An(t,"font-weight",n.fontWeight)}};function Ff(e,t,n){t!==on[e]&&(n?Cue(Ra,e,t,n):An(Ra,e,t),on[e]=t)}function sm(e,t,n){n!==on[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),on[t]=n)}function Oo(e,t){for(const n in t)An(e,n,t[n])}function An(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function Cue(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function MI(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function a_(e){ma.call(this,e),this._text=null,this._defs={gradient:{},clipping:{}}}H(a_,ma,{svg(){return this._text},_render(e){const t=r_();t.open("svg",xe({},hd,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}));const n=this._bgcolor;return n&&n!=="transparent"&&n!=="none"&&t.open("rect",{width:this._width,height:this._height,fill:n}).close(),t.open("g",kI,{transform:"translate("+this._origin+")"}),this.mark(t,e),t.close(),this.defs(t),this._text=t.close()+"",this},mark(e,t){const n=gr[t.marktype],r=n.tag,i=[_I,n.attr];e.open("g",{class:hI(t),"clip-path":t.clip?Fx(this,t,t.group):null},wI(t),{"pointer-events":r!=="g"&&t.interactive===!1?"none":null});const a=o=>{const s=this.href(o);if(s&&e.open("a",s),e.open(r,this.attr(t,o,i,r!=="g"?r:null)),r==="text"){const l=yh(o);if(j(l)){const c={x:0,dy:Qo(o)};for(let u=0;u<l.length;++u)e.open("tspan",u?c:null).text(es(o,l[u])).close()}else e.text(es(o,l))}else if(r==="g"){const l=o.strokeForeground,c=o.fill,u=o.stroke;l&&u&&(o.stroke=null),e.open("path",this.attr(t,o,n.background,"bgrect")).close(),e.open("g",this.attr(t,o,n.content)),_i(o,f=>this.mark(e,f)),e.close(),l&&u?(c&&(o.fill=null),o.stroke=u,e.open("path",this.attr(t,o,n.foreground,"bgrect")).close(),c&&(o.fill=c)):e.open("path",this.attr(t,o,n.foreground,"bgfore")).close()}e.close(),s&&e.close()};return n.nested?t.items&&t.items.length&&a(t.items[0]):_i(t,a),e.close()},href(e){const t=e.href;let n;if(t){if(n=this._hrefs&&this._hrefs[t])return n;this.sanitizeURL(t).then(r=>{r["xlink:href"]=r.href,r.href=null,(this._hrefs||(this._hrefs={}))[t]=r})}return null},attr(e,t,n,r){const i={},a=(o,s,l,c)=>{i[c||o]=s};return Array.isArray(n)?n.forEach(o=>o(a,t,this)):n(a,t,this),r&&Due(i,t,e,r,this._defs),i},defs(e){const t=this._defs.gradient,n=this._defs.clipping;if(Object.keys(t).length+Object.keys(n).length!==0){e.open("defs");for(const i in t){const a=t[i],o=a.stops;a.gradient==="radial"?(e.open("pattern",{id:gp+i,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),e.open("rect",{width:"1",height:"1",fill:"url(#"+i+")"}).close(),e.close(),e.open("radialGradient",{id:i,fx:a.x1,fy:a.y1,fr:a.r1,cx:a.x2,cy:a.y2,r:a.r2})):e.open("linearGradient",{id:i,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2});for(let s=0;s<o.length;++s)e.open("stop",{offset:o[s].offset,"stop-color":o[s].color}).close();e.close()}for(const i in n){const a=n[i];e.open("clipPath",{id:i}),a.path?e.open("path",{d:a.path}).close():e.open("rect",{x:0,y:0,width:a.width,height:a.height}).close(),e.close()}e.close()}}});function Due(e,t,n,r,i){let a;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(a=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=bh(t),e["font-size"]=ha(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const o in Sp){let s=t[o];const l=Sp[o];s==="transparent"&&(l==="fill"||l==="stroke")||s!=null&&(Cx(s)&&(s=zN(s,i.gradient,"")),e[l]=s)}for(const o in Ep){const s=t[o];s!=null&&(a=a||[],a.push("".concat(Ep[o],": ").concat(s,";")))}return a&&(e.style=a.join(" ")),e}const OI="canvas",CI="png",DI="svg",LI="none",Co={Canvas:OI,PNG:CI,SVG:DI,None:LI},Ec={};Ec[OI]=Ec[CI]={renderer:Ap,headless:Ap,handler:vh};Ec[DI]={renderer:i_,headless:a_,handler:Kx};Ec[LI]={};function w2(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(Ec[e]=t,this):Ec[e]}function FI(e,t,n){const r=[],i=new _t().union(t),a=e.marktype;return a?BI(e,i,n,r):a==="group"?$I(e,i,n,r):P("Intersect scene must be mark node or group item.")}function BI(e,t,n,r){if(Lue(e,t,n)){const i=e.items,a=e.marktype,o=i.length;let s=0;if(a==="group")for(;s<o;++s)$I(i[s],t,n,r);else for(const l=gr[a].isect;s<o;++s){const c=i[s];NI(c,t,l)&&r.push(c)}}return r}function Lue(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function $I(e,t,n,r){n&&n(e.mark)&&NI(e,t,gr.group.isect)&&r.push(e);const i=e.items,a=i&&i.length;if(a){const o=e.x||0,s=e.y||0;t.translate(-o,-s);for(let l=0;l<a;++l)BI(i[l],t,n,r);t.translate(o,s)}return r}function NI(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const Db=new _t;function II(e){const t=e.clip;if(_e(t))t(ph(Db.clear()));else if(t)Db.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(Db)}const Fue=1e-9;function o_(e,t,n){return e===t?!0:n==="path"?ZI(e,t):e instanceof Date&&t instanceof Date?+e==+t:Ye(e)&&Ye(t)?Math.abs(e-t)<=Fue:!e||!t||!ee(e)&&!ee(t)?e==t:Bue(e,t)}function ZI(e,t){return o_(Tc(e),Tc(t))}function Bue(e,t){var n=Object.keys(e),r=Object.keys(t),i,a;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),a=n.length-1;a>=0;a--)if(n[a]!=r[a])return!1;for(a=n.length-1;a>=0;a--)if(i=n[a],!o_(e[i],t[i],i))return!1;return typeof e==typeof t}function $ue(){VN(),ole()}const kc="top",ti="left",oi="right",ns="bottom",Nue="top-left",Iue="top-right",Zue="bottom-left",Rue="bottom-right",s_="start",V3="middle",Sn="end",Pue="x",jue="y",T2="group",l_="axis",c_="title",zue="frame",Gue="scope",u_="legend",RI="row-header",PI="row-footer",jI="row-title",zI="column-header",GI="column-footer",UI="column-title",Uue="padding",Wue="symbol",WI="fit",Hue="fit-x",Yue="fit-y",que="pad",f_="none",p1="all",X3="each",d_="flush",Do="column",Lo="row";function HI(e){I.call(this,null,e)}H(HI,I,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,a=gr[i],o=a.bound;let s=r.bounds,l;if(a.nested)r.items.length&&n.dirty(r.items[0]),s=g1(r,o),r.items.forEach(c=>{c.bounds.clear().union(s)});else if(i===T2||e.modified())switch(t.visit(t.MOD,c=>n.dirty(c)),s.clear(),r.items.forEach(c=>s.union(g1(c,o))),r.role){case l_:case u_:case c_:t.reflow()}else l=t.changed(t.REM),t.visit(t.ADD,c=>{s.union(g1(c,o))}),t.visit(t.MOD,c=>{l=l||s.alignsWith(c.bounds),n.dirty(c),s.union(g1(c,o))}),l&&(s.clear(),r.items.forEach(c=>s.union(c.bounds)));return II(r),t.modifies("bounds")}});function g1(e,t,n){return t(e.bounds.clear(),e,n)}const ES=":vega_identifier:";function h_(e){I.call(this,0,e)}h_.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};H(h_,I,{transform(e,t){const n=Vue(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,a=>a[r]=a[r]||++i),n.set(this.value=i),t}});function Vue(e){return e._signals[ES]||(e._signals[ES]=e.add(0))}function YI(e){I.call(this,null,e)}H(YI,I,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,Xue(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===T2?m2:h2;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function Xue(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function qI(e){I.call(this,null,e)}const kS={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!VI(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},VI=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),MS=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,a;n<r;i=a,++n)if(VI(i,a=e[n].bounds,t))return!0},Jue=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},Kue=(e,t,n)=>{var r=e.range(),i=new _t;return t===kc||t===ns?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),a=>i.encloses(a.bounds)},OS=e=>(e.forEach(t=>t.opacity=1),e),CS=(e,t)=>e.reflow(t.modified()).modifies("opacity");H(qI,I,{transform(e,t){const n=kS[e.method]||kS.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,a,o;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(OS(i),t=CS(t,e)),t;if(i=i.filter(Jue),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),a=OS(i),t=CS(t,e),a.length>=3&&MS(a,r)){do a=n(a,r);while(a.length>=3&&MS(a,r));a.length<3&&!Ce(i).opacity&&(a.length>1&&(Ce(a).opacity=0),Ce(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(o=Kue(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(l=>{o(l)||(l.opacity=0)}));const s=a[0].mark.bounds.clear();return i.forEach(l=>{l.opacity&&s.union(l.bounds)}),t}});function XI(e){I.call(this,null,e)}H(XI,I,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const rn=new _t;function Zl(e,t,n){return e[t]===n?0:(e[t]=n,1)}function Que(e){var t=e.items[0].orient;return t===ti||t===oi}function efe(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function tfe(e,t,n,r){var i=t.items[0],a=i.datum,o=i.translate!=null?i.translate:.5,s=i.orient,l=efe(a),c=i.range,u=i.offset,f=i.position,d=i.minExtent,h=i.maxExtent,m=a.title&&i.items[l[2]].items[0],g=i.titlePadding,p=i.bounds,y=m&&Yx(m),b=0,v=0,x,_;switch(rn.clear().union(p),p.clear(),(x=l[0])>-1&&p.union(i.items[x].bounds),(x=l[1])>-1&&p.union(i.items[x].bounds),s){case kc:b=f||0,v=-u,_=Math.max(d,Math.min(h,-p.y1)),p.add(0,-_).add(c,0),m&&y1(e,m,_,g,y,0,-1,p);break;case ti:b=-u,v=f||0,_=Math.max(d,Math.min(h,-p.x1)),p.add(-_,0).add(0,c),m&&y1(e,m,_,g,y,1,-1,p);break;case oi:b=n+u,v=f||0,_=Math.max(d,Math.min(h,p.x2)),p.add(0,0).add(_,c),m&&y1(e,m,_,g,y,1,1,p);break;case ns:b=f||0,v=r+u,_=Math.max(d,Math.min(h,p.y2)),p.add(0,0).add(c,_),m&&y1(e,m,_,g,0,0,1,p);break;default:b=i.x,v=i.y}return ro(p.translate(b,v),i),Zl(i,"x",b+o)|Zl(i,"y",v+o)&&(i.bounds=rn,e.dirty(i),i.bounds=p,e.dirty(i)),i.mark.bounds.clear().union(p)}function y1(e,t,n,r,i,a,o,s){const l=t.bounds;if(t.auto){const c=o*(n+i+r);let u=0,f=0;e.dirty(t),a?u=(t.x||0)-(t.x=c):f=(t.y||0)-(t.y=c),t.mark.bounds.clear().union(l.translate(-u,-f)),e.dirty(t)}s.union(l)}const DS=(e,t)=>Math.floor(Math.min(e,t)),LS=(e,t)=>Math.ceil(Math.max(e,t));function nfe(e){var t=e.items,n=t.length,r=0,i,a;const o={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],a=i.items,i.marktype===T2)switch(i.role){case l_:case u_:case c_:break;case RI:o.rowheaders.push(...a);break;case PI:o.rowfooters.push(...a);break;case zI:o.colheaders.push(...a);break;case GI:o.colfooters.push(...a);break;case jI:o.rowtitle=a[0];break;case UI:o.coltitle=a[0];break;default:o.marks.push(...a)}return o}function rfe(e){return new _t().set(0,0,e.width||0,e.height||0)}function ife(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function st(e,t,n){const r=ee(e)?e[t]:e;return r??(n!==void 0?n:0)}function FS(e){return e<0?Math.ceil(-e):0}function JI(e,t,n){var r=!n.nodirty,i=n.bounds===d_?rfe:ife,a=rn.set(0,0,0,0),o=st(n.align,Do),s=st(n.align,Lo),l=st(n.padding,Do),c=st(n.padding,Lo),u=n.columns||t.length,f=u<=0?1:Math.ceil(t.length/u),d=t.length,h=Array(d),m=Array(u),g=0,p=Array(d),y=Array(f),b=0,v=Array(d),x=Array(d),_=Array(d),T,w,S,C,k,A,L,D,E,O,M;for(w=0;w<u;++w)m[w]=0;for(w=0;w<f;++w)y[w]=0;for(w=0;w<d;++w)A=t[w],k=_[w]=i(A),A.x=A.x||0,v[w]=0,A.y=A.y||0,x[w]=0,S=w%u,C=~~(w/u),g=Math.max(g,L=Math.ceil(k.x2)),b=Math.max(b,D=Math.ceil(k.y2)),m[S]=Math.max(m[S],L),y[C]=Math.max(y[C],D),h[w]=l+FS(k.x1),p[w]=c+FS(k.y1),r&&e.dirty(t[w]);for(w=0;w<d;++w)w%u===0&&(h[w]=0),w<u&&(p[w]=0);if(o===X3)for(S=1;S<u;++S){for(M=0,w=S;w<d;w+=u)M<h[w]&&(M=h[w]);for(w=S;w<d;w+=u)h[w]=M+m[S-1]}else if(o===p1){for(M=0,w=0;w<d;++w)w%u&&M<h[w]&&(M=h[w]);for(w=0;w<d;++w)w%u&&(h[w]=M+g)}else for(o=!1,S=1;S<u;++S)for(w=S;w<d;w+=u)h[w]+=m[S-1];if(s===X3)for(C=1;C<f;++C){for(M=0,w=C*u,T=w+u;w<T;++w)M<p[w]&&(M=p[w]);for(w=C*u;w<T;++w)p[w]=M+y[C-1]}else if(s===p1){for(M=0,w=u;w<d;++w)M<p[w]&&(M=p[w]);for(w=u;w<d;++w)p[w]=M+b}else for(s=!1,C=1;C<f;++C)for(w=C*u,T=w+u;w<T;++w)p[w]+=y[C-1];for(E=0,w=0;w<d;++w)E=h[w]+(w%u?E:0),v[w]+=E-t[w].x;for(S=0;S<u;++S)for(O=0,w=S;w<d;w+=u)O+=p[w],x[w]+=O-t[w].y;if(o&&st(n.center,Do)&&f>1)for(w=0;w<d;++w)k=o===p1?g:m[w%u],E=k-_[w].x2-t[w].x-v[w],E>0&&(v[w]+=E/2);if(s&&st(n.center,Lo)&&u!==1)for(w=0;w<d;++w)k=s===p1?b:y[~~(w/u)],O=k-_[w].y2-t[w].y-x[w],O>0&&(x[w]+=O/2);for(w=0;w<d;++w)a.union(_[w].translate(v[w],x[w]));switch(E=st(n.anchor,Pue),O=st(n.anchor,jue),st(n.anchor,Do)){case Sn:E-=a.width();break;case V3:E-=a.width()/2}switch(st(n.anchor,Lo)){case Sn:O-=a.height();break;case V3:O-=a.height()/2}for(E=Math.round(E),O=Math.round(O),a.clear(),w=0;w<d;++w)t[w].mark.bounds.clear();for(w=0;w<d;++w)A=t[w],A.x+=v[w]+=E,A.y+=x[w]+=O,a.union(A.mark.bounds.union(A.bounds.translate(v[w],x[w]))),r&&e.dirty(A);return a}function afe(e,t,n){var r=nfe(t),i=r.marks,a=n.bounds===d_?ofe:sfe,o=n.offset,s=n.columns||i.length,l=s<=0?1:Math.ceil(i.length/s),c=l*s,u,f,d,h,m,g,p;const y=JI(e,i,n);y.empty()&&y.set(0,0,0,0),r.rowheaders&&(g=st(n.headerBand,Lo,null),u=b1(e,r.rowheaders,i,s,l,-st(o,"rowHeader"),DS,0,a,"x1",0,s,1,g)),r.colheaders&&(g=st(n.headerBand,Do,null),f=b1(e,r.colheaders,i,s,s,-st(o,"columnHeader"),DS,1,a,"y1",0,1,s,g)),r.rowfooters&&(g=st(n.footerBand,Lo,null),d=b1(e,r.rowfooters,i,s,l,st(o,"rowFooter"),LS,0,a,"x2",s-1,s,1,g)),r.colfooters&&(g=st(n.footerBand,Do,null),h=b1(e,r.colfooters,i,s,s,st(o,"columnFooter"),LS,1,a,"y2",c-s,1,s,g)),r.rowtitle&&(m=st(n.titleAnchor,Lo),p=st(o,"rowTitle"),p=m===Sn?d+p:u-p,g=st(n.titleBand,Lo,.5),BS(e,r.rowtitle,p,0,y,g)),r.coltitle&&(m=st(n.titleAnchor,Do),p=st(o,"columnTitle"),p=m===Sn?h+p:f-p,g=st(n.titleBand,Do,.5),BS(e,r.coltitle,p,1,y,g))}function ofe(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function sfe(e,t){return e.bounds[t]}function b1(e,t,n,r,i,a,o,s,l,c,u,f,d,h){var m=n.length,g=0,p=0,y,b,v,x,_,T,w,S,C;if(!m)return g;for(y=u;y<m;y+=f)n[y]&&(g=o(g,l(n[y],c)));if(!t.length)return g;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),g+=a,b=0,x=t.length;b<x;++b)e.dirty(t[b]),t[b].mark.bounds.clear();for(y=u,b=0,x=t.length;b<x;++b,y+=f){for(T=t[b],_=T.mark.bounds,v=y;v>=0&&(w=n[v])==null;v-=d);s?(S=h==null?w.x:Math.round(w.bounds.x1+h*w.bounds.width()),C=g):(S=g,C=h==null?w.y:Math.round(w.bounds.y1+h*w.bounds.height())),_.union(T.bounds.translate(S-(T.x||0),C-(T.y||0))),T.x=S,T.y=C,e.dirty(T),p=o(p,_[c])}return p}function BS(e,t,n,r,i,a){if(t){e.dirty(t);var o=n,s=n;r?o=Math.round(i.x1+a*i.width()):s=Math.round(i.y1+a*i.height()),t.bounds.translate(o-(t.x||0),s-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=o,t.y=s,e.dirty(t)}}function lfe(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function cfe(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function ufe(e,t,n,r,i,a,o){const s=lfe(n,t),l=cfe(e,s("offset",0)),c=s("anchor",s_),u=c===Sn?1:c===V3?.5:0,f={align:X3,bounds:s("bounds",d_),columns:s("direction")==="vertical"?1:e.length,padding:s("margin",8),center:s("center"),nodirty:!0};switch(t){case ti:f.anchor={x:Math.floor(r.x1)-l,column:Sn,y:u*(o||r.height()+2*r.y1),row:c};break;case oi:f.anchor={x:Math.ceil(r.x2)+l,y:u*(o||r.height()+2*r.y1),row:c};break;case kc:f.anchor={y:Math.floor(i.y1)-l,row:Sn,x:u*(a||i.width()+2*i.x1),column:c};break;case ns:f.anchor={y:Math.ceil(i.y2)+l,x:u*(a||i.width()+2*i.x1),column:c};break;case Nue:f.anchor={x:l,y:l};break;case Iue:f.anchor={x:a-l,y:l,column:Sn};break;case Zue:f.anchor={x:l,y:o-l,row:Sn};break;case Rue:f.anchor={x:a-l,y:o-l,column:Sn,row:Sn};break}return f}function ffe(e,t){var n=t.items[0],r=n.datum,i=n.orient,a=n.bounds,o=n.x,s=n.y,l,c;return n._bounds?n._bounds.clear().union(a):n._bounds=a.clone(),a.clear(),hfe(e,n,n.items[0].items[0]),a=dfe(n,a),l=2*n.padding,c=2*n.padding,a.empty()||(l=Math.ceil(a.width()+l),c=Math.ceil(a.height()+c)),r.type===Wue&&mfe(n.items[0].items[0].items[0].items),i!==f_&&(n.x=o=0,n.y=s=0),n.width=l,n.height=c,ro(a.set(o,s,o+l,s+c),n),n.mark.bounds.clear().union(a),n}function dfe(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function hfe(e,t,n){var r=t.padding,i=r-n.x,a=r-n.y;if(!t.datum.title)(i||a)&&Ru(e,n,i,a);else{var o=t.items[1].items[0],s=o.anchor,l=t.titlePadding||0,c=r-o.x,u=r-o.y;switch(o.orient){case ti:i+=Math.ceil(o.bounds.width())+l;break;case oi:case ns:break;default:a+=o.bounds.height()+l}switch((i||a)&&Ru(e,n,i,a),o.orient){case ti:u+=wl(t,n,o,s,1,1);break;case oi:c+=wl(t,n,o,Sn,0,0)+l,u+=wl(t,n,o,s,1,1);break;case ns:c+=wl(t,n,o,s,0,0),u+=wl(t,n,o,Sn,-1,0,1)+l;break;default:c+=wl(t,n,o,s,0,0)}(c||u)&&Ru(e,o,c,u),(c=Math.round(o.bounds.x1-r))<0&&(Ru(e,n,-c,0),Ru(e,o,-c,0))}}function wl(e,t,n,r,i,a,o){const s=e.datum.type!=="symbol",l=n.datum.vgrad,c=s&&(a||!l)&&!o?t.items[0]:t,u=c.bounds[i?"y2":"x2"]-e.padding,f=l&&a?u:0,d=l&&a?0:u,h=i<=0?0:Yx(n);return Math.round(r===s_?f:r===Sn?d-h:.5*(u-h))}function Ru(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function mfe(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function pfe(e,t,n,r,i){var a=t.items[0],o=a.frame,s=a.orient,l=a.anchor,c=a.offset,u=a.padding,f=a.items[0].items[0],d=a.items[1]&&a.items[1].items[0],h=s===ti||s===oi?r:n,m=0,g=0,p=0,y=0,b=0,v;if(o!==T2?s===ti?(m=i.y2,h=i.y1):s===oi?(m=i.y1,h=i.y2):(m=i.x1,h=i.x2):s===ti&&(m=r,h=0),v=l===s_?m:l===Sn?h:(m+h)/2,d&&d.text){switch(s){case kc:case ns:b=f.bounds.height()+u;break;case ti:y=f.bounds.width()+u;break;case oi:y=-f.bounds.width()-u;break}rn.clear().union(d.bounds),rn.translate(y-(d.x||0),b-(d.y||0)),Zl(d,"x",y)|Zl(d,"y",b)&&(e.dirty(d),d.bounds.clear().union(rn),d.mark.bounds.clear().union(rn),e.dirty(d)),rn.clear().union(d.bounds)}else rn.clear();switch(rn.union(f.bounds),s){case kc:g=v,p=i.y1-rn.height()-c;break;case ti:g=i.x1-rn.width()-c,p=v;break;case oi:g=i.x2+rn.width()+c,p=v;break;case ns:g=v,p=i.y2+c;break;default:g=a.x,p=a.y}return Zl(a,"x",g)|Zl(a,"y",p)&&(rn.translate(g,p),e.dirty(a),a.bounds.clear().union(rn),t.bounds.clear().union(rn),e.dirty(a)),a.bounds}function KI(e){I.call(this,null,e)}H(KI,I,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&afe(n,r,e.layout),yfe(n,r,e)}),gfe(e.mark.group)?t.reflow():t}});function gfe(e){return e&&e.mark.role!=="legend-entry"}function yfe(e,t,n){var r=t.items,i=Math.max(0,t.width||0),a=Math.max(0,t.height||0),o=new _t().set(0,0,i,a),s=o.clone(),l=o.clone(),c=[],u,f,d,h,m,g;for(m=0,g=r.length;m<g;++m)switch(f=r[m],f.role){case l_:h=Que(f)?s:l,h.union(tfe(e,f,i,a));break;case c_:u=f;break;case u_:c.push(ffe(e,f));break;case zue:case Gue:case RI:case PI:case jI:case zI:case GI:case UI:s.union(f.bounds),l.union(f.bounds);break;default:o.union(f.bounds)}if(c.length){const p={};c.forEach(y=>{d=y.orient||oi,d!==f_&&(p[d]||(p[d]=[])).push(y)});for(const y in p){const b=p[y];JI(e,b,ufe(b,y,n.legends,s,l,i,a))}c.forEach(y=>{const b=y.bounds;if(b.equals(y._bounds)||(y.bounds=y._bounds,e.dirty(y),y.bounds=b,e.dirty(y)),n.autosize&&n.autosize.type===WI)switch(y.orient){case ti:case oi:o.add(b.x1,0).add(b.x2,0);break;case kc:case ns:o.add(0,b.y1).add(0,b.y2)}else o.union(b)})}o.union(s).union(l),u&&o.union(pfe(e,u,i,a,o)),t.clip&&o.set(0,0,t.width||0,t.height||0),bfe(e,t,o,n)}function bfe(e,t,n,r){const i=r.autosize||{},a=i.type;if(e._autosize<1||!a)return;let o=e._width,s=e._height,l=Math.max(0,t.width||0),c=Math.max(0,Math.ceil(-n.x1)),u=Math.max(0,t.height||0),f=Math.max(0,Math.ceil(-n.y1));const d=Math.max(0,Math.ceil(n.x2-l)),h=Math.max(0,Math.ceil(n.y2-u));if(i.contains===Uue){const m=e.padding();o-=m.left+m.right,s-=m.top+m.bottom}a===f_?(c=0,f=0,l=o,u=s):a===WI?(l=Math.max(0,o-c-d),u=Math.max(0,s-f-h)):a===Hue?(l=Math.max(0,o-c-d),s=u+f+h):a===Yue?(o=l+c+d,u=Math.max(0,s-f-h)):a===que&&(o=l+c+d,s=u+f+h),e._resizeView(o,s,l,u,[c,f],i.resize)}const vfe=Object.freeze(Object.defineProperty({__proto__:null,bound:HI,identifier:h_,mark:YI,overlap:qI,render:XI,viewlayout:KI},Symbol.toStringTag,{value:"Module"}));function QI(e){I.call(this,null,e)}H(QI,I,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,a=e.scale,o=e.count==null?e.values?e.values.length:10:e.count,s=Mx(a,o,e.minstep),l=e.format||$N(n,a,s,e.formatSpecifier,e.formatType,!!e.values),c=e.values?BN(a,e.values,s):Ox(a,s);return i&&(r.rem=i),i=c.map((u,f)=>je({index:f/(c.length-1||1),value:u,label:l(u)})),e.extra&&i.length&&i.push(je({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function eZ(e){I.call(this,null,e)}function xfe(){return je({})}function _fe(e){const t=ru().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}H(eZ,I,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||xfe,a=e.key||le,o=this.value;return j(r.encode)&&(r.encode=null),o&&(e.modified("key")||t.modified(a))&&P("DataJoin does not support modified key function or fields."),o||(t=t.addAll(),this.value=o=_fe(a)),t.visit(t.ADD,s=>{const l=a(s);let c=o.get(l);c?c.exit?(o.empty--,r.add.push(c)):r.mod.push(c):(c=i(s),o.set(l,c),r.add.push(c)),c.datum=s,c.exit=!1}),t.visit(t.MOD,s=>{const l=a(s),c=o.get(l);c&&(c.datum=s,r.mod.push(c))}),t.visit(t.REM,s=>{const l=a(s),c=o.get(l);s===c.datum&&!c.exit&&(r.rem.push(c),c.exit=!0,++o.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&o.empty>n.cleanThreshold)&&n.runAfter(o.clean),r}});function tZ(e){I.call(this,null,e)}H(tZ,I,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,a=t.encode;if(j(a))if(n.changed()||a.every(f=>i[f]))a=a[0],n.encode=null;else return t.StopPropagation;var o=a==="enter",s=i.update||po,l=i.enter||po,c=i.exit||po,u=(a&&!o?i[a]:s)||po;if(t.changed(t.ADD)&&(t.visit(t.ADD,f=>{l(f,e),s(f,e)}),n.modifies(l.output),n.modifies(s.output),u!==po&&u!==s&&(t.visit(t.ADD,f=>{u(f,e)}),n.modifies(u.output))),t.changed(t.REM)&&c!==po&&(t.visit(t.REM,f=>{c(f,e)}),n.modifies(c.output)),o||u!==po){const f=t.MOD|(e.modified()?t.REFLOW:0);o?(t.visit(f,d=>{const h=l(d,e)||r;(u(d,e)||h)&&n.mod.push(d)}),n.mod.length&&n.modifies(l.output)):t.visit(f,d=>{(u(d,e)||r)&&n.mod.push(d)}),n.mod.length&&n.modifies(u.output)}return n.changed()?n:t.StopPropagation}});function nZ(e){I.call(this,[],e)}H(nZ,I,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,a=e.type||em,o=e.scale,s=+e.limit,l=Mx(o,e.count==null?5:e.count,e.minstep),c=!!e.values||a===em,u=e.format||RN(n,o,l,a,e.formatSpecifier,e.formatType,c),f=e.values||ZN(o,l),d,h,m,g,p;return i&&(r.rem=i),a===em?(s&&f.length>s?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=f.slice(0,s-1),p=!0):i=f,_e(m=e.size)?(!e.values&&o(i[0])===0&&(i=i.slice(1)),g=i.reduce((y,b)=>Math.max(y,m(b,e)),0)):m=vn(g=m||8),i=i.map((y,b)=>je({index:b,label:u(y,b,i),value:y,offset:g,size:m(y,e)})),p&&(p=f[i.length],i.push(je({index:i.length,label:"…".concat(f.length-i.length," entries"),value:p,offset:g,size:m(p,e)})))):a===Y0e?(d=o.domain(),h=DN(o,d[0],Ce(d)),f.length<3&&!e.values&&d[0]!==Ce(d)&&(f=[d[0],Ce(d)]),i=f.map((y,b)=>je({index:b,label:u(y,b,f),value:y,perc:h(y)}))):(m=f.length-1,h=ile(o),i=f.map((y,b)=>je({index:b,label:u(y,b,f),value:y,perc:b?h(y):0,perc2:b===m?1:h(f[b+1])}))),r.source=i,r.add=i,this.value=i,r}});const wfe=e=>e.source.x,Tfe=e=>e.source.y,Afe=e=>e.target.x,Sfe=e=>e.target.y;function m_(e){I.call(this,{},e)}m_.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};H(m_,I,{transform(e,t){var n=e.sourceX||wfe,r=e.sourceY||Tfe,i=e.targetX||Afe,a=e.targetY||Sfe,o=e.as||"path",s=e.orient||"vertical",l=e.shape||"line",c=$S.get(l+"-"+s)||$S.get(l);return c||P("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,u=>{u[o]=c(n(u),r(u),i(u),a(u))}),t.reflow(e.modified()).modifies(o)}});const rZ=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,Efe=(e,t,n,r)=>rZ(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),iZ=(e,t,n,r)=>{var i=n-e,a=r-t,o=Math.sqrt(i*i+a*a)/2,s=180*Math.atan2(a,i)/Math.PI;return"M"+e+","+t+"A"+o+","+o+" "+s+" 0 1 "+n+","+r},kfe=(e,t,n,r)=>iZ(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),aZ=(e,t,n,r)=>{const i=n-e,a=r-t,o=.2*(i+a),s=.2*(a-i);return"M"+e+","+t+"C"+(e+o)+","+(t+s)+" "+(n+s)+","+(r-o)+" "+n+","+r},Mfe=(e,t,n,r)=>aZ(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),Ofe=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,Cfe=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,Dfe=(e,t,n,r)=>{const i=Math.cos(e),a=Math.sin(e),o=Math.cos(n),s=Math.sin(n),l=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*a+"A"+t+","+t+" 0 0,"+(l?1:0)+" "+t*o+","+t*s+"L"+r*o+","+r*s},Lfe=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},Ffe=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},Bfe=(e,t,n,r)=>{const i=Math.cos(e),a=Math.sin(e),o=Math.cos(n),s=Math.sin(n),l=(t+r)/2;return"M"+t*i+","+t*a+"C"+l*i+","+l*a+" "+l*o+","+l*s+" "+r*o+","+r*s},$S=ru({line:rZ,"line-radial":Efe,arc:iZ,"arc-radial":kfe,curve:aZ,"curve-radial":Mfe,"orthogonal-horizontal":Ofe,"orthogonal-vertical":Cfe,"orthogonal-radial":Dfe,"diagonal-horizontal":Lfe,"diagonal-vertical":Ffe,"diagonal-radial":Bfe});function p_(e){I.call(this,null,e)}p_.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};H(p_,I,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],a=e.field||eu,o=e.startAngle||0,s=e.endAngle!=null?e.endAngle:2*Math.PI,l=t.source,c=l.map(a),u=c.length,f=o,d=(s-o)/z0(c),h=ln(u),m,g,p;for(e.sort&&h.sort((y,b)=>c[y]-c[b]),m=0;m<u;++m)p=c[h[m]],g=l[h[m]],g[r]=f,g[i]=f+=p*d;return this.value=c,t.reflow(e.modified()).modifies(n)}});const $fe=5;function Nfe(e){const t=e.type;return!e.bins&&(t===xc||t===lh||t===ch)}function oZ(e){return Sx(e)&&e!==Vi}const Ife=vi(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function sZ(e){I.call(this,null,e),this.modified(!0)}H(sZ,I,{transform(e,t){var n=t.dataflow,r=this.value,i=Zfe(e);(!r||i!==r.type)&&(this.value=r=Ze(i)());for(i in e)if(!Ife[i]){if(i==="padding"&&oZ(r.type))continue;_e(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return Ufe(r,e,Gfe(r,e,Pfe(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function Zfe(e){var t=e.type,n="",r;return t===Vi?Vi+"-"+xc:(Rfe(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?Vi+"-":r===3?su+"-":""),(n+t||xc).toLowerCase())}function Rfe(e){const t=e.type;return Sx(t)&&t!==S0&&t!==E0&&(e.scheme||e.range&&e.range.length&&e.range.every(J))}function Pfe(e,t,n){const r=jfe(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,a=e.type,o=t.zero||t.zero===void 0&&Nfe(e),s,l;if(!i)return 0;if(oZ(a)&&t.padding&&i[0]!==Ce(i)&&(i=zfe(a,i,t.range,t.padding,t.exponent,t.constant)),(o||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(s=(i=i.slice()).length-1||1,o&&(i[0]>0&&(i[0]=0),i[s]<0&&(i[s]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[s]=t.domainMax),t.domainMid!=null)){l=t.domainMid;const c=l>i[s]?s+1:l<i[0]?0:s;c!==s&&n.warn("Scale domainMid exceeds domain min or max.",l),i.splice(c,0,l)}return e.domain(lZ(a,i,n)),a===_x&&e.unknown(t.domainImplicit?Jm:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&Mx(e,t.nice)||null),i.length}function jfe(e,t,n){return t?(e.domain(lZ(e.type,t,n)),t.length):-1}function zfe(e,t,n,r,i,a){var o=Math.abs(Ce(n)-n[0]),s=o/(o-2*r),l=e===eo?p4(t,null,s):e===ch?dp(t,null,s,.5):e===lh?dp(t,null,s,i||1):e===l2?g4(t,null,s,a||1):m4(t,null,s);return t=t.slice(),t[0]=l[0],t[t.length-1]=l[1],t}function lZ(e,t,n){if(EN(e)){var r=Math.abs(t.reduce((i,a)=>i+(a<0?-1:a>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+q(t))}return t}function Gfe(e,t,n){let r=t.bins;if(r&&!j(r)){const i=e.domain(),a=i[0],o=Ce(i),s=r.step;let l=r.start==null?a:r.start,c=r.stop==null?o:r.stop;s||P("Scale bins parameter missing step property."),l<a&&(l=s*Math.ceil(a/s)),c>o&&(c=s*Math.floor(o/s)),r=ln(l,c+s/2,s)}return r?e.bins=r:e.bins&&delete e.bins,e.type===wx&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function Ufe(e,t,n){var r=e.type,i=t.round||!1,a=t.range;if(t.rangeStep!=null)a=Wfe(r,t,n);else if(t.scheme&&(a=Hfe(r,t,n),_e(a))){if(e.interpolator)return e.interpolator(a);P("Scale type ".concat(r," does not support interpolating color schemes."))}if(a&&kN(r))return e.interpolator(f2(J3(a,t.reverse),t.interpolate,t.interpolateGamma));a&&t.interpolate&&e.interpolate?e.interpolate(Ex(t.interpolate,t.interpolateGamma)):_e(e.round)?e.round(i):_e(e.rangeRound)&&e.interpolate(i?Yc:ua),a&&e.range(J3(a,t.reverse))}function Wfe(e,t,n){e!==wN&&e!==N3&&P("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===N3?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*xx(n,i,r)]}function Hfe(e,t,n){var r=t.schemeExtent,i,a;return j(t.scheme)?a=f2(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),a=kx(i),a||P("Unrecognized scheme name: ".concat(t.scheme))),n=e===u2?n+1:e===wx?n-1:e===_c||e===c2?+t.schemeCount||$fe:n,kN(e)?NS(a,r,t.reverse):_e(a)?CN(NS(a,r),n):e===_x?a:a.slice(0,n)}function NS(e,t,n){return _e(e)&&(t||n)?ON(e,J3(t||[0,1],n)):e}function J3(e,t){return t?e.slice().reverse():e}function cZ(e){I.call(this,null,e)}H(cZ,I,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(V0(e.sort)),this.modified(n),t}});const IS="zero",uZ="center",fZ="normalize",dZ=["y0","y1"];function g_(e){I.call(this,null,e)}g_.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:IS,values:[IS,uZ,fZ]},{name:"as",type:"string",array:!0,length:2,default:dZ}]};H(g_,I,{transform(e,t){var n=e.as||dZ,r=n[0],i=n[1],a=V0(e.sort),o=e.field||eu,s=e.offset===uZ?Yfe:e.offset===fZ?qfe:Vfe,l,c,u,f;for(l=Xfe(t.source,e.groupby,a,o),c=0,u=l.length,f=l.max;c<u;++c)s(l[c],f,o,r,i);return t.reflow(e.modified()).modifies(n)}});function Yfe(e,t,n,r,i){for(var a=(t-e.sum)/2,o=e.length,s=0,l;s<o;++s)l=e[s],l[r]=a,l[i]=a+=Math.abs(n(l))}function qfe(e,t,n,r,i){for(var a=1/e.sum,o=0,s=e.length,l=0,c=0,u;l<s;++l)u=e[l],u[r]=o,u[i]=o=a*(c+=Math.abs(n(u)))}function Vfe(e,t,n,r,i){for(var a=0,o=0,s=e.length,l=0,c,u;l<s;++l)u=e[l],c=+n(u),c<0?(u[r]=o,u[i]=o+=c):(u[r]=a,u[i]=a+=c)}function Xfe(e,t,n,r){var i=[],a=g=>g(u),o,s,l,c,u,f,d,h,m;if(t==null)i.push(e.slice());else for(o={},s=0,l=e.length;s<l;++s)u=e[s],f=t.map(a),d=o[f],d||(o[f]=d=[],i.push(d)),d.push(u);for(f=0,m=0,c=i.length;f<c;++f){for(d=i[f],s=0,h=0,l=d.length;s<l;++s)h+=Math.abs(r(d[s]));d.sum=h,h>m&&(m=h),n&&d.sort(n)}return i.max=m,i}const Jfe=Object.freeze(Object.defineProperty({__proto__:null,axisticks:QI,datajoin:eZ,encode:tZ,legendentries:nZ,linkpath:m_,pie:p_,scale:sZ,sortitems:cZ,stack:g_},Symbol.toStringTag,{value:"Module"}));var Kfe=Math.abs,K3=Math.cos,kp=Math.sin,Qfe=1e-6,hZ=Math.PI,Q3=hZ/2,ZS=ede(2);function RS(e){return e>1?Q3:e<-1?-Q3:Math.asin(e)}function ede(e){return e>0?Math.sqrt(e):0}function tde(e,t){var n=e*kp(t),r=30,i;do t-=i=(t+kp(t)-n)/(1+K3(t));while(Kfe(i)>Qfe&&--r>0);return t/2}function nde(e,t,n){function r(i,a){return[e*i*K3(a=tde(n,a)),t*kp(a)]}return r.invert=function(i,a){return a=RS(a/t),[i/(e*K3(a)),RS((2*a+kp(2*a))/n)]},r}var rde=nde(ZS/Q3,ZS,hZ);function ide(){return Ai(rde).scale(169.529)}const ade=e8(),e5=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function ode(e,t){return function n(){const r=t();return r.type=e,r.path=e8().projection(r),r.copy=r.copy||function(){const i=n();return e5.forEach(a=>{r[a]&&i[a](r[a]())}),i.path.pointRadius(r.path.pointRadius()),i},r}}function y_(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(Mp[e]=ode(e,t),this):Mp[e]||null}function mZ(e){return e&&e.path||ade}const Mp={albers:s8,albersusa:XC,azimuthalequalarea:KC,azimuthalequidistant:QC,conicconformal:rD,conicequalarea:ed,conicequidistant:oD,equalEarth:sD,equirectangular:iD,gnomonic:lD,identity:cD,mercator:eD,mollweide:ide,naturalEarth1:uD,orthographic:fD,stereographic:dD,transversemercator:hD};for(const e in Mp)y_(e,Mp[e]);function sde(){}const Ma=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function pZ(){var e=1,t=1,n=s;function r(l,c){return c.map(u=>i(l,u))}function i(l,c){var u=[],f=[];return a(l,c,d=>{n(d,l,c),lde(d)>0?u.push([d]):f.push(d)}),f.forEach(d=>{for(var h=0,m=u.length,g;h<m;++h)if(cde((g=u[h])[0],d)!==-1){g.push(d);return}}),{type:"MultiPolygon",value:c,coordinates:u}}function a(l,c,u){var f=new Array,d=new Array,h,m,g,p,y,b;for(h=m=-1,p=l[0]>=c,Ma[p<<1].forEach(v);++h<e-1;)g=p,p=l[h+1]>=c,Ma[g|p<<1].forEach(v);for(Ma[p<<0].forEach(v);++m<t-1;){for(h=-1,p=l[m*e+e]>=c,y=l[m*e]>=c,Ma[p<<1|y<<2].forEach(v);++h<e-1;)g=p,p=l[m*e+e+h+1]>=c,b=y,y=l[m*e+h+1]>=c,Ma[g|p<<1|y<<2|b<<3].forEach(v);Ma[p|y<<3].forEach(v)}for(h=-1,y=l[m*e]>=c,Ma[y<<2].forEach(v);++h<e-1;)b=y,y=l[m*e+h+1]>=c,Ma[y<<2|b<<3].forEach(v);Ma[y<<3].forEach(v);function v(x){var _=[x[0][0]+h,x[0][1]+m],T=[x[1][0]+h,x[1][1]+m],w=o(_),S=o(T),C,k;(C=d[w])?(k=f[S])?(delete d[C.end],delete f[k.start],C===k?(C.ring.push(T),u(C.ring)):f[C.start]=d[k.end]={start:C.start,end:k.end,ring:C.ring.concat(k.ring)}):(delete d[C.end],C.ring.push(T),d[C.end=S]=C):(C=f[S])?(k=d[w])?(delete f[C.start],delete d[k.end],C===k?(C.ring.push(T),u(C.ring)):f[k.start]=d[C.end]={start:k.start,end:C.end,ring:k.ring.concat(C.ring)}):(delete f[C.start],C.ring.unshift(_),f[C.start=w]=C):f[w]=d[S]={start:w,end:S,ring:[_,T]}}}function o(l){return l[0]*2+l[1]*(e+1)*4}function s(l,c,u){l.forEach(f=>{var d=f[0],h=f[1],m=d|0,g=h|0,p,y=c[g*e+m];d>0&&d<e&&m===d&&(p=c[g*e+m-1],f[0]=d+(u-p)/(y-p)-.5),h>0&&h<t&&g===h&&(p=c[(g-1)*e+m],f[1]=h+(u-p)/(y-p)-.5)})}return r.contour=i,r.size=function(l){if(!arguments.length)return[e,t];var c=Math.floor(l[0]),u=Math.floor(l[1]);return c>=0&&u>=0||P("invalid size"),e=c,t=u,r},r.smooth=function(l){return arguments.length?(n=l?s:sde,r):n===s},r}function lde(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function cde(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=ude(e,t[n]))return i;return 0}function ude(e,t){for(var n=t[0],r=t[1],i=-1,a=0,o=e.length,s=o-1;a<o;s=a++){var l=e[a],c=l[0],u=l[1],f=e[s],d=f[0],h=f[1];if(fde(l,f,t))return 0;u>r!=h>r&&n<(d-c)*(r-u)/(h-u)+c&&(i=-i)}return i}function fde(e,t,n){var r;return dde(e,t,n)&&hde(e[r=+(e[0]===t[0])],n[r],t[r])}function dde(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function hde(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function gZ(e,t,n){return function(r){var i=ra(r),a=n?Math.min(i[0],0):i[0],o=i[1],s=o-a,l=t?qa(a,o,e):s/(e+1);return ln(a+l,o,l)}}function b_(e){I.call(this,null,e)}b_.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};H(b_,I,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||bn,a=pZ().smooth(e.smooth!==!1),o=e.thresholds||mde(r,i,e),s=e.as===null?null:e.as||"contour",l=[];return r.forEach(c=>{const u=i(c),f=a.size([u.width,u.height])(u.values,j(o)?o:o(u.values));pde(f,u,c,e),f.forEach(d=>{l.push(Qg(c,je(s!=null?{[s]:d}:d)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function mde(e,t,n){const r=gZ(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>Dn(t(i).values)))}function pde(e,t,n,r){let i=r.scale||t.scale,a=r.translate||t.translate;if(_e(i)&&(i=i(n,r)),_e(a)&&(a=a(n,r)),(i===1||i==null)&&!a)return;const o=(Ye(i)?i:i[0])||1,s=(Ye(i)?i:i[1])||1,l=a&&a[0]||0,c=a&&a[1]||0;e.forEach(yZ(t,o,s,l,c))}function yZ(e,t,n,r,i){const a=e.x1||0,o=e.y1||0,s=t*n<0;function l(f){f.forEach(c)}function c(f){s&&f.reverse(),f.forEach(u)}function u(f){f[0]=(f[0]-a)*t+r,f[1]=(f[1]-o)*n+i}return function(f){return f.coordinates.forEach(l),f}}function PS(e,t,n){const r=e>=0?e:$4(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function Lb(e){return _e(e)?e:vn(+e)}function bZ(){var e=l=>l[0],t=l=>l[1],n=eu,r=[-1,-1],i=960,a=500,o=2;function s(l,c){const u=PS(r[0],l,e)>>o,f=PS(r[1],l,t)>>o,d=u?u+2:0,h=f?f+2:0,m=2*d+(i>>o),g=2*h+(a>>o),p=new Float32Array(m*g),y=new Float32Array(m*g);let b=p;l.forEach(x=>{const _=d+(+e(x)>>o),T=h+(+t(x)>>o);_>=0&&_<m&&T>=0&&T<g&&(p[_+T*m]+=+n(x))}),u>0&&f>0?(Tl(m,g,p,y,u),Al(m,g,y,p,f),Tl(m,g,p,y,u),Al(m,g,y,p,f),Tl(m,g,p,y,u),Al(m,g,y,p,f)):u>0?(Tl(m,g,p,y,u),Tl(m,g,y,p,u),Tl(m,g,p,y,u),b=y):f>0&&(Al(m,g,p,y,f),Al(m,g,y,p,f),Al(m,g,p,y,f),b=y);const v=c?Math.pow(2,-2*o):1/z0(b);for(let x=0,_=m*g;x<_;++x)b[x]*=v;return{values:b,scale:1<<o,width:m,height:g,x1:d,y1:h,x2:d+(i>>o),y2:h+(a>>o)}}return s.x=function(l){return arguments.length?(e=Lb(l),s):e},s.y=function(l){return arguments.length?(t=Lb(l),s):t},s.weight=function(l){return arguments.length?(n=Lb(l),s):n},s.size=function(l){if(!arguments.length)return[i,a];var c=+l[0],u=+l[1];return c>=0&&u>=0||P("invalid size"),i=c,a=u,s},s.cellSize=function(l){return arguments.length?((l=+l)>=1||P("invalid cell size"),o=Math.floor(Math.log(l)/Math.LN2),s):1<<o},s.bandwidth=function(l){return arguments.length?(l=Q(l),l.length===1&&(l=[+l[0],+l[0]]),l.length!==2&&P("invalid bandwidth"),r=l,s):r},s}function Tl(e,t,n,r,i){const a=(i<<1)+1;for(let o=0;o<t;++o)for(let s=0,l=0;s<e+i;++s)s<e&&(l+=n[s+o*e]),s>=i&&(s>=a&&(l-=n[s-a+o*e]),r[s-i+o*e]=l/Math.min(s+1,e-1+a-s,a))}function Al(e,t,n,r,i){const a=(i<<1)+1;for(let o=0;o<e;++o)for(let s=0,l=0;s<t+i;++s)s<t&&(l+=n[o+s*e]),s>=i&&(s>=a&&(l-=n[o+(s-a)*e]),r[o+(s-i)*e]=l/Math.min(s+1,t-1+a-s,a))}function v_(e){I.call(this,null,e)}v_.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const gde=["x","y","weight","size","cellSize","bandwidth"];function vZ(e,t){return gde.forEach(n=>t[n]!=null?e[n](t[n]):0),e}H(v_,I,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=yde(r,e.groupby),a=(e.groupby||[]).map(vt),o=vZ(bZ(),e),s=e.as||"grid",l=[];function c(u,f){for(let d=0;d<a.length;++d)u[a[d]]=f[d];return u}return l=i.map(u=>je(c({[s]:o(u,e.counts)},u.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function yde(e,t){var n=[],r=u=>u(s),i,a,o,s,l,c;if(t==null)n.push(e);else for(i={},a=0,o=e.length;a<o;++a)s=e[a],l=t.map(r),c=i[l],c||(i[l]=c=[],c.dims=l,n.push(c)),c.push(s);return n}function x_(e){I.call(this,null,e)}x_.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};H(x_,I,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=pZ().smooth(e.smooth!==!1),i=e.values,a=e.thresholds||gZ(e.count||10,e.nice,!!i),o=e.size,s,l;return i||(i=t.materialize(t.SOURCE).source,s=vZ(bZ(),e)(i,!0),l=yZ(s,s.scale||1,s.scale||1,0,0),o=[s.width,s.height],i=s.values),a=j(a)?a:a(i),i=r.size(o)(i,a),l&&i.forEach(l),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(je),n}});const t5="Feature",__="FeatureCollection",bde="MultiPoint";function w_(e){I.call(this,null,e)}w_.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};H(w_,I,{transform(e,t){var n=this._features,r=this._points,i=e.fields,a=i&&i[0],o=i&&i[1],s=e.geojson||!i&&bn,l=t.ADD,c;c=e.modified()||t.changed(t.REM)||t.modified(hn(s))||a&&t.modified(hn(a))||o&&t.modified(hn(o)),(!this.value||c)&&(l=t.SOURCE,this._features=n=[],this._points=r=[]),s&&t.visit(l,u=>n.push(s(u))),a&&o&&(t.visit(l,u=>{var f=a(u),d=o(u);f!=null&&d!=null&&(f=+f)===f&&(d=+d)===d&&r.push([f,d])}),n=n.concat({type:t5,geometry:{type:bde,coordinates:r}})),this.value={type:__,features:n}}});function T_(e){I.call(this,null,e)}T_.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};H(T_,I,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||bn,a=e.as||"path",o=n.SOURCE;!r||e.modified()?(this.value=r=mZ(e.projection),n.materialize().reflow()):o=i===bn||t.modified(i.fields)?n.ADD_MOD:n.ADD;const s=vde(r,e.pointRadius);return n.visit(o,l=>l[a]=r(i(l))),r.pointRadius(s),n.modifies(a)}});function vde(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function A_(e){I.call(this,null,e)}A_.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};H(A_,I,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],a=e.as||["x","y"],o=a[0],s=a[1],l;function c(u){const f=n([r(u),i(u)]);f?(u[o]=f[0],u[s]=f[1]):(u[o]=void 0,u[s]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,c):(l=t.modified(r.fields)||t.modified(i.fields),t.visit(l?t.ADD_MOD:t.ADD,c)),t.modifies(a)}});function S_(e){I.call(this,null,e)}S_.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};H(S_,I,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",a=n.ADD;return(!r||e.modified())&&(this.value=r=xde(mZ(e.projection),e.field||Jn("datum"),e.pointRadius),n.materialize().reflow(),a=n.SOURCE),n.visit(a,o=>o[i]=r),n.modifies(i)}});function xde(e,t,n){const r=n==null?i=>e(t(i)):i=>{var a=e.pointRadius(),o=e.pointRadius(n)(t(i));return e.pointRadius(a),o};return r.context=i=>(e.context(i),r),r}function E_(e){I.call(this,[],e),this.generator=Q7()}E_.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};H(E_,I,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const a in e)_e(r[a])&&r[a](e[a]);return i=r(),n.length?t.mod.push(C$(n[0],i)):t.add.push(je(i)),n[0]=i,t}});function k_(e){I.call(this,null,e)}k_.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};H(k_,I,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||bn,a=wde(e.opacity,e),o=_de(e.color,e),s=e.as||"image",l={$x:0,$y:0,$value:0,$max:r?Dn(n.map(c=>Dn(i(c).values))):0};return n.forEach(c=>{const u=i(c),f=xe({},c,l);r||(f.$max=Dn(u.values||[])),c[s]=Tde(u,f,o.dep?o:vn(o(f)),a.dep?a:vn(a(f)))}),t.reflow(!0).modifies(s)}});function _de(e,t){let n;return _e(e)?(n=r=>Qi(e(r,t)),n.dep=xZ(e)):n=vn(Qi(e||"#888")),n}function wde(e,t){let n;return _e(e)?(n=r=>e(r,t),n.dep=xZ(e)):e?n=vn(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function xZ(e){if(!_e(e))return!1;const t=vi(hn(e));return t.$x||t.$y||t.$value||t.$max}function Tde(e,t,n,r){const i=e.width,a=e.height,o=e.x1||0,s=e.y1||0,l=e.x2||i,c=e.y2||a,u=e.values,f=u?p=>u[p]:So,d=Io(l-o,c-s),h=d.getContext("2d"),m=h.getImageData(0,0,l-o,c-s),g=m.data;for(let p=s,y=0;p<c;++p){t.$y=p-s;for(let b=o,v=p*i;b<l;++b,y+=4){t.$x=b-o,t.$value=f(b+v);const x=n(t);g[y+0]=x.r,g[y+1]=x.g,g[y+2]=x.b,g[y+3]=~~(255*r(t))}}return h.putImageData(m,0,0),d}function _Z(e){I.call(this,null,e),this.modified(!0)}H(_Z,I,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=Sde(e.type),e5.forEach(r=>{e[r]!=null&&jS(n,r,e[r])})):e5.forEach(r=>{e.modified(r)&&jS(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&Ade(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function Ade(e,t){const n=Ede(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function Sde(e){const t=y_((e||"mercator").toLowerCase());return t||P("Unrecognized projection type: "+e),t()}function jS(e,t,n){_e(e[t])&&e[t](n)}function Ede(e){return e=Q(e),e.length===1?e[0]:{type:__,features:e.reduce((t,n)=>t.concat(kde(n)),[])}}function kde(e){return e.type===__?e.features:Q(e).filter(t=>t!=null).map(t=>t.type===t5?t:{type:t5,geometry:t})}const Mde=Object.freeze(Object.defineProperty({__proto__:null,contour:x_,geojson:w_,geopath:T_,geopoint:A_,geoshape:S_,graticule:E_,heatmap:k_,isocontour:b_,kde2d:v_,projection:_Z},Symbol.toStringTag,{value:"Module"})),zS={center:iC,collide:oC,nbody:cC,link:sC,x:uC,y:fC},vf="forces",n5=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],Ode=["static","iterations"],wZ=["x","y","vx","vy"];function M_(e){I.call(this,null,e)}M_.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:wZ}]};H(M_,I,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(n5),a=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&TZ(n,e,0,t)):(this.value=n=Dde(t.source,e),n.on("tick",Cde(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(Ode)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/a)),e.static)for(n.stop();--a>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let s=this._argops,l=0,c=s.length,u;l<c;++l)if(u=s[l],!(u.name!==vf||u.op._argval.force!=="link")){for(var r=u.op._argops,i=0,a=r.length,o;i<a;++i)if(r[i].name==="links"&&(o=r[i].op.source)){n.pulse(o,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(wZ)}});function Cde(e,t){return()=>e.touch(t).run()}function Dde(e,t){const n=lC(e),r=n.stop,i=n.restart;let a=!1;return n.stopped=()=>a,n.restart=()=>(a=!1,i()),n.stop=()=>(a=!0,r()),TZ(n,t,!0).on("end",()=>a=!0)}function TZ(e,t,n,r){var i=Q(t.forces),a,o,s,l;for(a=0,o=n5.length;a<o;++a)s=n5[a],s!==vf&&t.modified(s)&&e[s](t[s]);for(a=0,o=i.length;a<o;++a)l=vf+a,s=n||t.modified(vf,a)?Fde(i[a]):r&&Lde(i[a],r)?e.force(l):null,s&&e.force(l,s);for(o=e.numForces||0;a<o;++a)e.force(vf+a,null);return e.numForces=i.length,e}function Lde(e,t){var n,r;for(n in e)if(_e(r=e[n])&&t.modified(hn(r)))return 1;return 0}function Fde(e){var t,n;oe(zS,e.force)||P("Unrecognized force: "+e.force),t=zS[e.force]();for(n in e)_e(t[n])&&Bde(t[n],e[n],e);return t}function Bde(e,t,n){e(_e(t)?r=>t(r,n):t)}const $de=Object.freeze(Object.defineProperty({__proto__:null,force:M_},Symbol.toStringTag,{value:"Module"}));function r5(e,t,n){const r={};return e.each(i=>{const a=i.data;n(a)&&(r[t(a)]=i)}),e.lookup=r,e}function O_(e){I.call(this,null,e)}O_.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const Nde=e=>e.values;H(O_,I,{transform(e,t){t.source||P("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),a=this.value;return(!a||r||t.changed())&&(a&&a.each(o=>{o.children&&Kg(o.data)&&i.rem.push(o.data)}),this.value=a=Sg({values:Q(e.keys).reduce((o,s)=>(o.key(s),o),Ide()).entries(i.source)},Nde),n&&a.each(o=>{o.children&&(o=je(o.data),i.add.push(o),i.source.push(o))}),r5(a,le,le)),i.source.root=a,i}});function Ide(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,a){if(a>=e.length)return i;const o=i.length,s=e[a++],l={},c={};let u=-1,f,d,h;for(;++u<o;)f=s(d=i[u])+"",(h=l[f])?h.push(d):l[f]=[d];for(f in l)c[f]=n(l[f],a);return c}function r(i,a){if(++a>e.length)return i;const o=[];for(const s in i)o.push({key:s,values:r(i[s],a)});return o}return t}function io(e){I.call(this,null,e)}const Zde=(e,t)=>e.parent===t.parent?1:2;H(io,I,{transform(e,t){(!t.source||!t.source.root)&&P(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,a=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(V0(e.sort,o=>o.data)),Rde(n,this.params,e),n.separation&&n.separation(e.separation!==!1?Zde:eu);try{this.value=n(i)}catch(o){P(o)}return i.each(o=>Pde(o,r,a)),t.reflow(e.modified()).modifies(a).modifies("leaf")}});function Rde(e,t,n){for(let r,i=0,a=t.length;i<a;++i)r=t[i],r in n&&e[r](n[r])}function Pde(e,t,n){const r=e.data,i=t.length-1;for(let a=0;a<i;++a)r[n[a]]=e[t[a]];r[n[i]]=e.children?e.children.length:0}const i5=["x","y","r","depth","children"];function C_(e){io.call(this,e)}C_.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:i5.length,default:i5}]};H(C_,io,{layout:_D,params:["radius","size","padding"],fields:i5});const a5=["x0","y0","x1","y1","depth","children"];function D_(e){io.call(this,e)}D_.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:a5.length,default:a5}]};H(D_,io,{layout:TD,params:["size","round","padding"],fields:a5});function L_(e){I.call(this,null,e)}L_.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};H(L_,I,{transform(e,t){t.source||P("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),a=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),a&&(n=i.source.length?r5(c3().id(e.key).parentId(e.parentKey)(i.source),e.key,Br):r5(c3()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const GS={tidy:AD,cluster:mD},o5=["x","y","depth","children"];function F_(e){io.call(this,e)}F_.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:o5.length,default:o5}]};H(F_,io,{layout(e){const t=e||"tidy";if(oe(GS,t))return GS[t]();P("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:o5});function B_(e){I.call(this,[],e)}B_.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};H(B_,I,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),a={};return r||P("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,o=>a[le(o)]=1),r.each(o=>{const s=o.data,l=o.parent&&o.parent.data;l&&a[le(s)]&&a[le(l)]&&i.add.push(je({source:l,target:s}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,o=>a[le(o)]=1),n.forEach(o=>{(a[le(o.source)]||a[le(o.target)])&&i.mod.push(o)})),i}});const US={binary:MD,dice:Xc,slice:Wd,slicedice:OD,squarify:y8,resquarify:CD},s5=["x0","y0","x1","y1","depth","children"];function $_(e){io.call(this,e)}$_.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:s5.length,default:s5}]};H($_,io,{layout(){const e=kD();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{oe(US,t)?e.tile(US[t]):P("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:s5});const jde=Object.freeze(Object.defineProperty({__proto__:null,nest:O_,pack:C_,partition:D_,stratify:L_,tree:F_,treelinks:B_,treemap:$_},Symbol.toStringTag,{value:"Module"})),Fb=4278190080;function zde(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function Gde(e,t,n,r,i){const a=e.width,o=e.height,s=r||i,l=Io(a,o).getContext("2d"),c=Io(a,o).getContext("2d"),u=s&&Io(a,o).getContext("2d");n.forEach(S=>lm(l,S,!1)),lm(c,t,!1),s&&lm(u,t,!0);const f=Bb(l,a,o),d=Bb(c,a,o),h=s&&Bb(u,a,o),m=e.bitmap(),g=s&&e.bitmap();let p,y,b,v,x,_,T,w;for(y=0;y<o;++y)for(p=0;p<a;++p)x=y*a+p,_=f[x]&Fb,w=d[x]&Fb,T=s&&h[x]&Fb,(_||T||w)&&(b=e(p),v=e(y),!i&&(_||w)&&m.set(b,v),s&&(_||T)&&g.set(b,v));return[m,g]}function Bb(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function lm(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(a=>lm(e,a.items,n))}):gr[r].draw(e,{items:n?t.map(Ude):t})}function Ude(e){const t=Qg(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const Oa=5,Tn=31,pd=32,wo=new Uint32Array(pd+1),Xr=new Uint32Array(pd+1);Xr[0]=0;wo[0]=~Xr[0];for(let e=1;e<=pd;++e)Xr[e]=Xr[e-1]<<1|1,wo[e]=~Xr[e];function Wde(e,t){const n=new Uint32Array(~~((e*t+pd)/pd));function r(a,o){n[a]|=o}function i(a,o){n[a]&=o}return{array:n,get:(a,o)=>{const s=o*e+a;return n[s>>>Oa]&1<<(s&Tn)},set:(a,o)=>{const s=o*e+a;r(s>>>Oa,1<<(s&Tn))},clear:(a,o)=>{const s=o*e+a;i(s>>>Oa,~(1<<(s&Tn)))},getRange:(a,o,s,l)=>{let c=l,u,f,d,h;for(;c>=o;--c)if(u=c*e+a,f=c*e+s,d=u>>>Oa,h=f>>>Oa,d===h){if(n[d]&wo[u&Tn]&Xr[(f&Tn)+1])return!0}else{if(n[d]&wo[u&Tn]||n[h]&Xr[(f&Tn)+1])return!0;for(let m=d+1;m<h;++m)if(n[m])return!0}return!1},setRange:(a,o,s,l)=>{let c,u,f,d,h;for(;o<=l;++o)if(c=o*e+a,u=o*e+s,f=c>>>Oa,d=u>>>Oa,f===d)r(f,wo[c&Tn]&Xr[(u&Tn)+1]);else for(r(f,wo[c&Tn]),r(d,Xr[(u&Tn)+1]),h=f+1;h<d;++h)r(h,4294967295)},clearRange:(a,o,s,l)=>{let c,u,f,d,h;for(;o<=l;++o)if(c=o*e+a,u=o*e+s,f=c>>>Oa,d=u>>>Oa,f===d)i(f,Xr[c&Tn]|wo[(u&Tn)+1]);else for(i(f,Xr[c&Tn]),i(d,wo[(u&Tn)+1]),h=f+1;h<d;++h)i(h,0)},outOfBounds:(a,o,s,l)=>a<0||o<0||l>=t||s>=e}}function Hde(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),a=~~((t+2*n+r)/r),o=s=>~~((s+n)/r);return o.invert=s=>s*r-n,o.bitmap=()=>Wde(i,a),o.ratio=r,o.padding=n,o.width=e,o.height=t,o}function Yde(e,t,n,r){const i=e.width,a=e.height;return function(o){const s=o.datum.datum.items[r].items,l=s.length,c=o.datum.fontSize,u=fi.width(o.datum,o.datum.text);let f=0,d,h,m,g,p,y,b;for(let v=0;v<l;++v)d=s[v].x,m=s[v].y,h=s[v].x2===void 0?d:s[v].x2,g=s[v].y2===void 0?m:s[v].y2,p=(d+h)/2,y=(m+g)/2,b=Math.abs(h-d+g-m),b>=f&&(f=b,o.x=p,o.y=y);return p=u/2,y=c/2,d=o.x-p,h=o.x+p,m=o.y-y,g=o.y+y,o.align="center",d<0&&h<=i?o.align="left":0<=d&&i<h&&(o.align="right"),o.baseline="middle",m<0&&g<=a?o.baseline="top":0<=m&&a<g&&(o.baseline="bottom"),!0}}function Op(e,t,n,r,i,a){let o=n/2;return e-o<0||e+o>i||t-(o=r/2)<0||t+o>a}function Fo(e,t,n,r,i,a,o,s){const l=i*a/(r*2),c=e(t-l),u=e(t+l),f=e(n-(a=a/2)),d=e(n+a);return o.outOfBounds(c,f,u,d)||o.getRange(c,f,u,d)||s&&s.getRange(c,f,u,d)}function qde(e,t,n,r){const i=e.width,a=e.height,o=t[0],s=t[1];function l(c,u,f,d,h){const m=e.invert(c),g=e.invert(u);let p=f,y=a,b;if(!Op(m,g,d,h,i,a)&&!Fo(e,m,g,h,d,p,o,s)&&!Fo(e,m,g,h,d,h,o,null)){for(;y-p>=1;)b=(p+y)/2,Fo(e,m,g,h,d,b,o,s)?y=b:p=b;if(p>f)return[m,g,p,!0]}}return function(c){const u=c.datum.datum.items[r].items,f=u.length,d=c.datum.fontSize,h=fi.width(c.datum,c.datum.text);let m=n?d:0,g=!1,p=!1,y=0,b,v,x,_,T,w,S,C,k,A,L,D,E,O,M,F,$;for(let N=0;N<f;++N){for(b=u[N].x,x=u[N].y,v=u[N].x2===void 0?b:u[N].x2,_=u[N].y2===void 0?x:u[N].y2,b>v&&($=b,b=v,v=$),x>_&&($=x,x=_,_=$),k=e(b),L=e(v),A=~~((k+L)/2),D=e(x),O=e(_),E=~~((D+O)/2),S=A;S>=k;--S)for(C=E;C>=D;--C)F=l(S,C,m,h,d),F&&([c.x,c.y,m,g]=F);for(S=A;S<=L;++S)for(C=E;C<=O;++C)F=l(S,C,m,h,d),F&&([c.x,c.y,m,g]=F);!g&&!n&&(M=Math.abs(v-b+_-x),T=(b+v)/2,w=(x+_)/2,M>=y&&!Op(T,w,h,d,i,a)&&!Fo(e,T,w,d,h,d,o,null)&&(y=M,c.x=T,c.y=w,p=!0))}return g||p?(T=h/2,w=d/2,o.setRange(e(c.x-T),e(c.y-w),e(c.x+T),e(c.y+w)),c.align="center",c.baseline="middle",!0):!1}}const Vde=[-1,-1,1,1],Xde=[-1,1,-1,1];function Jde(e,t,n,r){const i=e.width,a=e.height,o=t[0],s=t[1],l=e.bitmap();return function(c){const u=c.datum.datum.items[r].items,f=u.length,d=c.datum.fontSize,h=fi.width(c.datum,c.datum.text),m=[];let g=n?d:0,p=!1,y=!1,b=0,v,x,_,T,w,S,C,k,A,L,D,E;for(let O=0;O<f;++O){for(v=u[O].x,_=u[O].y,x=u[O].x2===void 0?v:u[O].x2,T=u[O].y2===void 0?_:u[O].y2,m.push([e((v+x)/2),e((_+T)/2)]);m.length;)if([C,k]=m.pop(),!(o.get(C,k)||s.get(C,k)||l.get(C,k))){l.set(C,k);for(let M=0;M<4;++M)w=C+Vde[M],S=k+Xde[M],l.outOfBounds(w,S,w,S)||m.push([w,S]);if(w=e.invert(C),S=e.invert(k),A=g,L=a,!Op(w,S,h,d,i,a)&&!Fo(e,w,S,d,h,A,o,s)&&!Fo(e,w,S,d,h,d,o,null)){for(;L-A>=1;)D=(A+L)/2,Fo(e,w,S,d,h,D,o,s)?L=D:A=D;A>g&&(c.x=w,c.y=S,g=A,p=!0)}}!p&&!n&&(E=Math.abs(x-v+T-_),w=(v+x)/2,S=(_+T)/2,E>=b&&!Op(w,S,h,d,i,a)&&!Fo(e,w,S,d,h,d,o,null)&&(b=E,c.x=w,c.y=S,y=!0))}return p||y?(w=h/2,S=d/2,o.setRange(e(c.x-w),e(c.y-S),e(c.x+w),e(c.y+S)),c.align="center",c.baseline="middle",!0):!1}}const Kde=["right","center","left"],Qde=["bottom","middle","top"];function ehe(e,t,n,r){const i=e.width,a=e.height,o=t[0],s=t[1],l=r.length;return function(c){var u;const f=c.boundary,d=c.datum.fontSize;if(f[2]<0||f[5]<0||f[0]>i||f[3]>a)return!1;let h=(u=c.textWidth)!==null&&u!==void 0?u:0,m,g,p,y,b,v,x,_,T,w,S,C,k,A,L;for(let D=0;D<l;++D){if(m=(n[D]&3)-1,g=(n[D]>>>2&3)-1,p=m===0&&g===0||r[D]<0,y=m&&g?Math.SQRT1_2:1,b=r[D]<0?-1:1,v=f[1+m]+r[D]*m*y,S=f[4+g]+b*d*g/2+r[D]*g*y,_=S-d/2,T=S+d/2,C=e(v),A=e(_),L=e(T),!h)if(WS(C,C,A,L,o,s,v,v,_,T,f,p))h=fi.width(c.datum,c.datum.text);else continue;if(w=v+b*h*m/2,v=w-h/2,x=w+h/2,C=e(v),k=e(x),WS(C,k,A,L,o,s,v,x,_,T,f,p))return c.x=m?m*b<0?x:v:w,c.y=g?g*b<0?T:_:S,c.align=Kde[m*b+1],c.baseline=Qde[g*b+1],o.setRange(C,A,k,L),!0}return!1}}function WS(e,t,n,r,i,a,o,s,l,c,u,f){return!(i.outOfBounds(e,n,t,r)||(f&&a||i).getRange(e,n,t,r))}const $b=0,Nb=4,Ib=8,Zb=0,Rb=1,Pb=2,the={"top-left":$b+Zb,top:$b+Rb,"top-right":$b+Pb,left:Nb+Zb,middle:Nb+Rb,right:Nb+Pb,"bottom-left":Ib+Zb,bottom:Ib+Rb,"bottom-right":Ib+Pb},nhe={naive:Yde,"reduced-search":qde,floodfill:Jde};function rhe(e,t,n,r,i,a,o,s,l,c,u){if(!e.length)return e;const f=Math.max(r.length,i.length),d=ihe(r,f),h=ahe(i,f),m=ohe(e[0].datum),g=m==="group"&&e[0].datum.items[l].marktype,p=g==="area",y=she(m,g,s,l),b=c===null||c===1/0,v=p&&u==="naive";let x=-1,_=-1;const T=e.map(k=>{const A=b?fi.width(k,k.text):void 0;return x=Math.max(x,A),_=Math.max(_,k.fontSize),{datum:k,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:y(k),textWidth:A}});c=c===null||c===1/0?Math.max(x,_)+Math.max(...r):c;const w=Hde(t[0],t[1],c);let S;if(!v){n&&T.sort((L,D)=>n(L.datum,D.datum));let k=!1;for(let L=0;L<h.length&&!k;++L)k=h[L]===5||d[L]<0;const A=(m&&o||p)&&e.map(L=>L.datum);S=a.length||A?Gde(w,A||[],a,k,p):zde(w,o&&T)}const C=p?nhe[u](w,S,o,l):ehe(w,S,h,d);return T.forEach(k=>k.opacity=+C(k)),T}function ihe(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function ahe(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=the[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function ohe(e){return e&&e.mark&&e.mark.marktype}function she(e,t,n,r){const i=a=>[a.x,a.x,a.x,a.y,a.y,a.y];return e?e==="line"||e==="area"?a=>i(a.datum):t==="line"?a=>{const o=a.datum.items[r].items;return i(o.length?o[n==="start"?0:o.length-1]:{x:NaN,y:NaN})}:a=>{const o=a.datum.bounds;return[o.x1,(o.x1+o.x2)/2,o.x2,o.y1,(o.y1+o.y2)/2,o.y2]}:i}const l5=["x","y","opacity","align","baseline"],AZ=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function N_(e){I.call(this,null,e)}N_.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:AZ},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:l5.length,default:l5}]};H(N_,I,{transform(e,t){function n(a){const o=e[a];return _e(o)&&t.modified(o.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&P("Size parameter should be specified as a [width, height] array.");const i=e.as||l5;return rhe(t.materialize(t.SOURCE).source||[],e.size,e.sort,Q(e.offset==null?1:e.offset),Q(e.anchor||AZ),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(a=>{const o=a.datum;o[i[0]]=a.x,o[i[1]]=a.y,o[i[2]]=a.opacity,o[i[3]]=a.align,o[i[4]]=a.baseline}),t.reflow(r).modifies(i)}});const lhe=Object.freeze(Object.defineProperty({__proto__:null,label:N_},Symbol.toStringTag,{value:"Module"}));function SZ(e,t){var n=[],r=function(u){return u(s)},i,a,o,s,l,c;if(t==null)n.push(e);else for(i={},a=0,o=e.length;a<o;++a)s=e[a],l=t.map(r),c=i[l],c||(i[l]=c=[],c.dims=l,n.push(c)),c.push(s);return n}function I_(e){I.call(this,null,e)}I_.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};H(I_,I,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=SZ(r,e.groupby),a=(e.groupby||[]).map(vt),o=a.length,s=e.as||[vt(e.x),vt(e.y)],l=[];i.forEach(c=>{q$(c,e.x,e.y,e.bandwidth||.3).forEach(u=>{const f={};for(let d=0;d<o;++d)f[a[d]]=c.dims[d];f[s[0]]=u[0],f[s[1]]=u[1],l.push(je(f))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});const c5={linear:Y4,log:U$,exp:W$,pow:H$,quad:q4,poly:Y$},che=(e,t)=>e==="poly"?t:e==="quad"?2:1;function Z_(e){I.call(this,null,e)}Z_.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(c5)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};H(Z_,I,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=SZ(r,e.groupby),a=(e.groupby||[]).map(vt),o=e.method||"linear",s=e.order||3,l=che(o,s),c=e.as||[vt(e.x),vt(e.y)],u=c5[o],f=[];let d=e.extent;oe(c5,o)||P("Invalid regression method: "+o),d!=null&&o==="log"&&d[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),d=null),i.forEach(h=>{if(h.length<=l){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const g=u(h,e.x,e.y,s);if(e.params){f.push(je({keys:h.dims,coef:g.coef,rSquared:g.rSquared}));return}const p=d||ra(h,e.x),y=b=>{const v={};for(let x=0;x<a.length;++x)v[a[x]]=h.dims[x];v[c[0]]=b[0],v[c[1]]=b[1],f.push(je(v))};o==="linear"?p.forEach(b=>y([b,g.predict(b)])):o2(g.predict,p,25,200).forEach(y)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=f}return n}});const uhe=Object.freeze(Object.defineProperty({__proto__:null,loess:I_,regression:Z_},Symbol.toStringTag,{value:"Module"}));function R_(e){I.call(this,null,e)}R_.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const fhe=[-1e5,-1e5,1e5,1e5];H(R_,I,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:fhe;const a=this.value=bg.from(r,e.x,e.y).voronoi(i);for(let o=0,s=r.length;o<s;++o){const l=a.cellPolygon(o);r[o][n]=l?dhe(l):null}return t.reflow(e.modified()).modifies(n)}});function dhe(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}const hhe=Object.freeze(Object.defineProperty({__proto__:null,voronoi:R_},Symbol.toStringTag,{value:"Module"}));var jb=Math.PI/180,xf=1<<11>>5,cm=1<<11;function mhe(){var e=[256,256],t,n,r,i,a,o,s,l=EZ,c=[],u=Math.random,f={};f.layout=function(){for(var m=d(Io()),g=xhe((e[0]>>5)*e[1]),p=null,y=c.length,b=-1,v=[],x=c.map(T=>({text:t(T),font:n(T),style:i(T),weight:a(T),rotate:o(T),size:~~(r(T)+1e-14),padding:s(T),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:T})).sort((T,w)=>w.size-T.size);++b<y;){var _=x[b];_.x=e[0]*(u()+.5)>>1,_.y=e[1]*(u()+.5)>>1,phe(m,_,x,b),_.hasText&&h(g,_,p)&&(v.push(_),p?yhe(p,_):p=[{x:_.x+_.x0,y:_.y+_.y0},{x:_.x+_.x1,y:_.y+_.y1}],_.x-=e[0]>>1,_.y-=e[1]>>1)}return v};function d(m){m.width=m.height=1;var g=Math.sqrt(m.getContext("2d").getImageData(0,0,1,1).data.length>>2);m.width=(xf<<5)/g,m.height=cm/g;var p=m.getContext("2d");return p.fillStyle=p.strokeStyle="red",p.textAlign="center",{context:p,ratio:g}}function h(m,g,p){for(var y=g.x,b=g.y,v=Math.sqrt(e[0]*e[0]+e[1]*e[1]),x=l(e),_=u()<.5?1:-1,T=-_,w,S,C;(w=x(T+=_))&&(S=~~w[0],C=~~w[1],!(Math.min(Math.abs(S),Math.abs(C))>=v));)if(g.x=y+S,g.y=b+C,!(g.x+g.x0<0||g.y+g.y0<0||g.x+g.x1>e[0]||g.y+g.y1>e[1])&&(!p||!ghe(g,m,e[0]))&&(!p||bhe(g,p))){for(var k=g.sprite,A=g.width>>5,L=e[0]>>5,D=g.x-(A<<4),E=D&127,O=32-E,M=g.y1-g.y0,F=(g.y+g.y0)*L+(D>>5),$,N=0;N<M;N++){$=0;for(var R=0;R<=A;R++)m[F+R]|=$<<O|(R<A?($=k[N*A+R])>>>E:0);F+=L}return g.sprite=null,!0}return!1}return f.words=function(m){return arguments.length?(c=m,f):c},f.size=function(m){return arguments.length?(e=[+m[0],+m[1]],f):e},f.font=function(m){return arguments.length?(n=Cs(m),f):n},f.fontStyle=function(m){return arguments.length?(i=Cs(m),f):i},f.fontWeight=function(m){return arguments.length?(a=Cs(m),f):a},f.rotate=function(m){return arguments.length?(o=Cs(m),f):o},f.text=function(m){return arguments.length?(t=Cs(m),f):t},f.spiral=function(m){return arguments.length?(l=_he[m]||m,f):l},f.fontSize=function(m){return arguments.length?(r=Cs(m),f):r},f.padding=function(m){return arguments.length?(s=Cs(m),f):s},f.random=function(m){return arguments.length?(u=m,f):u},f}function phe(e,t,n,r){if(!t.sprite){var i=e.context,a=e.ratio;i.clearRect(0,0,(xf<<5)/a,cm/a);var o=0,s=0,l=0,c=n.length,u,f,d,h,m;for(--r;++r<c;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/a)+"px "+t.font,u=i.measureText(t.text+"m").width*a,d=t.size<<1,t.rotate){var g=Math.sin(t.rotate*jb),p=Math.cos(t.rotate*jb),y=u*p,b=u*g,v=d*p,x=d*g;u=Math.max(Math.abs(y+x),Math.abs(y-x))+31>>5<<5,d=~~Math.max(Math.abs(b+v),Math.abs(b-v))}else u=u+31>>5<<5;if(d>l&&(l=d),o+u>=xf<<5&&(o=0,s+=l,l=0),s+d>=cm)break;i.translate((o+(u>>1))/a,(s+(d>>1))/a),t.rotate&&i.rotate(t.rotate*jb),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=u,t.height=d,t.xoff=o,t.yoff=s,t.x1=u>>1,t.y1=d>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,o+=u}for(var _=i.getImageData(0,0,(xf<<5)/a,cm/a).data,T=[];--r>=0;)if(t=n[r],!!t.hasText){for(u=t.width,f=u>>5,d=t.y1-t.y0,h=0;h<d*f;h++)T[h]=0;if(o=t.xoff,o==null)return;s=t.yoff;var w=0,S=-1;for(m=0;m<d;m++){for(h=0;h<u;h++){var C=f*m+(h>>5),k=_[(s+m)*(xf<<5)+(o+h)<<2]?1<<31-h%32:0;T[C]|=k,w|=k}w?S=m:(t.y0++,d--,m--,s++)}t.y1=t.y0+S,t.sprite=T.slice(0,(t.y1-t.y0)*f)}}}function ghe(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,a=e.x-(i<<4),o=a&127,s=32-o,l=e.y1-e.y0,c=(e.y+e.y0)*n+(a>>5),u,f=0;f<l;f++){u=0;for(var d=0;d<=i;d++)if((u<<s|(d<i?(u=r[f*i+d])>>>o:0))&t[c+d])return!0;c+=n}return!1}function yhe(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function bhe(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function EZ(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function vhe(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(a){var o=a<0?-1:1;switch(Math.sqrt(1+4*o*a)-o&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function xhe(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function Cs(e){return typeof e=="function"?e:function(){return e}}var _he={archimedean:EZ,rectangular:vhe};const kZ=["x","y","font","fontSize","fontStyle","fontWeight","angle"],whe=["text","font","rotate","fontSize","fontStyle","fontWeight"];function P_(e){I.call(this,mhe(),e)}P_.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:kZ}]};H(P_,I,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&P("Wordcloud size dimensions must be non-zero.");function n(m){const g=e[m];return _e(g)&&t.modified(g.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||whe.some(n)))return;const i=t.materialize(t.SOURCE).source,a=this.value,o=e.as||kZ;let s=e.fontSize||14,l;if(_e(s)?l=e.fontSizeRange:s=vn(s),l){const m=s,g=Ze("sqrt")().domain(ra(i,m)).range(l);s=p=>g(m(p))}i.forEach(m=>{m[o[0]]=NaN,m[o[1]]=NaN,m[o[3]]=0});const c=a.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(s).random(Nr).layout(),u=a.size(),f=u[0]>>1,d=u[1]>>1,h=c.length;for(let m=0,g,p;m<h;++m)g=c[m],p=g.datum,p[o[0]]=g.x+f,p[o[1]]=g.y+d,p[o[2]]=g.font,p[o[3]]=g.size,p[o[4]]=g.style,p[o[5]]=g.weight,p[o[6]]=g.rotate;return t.reflow(r).modifies(o)}});const The=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:P_},Symbol.toStringTag,{value:"Module"})),Ahe=e=>new Uint8Array(e),She=e=>new Uint16Array(e),Bf=e=>new Uint32Array(e);function Ehe(){let e=8,t=[],n=Bf(0),r=v1(0,e),i=v1(0,e);return{data:()=>t,seen:()=>n=khe(n,t.length),add(a){for(let o=0,s=t.length,l=a.length,c;o<l;++o)c=a[o],c._index=s++,t.push(c)},remove(a,o){const s=t.length,l=Array(s-a),c=t;let u,f,d;for(f=0;!o[f]&&f<s;++f)l[f]=t[f],c[f]=f;for(d=f;f<s;++f)u=t[f],o[f]?c[f]=-1:(c[f]=d,r[d]=r[f],i[d]=i[f],l[d]=u,u._index=d++),r[f]=0;return t=l,c},size:()=>t.length,curr:()=>r,prev:()=>i,reset:a=>i[a]=r[a],all:()=>e<257?255:e<65537?65535:4294967295,set(a,o){r[a]|=o},clear(a,o){r[a]&=~o},resize(a,o){const s=r.length;(a>s||o>e)&&(e=Math.max(o,e),r=v1(a,e,r),i=v1(a,e))}}}function khe(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function v1(e,t,n){const r=(t<257?Ahe:t<65537?She:Bf)(e);return n&&r.set(n),r}function HS(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,a){const o=this,s=o.bisect(o.range,i.value),l=i.index,c=s[0],u=s[1],f=l.length;let d;for(d=0;d<c;++d)a[l[d]]|=r;for(d=u;d<f;++d)a[l[d]]|=r;return o}}}function YS(){let e=Bf(0),t=[],n=0;function r(s,l,c){if(!l.length)return[];const u=n,f=l.length,d=Bf(f);let h=Array(f),m,g,p;for(p=0;p<f;++p)h[p]=s(l[p]),d[p]=p;if(h=Mhe(h,d),u)m=t,g=e,t=Array(u+f),e=Bf(u+f),Ohe(c,m,g,u,h,d,f,t,e);else{if(c>0)for(p=0;p<f;++p)d[p]+=c;t=h,e=d}return n=u+f,{index:d,value:h}}function i(s,l){const c=n;let u,f,d;for(f=0;!l[e[f]]&&f<c;++f);for(d=f;f<c;++f)l[u=e[f]]||(e[d]=u,t[d]=t[f],++d);n=c-s}function a(s){for(let l=0,c=n;l<c;++l)e[l]=s[e[l]]}function o(s,l){let c;return l?c=l.length:(l=t,c=n),[OM(l,s[0],0,c),jf(l,s[1],0,c)]}return{insert:r,remove:i,bisect:o,reindex:a,index:()=>e,size:()=>n}}function Mhe(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],a=e[r];return i<a?-1:i>a?1:0}),c7(e,t)}function Ohe(e,t,n,r,i,a,o,s,l){let c=0,u=0,f;for(f=0;c<r&&u<o;++f)t[c]<i[u]?(s[f]=t[c],l[f]=n[c++]):(s[f]=i[u],l[f]=a[u++]+e);for(;c<r;++c,++f)s[f]=t[c],l[f]=n[c];for(;u<o;++u,++f)s[f]=i[u],l[f]=a[u]+e}function j_(e){I.call(this,Ehe(),e),this._indices=null,this._dims=null}j_.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};H(j_,I,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},a=this._dims=[],o=r.length;let s=0,l,c;for(;s<o;++s)l=n[s].fname,c=i[l]||(i[l]=YS()),a.push(HS(c,s,r[s]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,a=this._indices,o=this._dims,s=this.value,l=s.curr(),c=s.prev(),u=s.all(),f=n.rem=n.add,d=n.mod,h=i.length,m={};let g,p,y,b,v,x,_,T,w;if(c.set(l),t.rem.length&&(v=this.remove(e,t,n)),t.add.length&&s.add(t.add),t.mod.length)for(x={},b=t.mod,_=0,T=b.length;_<T;++_)x[b[_]._index]=1;for(_=0;_<h;++_)w=r[_],(!o[_]||e.modified("fields",_)||t.modified(w.fields))&&(y=w.fname,(g=m[y])||(a[y]=p=YS(),m[y]=g=p.insert(w,t.source,0)),o[_]=HS(p,_,i[_]).onAdd(g,l));for(_=0,T=s.data().length;_<T;++_)v[_]||(c[_]!==l[_]?f.push(_):x[_]&&l[_]!==u&&d.push(_));return s.mask=(1<<h)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,a=this._dims,o=this._indices,s=e.fields,l={},c=n.add,u=i.size()+r.length,f=a.length;let d=i.size(),h,m,g;i.resize(u,f),i.add(r);const p=i.curr(),y=i.prev(),b=i.all();for(h=0;h<f;++h)m=s[h].fname,g=l[m]||(l[m]=o[m].insert(s[h],r,d)),a[h].onAdd(g,p);for(;d<u;++d)y[d]=b,p[d]!==b&&c.push(d)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),a=r.all(),o=e.mod;let s,l,c;for(s=0,l=o.length;s<l;++s)c=o[s]._index,i[c]!==a&&n.push(c)},remove(e,t,n){const r=this._indices,i=this.value,a=i.curr(),o=i.prev(),s=i.all(),l={},c=n.rem,u=t.rem;let f,d,h,m;for(f=0,d=u.length;f<d;++f)h=u[f]._index,l[h]=1,o[h]=m=a[h],a[h]=s,m!==s&&c.push(h);for(h in r)r[h].remove(d,l);return this.reindex(t,d,l),l},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const a=i.remove(t,n);for(const o in r)r[o].reindex(a)})},update(e,t,n){const r=this._dims,i=e.query,a=t.stamp,o=r.length;let s=0,l,c;for(n.filters=0,c=0;c<o;++c)e.modified("query",c)&&(l=c,++s);if(s===1)s=r[l].one,this.incrementOne(r[l],i[l],n.add,n.rem);else for(c=0,s=0;c<o;++c)e.modified("query",c)&&(s|=r[c].one,this.incrementAll(r[c],i[c],a,n.add),n.rem=n.add);return s},incrementAll(e,t,n,r){const i=this.value,a=i.seen(),o=i.curr(),s=i.prev(),l=e.index(),c=e.bisect(e.range),u=e.bisect(t),f=u[0],d=u[1],h=c[0],m=c[1],g=e.one;let p,y,b;if(f<h)for(p=f,y=Math.min(h,d);p<y;++p)b=l[p],a[b]!==n&&(s[b]=o[b],a[b]=n,r.push(b)),o[b]^=g;else if(f>h)for(p=h,y=Math.min(f,m);p<y;++p)b=l[p],a[b]!==n&&(s[b]=o[b],a[b]=n,r.push(b)),o[b]^=g;if(d>m)for(p=Math.max(f,m),y=d;p<y;++p)b=l[p],a[b]!==n&&(s[b]=o[b],a[b]=n,r.push(b)),o[b]^=g;else if(d<m)for(p=Math.max(h,d),y=m;p<y;++p)b=l[p],a[b]!==n&&(s[b]=o[b],a[b]=n,r.push(b)),o[b]^=g;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,a=i.curr(),o=e.index(),s=e.bisect(e.range),l=e.bisect(t),c=l[0],u=l[1],f=s[0],d=s[1],h=e.one;let m,g,p;if(c<f)for(m=c,g=Math.min(f,u);m<g;++m)p=o[m],a[p]^=h,n.push(p);else if(c>f)for(m=f,g=Math.min(c,d);m<g;++m)p=o[m],a[p]^=h,r.push(p);if(u>d)for(m=Math.max(c,d),g=u;m<g;++m)p=o[m],a[p]^=h,n.push(p);else if(u<d)for(m=Math.max(f,u),g=d;m<g;++m)p=o[m],a[p]^=h,r.push(p);e.range=t.slice()}});function z_(e){I.call(this,null,e)}z_.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};H(z_,I,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if(!(i&n))return t.StopPropagation;const a=t.fork(t.ALL),o=r.data(),s=r.curr(),l=r.prev(),c=u=>s[u]&n?null:o[u];return a.filter(a.MOD,c),i&i-1?(a.filter(a.ADD,u=>{const f=s[u]&n;return!f&&f^l[u]&n?o[u]:null}),a.filter(a.REM,u=>{const f=s[u]&n;return f&&!(f^(f^l[u]&n))?o[u]:null})):(a.filter(a.ADD,c),a.filter(a.REM,u=>(s[u]&n)===i?o[u]:null)),a.filter(a.SOURCE,u=>c(u._index))}});const Che=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:j_,resolvefilter:z_},Symbol.toStringTag,{value:"Module"})),Dhe="RawCode",k0="Literal",Lhe="Property",Fhe="Identifier",Bhe="ArrayExpression",$he="BinaryExpression",MZ="CallExpression",Nhe="ConditionalExpression",Ihe="LogicalExpression",Zhe="MemberExpression",Rhe="ObjectExpression",Phe="UnaryExpression";function Ei(e){this.type=e}Ei.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=jhe(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function jhe(e){switch(e.type){case Bhe:return e.elements;case $he:case Ihe:return[e.left,e.right];case MZ:return[e.callee].concat(e.arguments);case Nhe:return[e.test,e.consequent,e.alternate];case Zhe:return[e.object,e.property];case Rhe:return e.properties;case Lhe:return[e.key,e.value];case Phe:return[e.argument];case Fhe:case k0:case Dhe:default:return[]}}var pa,ne,Z,pn,Ue,A2=1,xh=2,M0=3,gs=4,S2=5,K0=6,zn=7,_h=8,zhe=9;pa={};pa[A2]="Boolean";pa[xh]="<end>";pa[M0]="Identifier";pa[gs]="Keyword";pa[S2]="Null";pa[K0]="Numeric";pa[zn]="Punctuator";pa[_h]="String";pa[zhe]="RegularExpression";var Ghe="ArrayExpression",Uhe="BinaryExpression",Whe="CallExpression",Hhe="ConditionalExpression",OZ="Identifier",Yhe="Literal",qhe="LogicalExpression",Vhe="MemberExpression",Xhe="ObjectExpression",Jhe="Property",Khe="UnaryExpression",Zt="Unexpected token %0",Qhe="Unexpected number",e1e="Unexpected string",t1e="Unexpected identifier",n1e="Unexpected reserved word",r1e="Unexpected end of input",u5="Invalid regular expression",zb="Invalid regular expression: missing /",CZ="Octal literals are not allowed in strict mode.",i1e="Duplicate data property in object literal not allowed in strict mode",Yt="ILLEGAL",gd="Disabled.",a1e=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),o1e=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function E2(e,t){if(!e)throw new Error("ASSERT: "+t)}function $a(e){return e>=48&&e<=57}function G_(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function $f(e){return"01234567".indexOf(e)>=0}function s1e(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function yd(e){return e===10||e===13||e===8232||e===8233}function wh(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&a1e.test(String.fromCharCode(e))}function Cp(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&o1e.test(String.fromCharCode(e))}const l1e={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function DZ(){for(;Z<pn;){const e=ne.charCodeAt(Z);if(s1e(e)||yd(e))++Z;else break}}function f5(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)Z<pn&&G_(ne[Z])?(r=ne[Z++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):Ne({},Zt,Yt);return String.fromCharCode(i)}function c1e(){var e,t,n,r;for(e=ne[Z],t=0,e==="}"&&Ne({},Zt,Yt);Z<pn&&(e=ne[Z++],!!G_(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&Ne({},Zt,Yt),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function LZ(){var e,t;for(e=ne.charCodeAt(Z++),t=String.fromCharCode(e),e===92&&(ne.charCodeAt(Z)!==117&&Ne({},Zt,Yt),++Z,e=f5("u"),(!e||e==="\\"||!wh(e.charCodeAt(0)))&&Ne({},Zt,Yt),t=e);Z<pn&&(e=ne.charCodeAt(Z),!!Cp(e));)++Z,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),ne.charCodeAt(Z)!==117&&Ne({},Zt,Yt),++Z,e=f5("u"),(!e||e==="\\"||!Cp(e.charCodeAt(0)))&&Ne({},Zt,Yt),t+=e);return t}function u1e(){var e,t;for(e=Z++;Z<pn;){if(t=ne.charCodeAt(Z),t===92)return Z=e,LZ();if(Cp(t))++Z;else break}return ne.slice(e,Z)}function f1e(){var e,t,n;return e=Z,t=ne.charCodeAt(Z)===92?LZ():u1e(),t.length===1?n=M0:l1e.hasOwnProperty(t)?n=gs:t==="null"?n=S2:t==="true"||t==="false"?n=A2:n=M0,{type:n,value:t,start:e,end:Z}}function Gb(){var e=Z,t=ne.charCodeAt(Z),n,r=ne[Z],i,a,o;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Z,{type:zn,value:String.fromCharCode(t),start:e,end:Z};default:if(n=ne.charCodeAt(Z+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Z+=2,{type:zn,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:Z};case 33:case 61:return Z+=2,ne.charCodeAt(Z)===61&&++Z,{type:zn,value:ne.slice(e,Z),start:e,end:Z}}}if(o=ne.substr(Z,4),o===">>>=")return Z+=4,{type:zn,value:o,start:e,end:Z};if(a=o.substr(0,3),a===">>>"||a==="<<="||a===">>=")return Z+=3,{type:zn,value:a,start:e,end:Z};if(i=a.substr(0,2),r===i[1]&&"+-<>&|".indexOf(r)>=0||i==="=>")return Z+=2,{type:zn,value:i,start:e,end:Z};if(i==="//"&&Ne({},Zt,Yt),"<>=!+-*%&|^/".indexOf(r)>=0)return++Z,{type:zn,value:r,start:e,end:Z};Ne({},Zt,Yt)}function d1e(e){let t="";for(;Z<pn&&G_(ne[Z]);)t+=ne[Z++];return t.length===0&&Ne({},Zt,Yt),wh(ne.charCodeAt(Z))&&Ne({},Zt,Yt),{type:K0,value:parseInt("0x"+t,16),start:e,end:Z}}function h1e(e){let t="0"+ne[Z++];for(;Z<pn&&$f(ne[Z]);)t+=ne[Z++];return(wh(ne.charCodeAt(Z))||$a(ne.charCodeAt(Z)))&&Ne({},Zt,Yt),{type:K0,value:parseInt(t,8),octal:!0,start:e,end:Z}}function qS(){var e,t,n;if(n=ne[Z],E2($a(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=Z,e="",n!=="."){if(e=ne[Z++],n=ne[Z],e==="0"){if(n==="x"||n==="X")return++Z,d1e(t);if($f(n))return h1e(t);n&&$a(n.charCodeAt(0))&&Ne({},Zt,Yt)}for(;$a(ne.charCodeAt(Z));)e+=ne[Z++];n=ne[Z]}if(n==="."){for(e+=ne[Z++];$a(ne.charCodeAt(Z));)e+=ne[Z++];n=ne[Z]}if(n==="e"||n==="E")if(e+=ne[Z++],n=ne[Z],(n==="+"||n==="-")&&(e+=ne[Z++]),$a(ne.charCodeAt(Z)))for(;$a(ne.charCodeAt(Z));)e+=ne[Z++];else Ne({},Zt,Yt);return wh(ne.charCodeAt(Z))&&Ne({},Zt,Yt),{type:K0,value:parseFloat(e),start:t,end:Z}}function m1e(){var e="",t,n,r,i,a=!1;for(t=ne[Z],E2(t==="'"||t==='"',"String literal must starts with a quote"),n=Z,++Z;Z<pn;)if(r=ne[Z++],r===t){t="";break}else if(r==="\\")if(r=ne[Z++],!r||!yd(r.charCodeAt(0)))switch(r){case"u":case"x":ne[Z]==="{"?(++Z,e+=c1e()):e+=f5(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:$f(r)?(i="01234567".indexOf(r),i!==0&&(a=!0),Z<pn&&$f(ne[Z])&&(a=!0,i=i*8+"01234567".indexOf(ne[Z++]),"0123".indexOf(r)>=0&&Z<pn&&$f(ne[Z])&&(i=i*8+"01234567".indexOf(ne[Z++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&ne[Z]===`
`&&++Z;else{if(yd(r.charCodeAt(0)))break;e+=r}return t!==""&&Ne({},Zt,Yt),{type:_h,value:e,octal:a,start:n,end:Z}}function p1e(e,t){let n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";Ne({},u5)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{Ne({},u5)}try{return new RegExp(e,t)}catch{return null}}function g1e(){var e,t,n,r,i;for(e=ne[Z],E2(e==="/","Regular expression literal must start with a slash"),t=ne[Z++],n=!1,r=!1;Z<pn;)if(e=ne[Z++],t+=e,e==="\\")e=ne[Z++],yd(e.charCodeAt(0))&&Ne({},zb),t+=e;else if(yd(e.charCodeAt(0)))Ne({},zb);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||Ne({},zb),i=t.substr(1,t.length-2),{value:i,literal:t}}function y1e(){var e,t,n;for(t="",n="";Z<pn&&(e=ne[Z],!!Cp(e.charCodeAt(0)));)++Z,e==="\\"&&Z<pn?Ne({},Zt,Yt):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Ne({},u5,n),{value:n,literal:t}}function b1e(){var e,t,n,r;return Ue=null,DZ(),e=Z,t=g1e(),n=y1e(),r=p1e(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:Z}}function v1e(e){return e.type===M0||e.type===gs||e.type===A2||e.type===S2}function FZ(){if(DZ(),Z>=pn)return{type:xh,start:Z,end:Z};const e=ne.charCodeAt(Z);return wh(e)?f1e():e===40||e===41||e===59?Gb():e===39||e===34?m1e():e===46?$a(ne.charCodeAt(Z+1))?qS():Gb():$a(e)?qS():Gb()}function Hn(){const e=Ue;return Z=e.end,Ue=FZ(),Z=e.end,e}function BZ(){const e=Z;Ue=FZ(),Z=e}function x1e(e){const t=new Ei(Ghe);return t.elements=e,t}function VS(e,t,n){const r=new Ei(e==="||"||e==="&&"?qhe:Uhe);return r.operator=e,r.left=t,r.right=n,r}function _1e(e,t){const n=new Ei(Whe);return n.callee=e,n.arguments=t,n}function w1e(e,t,n){const r=new Ei(Hhe);return r.test=e,r.consequent=t,r.alternate=n,r}function U_(e){const t=new Ei(OZ);return t.name=e,t}function _f(e){const t=new Ei(Yhe);return t.value=e.value,t.raw=ne.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function XS(e,t,n){const r=new Ei(Vhe);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function T1e(e){const t=new Ei(Xhe);return t.properties=e,t}function JS(e,t,n){const r=new Ei(Jhe);return r.key=t,r.value=n,r.kind=e,r}function A1e(e,t){const n=new Ei(Khe);return n.operator=e,n.argument=t,n.prefix=!0,n}function Ne(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(a,o)=>(E2(o<r.length,"Message reference must be in range"),r[o]));throw n=new Error(i),n.index=Z,n.description=i,n}function k2(e){e.type===xh&&Ne(e,r1e),e.type===K0&&Ne(e,Qhe),e.type===_h&&Ne(e,e1e),e.type===M0&&Ne(e,t1e),e.type===gs&&Ne(e,n1e),Ne(e,Zt,e.value)}function gn(e){const t=Hn();(t.type!==zn||t.value!==e)&&k2(t)}function rt(e){return Ue.type===zn&&Ue.value===e}function Ub(e){return Ue.type===gs&&Ue.value===e}function S1e(){const e=[];for(Z=Ue.start,gn("[");!rt("]");)rt(",")?(Hn(),e.push(null)):(e.push(O0()),rt("]")||gn(","));return Hn(),x1e(e)}function KS(){Z=Ue.start;const e=Hn();return e.type===_h||e.type===K0?(e.octal&&Ne(e,CZ),_f(e)):U_(e.value)}function E1e(){var e,t,n,r;if(Z=Ue.start,e=Ue,e.type===M0)return n=KS(),gn(":"),r=O0(),JS("init",n,r);if(e.type===xh||e.type===zn)k2(e);else return t=KS(),gn(":"),r=O0(),JS("init",t,r)}function k1e(){var e=[],t,n,r,i={},a=String;for(Z=Ue.start,gn("{");!rt("}");)t=E1e(),t.key.type===OZ?n=t.key.name:n=a(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?Ne({},i1e):i[r]=!0,e.push(t),rt("}")||gn(",");return gn("}"),T1e(e)}function M1e(){gn("(");const e=W_();return gn(")"),e}const O1e={if:1};function C1e(){var e,t,n;if(rt("("))return M1e();if(rt("["))return S1e();if(rt("{"))return k1e();if(e=Ue.type,Z=Ue.start,e===M0||O1e[Ue.value])n=U_(Hn().value);else if(e===_h||e===K0)Ue.octal&&Ne(Ue,CZ),n=_f(Hn());else{if(e===gs)throw new Error(gd);e===A2?(t=Hn(),t.value=t.value==="true",n=_f(t)):e===S2?(t=Hn(),t.value=null,n=_f(t)):rt("/")||rt("/=")?(n=_f(b1e()),BZ()):k2(Hn())}return n}function D1e(){const e=[];if(gn("("),!rt(")"))for(;Z<pn&&(e.push(O0()),!rt(")"));)gn(",");return gn(")"),e}function L1e(){Z=Ue.start;const e=Hn();return v1e(e)||k2(e),U_(e.value)}function F1e(){return gn("."),L1e()}function B1e(){gn("[");const e=W_();return gn("]"),e}function $1e(){var e,t,n;for(e=C1e();;)if(rt("."))n=F1e(),e=XS(".",e,n);else if(rt("("))t=D1e(),e=_1e(e,t);else if(rt("["))n=B1e(),e=XS("[",e,n);else break;return e}function QS(){const e=$1e();if(Ue.type===zn&&(rt("++")||rt("--")))throw new Error(gd);return e}function um(){var e,t;if(Ue.type!==zn&&Ue.type!==gs)t=QS();else{if(rt("++")||rt("--"))throw new Error(gd);if(rt("+")||rt("-")||rt("~")||rt("!"))e=Hn(),t=um(),t=A1e(e.value,t);else{if(Ub("delete")||Ub("void")||Ub("typeof"))throw new Error(gd);t=QS()}}return t}function eE(e){let t=0;if(e.type!==zn&&e.type!==gs)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function N1e(){var e,t,n,r,i,a,o,s,l,c;if(e=Ue,l=um(),r=Ue,i=eE(r),i===0)return l;for(r.prec=i,Hn(),t=[e,Ue],o=um(),a=[l,r,o];(i=eE(Ue))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)o=a.pop(),s=a.pop().value,l=a.pop(),t.pop(),n=VS(s,l,o),a.push(n);r=Hn(),r.prec=i,a.push(r),t.push(Ue),n=um(),a.push(n)}for(c=a.length-1,n=a[c],t.pop();c>1;)t.pop(),n=VS(a[c-1].value,a[c-2],n),c-=2;return n}function O0(){var e,t,n;return e=N1e(),rt("?")&&(Hn(),t=O0(),gn(":"),n=O0(),e=w1e(e,t,n)),e}function W_(){const e=O0();if(rt(","))throw new Error(gd);return e}function H_(e){ne=e,Z=0,pn=ne.length,Ue=null,BZ();const t=W_();if(Ue.type!==xh)throw new Error("Unexpect token after expression.");return t}var $Z={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function NZ(e){function t(o,s,l,c){let u=e(s[0]);return l&&(u=l+"("+u+")",l.lastIndexOf("new ",0)===0&&(u="("+u+")")),u+"."+o+(c<0?"":c===0?"()":"("+s.slice(1).map(e).join(",")+")")}function n(o,s,l){return c=>t(o,c,s,l)}const r="new Date",i="String",a="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(o){o.length<3&&P("Missing arguments to clamp function."),o.length>3&&P("Too many arguments to clamp function.");const s=o.map(e);return"Math.max("+s[1]+", Math.min("+s[2]+","+s[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),regexp:a,test:n("test",a),if:function(o){o.length<3&&P("Missing arguments to if function."),o.length>3&&P("Too many arguments to if function.");const s=o.map(e);return"("+s[0]+"?"+s[1]+":"+s[2]+")"}}}function I1e(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function IZ(e){e=e||{};const t=e.allowed?vi(e.allowed):{},n=e.forbidden?vi(e.forbidden):{},r=e.constants||$Z,i=(e.functions||NZ)(f),a=e.globalvar,o=e.fieldvar,s=_e(a)?a:m=>`${a}["${m}"]`;let l={},c={},u=0;function f(m){if(J(m))return m;const g=d[m.type];return g==null&&P("Unsupported type: "+m.type),g(m)}const d={Literal:m=>m.raw,Identifier:m=>{const g=m.name;return u>0?g:oe(n,g)?P("Illegal identifier: "+g):oe(r,g)?r[g]:oe(t,g)?g:(l[g]=1,s(g))},MemberExpression:m=>{const g=!m.computed,p=f(m.object);g&&(u+=1);const y=f(m.property);return p===o&&(c[I1e(y)]=1),g&&(u-=1),p+(g?"."+y:"["+y+"]")},CallExpression:m=>{m.callee.type!=="Identifier"&&P("Illegal callee type: "+m.callee.type);const g=m.callee.name,p=m.arguments,y=oe(i,g)&&i[g];return y||P("Unrecognized function: "+g),_e(y)?y(p):y+"("+p.map(f).join(",")+")"},ArrayExpression:m=>"["+m.elements.map(f).join(",")+"]",BinaryExpression:m=>"("+f(m.left)+" "+m.operator+" "+f(m.right)+")",UnaryExpression:m=>"("+m.operator+f(m.argument)+")",ConditionalExpression:m=>"("+f(m.test)+"?"+f(m.consequent)+":"+f(m.alternate)+")",LogicalExpression:m=>"("+f(m.left)+m.operator+f(m.right)+")",ObjectExpression:m=>"{"+m.properties.map(f).join(",")+"}",Property:m=>{u+=1;const g=f(m.key);return u-=1,g+":"+f(m.value)}};function h(m){const g={code:f(m),globals:Object.keys(l),fields:Object.keys(c)};return l={},c={},g}return h.functions=i,h.constants=r,h}function Z1e(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function R1e(e){let t=e,n=e;e.length===1&&(t=(o,s)=>e(o)-s,n=P1e(e));function r(o,s,l,c){for(l==null&&(l=0),c==null&&(c=o.length);l<c;){const u=l+c>>>1;n(o[u],s)<0?l=u+1:c=u}return l}function i(o,s,l,c){for(l==null&&(l=0),c==null&&(c=o.length);l<c;){const u=l+c>>>1;n(o[u],s)>0?c=u:l=u+1}return l}function a(o,s,l,c){l==null&&(l=0),c==null&&(c=o.length);const u=r(o,s,l,c-1);return u>l&&t(o[u-1],s)>-t(o[u],s)?u-1:u}return{left:r,center:a,right:i}}function P1e(e){return(t,n)=>Z1e(e(t),n)}const Y_="intersect",tE="union",j1e="vlMulti",z1e="vlPoint",nE="or",G1e="and",U1e="_vgsid_",W1e="E",H1e="R",Y1e="R-E",q1e="R-LE",V1e="R-RE",Dp="index:unit";function rE(e,t){for(var n=t.fields,r=t.values,i=n.length,a=0,o,s;a<i;++a)if(s=n[a],s.getter=Jn.getter||Jn(s.field),o=s.getter(e),$o(o)&&(o=un(o)),$o(r[a])&&(r[a]=un(r[a])),$o(r[a][0])&&(r[a]=r[a].map(un)),s.type===W1e){if(j(r[a])?r[a].indexOf(o)<0:o!==r[a])return!1}else if(s.type===H1e){if(!Nl(o,r[a]))return!1}else if(s.type===V1e){if(!Nl(o,r[a],!0,!1))return!1}else if(s.type===Y1e){if(!Nl(o,r[a],!1,!1))return!1}else if(s.type===q1e&&!Nl(o,r[a],!1,!0))return!1;return!0}function X1e(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],a=r?r[Dp]&&r[Dp].value:void 0,o=n===Y_,s=i.length,l=0,c,u,f,d,h;l<s;++l)if(c=i[l],a&&o){if(u=u||{},f=u[d=c.unit]||0,f===-1)continue;if(h=rE(t,c),u[d]=h?-1:++f,h&&a.size===1)return!0;if(!h&&f===a.get(d).count)return!1}else if(h=rE(t,c),o^h)return h;return s&&o}const d5=Jn(U1e),ZZ=R1e(d5),J1e=ZZ.left,K1e=ZZ.right;function Q1e(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],a=r?r[Dp]&&r[Dp].value:void 0,o=n===Y_,s=d5(t),l=J1e(i,s);if(l===i.length||d5(i[l])!==s)return!1;if(a&&o){if(a.size===1)return!0;if(K1e(i,s)-l<a.size)return!1}return!0}function eme(e,t){return e.map(n=>xe({values:t.fields.map(r=>(r.getter||(r.getter=Jn(r.field)))(n.datum))},t))}function tme(e,t,n,r){for(var i=this.context.data[e],a=i?i.values.value:[],o={},s={},l={},c,u,f,d,h,m,g,p,y,b=a.length,v=0,x,_;v<b;++v){for(c=a[v],d=c.unit,u=c.fields,f=c.values,x=0,_=u.length;x<_;++x)h=u[x],m=o[h.field]||(o[h.field]={}),g=m[d]||(m[d]=[]),l[h.field]=p=h.type.charAt(0),y=iE[p+"_union"],m[d]=y(g,Q(f[x]));n&&(g=s[d]||(s[d]=[]),g.push(Q(f).reduce((T,w,S)=>(T[u[S].field]=w,T),{})))}if(t=t||tE,Object.keys(o).forEach(T=>{o[T]=Object.keys(o[T]).map(w=>o[T][w]).reduce((w,S)=>w===void 0?S:iE[l[T]+"_"+t](w,S))}),a=Object.keys(s),n&&a.length){const T=r?z1e:j1e;o[T]=t===tE?{[nE]:a.reduce((w,S)=>(w.push(...s[S]),w),[])}:{[G1e]:a.map(w=>({[nE]:s[w]}))}}return o}var iE={E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.indexOf(n)>=0):t},R_union:function(e,t){var n=un(t[0]),r=un(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=un(t[0]),r=un(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const nme=":",rme="@";function q_(e,t,n,r){t[0].type!==k0&&P("First argument to selection functions must be a string literal.");const i=t[0].value,a=t.length>=2&&Ce(t).value,o="unit",s=rme+o,l=nme+i;a===Y_&&!oe(r,s)&&(r[s]=n.getData(i).indataRef(n,o)),oe(r,l)||(r[l]=n.getData(i).tuplesRef())}function RZ(e){const t=this.context.data[e];return t?t.values.value:[]}function ime(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function ame(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(Br).insert(t)),1}function ome(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const Th=e=>function(t,n){return this.context.dataflow.locale()[e](n)(t)},sme=Th("format"),PZ=Th("timeFormat"),lme=Th("utcFormat"),cme=Th("timeParse"),ume=Th("utcParse"),x1=new Date(2e3,0,1);function M2(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(x1.setYear(2e3),x1.setMonth(e),x1.setDate(t),PZ.call(this,x1,n))}function fme(e){return M2.call(this,e,1,"%B")}function dme(e){return M2.call(this,e,1,"%b")}function hme(e){return M2.call(this,0,2+e,"%A")}function mme(e){return M2.call(this,0,2+e,"%a")}const pme=":",gme="@",h5="%",jZ="$";function V_(e,t,n,r){t[0].type!==k0&&P("First argument to data functions must be a string literal.");const i=t[0].value,a=pme+i;if(!oe(a,r))try{r[a]=n.getData(i).tuplesRef()}catch{}}function yme(e,t,n,r){t[0].type!==k0&&P("First argument to indata must be a string literal."),t[1].type!==k0&&P("Second argument to indata must be a string literal.");const i=t[0].value,a=t[1].value,o=gme+a;oe(o,r)||(r[o]=n.getData(i).indataRef(n,a))}function Yn(e,t,n,r){if(t[0].type===k0)aE(n,r,t[0].value);else for(e in n.scales)aE(n,r,e)}function aE(e,t,n){const r=h5+n;if(!oe(t,r))try{t[r]=e.scaleRef(n)}catch{}}function ao(e,t){let n;return _e(e)?e:J(e)?(n=t.scales[e])&&n.value:void 0}function bme(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=Yn,n._range=Yn,n._scale=Yn;const r=i=>"_["+(i.type===k0?q(h5+i.value):q(h5)+"+"+e(i))+"]";return{_bandwidth:i=>"this.__bandwidth(".concat(r(i[0]),")"),_range:i=>"".concat(r(i[0]),".range()"),_scale:i=>"".concat(r(i[0]),"(").concat(e(i[1]),")")}}function X_(e,t){return function(n,r,i){if(n){const a=ao(n,(i||this).context);return a&&a.path[e](r)}else return t(r)}}const vme=X_("area",vC),xme=X_("bounds",AC),_me=X_("centroid",MC);function wme(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function J_(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function Tme(){return J_(this.context.dataflow,"warn",arguments)}function Ame(){return J_(this.context.dataflow,"info",arguments)}function Sme(){return J_(this.context.dataflow,"debug",arguments)}function Wb(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function m5(e){const t=Qi(e),n=Wb(t.r),r=Wb(t.g),i=Wb(t.b);return .2126*n+.7152*r+.0722*i}function Eme(e,t){const n=m5(e),r=m5(t),i=Math.max(n,r),a=Math.min(n,r);return(i+.05)/(a+.05)}function kme(){const e=[].slice.call(arguments);return e.unshift({}),xe(...e)}function zZ(e,t){return e===t||e!==e&&t!==t?!0:j(e)?j(t)&&e.length===t.length?Mme(e,t):!1:ee(e)&&ee(t)?GZ(e,t):!1}function Mme(e,t){for(let n=0,r=e.length;n<r;++n)if(!zZ(e[n],t[n]))return!1;return!0}function GZ(e,t){for(const n in e)if(!zZ(e[n],t[n]))return!1;return!0}function oE(e){return t=>GZ(e,t)}function Ome(e,t,n,r,i,a){const o=this.context.dataflow,s=this.context.data[e],l=s.input,c=o.stamp();let u=s.changes,f,d;if(o._trigger===!1||!(l.value.length||t||r))return 0;if((!u||u.stamp<c)&&(s.changes=u=o.changeset(),u.stamp=c,o.runAfter(()=>{s.modified=!0,o.pulse(l,u).run()},!0,1)),n&&(f=n===!0?Br:j(n)||Kg(n)?n:oE(n),u.remove(f)),t&&u.insert(t),r&&(f=oE(r),l.value.some(f)?u.remove(f):u.insert(r)),i)for(d in a)u.modify(i,d,a[d]);return 1}function Cme(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+r*r)}function Dme(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const sE={};function Lme(e,t){const n=sE[t]||(sE[t]=Jn(t));return j(e)?e.map(n):n(e)}function K_(e){return j(e)||ArrayBuffer.isView(e)?e:null}function Q_(e){return K_(e)||(J(e)?e:null)}function Fme(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return K_(e).join(...n)}function Bme(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Q_(e).indexOf(...n)}function $me(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Q_(e).lastIndexOf(...n)}function Nme(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Q_(e).slice(...n)}function Ime(e,t,n){return _e(n)&&P("Function argument passed to replace."),String(e).replace(t,n)}function Zme(e){return K_(e).slice().reverse()}function Rme(e,t,n){return xx(e||0,t||0,n||0)}function Pme(e,t){const n=ao(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function jme(e,t){const n=ao(e,(t||this).context);return n?n.copy():void 0}function zme(e,t){const n=ao(e,(t||this).context);return n?n.domain():[]}function Gme(e,t,n){const r=ao(e,(n||this).context);return r?j(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function Ume(e,t){const n=ao(e,(t||this).context);return n&&n.range?n.range():[]}function Wme(e,t,n){const r=ao(e,(n||this).context);return r?r(t):void 0}function Hme(e,t,n,r,i){e=ao(e,(i||this).context);const a=GN(t,n);let o=e.domain(),s=o[0],l=Ce(o),c=bn;return l-s?c=DN(e,s,l):e=(e.interpolator?Ze("sequential")().interpolator(e.interpolator()):Ze("linear")().interpolate(e.interpolate()).range(e.range())).domain([s=0,l=1]),e.ticks&&(o=e.ticks(+r||15),s!==o[0]&&o.unshift(s),l!==Ce(o)&&o.push(l)),o.forEach(u=>a.stop(c(u),e(u))),a}function Yme(e,t,n){const r=ao(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function qme(e){let t=null;return function(n){return n?fd(n,t=t||Tc(e)):e}}const UZ=e=>e.data;function WZ(e,t){const n=RZ.call(t,e);return n.root&&n.root.lookup||{}}function Vme(e,t,n){const r=WZ(e,this),i=r[t],a=r[n];return i&&a?i.path(a).map(UZ):void 0}function Xme(e,t){const n=WZ(e,this)[t];return n?n.ancestors().map(UZ):void 0}const HZ=()=>typeof window<"u"&&window||null;function Jme(){const e=HZ();return e?e.screen:{}}function Kme(){const e=HZ();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function Qme(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function YZ(e,t,n){if(!e)return[];const[r,i]=e,a=new _t().set(r[0],r[1],i[0],i[1]),o=n||this.context.dataflow.scenegraph().root;return FI(o,a,epe(t))}function epe(e){let t=null;if(e){const n=Q(e.marktype),r=Q(e.markname);t=i=>(!n.length||n.some(a=>i.marktype===a))&&(!r.length||r.some(a=>i.name===a))}return t}function tpe(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;const i=e[e.length-1];return i===void 0||Math.sqrt((i[0]-t)**2+(i[1]-n)**2)>r?(e.push([t,n]),[...e]):e}function npe(e){return(e??[]).reduce((t,n,r)=>{let[i,a]=n;return t+=r==0?"M ".concat(i,",").concat(a," "):r===e.length-1?" Z":"L ".concat(i,",").concat(a," ")},"")}function rpe(e,t,n){const{x:r,y:i,mark:a}=n,o=new _t().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[l,c]of t)l<o.x1&&(o.x1=l),l>o.x2&&(o.x2=l),c<o.y1&&(o.y1=c),c>o.y2&&(o.y2=c);return o.translate(r,i),YZ([[o.x1,o.y1],[o.x2,o.y2]],e,a).filter(l=>ipe(l.x,l.y,t))}function ipe(e,t,n){let r=0;for(let i=0,a=n.length-1;i<n.length;a=i++){const[o,s]=n[a],[l,c]=n[i];c>t!=s>t&&e<(o-l)*(t-c)/(s-c)+l&&r++}return r&1}const bd={random(){return Nr()},cumulativeNormal:r2,cumulativeLogNormal:j4,cumulativeUniform:W4,densityNormal:N4,densityLogNormal:P4,densityUniform:U4,quantileNormal:i2,quantileLogNormal:z4,quantileUniform:H4,sampleNormal:n2,sampleLogNormal:R4,sampleUniform:G4,isArray:j,isBoolean:ps,isDate:$o,isDefined(e){return e!==void 0},isNumber:Ye,isObject:ee,isRegExp:GB,isString:J,isTuple:Kg,isValid(e){return e!=null&&e===e},toBoolean:x4,toDate(e){return _4(e)},toNumber:un,toString:w4,indexof:Bme,join:Fme,lastindexof:$me,replace:Ime,reverse:Zme,slice:Nme,flush:jB,lerp:UB,merge:kme,pad:YB,peek:Ce,pluck:Lme,span:ih,inrange:Nl,truncate:qB,rgb:Qi,lab:Wf,hcl:oc,hsl:ac,luminance:m5,contrast:Eme,sequence:ln,format:sme,utcFormat:lme,utcParse:ume,utcOffset:l$,utcSequence:f$,timeFormat:PZ,timeParse:cme,timeOffset:s$,timeSequence:u$,timeUnitSpecifier:XB,monthFormat:fme,monthAbbrevFormat:dme,dayFormat:hme,dayAbbrevFormat:mme,quarter:IB,utcquarter:ZB,week:KB,utcweek:t$,dayofyear:JB,utcdayofyear:e$,warn:Tme,info:Ame,debug:Sme,extent(e){return ra(e)},inScope:wme,intersect:YZ,clampRange:RB,pinchDistance:Cme,pinchAngle:Dme,screen:Jme,containerSize:Qme,windowSize:Kme,bandspace:Rme,setdata:ame,pathShape:qme,panLinear:FB,panLog:BB,panPow:$B,panSymlog:NB,zoomLinear:m4,zoomLog:p4,zoomPow:dp,zoomSymlog:g4,encode:ome,modify:Ome,lassoAppend:tpe,lassoPath:npe,intersectLasso:rpe},ape=["view","item","group","xy","x","y"],ope="event.vega.",qZ="this.",e9={},VZ={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>"_[".concat(q(jZ+e),"]"),functions:spe,constants:$Z,visitors:e9},p5=IZ(VZ);function spe(e){const t=NZ(e);ape.forEach(n=>t[n]=ope+n);for(const n in bd)t[n]=qZ+n;return xe(t,bme(e,bd,e9)),t}function At(e,t,n){return arguments.length===1?bd[e]:(bd[e]=t,n&&(e9[e]=n),p5&&(p5.functions[e]=qZ+e),this)}At("bandwidth",Pme,Yn);At("copy",jme,Yn);At("domain",zme,Yn);At("range",Ume,Yn);At("invert",Gme,Yn);At("scale",Wme,Yn);At("gradient",Hme,Yn);At("geoArea",vme,Yn);At("geoBounds",xme,Yn);At("geoCentroid",_me,Yn);At("geoShape",Yme,Yn);At("indata",ime,yme);At("data",RZ,V_);At("treePath",Vme,V_);At("treeAncestors",Xme,V_);At("vlSelectionTest",X1e,q_);At("vlSelectionIdTest",Q1e,q_);At("vlSelectionResolve",tme,q_);At("vlSelectionTuples",eme);function aa(e,t){const n={};let r;try{e=J(e)?e:q(e)+"",r=H_(e)}catch{P("Expression parse error: "+e)}r.visit(a=>{if(a.type!==MZ)return;const o=a.callee.name,s=VZ.visitors[o];s&&s(o,a.arguments,t,n)});const i=p5(r);return i.globals.forEach(a=>{const o=jZ+a;!oe(n,o)&&t.getSignal(a)&&(n[o]=t.signalRef(a))}),{$expr:xe({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function lpe(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const cpe=vi(["rule"]),lE=vi(["group","image","rect"]);function upe(e,t){let n="";return cpe[t]||(e.x2&&(e.x?(lE[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(lE[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function t9(e){return(e+"").toLowerCase()}function fpe(e){return t9(e)==="operator"}function dpe(e){return t9(e)==="collect"}function Pu(e,t,n){n[n.length-1]!==";"&&(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function hpe(e,t,n,r){return"((u = ".concat(e,") < (v = ").concat(t,") || u == null) && v != null ? ").concat(n,`
  : (u > v || v == null) && u != null ? `).concat(r,`
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? `).concat(n,`
  : v !== v && u === u ? `).concat(r," : ")}var mpe={operator:(e,t)=>Pu(e,["_"],t.code),parameter:(e,t)=>Pu(e,["datum","_"],t.code),event:(e,t)=>Pu(e,["event"],t.code),handler:(e,t)=>{const n="var datum=event.item&&event.item.datum;return ".concat(t.code,";");return Pu(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const a in r){const o="o["+q(a)+"]";i+="$=".concat(r[a].code,";if(").concat(o,"!==$)").concat(o,"=$,m=1;")}return i+=upe(r,n),i+="return m;",Pu(e,["item","_"],i)},codegen:{get(e){const t="[".concat(e.map(q).join("]["),"]"),n=Function("_","return _".concat(t,";"));return n.path=t,n},comparator(e,t){let n;const r=(a,o)=>{const s=t[o];let l,c;return a.path?(l="a".concat(a.path),c="b".concat(a.path)):((n=n||{})["f"+o]=a,l="this.f".concat(o,"(a)"),c="this.f".concat(o,"(b)")),hpe(l,c,-s,s)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function ppe(e){const t=this;fpe(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function gpe(e){const t=this;if(e.params){const n=t.get(e.id);n||P("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function ype(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=j(i)?i.map(a=>cE(a,n,t)):cE(i,n,t)}return t}function cE(e,t,n){if(!e||!ee(e))return e;for(let r=0,i=uE.length,a;r<i;++r)if(a=uE[r],oe(e,a.key))return a.parse(e,t,n);return e}var uE=[{key:"$ref",parse:bpe},{key:"$key",parse:xpe},{key:"$expr",parse:vpe},{key:"$field",parse:_pe},{key:"$encode",parse:Tpe},{key:"$compare",parse:wpe},{key:"$context",parse:Ape},{key:"$subflow",parse:Spe},{key:"$tupleid",parse:Epe}];function bpe(e,t){return t.get(e.$ref)||P("Operator not defined: "+e.$ref)}function vpe(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code+"_"+e.$name;return t.fn[r]||(t.fn[r]=rr(t.parameterExpression(e.$expr),e.$fields,e.$name))}function xpe(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=v4(e.$key,e.$flat,t.expr.codegen))}function _pe(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=Jn(e.$field,e.$name,t.expr.codegen))}function wpe(e,t){const n="c:"+e.$compare+"_"+e.$order,r=Q(e.$compare).map(i=>i&&i.$tupleid?le:i);return t.fn[n]||(t.fn[n]=y4(r,e.$order,t.expr.codegen))}function Tpe(e,t){const n=e.$encode,r={};for(const i in n){const a=n[i];r[i]=rr(t.encodeExpression(a.$expr),a.$fields),r[i].output=a.$output}return r}function Ape(e,t){return t}function Spe(e,t){const n=e.$subflow;return function(r,i,a){const o=t.fork().parse(n),s=o.get(n.operators[0].id),l=o.signals.parent;return l&&l.set(a),s.detachSubflow=()=>t.detach(o),s}}function Epe(){return le}function kpe(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(a=>t.get(a)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(a=>t.get(a)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&P("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function Mpe(e){var t=this,n=ee(n=e.source)?n.$ref:n,r=t.get(n),i=null,a=e.update,o=void 0;r||P("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),a&&a.$expr&&(a.$params&&(o=t.parseParameters(a.$params)),a=t.handlerExpression(a.$expr)),t.update(e,r,i,a,o)}const Ope={skip:!0};function Cpe(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(a=>{const o=t.signals[a];e.signals(a,o)&&(r[a]=o.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(a=>{const o=t.data[a];e.data(a,o)&&(i[a]=o.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(a=>a.getState(e))),n}function Dpe(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(a=>{n.update(t.signals[a],i[a],Ope)}),Object.keys(r||{}).forEach(a=>{n.pulse(t.data[a].input,n.changeset().remove(Br).insert(r[a]))}),(e.subcontext||[]).forEach((a,o)=>{const s=t.subcontext[o];s&&s.setState(a)})}function XZ(e,t,n,r){return new JZ(e,t,n,r)}function JZ(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||mpe,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function fE(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}JZ.prototype=fE.prototype={fork(){const e=new fE(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),dpe(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let a=n.get(e.parent.$ref);a?(r.connect(a,[t]),t.targets().add(a)):(n.unresolved=n.unresolved||[]).push(()=>{a=n.get(e.parent.$ref),r.connect(a,[t]),t.targets().add(a)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const a in e.data){const o=n.data[a]||(n.data[a]={});e.data[a].forEach(s=>o[s]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[t9(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:lpe,parseOperator:ppe,parseOperatorParameters:gpe,parseParameters:ype,parseStream:kpe,parseUpdate:Mpe,getState:Cpe,setState:Dpe};function Lpe(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),KZ(t,e.description()))}function KZ(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function Fpe(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const Hb="default";function Bpe(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:Hb,item:null}));e.on(e.events("view","mousemove"),t,(n,r)=>{const i=t.value,a=i?J(i)?i:i.user:Hb,o=r.item&&r.item.cursor||null;return i&&a===i.user&&o==i.item?i:{user:a,item:o}}),e.add(null,function(n){let r=n.cursor,i=this.value;return J(r)||(i=r.item,r=r.user),g5(e,r&&r!==Hb?r:i||r),i},{cursor:t})}function g5(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function Lp(e,t){var n=e._runtime.data;return oe(n,t)||P("Unrecognized data set: "+t),n[t]}function $pe(e,t){return arguments.length<2?Lp(this,e).values.value:O2.call(this,e,X0().remove(Br).insert(t))}function O2(e,t){D$(t)||P("Second argument to changes must be a changeset.");const n=Lp(this,e);return n.modified=!0,this.pulse(n.input,t)}function Npe(e,t){return O2.call(this,e,X0().insert(t))}function Ipe(e,t){return O2.call(this,e,X0().remove(t))}function QZ(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function eR(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function C2(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function Zpe(e){var t=C2(e),n=QZ(e),r=eR(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(a){e.error(a)}})}function Rpe(e,t,n){var r=e._renderer,i=r&&r.canvas(),a,o,s;return i&&(s=C2(e),o=t.changedTouches?t.changedTouches[0]:t,a=_2(o,i),a[0]-=s[0],a[1]-=s[1]),t.dataflow=e,t.item=n,t.vega=Ppe(e,n,a),t}function Ppe(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(o){var s=r,l;if(o){for(l=t;l;l=l.mark.group)if(l.mark.name===o){s=l;break}}return s&&s.mark&&s.mark.interactive?s:{}}function a(o){if(!o)return n;J(o)&&(o=i(o));const s=n.slice();for(;o;)s[0]-=o.x||0,s[1]-=o.y||0,o=o.mark&&o.mark.group;return s}return{view:vn(e),item:vn(t||{}),group:i,xy:a,x:o=>a(o)[0],y:o=>a(o)[1]}}const dE="view",jpe="timer",zpe="window",Gpe={trap:!1};function Upe(e){const t=xe({defaults:{}},e),n=(r,i)=>{i.forEach(a=>{j(r[a])&&(r[a]=vi(r[a]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function tR(e,t,n,r){e._eventListeners.push({type:n,sources:Q(t),handler:r})}function Wpe(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function _1(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||ee(r)&&!r[n]?(e.warn("Blocked ".concat(t," ").concat(n," event listener.")),!1):!0}function Hpe(e,t,n){var r=this,i=new t2(n),a=function(c,u){r.runAsync(null,()=>{e===dE&&Wpe(r,t)&&c.preventDefault(),i.receive(Rpe(r,c,u))})},o;if(e===jpe)_1(r,"timer",t)&&r.timer(a,t);else if(e===dE)_1(r,"view",t)&&r.addEventListener(t,a,Gpe);else if(e===zpe?_1(r,"window",t)&&typeof window<"u"&&(o=[window]):typeof document<"u"&&_1(r,"selector",t)&&(o=document.querySelectorAll(e)),!o)r.warn("Can not resolve event source: "+e);else{for(var s=0,l=o.length;s<l;++s)o[s].addEventListener(t,a);tR(r,o,t,a)}return i}function hE(e){return e.item}function mE(e){return e.item.mark.source}function pE(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function Ype(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","mouseover",hE),mE,pE(e)),this.on(this.events("view","mouseout",hE),mE,pE(t)),this}function qpe(){var e=this._tooltip,t=this._timers,n=this._eventListeners,r,i,a;for(r=t.length;--r>=0;)t[r].stop();for(r=n.length;--r>=0;)for(a=n[r],i=a.sources.length;--i>=0;)a.sources[i].removeEventListener(a.type,a.handler);return e&&e.call(this,this._handler,null,null,null),this}function hr(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const Vpe="vega-bind",Xpe="vega-bind-name",Jpe="vega-bind-radio";function Kpe(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:o=>{o!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,o)})}},r.debounce&&(i.update=b4(r.debounce,i.update))),(r.input==null&&r.element?Qpe:tge)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function Qpe(e,t,n,r){const i=n.event||"input",a=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,a),tR(r,t,i,a),e.set=o=>{t.value=o,t.dispatchEvent(ege(i))}}function ege(e){return typeof Event<"u"?new Event(e):{type:e}}function tge(e,t,n,r){const i=r.signal(n.signal),a=hr("div",{class:Vpe}),o=n.input==="radio"?a:a.appendChild(hr("label"));o.appendChild(hr("span",{class:Xpe},n.name||n.signal)),t.appendChild(a);let s=nge;switch(n.input){case"checkbox":s=rge;break;case"select":s=ige;break;case"radio":s=age;break;case"range":s=oge;break}s(e,o,n,i)}function nge(e,t,n,r){const i=hr("input");for(const a in n)a!=="signal"&&a!=="element"&&i.setAttribute(a==="input"?"type":a,n[a]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=a=>i.value=a}function rge(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const a=hr("input",i);t.appendChild(a),a.addEventListener("change",()=>e.update(a.checked)),e.elements=[a],e.set=o=>a.checked=!!o||null}function ige(e,t,n,r){const i=hr("select",{name:n.signal}),a=n.labels||[];n.options.forEach((o,s)=>{const l={value:o};Fp(o,r)&&(l.selected=!0),i.appendChild(hr("option",l,(a[s]||o)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=o=>{for(let s=0,l=n.options.length;s<l;++s)if(Fp(n.options[s],o)){i.selectedIndex=s;return}}}function age(e,t,n,r){const i=hr("span",{class:Jpe}),a=n.labels||[];t.appendChild(i),e.elements=n.options.map((o,s)=>{const l={type:"radio",name:n.signal,value:o};Fp(o,r)&&(l.checked=!0);const c=hr("input",l);c.addEventListener("change",()=>e.update(o));const u=hr("label",{},(a[s]||o)+"");return u.prepend(c),i.appendChild(u),c}),e.set=o=>{const s=e.elements,l=s.length;for(let c=0;c<l;++c)Fp(s[c].value,o)&&(s[c].checked=!0)}}function oge(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,a=n.min||Math.min(0,i,+r)||0,o=n.step||qa(a,i,100),s=hr("input",{type:"range",name:n.signal,min:a,max:i,step:o});s.value=r;const l=hr("span",{},+r);t.appendChild(s),t.appendChild(l);const c=()=>{l.textContent=s.value,e.update(+s.value)};s.addEventListener("input",c),s.addEventListener("change",c),e.elements=[s],e.set=u=>{s.value=u,l.textContent=u}}function Fp(e,t){return e===t||e+""==t+""}function nR(e,t,n,r,i,a){return t=t||new r(e.loader()),t.initialize(n,QZ(e),eR(e),C2(e),i,a).background(e.background())}function n9(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function sge(e,t,n,r){const i=new r(e.loader(),n9(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,C2(e),e);return t&&t.handlers().forEach(a=>{i.on(a.type,a.handler)}),i}function lge(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,a=w2(r);e=n._el=e?Yb(n,e,!0):null,Lpe(n),a||n.error("Unrecognized renderer type: "+r);const o=a.handler||vh,s=e?a.renderer:a.headless;return n._renderer=s?nR(n,n._renderer,e,s):null,n._handler=sge(n,n._handler,e,o),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=Yb(n,t,!0):e.appendChild(hr("form",{class:"vega-bindings"})),n._bind.forEach(l=>{l.param.element&&i!=="container"&&(l.element=Yb(n,l.param.element,!!l.param.input))}),n._bind.forEach(l=>{Kpe(n,l.element||t,l)})),n}function Yb(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const ju=e=>+e||0,cge=e=>({top:e,bottom:e,left:e,right:e});function gE(e){return ee(e)?{top:ju(e.top),bottom:ju(e.bottom),left:ju(e.left),right:ju(e.right)}:cge(ju(e))}async function r9(e,t,n,r){const i=w2(t),a=i&&i.headless;return a||P("Unrecognized renderer type: "+t),await e.runAsync(),nR(e,null,null,a,n,r).renderAsync(e._scenegraph.root)}async function uge(e,t){e!==Co.Canvas&&e!==Co.SVG&&e!==Co.PNG&&P("Unrecognized image type: "+e);const n=await r9(this,e,t);return e===Co.SVG?fge(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function fge(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function dge(e,t){return(await r9(this,Co.Canvas,e,t)).canvas()}async function hge(e){return(await r9(this,Co.SVG,e)).svg()}function mge(e,t,n){return XZ(e,vc,bd,n).parse(t)}function pge(e){var t=this._runtime.scales;return oe(t,e)||P("Unrecognized scale or projection: "+e),t[e].value}var rR="width",iR="height",i9="padding",yE={skip:!0};function aR(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===i9?r.left+r.right:0)}function oR(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===i9?r.top+r.bottom:0)}function gge(e){var t=e._signals,n=t[rR],r=t[iR],i=t[i9];function a(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,s=>{e._width=s.size,e._viewWidth=aR(e,s.size),a()},{size:n}),e._resizeHeight=e.add(null,s=>{e._height=s.size,e._viewHeight=oR(e,s.size),a()},{size:r});const o=e.add(null,a,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,o.rank=i.rank+1}function yge(e,t,n,r,i,a){this.runAfter(o=>{let s=0;o._autosize=0,o.width()!==n&&(s=1,o.signal(rR,n,yE),o._resizeWidth.skip(!0)),o.height()!==r&&(s=1,o.signal(iR,r,yE),o._resizeHeight.skip(!0)),o._viewWidth!==e&&(o._resize=1,o._viewWidth=e),o._viewHeight!==t&&(o._resize=1,o._viewHeight=t),(o._origin[0]!==i[0]||o._origin[1]!==i[1])&&(o._resize=1,o._origin=i),s&&o.run("enter"),a&&o.runAfter(l=>l.resize())},!1,1)}function bge(e){return this._runtime.getState(e||{data:vge,signals:xge,recurse:!0})}function vge(e,t){return t.modified&&j(t.input.value)&&e.indexOf("_:vega:_")}function xge(e,t){return!(e==="parent"||t instanceof vc.proxy)}function _ge(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function wge(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(jO(n,t))}function Tge(e,t,n,r){const i=e.element();i&&i.setAttribute("title",Age(r))}function Age(e){return e==null?"":j(e)?sR(e):ee(e)&&!$o(e)?Sge(e):e+""}function Sge(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(j(n)?sR(n):lR(n))}).join(`
`)}function sR(e){return"["+e.map(lR).join(", ")+"]"}function lR(e){return j(e)?"[…]":ee(e)&&!$o(e)?"{…}":e}function cR(e,t){const n=this;if(t=t||{},ql.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const a=xe({},e.locale,t.locale);n.locale(_$(a.number,a.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||Co.Canvas,n._scenegraph=new Xx;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||Tge,n._redraw=!0,n._handler=new vh().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=Upe(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=mge(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(a=>({state:null,param:xe({},a)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=aR(n,n._width),n._viewHeight=oR(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,gge(n),Fpe(n),Bpe(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind)}function w1(e,t){return oe(e._signals,t)?e._signals[t]:P("Unrecognized signal name: "+q(t))}function uR(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function bE(e,t,n,r){let i=uR(n,r);return i||(i=n9(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function vE(e,t,n){const r=uR(t,n);return r&&t._targets.remove(r),e}H(cR,ql,{async evaluate(e,t,n){if(await ql.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,Zpe(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&K1(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&KZ(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=w1(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",gE(e)):gE(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(w2(e)||P("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(ql.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(w1(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:yge,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=n9(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,a;--r>=0;)if(a=n[r].type,i=n[r].handler,e===a&&(t===i||t===i.raw)){this._handler.off(a,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return bE(this,e,w1(this,e),t)},removeSignalListener(e,t){return vE(this,w1(this,e),t)},addDataListener(e,t){return bE(this,e,Lp(this,e).values,t)},removeDataListener(e,t){return vE(this,Lp(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=g5(this,null);this._globalCursor=!!e,t&&g5(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:wge,events:Hpe,finalize:qpe,hover:Ype,data:$pe,change:O2,insert:Npe,remove:Ipe,scale:pge,initialize:lge,toImageURL:uge,toCanvas:dge,toSVG:hge,getState:bge,setState:_ge});const Ege="view",Bp="[",$p="]",fR="{",dR="}",kge=":",hR=",",Mge="@",Oge=">",Cge=/[[\]{}]/,Dge={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let mR,pR;function ys(e,t,n){return mR=t||Ege,pR=n||Dge,gR(e.trim()).map(y5)}function Lge(e){return pR[e]}function Nf(e,t,n,r,i){const a=e.length;let o=0,s;for(;t<a;++t){if(s=e[t],!o&&s===n)return t;i&&i.indexOf(s)>=0?--o:r&&r.indexOf(s)>=0&&++o}return t}function gR(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=Nf(e,i,hR,Bp+fR,$p+dR),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function y5(e){return e[0]==="["?Fge(e):Bge(e)}function Fge(e){const t=e.length;let n=1,r;if(n=Nf(e,n,$p,Bp,$p),n===t)throw"Empty between selector: "+e;if(r=gR(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==Oge)throw"Expected '>' after between selector: "+e;r=r.map(y5);const i=y5(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function Bge(e){const t={source:mR},n=[];let r=[0,0],i=0,a=0,o=e.length,s=0,l,c;if(e[o-1]===dR){if(s=e.lastIndexOf(fR),s>=0){try{r=$ge(e.substring(s+1,o-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,s).trim(),o=e.length}else throw"Unmatched right brace: "+e;s=0}if(!o)throw e;if(e[0]===Mge&&(i=++s),l=Nf(e,s,kge),l<o&&(n.push(e.substring(a,l).trim()),a=s=++l),s=Nf(e,s,Bp),s===o)n.push(e.substring(a,o).trim());else if(n.push(e.substring(a,s).trim()),c=[],a=++s,a===o)throw"Unmatched left bracket: "+e;for(;s<o;){if(s=Nf(e,s,$p),s===o)throw"Unmatched left bracket: "+e;if(c.push(e.substring(a,s).trim()),s<o-1&&e[++s]!==Bp)throw"Expected left bracket: "+e;a=++s}if(!(o=n.length)||Cge.test(n[o-1]))throw"Invalid event selector: "+e;return o>1?(t.type=n[1],i?t.markname=n[0].slice(1):Lge(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),c!=null&&(t.filter=c),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function $ge(e){const t=e.split(hR);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function Nge(e){return ee(e)?e:{type:e||"pad"}}const zu=e=>+e||0,Ige=e=>({top:e,bottom:e,left:e,right:e});function Zge(e){return ee(e)?e.signal?e:{top:zu(e.top),bottom:zu(e.bottom),left:zu(e.left),right:zu(e.right)}:Ige(zu(e))}const Rt=e=>ee(e)&&!j(e)?xe({},e):{value:e};function xE(e,t,n,r){return n!=null?(ee(n)&&!j(n)||j(n)&&n.length&&ee(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function Vt(e,t,n){for(const r in t)xE(e,r,t[r]);for(const r in n)xE(e,r,n[r],"update")}function cu(e,t,n){for(const r in t)n&&oe(n,r)||(e[r]=xe(e[r]||{},t[r]));return e}function Ll(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const a9="mark",o9="frame",s9="scope",Rge="axis",Pge="axis-domain",jge="axis-grid",zge="axis-label",Gge="axis-tick",Uge="axis-title",Wge="legend",Hge="legend-band",Yge="legend-entry",qge="legend-gradient",yR="legend-label",Vge="legend-symbol",Xge="legend-title",Jge="title",Kge="title-text",Qge="title-subtitle";function e2e(e,t,n,r,i){const a={},o={};let s,l,c,u;l="lineBreak",t==="text"&&i[l]!=null&&!Ll(l,e)&&qb(a,l,i[l]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),u=n===o9?i.group:n===a9?xe({},i.mark,i[t]):null;for(l in u)c=Ll(l,e)||(l==="fill"||l==="stroke")&&(Ll("fill",e)||Ll("stroke",e)),c||qb(a,l,u[l]);Q(r).forEach(f=>{const d=i.style&&i.style[f];for(const h in d)Ll(h,e)||qb(a,h,d[h])}),e=xe({},e);for(l in a)u=a[l],u.signal?(s=s||{})[l]=u:o[l]=u;return e.enter=xe(o,e.enter),s&&(e.update=xe(s,e.update)),e}function qb(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const bR=e=>J(e)?q(e):e.signal?`(${e.signal})`:vR(e);function D2(e){if(e.gradient!=null)return n2e(e);let t=e.signal?`(${e.signal})`:e.color?t2e(e.color):e.field!=null?vR(e.field):e.value!==void 0?q(e.value):void 0;return e.scale!=null&&(t=r2e(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${fm(e.exponent)})`),e.mult!=null&&(t+=`*${fm(e.mult)}`),e.offset!=null&&(t+=`+${fm(e.offset)}`),e.round&&(t=`round(${t})`),t}const T1=(e,t,n,r)=>`(${e}(${[t,n,r].map(D2).join(",")})+'')`;function t2e(e){return e.c?T1("hcl",e.h,e.c,e.l):e.h||e.s?T1("hsl",e.h,e.s,e.l):e.l||e.a?T1("lab",e.l,e.a,e.b):e.r||e.g||e.b?T1("rgb",e.r,e.g,e.b):null}function n2e(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:q(n));for(;t.length&&Ce(t)==null;)t.pop();return t.unshift(bR(e.gradient)),`gradient(${t.join(",")})`}function fm(e){return ee(e)?"("+D2(e)+")":e}function vR(e){return xR(ee(e)?e:{datum:e})}function xR(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):P("Invalid field reference: "+q(e));return e.signal||(r=J(r)?da(r).map(q).join("]["):xR(r)),t+"["+r+"]"}function r2e(e,t){const n=bR(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+fm(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function i2e(e){let t="";return e.forEach(n=>{const r=D2(n);t+=n.test?`(${n.test})?${r}:`:r}),Ce(t)===":"&&(t+="null"),t}function _R(e,t,n,r,i,a){const o={};a=a||{},a.encoders={$encode:o},e=e2e(e,t,n,r,i.config);for(const s in e)o[s]=a2e(e[s],t,a,i);return a}function a2e(e,t,n,r){const i={},a={};for(const o in e)e[o]!=null&&(i[o]=s2e(o2e(e[o]),r,n,a));return{$expr:{marktype:t,channels:i},$fields:Object.keys(a),$output:Object.keys(e)}}function o2e(e){return j(e)?i2e(e):D2(e)}function s2e(e,t,n,r){const i=aa(e,t);return i.$fields.forEach(a=>r[a]=1),xe(n,i.$params),i.$expr}const l2e="outer",c2e=["value","update","init","react","bind"];function _E(e,t){P(e+' for "outer" push: '+q(t))}function wR(e,t){const n=e.name;if(e.push===l2e)t.signals[n]||_E("No prior signal definition",n),c2e.forEach(r=>{e[r]!==void 0&&_E("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function b5(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function L2(e,t,n,r){return new b5(e,t,n,r)}function Np(e,t){return L2("operator",e,t)}function se(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function vd(e,t){return t?{$field:e,$name:t}:{$field:e}}const v5=vd("key");function wE(e,t){return{$compare:e,$order:t}}function u2e(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const f2e="ascending",d2e="descending";function h2e(e){return ee(e)?(e.order===d2e?"-":"+")+F2(e.op,e.field):""}function F2(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const l9="scope",x5="view";function Ct(e){return e&&e.signal}function m2e(e){return e&&e.expr}function dm(e){if(Ct(e))return!0;if(ee(e)){for(const t in e)if(dm(e[t]))return!0}return!1}function Vr(e,t){return e??t}function s0(e){return e&&e.signal||e}const TE="timer";function xd(e,t){return(e.merge?g2e:e.stream?y2e:e.type?b2e:P("Invalid stream specification: "+q(e)))(e,t)}function p2e(e){return e===l9?x5:e||x5}function g2e(e,t){const n=e.merge.map(i=>xd(i,t)),r=c9({merge:n},e,t);return t.addStream(r).id}function y2e(e,t){const n=xd(e.stream,t),r=c9({stream:n},e,t);return t.addStream(r).id}function b2e(e,t){let n;e.type===TE?(n=t.event(TE,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(p2e(e.source),e.type);const r=c9({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function c9(e,t,n){let r=t.between;return r&&(r.length!==2&&P('Stream "between" parameter must have 2 entries: '+q(t)),e.between=[xd(r[0],n),xd(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(v2e(t.marktype,t.markname,t.markrole)),t.source===l9&&r.push("inScope(event.item)"),r.length&&(e.filter=aa("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function v2e(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const x2e={code:"_.$value",ast:{type:"Identifier",value:"value"}};function _2e(e,t,n){const r=e.encode,i={target:n};let a=e.events,o=e.update,s=[];a||P("Signal update missing events specification."),J(a)&&(a=ys(a,t.isSubscope()?l9:x5)),a=Q(a).filter(l=>l.signal||l.scale?(s.push(l),0):1),s.length>1&&(s=[T2e(s)]),a.length&&s.push(a.length>1?{merge:a}:a[0]),r!=null&&(o&&P("Signal encode and update are mutually exclusive."),o="encode(item(),"+q(r)+")"),i.update=J(o)?aa(o,t):o.expr!=null?aa(o.expr,t):o.value!=null?o.value:o.signal!=null?{$expr:x2e,$params:{$value:t.signalRef(o.signal)}}:P("Invalid signal update specification."),e.force&&(i.options={force:!0}),s.forEach(l=>t.addUpdate(xe(w2e(l,t),i)))}function w2e(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):xd(e,t)}}function T2e(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function A2e(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?P("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=aa(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>_2e(i,t,n.id))}const qe=e=>(t,n,r)=>L2(e,n,t||void 0,r),TR=qe("aggregate"),S2e=qe("axisticks"),AR=qe("bound"),ki=qe("collect"),AE=qe("compare"),E2e=qe("datajoin"),SR=qe("encode"),k2e=qe("expression"),M2e=qe("facet"),O2e=qe("field"),C2e=qe("key"),D2e=qe("legendentries"),L2e=qe("load"),F2e=qe("mark"),B2e=qe("multiextent"),$2e=qe("multivalues"),N2e=qe("overlap"),I2e=qe("params"),ER=qe("prefacet"),Z2e=qe("projection"),R2e=qe("proxy"),P2e=qe("relay"),kR=qe("render"),j2e=qe("scale"),Q0=qe("sieve"),z2e=qe("sortitems"),MR=qe("viewlayout"),G2e=qe("values");let U2e=0;const OR={min:"min",max:"max",count:"sum"};function W2e(e,t){const n=e.type||"linear";SN(n)||P("Unrecognized scale type: "+q(n)),t.addScale(e.name,{type:n,domain:void 0})}function H2e(e,t){const n=t.getScale(e.name).params;let r;n.domain=CR(e.domain,e,t),e.range!=null&&(n.range=LR(e,t,n)),e.interpolate!=null&&nye(e.interpolate,n),e.nice!=null&&(n.nice=tye(e.nice)),e.bins!=null&&(n.bins=eye(e.bins,t));for(r in e)oe(n,r)||r==="name"||(n[r]=Mr(e[r],t))}function Mr(e,t){return ee(e)?e.signal?t.signalRef(e.signal):P("Unsupported object: "+q(e)):e}function hm(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>Mr(n,t))}function B2(e){P("Can not find data set: "+q(e))}function CR(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&P("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(j(e)?Y2e:e.fields?V2e:q2e)(e,t,n)}function Y2e(e,t,n){return e.map(r=>Mr(r,n))}function q2e(e,t,n){const r=n.getData(e.data);return r||B2(e.data),wc(t.type)?r.valuesRef(n,e.field,DR(e.sort,!1)):MN(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function V2e(e,t,n){const r=e.data,i=e.fields.reduce((a,o)=>(o=J(o)?{data:r,field:o}:j(o)||o.signal?X2e(o,n):o,a.push(o),a),[]);return(wc(t.type)?J2e:MN(t.type)?K2e:Q2e)(e,n,i)}function X2e(e,t){const n="_:vega:_"+U2e++,r=ki({});if(j(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+q(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,Q0({})]),{data:n,field:"data"}}function J2e(e,t,n){const r=DR(e.sort,!0);let i,a;const o=n.map(c=>{const u=t.getData(c.data);return u||B2(c.data),u.countsRef(t,c.field,r)}),s={groupby:v5,pulse:o};r&&(i=r.op||"count",a=r.field?F2(i,r.field):"count",s.ops=[OR[i]],s.fields=[t.fieldRef(a)],s.as=[a]),i=t.add(TR(s));const l=t.add(ki({pulse:se(i)}));return a=t.add(G2e({field:v5,sort:t.sortRef(r),pulse:se(l)})),se(a)}function DR(e,t){return e&&(!e.field&&!e.op?ee(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?P("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!OR[e.op]&&P("Multiple domain scales can not be sorted using "+e.op)),e}function K2e(e,t,n){const r=n.map(i=>{const a=t.getData(i.data);return a||B2(i.data),a.domainRef(t,i.field)});return se(t.add($2e({values:r})))}function Q2e(e,t,n){const r=n.map(i=>{const a=t.getData(i.data);return a||B2(i.data),a.extentRef(t,i.field)});return se(t.add(B2e({extents:r})))}function eye(e,t){return e.signal||j(e)?hm(e,t):t.objectProperty(e)}function tye(e){return ee(e)?{interval:Mr(e.interval),step:Mr(e.step)}:Mr(e)}function nye(e,t){t.interpolate=Mr(e.type||e),e.gamma!=null&&(t.interpolateGamma=Mr(e.gamma))}function LR(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(J(i)){if(r&&oe(r,i))return e=xe({},e,{range:r[i]}),LR(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=wc(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:P("Unrecognized scale range value: "+q(i))}else if(i.scheme){n.scheme=j(i.scheme)?hm(i.scheme,t):Mr(i.scheme,t),i.extent&&(n.schemeExtent=hm(i.extent,t)),i.count&&(n.schemeCount=Mr(i.count,t));return}else if(i.step){n.rangeStep=Mr(i.step,t);return}else{if(wc(e.type)&&!j(i))return CR(i,e,t);j(i)||P("Unsupported range type: "+q(i))}return i.map(a=>(j(a)?hm:Mr)(a,t))}function rye(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=_5(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=_5(n[i],i,t));t.addProjection(e.name,r)}function _5(e,t,n){return j(e)?e.map(r=>_5(r,t,n)):ee(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:P("Unsupported parameter object: "+q(e)):e}const Mi="top",uu="left",fu="right",rs="bottom",FR="center",iye="vertical",aye="start",oye="middle",sye="end",w5="index",u9="label",lye="offset",Mc="perc",cye="perc2",Cr="value",Ah="guide-label",f9="guide-title",uye="group-title",fye="group-subtitle",SE="symbol",mm="gradient",T5="discrete",A5="size",dye="shape",hye="fill",mye="stroke",pye="strokeWidth",gye="strokeDash",yye="opacity",d9=[A5,dye,hye,mye,pye,gye,yye],Sh={name:1,style:1,interactive:1},Le={value:0},Dr={value:1},$2="group",BR="rect",h9="rule",bye="symbol",el="text";function _d(e){return e.type=$2,e.interactive=e.interactive||!1,e}function ir(e,t){const n=(r,i)=>Vr(e[r],Vr(t[r],i));return n.isVertical=r=>iye===Vr(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>Vr(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>Vr(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>Vr(e.columns,Vr(t.columns,+n.isVertical(!0))),n}function $R(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function vye(e,t,n){const r=t.config.style[n];return r&&r[e]}function N2(e,t,n){return`item.anchor === '${aye}' ? ${e} : item.anchor === '${sye}' ? ${t} : ${n}`}const m9=N2(q(uu),q(fu),q(FR));function xye(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},ee(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function NR(e,t){return t?e?ee(e)?Object.assign({},e,{offset:NR(e.offset,t)}):{value:e,offset:t}:t:e}function yr(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=cu(e.encode,t,Sh)):e.interactive=!1,e}function _ye(e,t,n,r){const i=ir(e,n),a=i.isVertical(),o=i.gradientThickness(),s=i.gradientLength();let l,c,u,f,d;a?(c=[0,1],u=[0,0],f=o,d=s):(c=[0,0],u=[1,0],f=s,d=o);const h={enter:l={opacity:Le,x:Le,y:Le,width:Rt(f),height:Rt(d)},update:xe({},l,{opacity:Dr,fill:{gradient:t,start:c,stop:u}}),exit:{opacity:Le}};return Vt(h,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),yr({type:BR,role:qge,encode:h},r)}function wye(e,t,n,r,i){const a=ir(e,n),o=a.isVertical(),s=a.gradientThickness(),l=a.gradientLength();let c,u,f,d,h="";o?(c="y",f="y2",u="x",d="width",h="1-"):(c="x",f="x2",u="y",d="height");const m={opacity:Le,fill:{scale:t,field:Cr}};m[c]={signal:h+"datum."+Mc,mult:l},m[u]=Le,m[f]={signal:h+"datum."+cye,mult:l},m[d]=Rt(s);const g={enter:m,update:xe({},m,{opacity:Dr}),exit:{opacity:Le}};return Vt(g,{stroke:a("gradientStrokeColor"),strokeWidth:a("gradientStrokeWidth")},{opacity:a("gradientOpacity")}),yr({type:BR,role:Hge,key:Cr,from:i,encode:g},r)}const Tye=`datum.${Mc}<=0?"${uu}":datum.${Mc}>=1?"${fu}":"${FR}"`,Aye=`datum.${Mc}<=0?"${rs}":datum.${Mc}>=1?"${Mi}":"${oye}"`;function EE(e,t,n,r){const i=ir(e,t),a=i.isVertical(),o=Rt(i.gradientThickness()),s=i.gradientLength();let l=i("labelOverlap"),c,u,f,d,h="";const m={enter:c={opacity:Le},update:u={opacity:Dr,text:{field:u9}},exit:{opacity:Le}};return Vt(m,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:Vr(e.labelLimit,t.gradientLabelLimit)}),a?(c.align={value:"left"},c.baseline=u.baseline={signal:Aye},f="y",d="x",h="1-"):(c.align=u.align={signal:Tye},c.baseline={value:"top"},f="x",d="y"),c[f]=u[f]={signal:h+"datum."+Mc,mult:s},c[d]=u[d]=o,o.offset=Vr(e.labelOffset,t.gradientLabelOffset)||0,l=l?{separation:i("labelSeparation"),method:l,order:"datum."+w5}:void 0,yr({type:el,role:yR,style:Ah,key:Cr,from:r,encode:m,overlap:l},n)}function Sye(e,t,n,r,i){const a=ir(e,t),o=n.entries,s=!!(o&&o.interactive),l=o?o.name:void 0,c=a("clipHeight"),u=a("symbolOffset"),f={data:"value"},d=`(${i}) ? datum.${lye} : datum.${A5}`,h=c?Rt(c):{field:A5},m=`datum.${w5}`,g=`max(1, ${i})`;let p,y,b,v,x;h.mult=.5,p={enter:y={opacity:Le,x:{signal:d,mult:.5,offset:u},y:h},update:b={opacity:Dr,x:y.x,y:y.y},exit:{opacity:Le}};let _=null,T=null;e.fill||(_=t.symbolBaseFillColor,T=t.symbolBaseStrokeColor),Vt(p,{fill:a("symbolFillColor",_),shape:a("symbolType"),size:a("symbolSize"),stroke:a("symbolStrokeColor",T),strokeDash:a("symbolDash"),strokeDashOffset:a("symbolDashOffset"),strokeWidth:a("symbolStrokeWidth")},{opacity:a("symbolOpacity")}),d9.forEach(k=>{e[k]&&(b[k]=y[k]={scale:e[k],field:Cr})});const w=yr({type:bye,role:Vge,key:Cr,from:f,clip:c?!0:void 0,encode:p},n.symbols),S=Rt(u);S.offset=a("labelOffset"),p={enter:y={opacity:Le,x:{signal:d,offset:S},y:h},update:b={opacity:Dr,text:{field:u9},x:y.x,y:y.y},exit:{opacity:Le}},Vt(p,{align:a("labelAlign"),baseline:a("labelBaseline"),fill:a("labelColor"),fillOpacity:a("labelOpacity"),font:a("labelFont"),fontSize:a("labelFontSize"),fontStyle:a("labelFontStyle"),fontWeight:a("labelFontWeight"),limit:a("labelLimit")});const C=yr({type:el,role:yR,style:Ah,key:Cr,from:f,encode:p},n.labels);return p={enter:{noBound:{value:!c},width:Le,height:c?Rt(c):Le,opacity:Le},exit:{opacity:Le},update:b={opacity:Dr,row:{signal:null},column:{signal:null}}},a.isVertical(!0)?(v=`ceil(item.mark.items.length / ${g})`,b.row.signal=`${m}%${v}`,b.column.signal=`floor(${m} / ${v})`,x={field:["row",m]}):(b.row.signal=`floor(${m} / ${g})`,b.column.signal=`${m} % ${g}`,x={field:m}),b.column.signal=`(${i})?${b.column.signal}:${m}`,r={facet:{data:r,name:"value",groupby:w5}},_d({role:s9,from:r,encode:cu(p,o,Sh),marks:[w,C],name:l,interactive:s,sort:x})}function Eye(e,t){const n=ir(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const p9='item.orient === "left"',g9='item.orient === "right"',I2=`(${p9} || ${g9})`,kye=`datum.vgrad && ${I2}`,Mye=N2('"top"','"bottom"','"middle"'),Oye=N2('"right"','"left"','"center"'),Cye=`datum.vgrad && ${g9} ? (${Oye}) : (${I2} && !(datum.vgrad && ${p9})) ? "left" : ${m9}`,Dye=`item._anchor || (${I2} ? "middle" : "start")`,Lye=`${kye} ? (${p9} ? -90 : 90) : 0`,Fye=`${I2} ? (datum.vgrad ? (${g9} ? "bottom" : "top") : ${Mye}) : "top"`;function Bye(e,t,n,r){const i=ir(e,t),a={enter:{opacity:Le},update:{opacity:Dr,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Le}};return Vt(a,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:Dye},angle:{signal:Lye},align:{signal:Cye},baseline:{signal:Fye},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),yr({type:el,role:Xge,style:f9,from:r,encode:a},n)}function $ye(e,t){let n;return ee(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+kE(e.path)+")":e.sphere&&(n="geoShape("+kE(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function kE(e){return ee(e)&&e.signal?e.signal:q(e)}function IR(e){const t=e.role||"";return!t.indexOf("axis")||!t.indexOf("legend")||!t.indexOf("title")?t:e.type===$2?s9:t||a9}function Nye(e){return{marktype:e.type,name:e.name||void 0,role:e.role||IR(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function Iye(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function y9(e,t){const n=B$(e.type);n||P("Unrecognized transform type: "+q(e.type));const r=L2(n.type.toLowerCase(),null,ZR(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function ZR(e,t,n){const r={},i=e.params.length;for(let a=0;a<i;++a){const o=e.params[a];r[o.name]=Zye(o,t,n)}return r}function Zye(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return Rye(e,t,n);if(i===void 0){e.required&&P("Missing required "+q(t.type)+" parameter: "+q(e.name));return}else{if(r==="param")return Pye(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!Ct(i)?i.map(a=>ME(e,a,n)):ME(e,i,n)}function ME(e,t,n){const r=e.type;if(Ct(t))return CE(r)?P("Expression references can not be signals."):Vb(r)?n.fieldRef(t):DE(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||Vb(r);return i&&jye(t)?n.exprRef(t.expr,t.as):i&&zye(t)?vd(t.field,t.as):CE(r)?aa(t,n):Gye(r)?se(n.getData(t).values):Vb(r)?vd(t):DE(r)?n.compareRef(t):t}}function Rye(e,t,n){return J(t.from)||P('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function Pye(e,t,n){const r=t[e.name];return e.array?(j(r)||P("Expected an array of sub-parameters. Instead: "+q(r)),r.map(i=>OE(e,i,n))):OE(e,r,n)}function OE(e,t,n){const r=e.params.length;let i;for(let o=0;o<r;++o){i=e.params[o];for(const s in i.key)if(i.key[s]!==t[s]){i=null;break}if(i)break}i||P("Unsupported parameter: "+q(t));const a=xe(ZR(i,t,n),i.key);return se(n.add(I2e(a)))}const jye=e=>e&&e.expr,zye=e=>e&&e.field,Gye=e=>e==="data",CE=e=>e==="expr",Vb=e=>e==="field",DE=e=>e==="compare";function Uye(e,t,n){let r,i,a,o,s;return e?(r=e.facet)&&(t||P("Only group marks can be faceted."),r.field!=null?o=s=pm(r,n):(e.data?s=se(n.getData(e.data).aggregate):(a=y9(xe({type:"aggregate",groupby:Q(r.groupby)},r.aggregate),n),a.params.key=n.keyRef(r.groupby),a.params.pulse=pm(r,n),o=s=se(n.add(a))),i=n.keyRef(r.groupby,!0))):o=se(n.add(ki(null,[{}]))),o||(o=pm(e,n)),{key:i,pulse:o,parent:s}}function pm(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:se(t.getData(e.data).output)}function C0(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}C0.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let a=t[0],o=null,s=1;for(a&&a.type==="load"&&(a=t[1]),e.add(t[0]);s<n;++s)t[s].params.pulse=se(t[s-1]),e.add(t[s]),t[s].type==="aggregate"&&(o=t[s]);return new C0(e,a,i,r,o)};function RR(e){return J(e)?e:null}function LE(e,t,n){const r=F2(n.op,n.field);let i;if(t.ops){for(let a=0,o=t.as.length;a<o;++a)if(t.as[a]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function Gu(e,t,n,r,i,a,o){const s=t[n]||(t[n]={}),l=h2e(a);let c=RR(i),u,f;if(c!=null&&(e=t.scope,c=c+(l?"|"+l:""),u=s[c]),!u){const d=a?{field:v5,pulse:t.countsRef(e,i,a)}:{field:e.fieldRef(i),pulse:se(t.output)};l&&(d.sort=e.sortRef(a)),f=e.add(L2(r,void 0,d)),o&&(t.index[i]=f),u=se(f),c!=null&&(s[c]=u)}return u}C0.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),a=RR(t);let o,s,l;return a!=null&&(e=r.scope,o=i[a]),o?n&&n.field&&LE(e,o.agg.params,n):(l={groupby:e.fieldRef(t,"key"),pulse:se(r.output)},n&&n.field&&LE(e,l,n),s=e.add(TR(l)),o=e.add(ki({pulse:se(s)})),o={agg:s,ref:se(o)},a!=null&&(i[a]=o)),o.ref},tuplesRef(){return se(this.values)},extentRef(e,t){return Gu(e,this,"extent","extent",t,!1)},domainRef(e,t){return Gu(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return Gu(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return Gu(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return Gu(e,this,"indata","tupleindex",t,!0,!0)}};function Wye(e,t,n){const r=e.from.facet,i=r.name,a=pm(r,t);let o;r.name||P("Facet must have a name: "+q(r)),r.data||P("Facet must reference a data set: "+q(r)),r.field?o=t.add(ER({field:t.fieldRef(r.field),pulse:a})):r.groupby?o=t.add(M2e({key:t.keyRef(r.groupby),group:se(t.proxy(n.parent)),pulse:a})):P("Facet must specify groupby or field: "+q(r));const s=t.fork(),l=s.add(ki()),c=s.add(Q0({pulse:se(l)}));s.addData(i,new C0(s,l,l,c)),s.addSignal("parent",null),o.params.subflow={$subflow:s.parse(e).toRuntime()}}function Hye(e,t,n){const r=t.add(ER({pulse:n.pulse})),i=t.fork();i.add(Q0()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function PR(e,t,n){const r=e.remove,i=e.insert,a=e.toggle,o=e.modify,s=e.values,l=t.add(Np()),c="if("+e.trigger+',modify("'+n+'",'+[i,r,a,o,s].map(f=>f??"null").join(",")+"),0)",u=aa(c,t);l.update=u.$expr,l.params=u.$params}function Z2(e,t){const n=IR(e),r=e.type===$2,i=e.from&&e.from.facet,a=e.overlap;let o=e.layout||n===s9||n===o9,s,l,c,u,f,d,h;const m=n===a9||o||i,g=Uye(e.from,r,t);l=t.add(E2e({key:g.key||(e.key?vd(e.key):void 0),pulse:g.pulse,clean:!r}));const p=se(l);l=c=t.add(ki({pulse:p})),l=t.add(F2e({markdef:Nye(e),interactive:Iye(e.interactive,t),clip:$ye(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:se(l)}));const y=se(l);l=u=t.add(SR(_R(e.encode,e.type,n,e.style,t,{mod:!1,pulse:y}))),l.params.parent=t.encode(),e.transform&&e.transform.forEach(T=>{const w=y9(T,t),S=w.metadata;(S.generates||S.changes)&&P("Mark transforms should not generate new data."),S.nomod||(u.params.mod=!0),w.params.pulse=se(l),t.add(l=w)}),e.sort&&(l=t.add(z2e({sort:t.compareRef(e.sort),pulse:se(l)})));const b=se(l);(i||o)&&(o=t.add(MR({layout:t.objectProperty(e.layout),legends:t.legends,mark:y,pulse:b})),d=se(o));const v=t.add(AR({mark:y,pulse:d||b}));h=se(v),r&&(m&&(s=t.operators,s.pop(),o&&s.pop()),t.pushState(b,d||h,p),i?Wye(e,t,g):m?Hye(e,t,g):t.parse(e),t.popState(),m&&(o&&s.push(o),s.push(v))),a&&(h=Yye(a,h,t));const x=t.add(kR({pulse:h})),_=t.add(Q0({pulse:se(x)},void 0,t.parent()));e.name!=null&&(f=e.name,t.addData(f,new C0(t,c,x,_)),e.on&&e.on.forEach(T=>{(T.insert||T.remove||T.toggle)&&P("Marks only support modify triggers."),PR(T,t,f)}))}function Yye(e,t,n){const r=e.method,i=e.bound,a=e.separation,o={separation:Ct(a)?n.signalRef(a.signal):a,method:Ct(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(o.sort=n.compareRef({field:e.order})),i){const s=i.tolerance;o.boundTolerance=Ct(s)?n.signalRef(s.signal):+s,o.boundScale=n.scaleRef(i.scale),o.boundOrient=i.orient}return se(n.add(N2e(o)))}function qye(e,t){const n=t.config.legend,r=e.encode||{},i=ir(e,n),a=r.legend||{},o=a.name||void 0,s=a.interactive,l=a.style,c={};let u=0,f,d,h;d9.forEach(v=>e[v]?(c[v]=e[v],u=u||e[v]):0),u||P("Missing valid scale for legend.");const m=Vye(e,t.scaleType(u)),g={title:e.title!=null,scales:c,type:m,vgrad:m!=="symbol"&&i.isVertical()},p=se(t.add(ki(null,[g]))),y={enter:{x:{value:0},y:{value:0}}},b=se(t.add(D2e(d={type:m,scale:t.scaleRef(u),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return m===mm?(h=[_ye(e,u,n,r.gradient),EE(e,n,r.labels,b)],d.count=d.count||t.signalRef(`max(2,2*floor((${s0(i.gradientLength())})/100))`)):m===T5?h=[wye(e,u,n,r.gradient,b),EE(e,n,r.labels,b)]:(f=Eye(e,n),h=[Sye(e,n,r,b,s0(f.columns))],d.size=Kye(e,t,h[0].marks)),h=[_d({role:Yge,from:p,encode:y,marks:h,layout:f,interactive:s})],g.title&&h.push(Bye(e,n,r.title,p)),Z2(_d({role:Wge,from:p,encode:cu(Jye(i,e,n),a,Sh),marks:h,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:o,interactive:s,style:l}),t)}function Vye(e,t){let n=e.type||SE;return!e.type&&Xye(e)===1&&(e.fill||e.stroke)&&(n=Sx(t)?mm:I3(t)?T5:SE),n!==mm?n:I3(t)?T5:mm}function Xye(e){return d9.reduce((t,n)=>t+(e[n]?1:0),0)}function Jye(e,t,n){const r={enter:{},update:{}};return Vt(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function Kye(e,t,n){const r=s0(FE("size",e,n)),i=s0(FE("strokeWidth",e,n)),a=s0(Qye(n[1].encode,t,Ah));return aa(`max(ceil(sqrt(${r})+${i}),${a})`,t)}function FE(e,t,n){return t[e]?`scale("${t[e]}",datum)`:$R(e,n[0].encode)}function Qye(e,t,n){return $R("fontSize",e)||vye("fontSize",t,n)}const ebe=`item.orient==="${uu}"?-90:item.orient==="${fu}"?90:0`;function tbe(e,t){e=J(e)?{text:e}:e;const n=ir(e,t.config.title),r=e.encode||{},i=r.group||{},a=i.name||void 0,o=i.interactive,s=i.style,l=[],c={},u=se(t.add(ki(null,[c])));return l.push(ibe(e,n,nbe(e),u)),e.subtitle&&l.push(abe(e,n,r.subtitle,u)),Z2(_d({role:Jge,from:u,encode:rbe(n,i),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:a,interactive:o,style:s}),t)}function nbe(e){const t=e.encode;return t&&t.title||xe({name:e.name,interactive:e.interactive,style:e.style},t)}function rbe(e,t){const n={enter:{},update:{}};return Vt(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:m9},angle:{signal:ebe},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),cu(n,t,Sh)}function ibe(e,t,n,r){const i={value:0},a=e.text,o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Vt(o,{text:a,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),yr({type:el,role:Kge,style:uye,from:r,encode:o},n)}function abe(e,t,n,r){const i={value:0},a=e.subtitle,o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Vt(o,{text:a,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),yr({type:el,role:Qge,style:fye,from:r,encode:o},n)}function obe(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(y9(r,t))}),e.on&&e.on.forEach(r=>{PR(r,t,e.name)}),t.addDataPipeline(e.name,sbe(e,t,n))}function sbe(e,t,n){const r=[];let i=null,a=!1,o=!1,s,l,c,u,f;for(e.values?Ct(e.values)||dm(e.format)?(r.push(BE(t,e)),r.push(i=Ds())):r.push(i=Ds({$ingest:e.values,$format:e.format})):e.url?dm(e.url)||dm(e.format)?(r.push(BE(t,e)),r.push(i=Ds())):r.push(i=Ds({$request:e.url,$format:e.format})):e.source&&(i=s=Q(e.source).map(d=>se(t.getData(d).output)),r.push(null)),l=0,c=n.length;l<c;++l)u=n[l],f=u.metadata,!i&&!f.source&&r.push(i=Ds()),r.push(u),f.generates&&(o=!0),f.modifies&&!o&&(a=!0),f.source?i=u:f.changes&&(i=null);return s&&(c=s.length-1,r[0]=P2e({derive:a,pulse:c?s:s[0]}),(a||c)&&r.splice(1,0,Ds())),i||r.push(Ds()),r.push(Q0({})),r}function Ds(e){const t=ki({},e);return t.metadata={source:!0},t}function BE(e,t){return L2e({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const jR=e=>e===rs||e===Mi,R2=(e,t,n)=>Ct(e)?fbe(e.signal,t,n):e===uu||e===Mi?t:n,Pt=(e,t,n)=>Ct(e)?cbe(e.signal,t,n):jR(e)?t:n,di=(e,t,n)=>Ct(e)?ube(e.signal,t,n):jR(e)?n:t,zR=(e,t,n)=>Ct(e)?dbe(e.signal,t,n):e===Mi?{value:t}:{value:n},lbe=(e,t,n)=>Ct(e)?hbe(e.signal,t,n):e===fu?{value:t}:{value:n},cbe=(e,t,n)=>GR(`${e} === '${Mi}' || ${e} === '${rs}'`,t,n),ube=(e,t,n)=>GR(`${e} !== '${Mi}' && ${e} !== '${rs}'`,t,n),fbe=(e,t,n)=>b9(`${e} === '${uu}' || ${e} === '${Mi}'`,t,n),dbe=(e,t,n)=>b9(`${e} === '${Mi}'`,t,n),hbe=(e,t,n)=>b9(`${e} === '${fu}'`,t,n),GR=(e,t,n)=>(t=t!=null?Rt(t):t,n=n!=null?Rt(n):n,$E(t)&&$E(n)?(t=t?t.signal||q(t.value):null,n=n?n.signal||q(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[xe({test:e},t)].concat(n||[])),$E=e=>e==null||Object.keys(e).length===1,b9=(e,t,n)=>({signal:`${e} ? (${Rl(t)}) : (${Rl(n)})`}),mbe=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${uu}' ? (${Rl(r)}) : `:"")+(n!=null?`${e} === '${rs}' ? (${Rl(n)}) : `:"")+(i!=null?`${e} === '${fu}' ? (${Rl(i)}) : `:"")+(t!=null?`${e} === '${Mi}' ? (${Rl(t)}) : `:"")+"(null)"}),Rl=e=>Ct(e)?e.signal:e==null?null:q(e),pbe=(e,t)=>t===0?0:Ct(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},Vl=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function Sl(e,t,n,r){let i;if(t&&oe(t,e))return t[e];if(oe(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[f9][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[Ah][i]}return null}function NE(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function gbe(e,t){var n=t.config,r=n.style,i=n.axis,a=t.scaleType(e.scale)==="band"&&n.axisBand,o=e.orient,s,l,c;if(Ct(o)){const f=NE([n.axisX,n.axisY]),d=NE([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);s={};for(c of f)s[c]=Pt(o,Sl(c,n.axisX,i,r),Sl(c,n.axisY,i,r));l={};for(c of d)l[c]=mbe(o.signal,Sl(c,n.axisTop,i,r),Sl(c,n.axisBottom,i,r),Sl(c,n.axisLeft,i,r),Sl(c,n.axisRight,i,r))}else s=o===Mi||o===rs?n.axisX:n.axisY,l=n["axis"+o[0].toUpperCase()+o.slice(1)];return s||l||a?xe({},i,s,l,a):i}function ybe(e,t,n,r){const i=ir(e,t),a=e.orient;let o,s;const l={enter:o={opacity:Le},update:s={opacity:Dr},exit:{opacity:Le}};Vt(l,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const c=IE(e,0),u=IE(e,1);return o.x=s.x=Pt(a,c,Le),o.x2=s.x2=Pt(a,u),o.y=s.y=di(a,c,Le),o.y2=s.y2=di(a,u),yr({type:h9,role:Pge,from:r,encode:l},n)}function IE(e,t){return{scale:e.scale,range:t}}function bbe(e,t,n,r,i){const a=ir(e,t),o=e.orient,s=e.gridScale,l=R2(o,1,-1),c=vbe(e.offset,l);let u,f,d;const h={enter:u={opacity:Le},update:d={opacity:Dr},exit:f={opacity:Le}};Vt(h,{stroke:a("gridColor"),strokeCap:a("gridCap"),strokeDash:a("gridDash"),strokeDashOffset:a("gridDashOffset"),strokeOpacity:a("gridOpacity"),strokeWidth:a("gridWidth")});const m={scale:e.scale,field:Cr,band:i.band,extra:i.extra,offset:i.offset,round:a("tickRound")},g=Pt(o,{signal:"height"},{signal:"width"}),p=s?{scale:s,range:0,mult:l,offset:c}:{value:0,offset:c},y=s?{scale:s,range:1,mult:l,offset:c}:xe(g,{mult:l,offset:c});return u.x=d.x=Pt(o,m,p),u.y=d.y=di(o,m,p),u.x2=d.x2=di(o,y),u.y2=d.y2=Pt(o,y),f.x=Pt(o,m),f.y=di(o,m),yr({type:h9,role:jge,key:Cr,from:r,encode:h},n)}function vbe(e,t){if(t!==1)if(!ee(e))e=Ct(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=xe({},e);for(;n.mult!=null;)if(ee(n.mult))n=n.mult=xe({},n.mult);else return n.mult=Ct(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function xbe(e,t,n,r,i,a){const o=ir(e,t),s=e.orient,l=R2(s,-1,1);let c,u,f;const d={enter:c={opacity:Le},update:f={opacity:Dr},exit:u={opacity:Le}};Vt(d,{stroke:o("tickColor"),strokeCap:o("tickCap"),strokeDash:o("tickDash"),strokeDashOffset:o("tickDashOffset"),strokeOpacity:o("tickOpacity"),strokeWidth:o("tickWidth")});const h=Rt(i);h.mult=l;const m={scale:e.scale,field:Cr,band:a.band,extra:a.extra,offset:a.offset,round:o("tickRound")};return f.y=c.y=Pt(s,Le,m),f.y2=c.y2=Pt(s,h),u.x=Pt(s,m),f.x=c.x=di(s,Le,m),f.x2=c.x2=di(s,h),u.y=di(s,m),yr({type:h9,role:Gge,key:Cr,from:r,encode:d},n)}function Xb(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function _be(e,t,n,r,i,a){const o=ir(e,t),s=e.orient,l=e.scale,c=R2(s,-1,1),u=s0(o("labelFlush")),f=s0(o("labelFlushOffset")),d=o("labelAlign"),h=o("labelBaseline");let m=u===0||!!u,g;const p=Rt(i);p.mult=c,p.offset=Rt(o("labelPadding")||0),p.offset.mult=c;const y={scale:l,field:Cr,band:.5,offset:NR(a.offset,o("labelOffset"))},b=Pt(s,m?Xb(l,u,'"left"','"right"','"center"'):{value:"center"},lbe(s,"left","right")),v=Pt(s,zR(s,"bottom","top"),m?Xb(l,u,'"top"','"bottom"','"middle"'):{value:"middle"}),x=Xb(l,u,`-(${f})`,f,0);m=m&&f;const _={opacity:Le,x:Pt(s,y,p),y:di(s,y,p)},T={enter:_,update:g={opacity:Dr,text:{field:u9},x:_.x,y:_.y,align:b,baseline:v},exit:{opacity:Le,x:_.x,y:_.y}};Vt(T,{dx:!d&&m?Pt(s,x):null,dy:!h&&m?di(s,x):null}),Vt(T,{angle:o("labelAngle"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontWeight:o("labelFontWeight"),fontStyle:o("labelFontStyle"),limit:o("labelLimit"),lineHeight:o("labelLineHeight")},{align:d,baseline:h});const w=o("labelBound");let S=o("labelOverlap");return S=S||w?{separation:o("labelSeparation"),method:S,order:"datum.index",bound:w?{scale:l,orient:s,tolerance:w}:null}:void 0,g.align!==b&&(g.align=Vl(g.align,b)),g.baseline!==v&&(g.baseline=Vl(g.baseline,v)),yr({type:el,role:zge,style:Ah,key:Cr,from:r,encode:T,overlap:S},n)}function wbe(e,t,n,r){const i=ir(e,t),a=e.orient,o=R2(a,-1,1);let s,l;const c={enter:s={opacity:Le,anchor:Rt(i("titleAnchor",null)),align:{signal:m9}},update:l=xe({},s,{opacity:Dr,text:Rt(e.title)}),exit:{opacity:Le}},u={signal:`lerp(range("${e.scale}"), ${N2(0,1,.5)})`};return l.x=Pt(a,u),l.y=di(a,u),s.angle=Pt(a,Le,pbe(o,90)),s.baseline=Pt(a,zR(a,rs,Mi),{value:rs}),l.angle=s.angle,l.baseline=s.baseline,Vt(c,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),Tbe(i,a,c,n),c.update.align=Vl(c.update.align,s.align),c.update.angle=Vl(c.update.angle,s.angle),c.update.baseline=Vl(c.update.baseline,s.baseline),yr({type:el,role:Uge,style:f9,from:r,encode:c},n)}function Tbe(e,t,n,r){const i=(s,l)=>s!=null?(n.update[l]=Vl(Rt(s),n.update[l]),!1):!Ll(l,r),a=i(e("titleX"),"x"),o=i(e("titleY"),"y");n.enter.auto=o===a?Rt(o):Pt(t,Rt(o),Rt(a))}function Abe(e,t){const n=gbe(e,t),r=e.encode||{},i=r.axis||{},a=i.name||void 0,o=i.interactive,s=i.style,l=ir(e,n),c=xye(l),u={scale:e.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:e.title!=null},f=se(t.add(ki({},[u]))),d=se(t.add(S2e({scale:t.scaleRef(e.scale),extra:t.property(c.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),h=[];let m;return u.grid&&h.push(bbe(e,n,r.grid,d,c)),u.ticks&&(m=l("tickSize"),h.push(xbe(e,n,r.ticks,d,m,c))),u.labels&&(m=u.ticks?m:0,h.push(_be(e,n,r.labels,d,m,c))),u.domain&&h.push(ybe(e,n,r.domain,f)),u.title&&h.push(wbe(e,n,r.title,f)),Z2(_d({role:Rge,from:f,encode:cu(Sbe(l,e),i,Sh),marks:h,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:a,interactive:o,style:s}),t)}function Sbe(e,t){const n={enter:{},update:{}};return Vt(n,{orient:e("orient"),offset:e("offset")||0,position:Vr(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function UR(e,t,n){const r=Q(e.signals),i=Q(e.scales);return n||r.forEach(a=>wR(a,t)),Q(e.projections).forEach(a=>rye(a,t)),i.forEach(a=>W2e(a,t)),Q(e.data).forEach(a=>obe(a,t)),i.forEach(a=>H2e(a,t)),(n||r).forEach(a=>A2e(a,t)),Q(e.axes).forEach(a=>Abe(a,t)),Q(e.marks).forEach(a=>Z2(a,t)),Q(e.legends).forEach(a=>qye(a,t)),e.title&&tbe(e.title,t),t.parseLambdas(),t}const Ebe=e=>cu({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function kbe(e,t){const n=t.config,r=se(t.root=t.add(Np())),i=Mbe(e,n);i.forEach(c=>wR(c,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const a=t.add(ki()),o=t.add(SR(_R(Ebe(e.encode),$2,o9,e.style,t,{pulse:se(a)}))),s=t.add(MR({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:se(o)}));t.operators.pop(),t.pushState(se(o),se(s),null),UR(e,t,i),t.operators.push(s);let l=t.add(AR({mark:r,pulse:se(s)}));return l=t.add(kR({pulse:se(l)})),l=t.add(Q0({pulse:se(l)})),t.addData("root",new C0(t,a,a,l)),t}function Uu(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function Mbe(e,t){const n=o=>Vr(e[o],t[o]),r=[Uu("background",n("background")),Uu("autosize",Nge(n("autosize"))),Uu("padding",Zge(n("padding"))),Uu("width",n("width")||0),Uu("height",n("height")||0)],i=r.reduce((o,s)=>(o[s.name]=s,o),{}),a={};return Q(e.signals).forEach(o=>{oe(i,o.name)?o=xe(i[o.name],o):r.push(o),a[o.name]=o}),Q(t.signals).forEach(o=>{!oe(a,o.name)&&!oe(i,o.name)&&r.push(o)}),r}function WR(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function ZE(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}WR.prototype=ZE.prototype={parse(e){return UR(e,this)},fork(){return new ZE(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof b5?se(e):e;return this.add(R2e({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,a){let o,s;r&&(o=r.data||(r.data={}),s=o[i]||(o[i]=[]),s.push(a))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(se(this.add(Q0({pulse:e})))),this._parent.push(t),this._lookup.push(n?se(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return Ce(this._parent)},encode(){return Ce(this._encode)},lookup(){return Ce(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(J(e))return vd(e,t);e.signal||P("Unsupported field reference: "+q(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=se(this.add(O2e(i)))}return r},compareRef(e){let t=!1;const n=a=>Ct(a)?(t=!0,this.signalRef(a.signal)):m2e(a)?(t=!0,this.exprRef(a.expr)):a,r=Q(e.field).map(n),i=Q(e.order).map(n);return t?se(this.add(AE({fields:r,orders:i}))):wE(r,i)},keyRef(e,t){let n=!1;const r=a=>Ct(a)?(n=!0,se(i[a.signal])):a,i=this.signals;return e=Q(e).map(r),n?se(this.add(C2e({fields:e,flat:t}))):u2e(e,t)},sortRef(e){if(!e)return e;const t=F2(e.op,e.field),n=e.order||f2e;return n.signal?se(this.add(AE({fields:t,orders:this.signalRef(n.signal)}))):wE(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return oe(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&P("Duplicate signal name: "+q(e));const n=t instanceof b5?t:this.add(Np(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||P("Unrecognized signal name: "+q(e)),this.signals[e]},signalRef(e){return this.signals[e]?se(this.signals[e]):(oe(this.lambdas,e)||(this.lambdas[e]=this.add(Np(null))),se(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=aa(r,this),a=this.lambdas[r];a.params=i.$params,a.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!ee(e)?e:this.signalRef(e.signal||v9(e))},exprRef(e,t){const n={expr:aa(e,this)};return t&&(n.expr.$name=t),se(this.add(k2e(n)))},addBinding(e,t){this.bindings||P("Nested signals do not support binding: "+q(e)),this.bindings.push(xe({signal:e},t))},addScaleProj(e,t){oe(this.scales,e)&&P("Duplicate scale or projection name: "+q(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,j2e(t))},addProjection(e,t){this.addScaleProj(e,Z2e(t))},getScale(e){return this.scales[e]||P("Unrecognized scale name: "+q(e)),this.scales[e]},scaleRef(e){return se(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return oe(this.data,e)&&P("Duplicate data set name: "+q(e)),this.data[e]=t},getData(e){return this.data[e]||P("Undefined data set name: "+q(e)),this.data[e]},addDataPipeline(e,t){return oe(this.data,e)&&P("Duplicate data set name: "+q(e)),this.addData(e,C0.fromEntries(this,t))}};function v9(e){return(j(e)?Obe:Cbe)(e)}function Obe(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+(ee(i)?i.signal||v9(i):q(i))}return n+"]"}function Cbe(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+q(r)+":"+(ee(i)?i.signal||v9(i):q(i));return t+"}"}function Dbe(){const e="sans-serif",r="#4c78a8",i="#000",a="#888",o="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:o}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:a,grid:!1,gridWidth:1,gridColor:o,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:a,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:o,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:a,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function Lbe(e,t,n){return ee(e)||P("Input Vega specification must be an object."),t=tu(Dbe(),t,e.config),kbe(e,new WR(t,n)).toRuntime()}var Fbe="5.22.1";xe(vc,D0e,vfe,Jfe,Mde,$de,lhe,jde,uhe,hhe,The,Che);const Bbe=Object.freeze(Object.defineProperty({__proto__:null,Bounds:_t,CanvasHandler:vh,CanvasRenderer:Ap,DATE:Qn,DAY:sn,DAYOFYEAR:ia,Dataflow:ql,Debug:MB,Error:f4,EventStream:t2,Gradient:GN,GroupItem:m2,HOURS:mr,Handler:ts,Info:kB,Item:h2,MILLISECONDS:xi,MINUTES:pr,MONTH:mn,Marks:gr,MultiPulse:D4,None:EB,Operator:Je,Parameters:e2,Pulse:No,QUARTER:Kn,RenderType:Co,Renderer:ma,ResourceLoader:Bx,SECONDS:$r,SVGHandler:Kx,SVGRenderer:i_,SVGStringRenderer:a_,Scenegraph:Xx,TIME_UNITS:T4,Transform:I,View:cR,WEEK:kt,Warn:d4,YEAR:qt,accessor:rr,accessorFields:hn,accessorName:vt,array:Q,ascending:qg,bandwidthNRD:$4,bin:I$,bootstrapCI:Z$,boundClip:II,boundContext:ph,boundItem:U3,boundMark:lI,boundStroke:ro,changeset:X0,clampRange:RB,codegenExpression:IZ,compare:y4,constant:vn,cumulativeLogNormal:j4,cumulativeNormal:r2,cumulativeUniform:W4,dayofyear:JB,debounce:b4,defaultLocale:E4,definition:B$,densityLogNormal:P4,densityNormal:N4,densityUniform:U4,domChild:Wn,domClear:ei,domCreate:Mo,domFind:Jx,dotbin:R$,error:P,expressionFunction:At,extend:xe,extent:ra,extentIndex:PB,falsy:po,fastmap:ru,field:Jn,flush:jB,font:v2,fontFamily:bh,fontSize:ha,format:J1,formatLocale:hp,formats:O4,hasOwnProperty:oe,id:rh,identity:bn,inferType:T$,inferTypes:A$,ingest:je,inherits:H,inrange:Nl,interpolate:Ex,interpolateColors:f2,interpolateRange:ON,intersect:FI,intersectBoxLine:Il,intersectPath:$x,intersectPoint:Nx,intersectRule:JN,isArray:j,isBoolean:ps,isDate:$o,isFunction:_e,isIterable:zB,isNumber:Ye,isObject:ee,isRegExp:GB,isString:J,isTuple:Kg,key:v4,lerp:UB,lineHeight:Qo,loader:Xg,locale:_$,logger:h4,lruCache:WB,markup:r_,merge:HB,mergeConfig:tu,multiLineOffset:Yx,one:eu,pad:YB,panLinear:FB,panLog:BB,panPow:$B,panSymlog:NB,parse:Lbe,parseExpression:H_,parseSelector:ys,path:qc,pathCurves:Dx,pathEqual:ZI,pathParse:Tc,pathRectangle:HN,pathRender:fd,pathSymbols:WN,pathTrail:YN,peek:Ce,point:_2,projection:y_,quantileLogNormal:z4,quantileNormal:i2,quantileUniform:H4,quantiles:F4,quantizeInterpolator:CN,quarter:IB,quartiles:B4,get random(){return Nr},randomInteger:$se,randomKDE:Z4,randomLCG:Bse,randomLogNormal:j$,randomMixture:z$,randomNormal:I4,randomUniform:G$,read:k$,regressionExp:W$,regressionLinear:Y4,regressionLoess:q$,regressionLog:U$,regressionPoly:Y$,regressionPow:H$,regressionQuad:q4,renderModule:w2,repeat:ff,resetDefaultLocale:Doe,resetSVGClipId:VN,resetSVGDefIds:$ue,responseType:E$,runtimeContext:XZ,sampleCurve:o2,sampleLogNormal:R4,sampleNormal:n2,sampleUniform:G4,scale:Ze,sceneEqual:o_,sceneFromJSON:uI,scenePickVisit:bp,sceneToJSON:cI,sceneVisit:_i,sceneZOrder:Ix,scheme:kx,serializeXML:SI,setRandom:Lse,span:ih,splitAccessPath:da,stringValue:q,textMetrics:fi,timeBin:m$,timeFloor:i$,timeFormatLocale:ld,timeInterval:iu,timeOffset:s$,timeSequence:u$,timeUnitSpecifier:XB,timeUnits:A4,toBoolean:x4,toDate:_4,toNumber:un,toSet:vi,toString:w4,transform:$$,transforms:vc,truncate:qB,truthy:Br,tupleid:le,typeParsers:B3,utcFloor:a$,utcInterval:au,utcOffset:l$,utcSequence:f$,utcdayofyear:e$,utcquarter:ZB,utcweek:t$,version:Fbe,visitArray:xo,week:KB,writeConfig:nu,zero:So,zoomLinear:m4,zoomLog:p4,zoomPow:dp,zoomSymlog:g4},Symbol.toStringTag,{value:"Module"}));function $be(e,t,n){let r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}var Nbe={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},Ibe={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},Zbe={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const Rbe=Array.prototype.slice,Ls=(e,t,n)=>{const r=n?n(t[0]):t[0];return r[e].apply(r,Rbe.call(t,1))},Pbe=(e,t,n,r,i,a,o)=>new Date(e,t||0,n??1,r||0,i||0,a||0,o||0);var jbe={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:Pbe,date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return Ls("join",arguments)},indexof:function(){return Ls("indexOf",arguments)},lastindexof:function(){return Ls("lastIndexOf",arguments)},slice:function(){return Ls("slice",arguments)},reverse:e=>e.slice().reverse(),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return Ls("substring",arguments,String)},split:function(){return Ls("split",arguments,String)},replace:function(){return Ls("replace",arguments,String)},trim:e=>String(e).trim(),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const zbe=["view","item","group","xy","x","y"],Gbe={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:n==="datum"?e.datum:n==="event"?e.event:n==="item"?e.item:Nbe[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);const i=e(t.property);return n&&(e.memberDepth-=1),r[i]},CallExpression:(e,t)=>{const n=t.arguments;let r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),r==="if"?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||jbe[r]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>Ibe[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>Zbe[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>t.operator==="&&"?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((n,r)=>{e.memberDepth+=1;const i=e(r.key);return e.memberDepth-=1,n[i]=e(r.value),n},{})};function Wu(e,t,n,r,i,a){const o=s=>Gbe[s.type](o,s);return o.memberDepth=0,o.fn=Object.create(t),o.params=n,o.datum=r,o.event=i,o.item=a,zbe.forEach(s=>o.fn[s]=(...l)=>i.vega[s](...l)),o(e)}var Ube={operator(e,t){const n=t.ast,r=e.functions;return i=>Wu(n,r,i)},parameter(e,t){const n=t.ast,r=e.functions;return(i,a)=>Wu(n,r,a,i)},event(e,t){const n=t.ast,r=e.functions;return i=>Wu(n,r,void 0,void 0,i)},handler(e,t){const n=t.ast,r=e.functions;return(i,a)=>{const o=a.item&&a.item.datum;return Wu(n,r,i,o,a)}},encode(e,t){const{marktype:n,channels:r}=t,i=e.functions,a=n==="group"||n==="image"||n==="rect";return(o,s)=>{const l=o.datum;let c=0,u;for(const f in r)u=Wu(r[f].ast,i,s,l,void 0,o),o[f]!==u&&(o[f]=u,c=1);return n!=="rule"&&$be(o,r,a),c}}};const Wbe="vega-lite",Hbe='Dominik Moritz, Kanit "Ham" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',Ybe="5.5.0",qbe=["Kanit Wongsuphasawat (http://kanitw.yellowpigz.com)","Dominik Moritz (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com)","Jeffrey Heer (https://jheer.org)"],Vbe="https://vega.github.io/vega-lite/",Xbe="Vega-Lite is a concise high-level language for interactive visualization.",Jbe=["vega","chart","visualization"],Kbe="build/vega-lite.js",Qbe="build/vega-lite.min.js",eve="build/vega-lite.min.js",tve="build/src/index",nve="build/src/index.d.ts",rve={vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2pdf:"./bin/vl2pdf",vl2vg:"./bin/vl2vg"},ive=["bin","build","src","vega-lite*","tsconfig.json"],ave={changelog:"conventional-changelog -p angular -r 2",prebuild:"yarn clean:build",build:"yarn build:only","build:only":"tsc -p tsconfig.build.json && rollup -c","prebuild:examples":"yarn build:only","build:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","prebuild:examples-full":"yarn build:only","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn build:jekyll && scripts/generate-toc","build:site":"rollup -c site/rollup.config.js","build:jekyll":"pushd site && bundle exec jekyll build -q && popd","build:versions":"scripts/update-version.sh",clean:"yarn clean:build && del-cli 'site/data/*' 'examples/compiled/*.png' && find site/examples ! -name 'index.md' ! -name 'data' -type f -delete","clean:build":"del-cli 'build/*' !build/vega-lite-schema.json","predeploy:site":"yarn presite","deploy:site":"gh-pages -d site",data:"rsync -r node_modules/vega-datasets/data/* site/data",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only","site:only":"pushd site && bundle exec jekyll serve -I -l && popd",prettierbase:"prettier '**/*.{md,css,yml}'",eslintbase:"eslint .",format:"yarn eslintbase --fix && yarn prettierbase --write",lint:"yarn eslintbase && yarn prettierbase --check",jest:"NODE_OPTIONS=--experimental-vm-modules npx jest",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn test:runtime","test:cover":"yarn jest --collectCoverage test/","test:inspect":"node --inspect-brk --experimental-vm-modules ./node_modules/.bin/jest --runInBand test","test:runtime":"NODE_OPTIONS=--experimental-vm-modules TZ=America/Los_Angeles npx jest test-runtime/ --config test-runtime/jest-config.json","test:runtime:generate":"yarn build:only && del-cli test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime",watch:"tsc -p tsconfig.build.json -w","watch:site":"yarn build:site -w","watch:test":"yarn jest --watch test/","watch:test:runtime":"NODE_OPTIONS=--experimental-vm-modules TZ=America/Los_Angeles npx jest --watch test-runtime/ --config test-runtime/jest-config.json",release:"yarn run prebuild && yarn build && yarn shipit",shipit:"auto shipit"},ove={type:"git",url:"https://github.com/vega/vega-lite.git"},sve="BSD-3-Clause",lve={url:"https://github.com/vega/vega-lite/issues"},cve={"@auto-it/conventional-commits":"^10.37.6","@auto-it/first-time-contributor":"^10.37.6","@babel/core":"^7.19.1","@babel/preset-env":"^7.19.1","@babel/preset-typescript":"^7.18.6","@rollup/plugin-alias":"^4.0.0","@rollup/plugin-babel":"^6.0.0","@rollup/plugin-commonjs":"^23.0.0","@rollup/plugin-json":"^4.1.0","@types/jest":"^27.4.1","@rollup/plugin-node-resolve":"^14.1.0","@types/chai":"^4.3.3","@types/d3":"^7.4.0","@types/mkdirp":"^1.0.2","@types/pako":"^2.0.0","@typescript-eslint/eslint-plugin":"^5.38.0","@typescript-eslint/parser":"^5.38.0",ajv:"^8.11.0","ajv-formats":"^2.1.1",auto:"^10.37.6",chai:"^4.3.6",cheerio:"^1.0.0-rc.12","conventional-changelog-cli":"^2.2.2",d3:"^7.6.1","del-cli":"^5.0.0",eslint:"^8.23.1","eslint-config-prettier":"^8.5.0","eslint-plugin-jest":"^27.0.4","eslint-plugin-prettier":"^4.2.1","gh-pages":"^4.0.0",jest:"^27.5.1","highlight.js":"^11.6.0","jest-dev-server":"^6.1.1",mkdirp:"^1.0.4",pako:"^2.0.4",prettier:"^2.7.1",puppeteer:"^15.0.0",rollup:"^2.79.1","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-sourcemaps":"^0.6.3","rollup-plugin-terser":"^7.0.2",serve:"^14.0.1",terser:"^5.15.0","ts-jest":"^29.0.1","ts-json-schema-generator":"^1.1.1","vega-cli":"^5.22.1",typescript:"~4.8.3","vega-datasets":"~2.5.1","vega-embed":"^6.21.0","vega-tooltip":"^0.28.0","yaml-front-matter":"^4.1.1"},uve={"@types/clone":"~2.1.1",clone:"~2.1.2","fast-deep-equal":"~3.1.3","fast-json-stable-stringify":"~2.1.0","json-stringify-pretty-compact":"~3.0.0",tslib:"~2.4.0","vega-event-selector":"~3.0.0","vega-expression":"~5.0.0","vega-util":"~1.17.0",yargs:"~17.6.0"},fve={vega:"^5.22.0"},dve={node:">=12"},hve={name:Wbe,author:Hbe,version:Ybe,collaborators:qbe,homepage:Vbe,description:Xbe,keywords:Jbe,main:Kbe,unpkg:Qbe,jsdelivr:eve,module:tve,types:nve,bin:rve,files:ive,scripts:ave,repository:ove,license:sve,bugs:lve,devDependencies:cve,dependencies:uve,peerDependencies:fve,engines:dve};var S5={},mve={get exports(){return S5},set exports(e){S5=e}};(function(e){var t=function(){function n(d,h){return h!=null&&d instanceof h}var r;try{r=Map}catch{r=function(){}}var i;try{i=Set}catch{i=function(){}}var a;try{a=Promise}catch{a=function(){}}function o(d,h,m,g,p){typeof h=="object"&&(m=h.depth,g=h.prototype,p=h.includeNonEnumerable,h=h.circular);var y=[],b=[],v=typeof Buffer<"u";typeof h>"u"&&(h=!0),typeof m>"u"&&(m=1/0);function x(_,T){if(_===null)return null;if(T===0)return _;var w,S;if(typeof _!="object")return _;if(n(_,r))w=new r;else if(n(_,i))w=new i;else if(n(_,a))w=new a(function(F,$){_.then(function(N){F(x(N,T-1))},function(N){$(x(N,T-1))})});else if(o.__isArray(_))w=[];else if(o.__isRegExp(_))w=new RegExp(_.source,f(_)),_.lastIndex&&(w.lastIndex=_.lastIndex);else if(o.__isDate(_))w=new Date(_.getTime());else{if(v&&Buffer.isBuffer(_))return Buffer.allocUnsafe?w=Buffer.allocUnsafe(_.length):w=new Buffer(_.length),_.copy(w),w;n(_,Error)?w=Object.create(_):typeof g>"u"?(S=Object.getPrototypeOf(_),w=Object.create(S)):(w=Object.create(g),S=g)}if(h){var C=y.indexOf(_);if(C!=-1)return b[C];y.push(_),b.push(w)}n(_,r)&&_.forEach(function(F,$){var N=x($,T-1),R=x(F,T-1);w.set(N,R)}),n(_,i)&&_.forEach(function(F){var $=x(F,T-1);w.add($)});for(var k in _){var A;S&&(A=Object.getOwnPropertyDescriptor(S,k)),!(A&&A.set==null)&&(w[k]=x(_[k],T-1))}if(Object.getOwnPropertySymbols)for(var L=Object.getOwnPropertySymbols(_),k=0;k<L.length;k++){var D=L[k],E=Object.getOwnPropertyDescriptor(_,D);E&&!E.enumerable&&!p||(w[D]=x(_[D],T-1),E.enumerable||Object.defineProperty(w,D,{enumerable:!1}))}if(p)for(var O=Object.getOwnPropertyNames(_),k=0;k<O.length;k++){var M=O[k],E=Object.getOwnPropertyDescriptor(_,M);E&&E.enumerable||(w[M]=x(_[M],T-1),Object.defineProperty(w,M,{enumerable:!1}))}return w}return x(d,m)}o.clonePrototype=function(h){if(h===null)return null;var m=function(){};return m.prototype=h,new m};function s(d){return Object.prototype.toString.call(d)}o.__objToStr=s;function l(d){return typeof d=="object"&&s(d)==="[object Date]"}o.__isDate=l;function c(d){return typeof d=="object"&&s(d)==="[object Array]"}o.__isArray=c;function u(d){return typeof d=="object"&&s(d)==="[object RegExp]"}o.__isRegExp=u;function f(d){var h="";return d.global&&(h+="g"),d.ignoreCase&&(h+="i"),d.multiline&&(h+="m"),h}return o.__getRegExpFlags=f,o}();e.exports&&(e.exports=t)})(mve);const pve=S5;var gve=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(a=Object.keys(t),r=a.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;i--!==0;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n},x9=function(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});var n=typeof t.cycles=="boolean"?t.cycles:!1,r=t.cmp&&function(a){return function(o){return function(s,l){var c={key:s,value:o[s]},u={key:l,value:o[l]};return a(c,u)}}}(t.cmp),i=[];return function a(o){if(o&&o.toJSON&&typeof o.toJSON=="function"&&(o=o.toJSON()),o!==void 0){if(typeof o=="number")return isFinite(o)?""+o:"null";if(typeof o!="object")return JSON.stringify(o);var s,l;if(Array.isArray(o)){for(l="[",s=0;s<o.length;s++)s&&(l+=","),l+=a(o[s])||"null";return l+"]"}if(o===null)return"null";if(i.indexOf(o)!==-1){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var c=i.push(o)-1,u=Object.keys(o).sort(r&&r(o));for(l="",s=0;s<u.length;s++){var f=u[s],d=a(o[f]);d&&(l&&(l+=","),l+=JSON.stringify(f)+":"+d)}return i.splice(c,1),"{"+l+"}"}}(e)};function _9(e){return!!e.or}function w9(e){return!!e.and}function T9(e){return!!e.not}function gm(e,t){if(T9(e))gm(e.not,t);else if(w9(e))for(const n of e.and)gm(n,t);else if(_9(e))for(const n of e.or)gm(n,t);else t(e)}function Xl(e,t){return T9(e)?{not:Xl(e.not,t)}:w9(e)?{and:e.and.map(n=>Xl(n,t))}:_9(e)?{or:e.or.map(n=>Xl(n,t))}:t(e)}const Gi=gve,ve=pve;function HR(e){throw new Error(e)}function Oc(e,t){const n={};for(const r of t)oe(e,r)&&(n[r]=e[r]);return n}function qn(e,t){const n=Object.assign({},e);for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>x9(e)).join(",")})`};const tt=x9;function De(e){if(Ye(e))return e;const t=J(e)?e:x9(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function E5(e){return e===!1||e===null}function Me(e,t){return e.includes(t)}function D0(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function A9(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function YR(e,...t){for(const n of t)yve(e,n??{});return e}function yve(e,t){for(const n of G(t))nu(e,n,t[n],!0)}function Ui(e,t){const n=[],r={};let i;for(const a of e)i=t(a),!(i in r)&&(r[i]=1,n.push(a));return n}function bve(e,t){const n=G(e),r=G(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function qR(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function S9(e,t){for(const n of e)if(t.has(n))return!0;return!1}function k5(e){const t=new Set;for(const n of e){const i=da(n).map((o,s)=>s===0?o:`[${o}]`),a=i.map((o,s)=>i.slice(0,s+1).join(""));for(const o of a)t.add(o)}return t}function E9(e,t){return e===void 0||t===void 0?!0:S9(k5(e),k5(t))}function He(e){return G(e).length===0}const G=Object.keys,yn=Object.values,is=Object.entries;function wd(e){return e===!0||e===!1}function lt(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function If(e,t){return T9(e)?`!(${If(e.not,t)})`:w9(e)?`(${e.and.map(n=>If(n,t)).join(") && (")})`:_9(e)?`(${e.or.map(n=>If(n,t)).join(") || (")})`:t(e)}function Ip(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&Ip(e[n],t)&&delete e[n],He(e)}function Eh(e){return e.charAt(0).toUpperCase()+e.substr(1)}function k9(e,t="datum"){const n=da(e),r=[];for(let i=1;i<=n.length;i++){const a=`[${n.slice(0,i).map(q).join("][")}]`;r.push(`${t}${a}`)}return r.join(" && ")}function VR(e,t="datum"){return`${t}[${q(da(e).join("."))}]`}function vve(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Ir(e){return`${da(e).map(vve).join("\\.")}`}function L0(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function M9(e){return`${da(e).join(".")}`}function Cc(e){return e?da(e).length:0}function wt(...e){for(const t of e)if(t!==void 0)return t}let XR=42;function JR(e){const t=++XR;return e?String(e)+t:t}function xve(){XR=42}function KR(e){return QR(e)?e:`__${e}`}function QR(e){return e.startsWith("__")}function Td(e){if(e!==void 0)return(e%360+360)%360}function P2(e){return Ye(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}var kh=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Ua="row",Wa="column",j2="facet",dt="x",zt="y",Oi="x2",ga="y2",bs="xOffset",du="yOffset",Ci="radius",oo="radius2",zr="theta",so="theta2",ya="latitude",ba="longitude",Di="latitude2",Zr="longitude2",er="color",va="fill",xa="stroke",tr="shape",lo="size",tl="angle",co="opacity",vs="fillOpacity",xs="strokeOpacity",_s="strokeWidth",ws="strokeDash",Mh="text",Oh="order",Ch="detail",z2="key",F0="tooltip",G2="href",U2="url",W2="description",_ve={x:1,y:1,x2:1,y2:1},eP={theta:1,theta2:1,radius:1,radius2:1};function tP(e){return e in eP}const O9={longitude:1,longitude2:1,latitude:1,latitude2:1};function wve(e){switch(e){case ya:return"y";case Di:return"y2";case ba:return"x";case Zr:return"x2"}}function Tve(e){return e in O9}const Ave=G(O9),C9=Object.assign(Object.assign(Object.assign(Object.assign({},_ve),eP),O9),{xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1});function Jl(e){return e===er||e===va||e===xa}const nP={row:1,column:1,facet:1},Or=G(nP),D9=Object.assign(Object.assign({},C9),nP),Sve=G(D9),Eve=kh(D9,["order","detail","tooltip"]),kve=kh(Eve,["row","column","facet"]);function Mve(e){return!!kve[e]}function rP(e){return!!D9[e]}const Ove=[Oi,ga,Di,Zr,so,oo];function iP(e){return nl(e)!==e}function nl(e){switch(e){case Oi:return dt;case ga:return zt;case Di:return ya;case Zr:return ba;case so:return zr;case oo:return Ci}return e}function as(e){if(tP(e))switch(e){case zr:return"startAngle";case so:return"endAngle";case Ci:return"outerRadius";case oo:return"innerRadius"}return e}function _a(e){switch(e){case dt:return Oi;case zt:return ga;case ya:return Di;case ba:return Zr;case zr:return so;case Ci:return oo}}function nr(e){switch(e){case dt:case Oi:return"width";case zt:case ga:return"height"}}function Cve(e){switch(e){case dt:return"xOffset";case zt:return"yOffset";case Oi:return"x2Offset";case ga:return"y2Offset";case zr:return"thetaOffset";case Ci:return"radiusOffset";case so:return"theta2Offset";case oo:return"radius2Offset"}}function aP(e){switch(e){case dt:return"xOffset";case zt:return"yOffset"}}function oP(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const Dve=G(C9),L9=kh(C9,["x","y","x2","y2","xOffset","yOffset","latitude","longitude","latitude2","longitude2","theta","theta2","radius","radius2"]),Lve=G(L9),F9={x:1,y:1},wa=G(F9);function Gt(e){return e in F9}const B9={theta:1,radius:1},Fve=G(B9);function H2(e){return e==="width"?dt:zt}const sP={xOffset:1,yOffset:1};function hu(e){return e in sP}const lP=kh(L9,["text","tooltip","href","url","description","detail","key","order"]),Bve=G(lP);function $ve(e){return!!L9[e]}function Nve(e){switch(e){case er:case va:case xa:case lo:case tr:case co:case _s:case ws:return!0;case vs:case xs:case tl:return!1}}const cP=Object.assign(Object.assign(Object.assign(Object.assign({},F9),B9),sP),lP),Y2=G(cP);function Ts(e){return!!cP[e]}function Ive(e,t){return Rve(e)[t]}const uP={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},Zve=kh(uP,["geoshape"]);function Rve(e){switch(e){case er:case va:case xa:case W2:case Ch:case z2:case F0:case G2:case Oh:case co:case vs:case xs:case _s:case j2:case Ua:case Wa:return uP;case dt:case zt:case bs:case du:case ya:case ba:return Zve;case Oi:case ga:case Di:case Zr:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case lo:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case ws:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case tr:return{point:"always",geoshape:"always"};case Mh:return{text:"always"};case tl:return{point:"always",square:"always",text:"always"};case U2:return{image:"always"};case zr:return{text:"always",arc:"always"};case Ci:return{text:"always",arc:"always"};case so:case oo:return{arc:"always"}}}function Jb(e){switch(e){case dt:case zt:case zr:case Ci:case bs:case du:case lo:case tl:case _s:case co:case vs:case xs:case Oi:case ga:case so:case oo:return;case j2:case Ua:case Wa:case tr:case ws:case Mh:case F0:case G2:case U2:case W2:return"discrete";case er:case va:case xa:return"flexible";case ya:case ba:case Di:case Zr:case Ch:case z2:case Oh:return}}const Pve={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},jve={count:1,min:1,max:1};function to(e){return!!e&&!!e.argmin}function As(e){return!!e&&!!e.argmax}function $9(e){return J(e)&&!!Pve[e]}const zve=new Set(["count","valid","missing","distinct"]);function fP(e){return J(e)&&zve.has(e)}function Gve(e){return J(e)&&Me(["min","max"],e)}const Uve=new Set(["count","sum","distinct","valid","missing"]),Wve=new Set(["mean","average","median","q1","q3","min","max"]);function dP(e){return ps(e)&&(e=iy(e,void 0)),"bin"+G(e).map(t=>q2(e[t])?lt(`_${t}_${is(e[t])}`):lt(`_${t}_${e[t]}`)).join("")}function nt(e){return e===!0||rl(e)&&!e.binned}function Ht(e){return e==="binned"||rl(e)&&e.binned===!0}function rl(e){return ee(e)}function q2(e){return e==null?void 0:e.param}function RE(e){switch(e){case Ua:case Wa:case lo:case er:case va:case xa:case _s:case co:case vs:case xs:case tr:return 6;case ws:return 4;default:return 10}}function Dh(e){return!!(e!=null&&e.expr)}function Un(e){const t=G(e||{}),n={};for(const r of t)n[r]=fr(e[r]);return n}var Hve=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function hP(e){const{anchor:t,frame:n,offset:r,orient:i,angle:a,limit:o,color:s,subtitleColor:l,subtitleFont:c,subtitleFontSize:u,subtitleFontStyle:f,subtitleFontWeight:d,subtitleLineHeight:h,subtitlePadding:m}=e,g=Hve(e,["anchor","frame","offset","orient","angle","limit","color","subtitleColor","subtitleFont","subtitleFontSize","subtitleFontStyle","subtitleFontWeight","subtitleLineHeight","subtitlePadding"]),p=Object.assign(Object.assign({},g),s?{fill:s}:{}),y=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t?{anchor:t}:{}),n?{frame:n}:{}),r?{offset:r}:{}),i?{orient:i}:{}),a!==void 0?{angle:a}:{}),o!==void 0?{limit:o}:{}),b=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},l?{subtitleColor:l}:{}),c?{subtitleFont:c}:{}),u?{subtitleFontSize:u}:{}),f?{subtitleFontStyle:f}:{}),d?{subtitleFontWeight:d}:{}),h?{subtitleLineHeight:h}:{}),m?{subtitlePadding:m}:{}),v=Oc(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:p,subtitleMarkConfig:v,nonMarkTitleProperties:y,subtitle:b}}function To(e){return J(e)||j(e)&&J(e[0])}function ae(e){return!!(e!=null&&e.signal)}function Ss(e){return!!e.step}function Yve(e){return j(e)?!1:"fields"in e&&!("data"in e)}function qve(e){return j(e)?!1:"fields"in e&&"data"in e}function Pa(e){return j(e)?!1:"field"in e&&"data"in e}const Vve={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},Xve=G(Vve),Jve={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},M5=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];var N9=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function mP(e){const t=j(e.condition)?e.condition.map(PE):PE(e.condition);return Object.assign(Object.assign({},fr(e)),{condition:t})}function fr(e){if(Dh(e)){const{expr:t}=e,n=N9(e,["expr"]);return Object.assign({signal:t},n)}return e}function PE(e){if(Dh(e)){const{expr:t}=e,n=N9(e,["expr"]);return Object.assign({signal:t},n)}return e}function it(e){if(Dh(e)){const{expr:t}=e,n=N9(e,["expr"]);return Object.assign({signal:t},n)}return ae(e)?e:e!==void 0?{value:e}:void 0}function Kve(e){return ae(e)?e.signal:q(e)}function jE(e){return ae(e)?e.signal:q(e.value)}function Ha(e){return ae(e)?e.signal:e==null?null:q(e)}function Qve(e,t,n){for(const r of n){const i=B0(r,t.markDef,t.config);i!==void 0&&(e[r]=it(i))}return e}function pP(e){var t;return[].concat(e.type,(t=e.style)!==null&&t!==void 0?t:[])}function ze(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:a}=r;return i&&t[i]!==void 0?t[i]:t[e]!==void 0?t[e]:a&&(!i||i===e)?void 0:B0(e,t,n,r)}function B0(e,t,n,{vgChannel:r}={}){return wt(r?Zp(e,t,n.style):void 0,Zp(e,t,n.style),r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function Zp(e,t,n){return gP(e,pP(t),n)}function gP(e,t,n){t=Q(t);let r;for(const i of t){const a=n[i];a&&a[e]!==void 0&&(r=a[e])}return r}function yP(e,t){return Q(e).reduce((n,r)=>{var i;return n.field.push(V(r,t)),n.order.push((i=r.sort)!==null&&i!==void 0?i:"ascending"),n},{field:[],order:[]})}function bP(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if(Gi(i,r))return;n.push(r)}),n}function vP(e,t){return Gi(e,t)||!t?e:e?[...Q(e),...Q(t)].join(", "):t}function xP(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((To(n)||ae(n))&&(To(r)||ae(r)))return{explicit:e.explicit,value:vP(n,r)};if(To(n)||ae(n))return{explicit:e.explicit,value:n};if(To(r)||ae(r))return{explicit:e.explicit,value:r};if(!To(n)&&!ae(n)&&!To(r)&&!ae(r))return{explicit:e.explicit,value:bP(n,r)};throw new Error("It should never reach here")}function I9(e){return`Invalid specification ${tt(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const e3e='Autosize "fit" only works for single views and layered views.';function zE(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function GE(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function UE(e){return e?`Dropping "fit-${e}" because spec has discrete ${nr(e)}.`:'Dropping "fit" because spec has discrete size.'}function Z9(e){return`Unknown field for ${e}. Cannot calculate view size.`}function WE(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function t3e(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function n3e(e){return`The "nearest" transform is not supported for ${e} marks.`}function _P(e){return`Selection not supported for ${e} yet.`}function r3e(e){return`Cannot find a selection named "${e}".`}const i3e="Scale bindings are currently only supported for scales with unbinned, continuous domains.",a3e="Legend bindings are only supported for selections over an individual field or encoding channel.";function o3e(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function s3e(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const l3e="The same selection must be used to override scale domains in a layered view.",c3e='Interval selections should be initialized using "x" and/or "y" keys.';function u3e(e){return`Unknown repeated value "${e}".`}function HE(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const f3e="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function d3e(e){return`Unrecognized parse "${e}".`}function YE(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const h3e="Attempt to add the same child twice.";function m3e(e){return`Ignoring an invalid transform: ${tt(e)}.`}const p3e='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function qE(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function g3e(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${tt(t)} is overridden by a child projection ${tt(n)}.`}const y3e="Arc marks uses theta channel rather than angle, replacing angle with theta.";function b3e(e){return`${e}Offset dropped because ${e} is continuous`}function v3e(e){return`There is no ${e} encoding. Replacing ${e}Offset encoding as ${e}.`}function x3e(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${tt(n)}}.`}function wP(e){return`Invalid field type "${e}".`}function _3e(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function w3e(e){return`Invalid aggregation operator "${e}".`}function TP(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function T3e(e){return`Position range does not support relative band size for ${e}.`}function O5(e,t){return`Dropping ${tt(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const A3e="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function V2(e,t,n){return`${e} dropped as it is incompatible with "${t}"${n?` when ${n}`:""}.`}function S3e(e){return`${e} encoding has no scale, so specified scale is ignored.`}function E3e(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function k3e(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function M3e(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function O3e(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function Kb(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function C3e(e){return`The ${e} for range marks cannot be an expression`}function D3e(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function L3e(e,t){return`Specified orient "${e}" overridden with "${t}".`}function F3e(e){return`Cannot use the scale property "${e}" with non-color channel.`}function B3e(e){return`Cannot use the relative band size with ${e} scale.`}function $3e(e){return`Using unaggregated domain with raw field has no effect (${tt(e)}).`}function N3e(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function I3e(e){return`Unaggregated domain is currently unsupported for log scale (${tt(e)}).`}function Z3e(e){return`Cannot apply size to non-oriented mark "${e}".`}function R3e(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function P3e(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function AP(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function SP(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function j3e(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${tt(n)} and ${tt(r)}). Using ${tt(n)}.`}function z3e(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${tt(n)} and ${tt(r)}). Using the union of the two domains.`}function G3e(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function U3e(e){return`Dropping sort property ${tt(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const VE="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",W3e="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",H3e="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",Y3e="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function q3e(e){return`Cannot stack "${e}" if there is already "${e}2".`}function V3e(e){return`Cannot stack non-linear scale (${e}).`}function X3e(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function Rp(e,t){return`Invalid ${e}: ${tt(t)}.`}function J3e(e){return`Dropping day from datetime ${tt(e)} as day cannot be combined with other units.`}function K3e(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function Q3e(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function e5e(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function XE(e){return`1D error band does not support ${e}.`}function EP(e){return`Channel ${e} is required for "binned" bin.`}function t5e(e){return`Channel ${e} should not be used with "binned" bin.`}function n5e(e){return`Domain for ${e} is required for threshold scale.`}globalThis&&globalThis.__classPrivateFieldSet;globalThis&&globalThis.__classPrivateFieldGet;const kP=h4(d4);let Dc=kP;function r5e(e){return Dc=e,Dc}function i5e(){return Dc=kP,Dc}function U(...e){Dc.warn(...e)}function a5e(...e){Dc.debug(...e)}function il(e){if(e&&ee(e)){for(const t of P9)if(t in e)return!0}return!1}const MP=["january","february","march","april","may","june","july","august","september","october","november","december"],o5e=MP.map(e=>e.substr(0,3)),OP=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],s5e=OP.map(e=>e.substr(0,3));function l5e(e){if(P2(e)&&(e=+e),Ye(e))return e>4&&U(Rp("quarter",e)),e-1;throw new Error(Rp("quarter",e))}function c5e(e){if(P2(e)&&(e=+e),Ye(e))return e-1;{const t=e.toLowerCase(),n=MP.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=o5e.indexOf(r);if(i!==-1)return i;throw new Error(Rp("month",e))}}function u5e(e){if(P2(e)&&(e=+e),Ye(e))return e%7;{const t=e.toLowerCase(),n=OP.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=s5e.indexOf(r);if(i!==-1)return i;throw new Error(Rp("day",e))}}function R9(e,t){const n=[];if(t&&e.day!==void 0&&G(e).length>1&&(U(J3e(e)),e=ve(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?c5e(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?l5e(e.quarter):e.quarter;n.push(Ye(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?u5e(e.day):e.day;n.push(Ye(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function Ad(e){const n=R9(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function f5e(e){const n=R9(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function d5e(e){const t=R9(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}var h5e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const CP={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},P9=G(CP);function m5e(e){return!!CP[e]}function j9(e){return e.startsWith("utc")}function p5e(e){return e.substr(3)}const g5e={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function z9(e){return P9.filter(t=>DP(e,t))}function DP(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function y5e(e,t,{end:n}={end:!1}){const r=k9(t),i=j9(e)?"utc":"";function a(l){return l==="quarter"?`(${i}quarter(${r})-1)`:`${i}${l}(${r})`}let o;const s={};for(const l of P9)DP(e,l)&&(s[l]=a(l),o=l);return n&&(s[o]+="+1"),f5e(s)}function LP(e){if(!e)return;const t=z9(e);return`timeUnitSpecifier(${tt(t)}, ${tt(g5e)})`}function b5e(e,t,n){if(!e)return;const r=LP(e);return`${n||j9(e)?"utc":"time"}Format(${t}, ${r})`}function xn(e){if(!e)return;let t;return J(e)?t={unit:e}:ee(e)&&(t=Object.assign(Object.assign({},e),e.unit?{unit:e.unit}:{})),j9(t.unit)&&(t.utc=!0,t.unit=p5e(t.unit)),t}function v5e(e){const t=xn(e),{utc:n}=t,r=h5e(t,["utc"]);return r.unit?(n?"utc":"")+G(r).map(i=>lt(`${i==="unit"?"":`_${i}_`}${r[i]}`)).join(""):(n?"utc":"")+"timeunit"+G(r).map(i=>lt(`_${i}_${r[i]}`)).join("")}function x5e(e){return e==null?void 0:e.param}function G9(e){return!!(e!=null&&e.field)&&e.equal!==void 0}function U9(e){return!!(e!=null&&e.field)&&e.lt!==void 0}function W9(e){return!!(e!=null&&e.field)&&e.lte!==void 0}function H9(e){return!!(e!=null&&e.field)&&e.gt!==void 0}function Y9(e){return!!(e!=null&&e.field)&&e.gte!==void 0}function q9(e){if(e!=null&&e.field){if(j(e.range)&&e.range.length===2)return!0;if(ae(e.range))return!0}return!1}function V9(e){return!!(e!=null&&e.field)&&(j(e.oneOf)||j(e.in))}function _5e(e){return!!(e!=null&&e.field)&&e.valid!==void 0}function FP(e){return V9(e)||G9(e)||q9(e)||U9(e)||H9(e)||W9(e)||Y9(e)}function Fi(e,t){return ay(e,{timeUnit:t,wrapTime:!0})}function w5e(e,t){return e.map(n=>Fi(n,t))}function BP(e,t=!0){var n;const{field:r}=e,i=(n=xn(e.timeUnit))===null||n===void 0?void 0:n.unit,a=i?`time(${y5e(i,r)})`:V(e,{expr:"datum"});if(G9(e))return`${a}===${Fi(e.equal,i)}`;if(U9(e)){const o=e.lt;return`${a}<${Fi(o,i)}`}else if(H9(e)){const o=e.gt;return`${a}>${Fi(o,i)}`}else if(W9(e)){const o=e.lte;return`${a}<=${Fi(o,i)}`}else if(Y9(e)){const o=e.gte;return`${a}>=${Fi(o,i)}`}else{if(V9(e))return`indexof([${w5e(e.oneOf,i).join(",")}], ${a}) !== -1`;if(_5e(e))return X9(a,e.valid);if(q9(e)){const{range:o}=e,s=ae(o)?{signal:`${o.signal}[0]`}:o[0],l=ae(o)?{signal:`${o.signal}[1]`}:o[1];if(s!==null&&l!==null&&t)return"inrange("+a+", ["+Fi(s,i)+", "+Fi(l,i)+"])";const c=[];return s!==null&&c.push(`${a} >= ${Fi(s,i)}`),l!==null&&c.push(`${a} <= ${Fi(l,i)}`),c.length>0?c.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${tt(e)}`)}function X9(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function T5e(e){var t;return FP(e)&&e.timeUnit?Object.assign(Object.assign({},e),{timeUnit:(t=xn(e.timeUnit))===null||t===void 0?void 0:t.unit}):e}const Lh={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function A5e(e){return e==="quantitative"||e==="temporal"}function $P(e){return e==="ordinal"||e==="nominal"}const $0=Lh.quantitative,J9=Lh.ordinal,Lc=Lh.temporal,K9=Lh.nominal,mu=Lh.geojson;function S5e(e){if(e)switch(e=e.toLowerCase(),e){case"q":case $0:return"quantitative";case"t":case Lc:return"temporal";case"o":case J9:return"ordinal";case"n":case K9:return"nominal";case mu:return"geojson"}}var E5e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Vn={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},C5={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function k5e(e,t){const n=C5[e],r=C5[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const M5e={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function JE(e){return M5e[e]}const NP=new Set(["linear","log","pow","sqrt","symlog"]),IP=new Set([...NP,"time","utc"]);function ZP(e){return NP.has(e)}const RP=new Set(["quantile","quantize","threshold"]),O5e=new Set([...IP,...RP,"sequential","identity"]),C5e=new Set(["ordinal","bin-ordinal","point","band"]);function Ut(e){return C5e.has(e)}function br(e){return O5e.has(e)}function si(e){return IP.has(e)}function Fc(e){return RP.has(e)}const D5e={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0};function L5e(e){return!J(e)&&!!e.name}function PP(e){return e==null?void 0:e.param}function F5e(e){return e==null?void 0:e.unionWith}function B5e(e){return ee(e)&&"field"in e}const $5e={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},N5e=E5e($5e,["type","domain","range","rangeMax","rangeMin","scheme"]),I5e=G(N5e);function D5(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return si(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return si(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"clamp":return si(e);case"nice":return si(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return br(e)&&!Me(["log","time","utc","threshold","quantile"],e)}}function jP(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return Jl(e)?void 0:F3e(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function Z5e(e,t){return Me([J9,K9],t)?e===void 0||Ut(e):t===Lc?Me([Vn.TIME,Vn.UTC,void 0],e):t===$0?ZP(e)||Fc(e)||e===void 0:!0}function R5e(e,t,n=!1){if(!Ts(e))return!1;switch(e){case dt:case zt:case bs:case du:case zr:case Ci:return si(t)||t==="band"?!0:t==="point"?!n:!1;case lo:case _s:case co:case vs:case xs:case tl:return si(t)||Fc(t)||Me(["band","point","ordinal"],t);case er:case va:case xa:return t!=="band";case ws:case tr:return t==="ordinal"||Fc(t)}}const Zn={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},zP=Zn.arc,X2=Zn.area,J2=Zn.bar,P5e=Zn.image,K2=Zn.line,Q2=Zn.point,j5e=Zn.rect,Pp=Zn.rule,GP=Zn.text,Q9=Zn.tick,z5e=Zn.trail,e6=Zn.circle,t6=Zn.square,UP=Zn.geoshape;function Es(e){return["line","area","trail"].includes(e)}function WP(e){return["rect","bar","image","arc"].includes(e)}const G5e=new Set(G(Zn));function oa(e){return e.type}const U5e=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],W5e=["fill","fillOpacity"],H5e=[...U5e,...W5e],Y5e={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},KE=G(Y5e),q5e={area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]},V5e={color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},X5e={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},HP=G(X5e);function N0(e){return e&&e.band!=null}const J5e={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},YP=5,K5e={binSpacing:1,continuousBandSize:YP,timeUnitBandPosition:.5},Q5e={binSpacing:0,continuousBandSize:YP,timeUnitBandPosition:.5},e7e={thickness:1};function t7e(e){return oa(e)?e.type:e}function n6(e){const{channel:t,channelDef:n,markDef:r,scale:i,config:a}=e,o=i6(e);return W(n)&&!fP(n.aggregate)&&i&&si(i.get("type"))?n7e({fieldDef:n,channel:t,markDef:r,ref:o,config:a}):o}function n7e({fieldDef:e,channel:t,markDef:n,ref:r,config:i}){return Es(n.type)?r:ze("invalid",n,i)===null?[r7e(e,t),r]:r}function r7e(e,t){const n=r6(e,!0),i=nl(t)==="y"?{field:{group:"height"}}:{value:0};return Object.assign({test:n},i)}function r6(e,t=!0){return X9(J(e)?e:V(e,{expr:"datum"}),!t)}function i7e(e){const{datum:t}=e;return il(t)?Ad(t):`${tt(t)}`}function l0(e,t,n,r){const i={};if(t&&(i.scale=t),Ta(e)){const{datum:a}=e;il(a)?i.signal=Ad(a):ae(a)?i.signal=a.signal:Dh(a)?i.signal=a.expr:i.value=a}else i.field=V(e,n);if(r){const{offset:a,band:o}=r;a&&(i.offset=a),o&&(i.band=o)}return i}function jp({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,bandPosition:a=.5}){const o=0<a&&a<1?"datum":void 0,s=V(t,{expr:o,suffix:i}),l=n!==void 0?V(n,{expr:o}):V(t,{suffix:"end",expr:o}),c={};if(a===0||a===1){c.scale=e;const u=a===0?s:l;c.field=u}else{const u=ae(a)?`${a.signal} * ${s} + (1-${a.signal}) * ${l}`:`${a} * ${s} + ${1-a} * ${l}`;c.signal=`scale("${e}", ${u})`}return r&&(c.offset=r),c}function i6({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:a,scale:o,stack:s,offset:l,defaultRef:c,bandPosition:u}){var f;if(t){if(ge(t)){const d=o==null?void 0:o.get("type");if(Rr(t)){u??(u=tj({fieldDef:t,fieldDef2:n,markDef:r,config:i}));const{bin:h,timeUnit:m,type:g}=t;if(nt(h)||u&&m&&g===Lc)return s!=null&&s.impute?l0(t,a,{binSuffix:"mid"},{offset:l}):u&&!Ut(d)?jp({scaleName:a,fieldOrDatumDef:t,bandPosition:u,offset:l}):l0(t,a,Nh(t,e)?{binSuffix:"range"}:{},{offset:l});if(Ht(h)){if(W(n))return jp({scaleName:a,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:u,offset:l});U(EP(e===dt?Oi:ga))}}return l0(t,a,Ut(d)?{binSuffix:"range"}:{},{offset:l,band:d==="band"?(f=u??t.bandPosition)!==null&&f!==void 0?f:.5:void 0})}else if(wi(t)){const d=t.value,h=l?{offset:l}:{};return Object.assign(Object.assign({},Zf(e,d)),h)}}return _e(c)&&(c=c()),c&&Object.assign(Object.assign({},c),l?{offset:l}:{})}function Zf(e,t){return Me(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:Me(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:it(t)}function I0(e){return e&&e!=="number"&&e!=="time"}function qP(e,t,n){return`${e}(${t}${n?`, ${tt(n)}`:""})`}const a7e=" – ";function a6({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:a}){var o,s;if(I0(n))return li({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:a});const l=VP(e,r,i),c=Bc(e);if(t===void 0&&n===void 0&&a.customFormatTypes){if(c==="quantitative"){if(i&&a.normalizedNumberFormatType)return li({fieldOrDatumDef:e,format:a.normalizedNumberFormat,formatType:a.normalizedNumberFormatType,expr:r,config:a});if(a.numberFormatType)return li({fieldOrDatumDef:e,format:a.numberFormat,formatType:a.numberFormatType,expr:r,config:a})}if(c==="temporal"&&a.timeFormatType&&W(e)&&e.timeUnit===void 0)return li({fieldOrDatumDef:e,format:a.timeFormat,formatType:a.timeFormatType,expr:r,config:a})}if(Nc(e)){const u=s7e({field:l,timeUnit:W(e)?(o=xn(e.timeUnit))===null||o===void 0?void 0:o.unit:void 0,format:t,formatType:a.timeFormatType,rawTimeFormat:a.timeFormat,isUTCScale:al(e)&&((s=e.scale)===null||s===void 0?void 0:s.type)===Vn.UTC});return u?{signal:u}:void 0}if(t=L5({type:c,specifiedFormat:t,config:a,normalizeStack:i}),W(e)&&nt(e.bin)){const u=V(e,{expr:r,binSuffix:"end"});return{signal:Fh(l,u,t,n,a)}}else return t||Bc(e)==="quantitative"?{signal:`${KP(l,t)}`}:{signal:`isValid(${l}) ? ${l} : ""+${l}`}}function VP(e,t,n){return W(e)?n?`${V(e,{expr:t,suffix:"end"})}-${V(e,{expr:t,suffix:"start"})}`:V(e,{expr:t}):i7e(e)}function li({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:a,field:o}){if(o??(o=VP(e,r,i)),o!=="datum.value"&&W(e)&&nt(e.bin)){const s=V(e,{expr:r,binSuffix:"end"});return{signal:Fh(o,s,t,n,a)}}return{signal:qP(n,o,t)}}function XP(e,t,n,r,i,a){var o;if(!I0(r)&&!(n===void 0&&r===void 0&&i.customFormatTypes&&Bc(e)==="quantitative"&&(i.normalizedNumberFormatType&&$c(e)&&e.stack==="normalize"||i.numberFormatType))){if($c(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return L5({type:"quantitative",config:i,normalizeStack:!0});if(Nc(e)){const s=W(e)?(o=xn(e.timeUnit))===null||o===void 0?void 0:o.unit:void 0;return s===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:o7e({specifiedFormat:n,timeUnit:s,config:i,omitTimeFormatConfig:a})}return L5({type:t,specifiedFormat:n,config:i})}}function JP(e,t,n){var r;if(e&&(ae(e)||e==="number"||e==="time"))return e;if(Nc(t)&&n!=="time"&&n!=="utc")return W(t)&&(!((r=xn(t==null?void 0:t.timeUnit))===null||r===void 0)&&r.utc)?"utc":"time"}function L5({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(J(t))return t;if(e===$0)return r?n.normalizedNumberFormat:n.numberFormat}function o7e({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:LP(t)}:r?void 0:n.timeFormat)}function KP(e,t){return`format(${e}, "${t||""}")`}function QE(e,t,n,r){var i;return I0(n)?qP(n,e,t):KP(e,(i=J(t)?t:void 0)!==null&&i!==void 0?i:r.numberFormat)}function Fh(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return Fh(e,t,i.numberFormat,i.numberFormatType,i);const a=QE(e,n,r,i),o=QE(t,n,r,i);return`${X9(e,!1)} ? "null" : ${a} + "${a7e}" + ${o}`}function s7e({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:a}){return!t||n?!t&&r?`${r}(${e}, '${n}')`:(n=J(n)?n:i,`${a?"utc":"time"}Format(${e}, '${n}')`):b5e(t,e,a)}const ey="min",l7e={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function ek(e){return e in l7e}function QP(e){return!!(e!=null&&e.encoding)}function Xi(e){return e&&(e.op==="count"||!!e.field)}function ej(e){return e&&j(e)}function Bh(e){return"row"in e||"column"in e}function o6(e){return!!e&&"header"in e}function ty(e){return"facet"in e}var F5=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function c7e(e){return e.param}function u7e(e){return e&&!J(e)&&"repeat"in e}function tk(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return Object.assign(Object.assign(Object.assign(Object.assign({},n?{timeUnit:n}:{}),r?{bin:r}:{}),i?{aggregate:i}:{}),{field:t})}function s6(e){return"sort"in e}function tj({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if(ge(e)&&e.bandPosition!==void 0)return e.bandPosition;if(W(e)){const{timeUnit:i,bin:a}=e;if(i&&!t)return WP(n.type)?0:B0("timeUnitBandPosition",n,r);if(nt(a))return .5}}function nj({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:a,useVlSizeChannel:o}){var s,l,c;const u=nr(e),f=ze(o?"size":u,r,i,{vgChannel:u});if(f!==void 0)return f;if(W(t)){const{timeUnit:d,bin:h}=t;if(d&&!n)return{band:B0("timeUnitBandSize",r,i)};if(nt(h)&&!Ut(a))return{band:1}}if(WP(r.type))return a?Ut(a)?((s=i[r.type])===null||s===void 0?void 0:s.discreteBandSize)||{band:1}:(l=i[r.type])===null||l===void 0?void 0:l.continuousBandSize:(c=i[r.type])===null||c===void 0?void 0:c.discreteBandSize}function rj(e,t,n,r){return nt(e.bin)||e.timeUnit&&Rr(e)&&e.type==="temporal"?tj({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function ny(e){return e&&"condition"in e}function ry(e){const t=e==null?void 0:e.condition;return!!t&&!j(t)&&W(t)}function $h(e){const t=e==null?void 0:e.condition;return!!t&&!j(t)&&ge(t)}function f7e(e){const t=e==null?void 0:e.condition;return!!t&&(j(t)||wi(t))}function W(e){return e&&(!!e.field||e.aggregate==="count")}function Bc(e){return e==null?void 0:e.type}function Ta(e){return e&&"datum"in e}function Wi(e){return Rr(e)&&!zp(e)||B5(e)}function B5(e){return Ta(e)&&Ye(e.datum)}function ge(e){return W(e)||Ta(e)}function Rr(e){return e&&("field"in e||e.aggregate==="count")&&"type"in e}function wi(e){return e&&"value"in e&&"value"in e}function al(e){return e&&("scale"in e||"sort"in e)}function $c(e){return e&&("axis"in e||"stack"in e||"impute"in e)}function ij(e){return e&&"legend"in e}function aj(e){return e&&("format"in e||"formatType"in e)}function d7e(e){return qn(e,["legend","axis","header","scale"])}function h7e(e){return"op"in e}function V(e,t={}){var n,r,i;let a=e.field;const o=t.prefix;let s=t.suffix,l="";if(p7e(e))a=KR("count");else{let c;if(!t.nofn)if(h7e(e))c=e.op;else{const{bin:u,aggregate:f,timeUnit:d}=e;nt(u)?(c=dP(u),s=((n=t.binSuffix)!==null&&n!==void 0?n:"")+((r=t.suffix)!==null&&r!==void 0?r:"")):f?As(f)?(l=`["${a}"]`,a=`argmax_${f.argmax}`):to(f)?(l=`["${a}"]`,a=`argmin_${f.argmin}`):c=String(f):d&&(c=v5e(d),s=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+((i=t.suffix)!==null&&i!==void 0?i:""))}c&&(a=a?`${c}_${a}`:c)}return s&&(a=`${a}_${s}`),o&&(a=`${o}_${a}`),t.forAs?M9(a):t.expr?VR(a,t.expr)+l:Ir(a)+l}function zp(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return W(e)&&!!e.bin;case"temporal":return!1}throw new Error(wP(e.type))}function m7e(e){var t;return al(e)&&Fc((t=e.scale)===null||t===void 0?void 0:t.type)}function p7e(e){return e.aggregate==="count"}function g7e(e,t){var n;const{field:r,bin:i,timeUnit:a,aggregate:o}=e;if(o==="count")return t.countTitle;if(nt(i))return`${r} (binned)`;if(a){const s=(n=xn(a))===null||n===void 0?void 0:n.unit;if(s)return`${r} (${z9(s).join("-")})`}else if(o)return As(o)?`${r} for max ${o.argmax}`:to(o)?`${r} for min ${o.argmin}`:`${Eh(o)} of ${r}`;return r}function y7e(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(As(t))return`${i} for argmax(${t.argmax})`;if(to(t))return`${i} for argmin(${t.argmin})`;const a=xn(r),o=t||(a==null?void 0:a.unit)||(a==null?void 0:a.maxbins)&&"timeunit"||nt(n)&&"bin";return o?`${o.toUpperCase()}(${i})`:i}const oj=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return y7e(e);default:return g7e(e,t)}};let sj=oj;function lj(e){sj=e}function b7e(){lj(oj)}function Kl(e,t,{allowDisabling:n,includeDefault:r=!0}){var i,a;const o=(i=l6(e))===null||i===void 0?void 0:i.title;if(!W(e))return o??e.title;const s=e,l=r?c6(s,t):void 0;return n?wt(o,s.title,l):(a=o??s.title)!==null&&a!==void 0?a:l}function l6(e){if($c(e)&&e.axis)return e.axis;if(ij(e)&&e.legend)return e.legend;if(o6(e)&&e.header)return e.header}function c6(e,t){return sj(e,t)}function Gp(e){var t;if(aj(e)){const{format:n,formatType:r}=e;return{format:n,formatType:r}}else{const n=(t=l6(e))!==null&&t!==void 0?t:{},{format:r,formatType:i}=n;return{format:r,formatType:i}}}function v7e(e,t){var n;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(s6(e)&&j(e.sort))return"ordinal";const{aggregate:r,bin:i,timeUnit:a}=e;if(a)return"temporal";if(i||r&&!As(r)&&!to(r))return"quantitative";if(al(e)&&(!((n=e.scale)===null||n===void 0)&&n.type))switch(C5[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function sa(e){if(W(e))return e;if(ry(e))return e.condition}function Mt(e){if(ge(e))return e;if($h(e))return e.condition}function cj(e,t,n,r={}){if(J(e)||Ye(e)||ps(e)){const i=J(e)?"string":Ye(e)?"number":"boolean";return U(x3e(t,i,e)),{value:e}}return ge(e)?Up(e,t,n,r):$h(e)?Object.assign(Object.assign({},e),{condition:Up(e.condition,t,n,r)}):e}function Up(e,t,n,r){if(aj(e)){const{format:i,formatType:a}=e,o=F5(e,["format","formatType"]);if(I0(a)&&!n.customFormatTypes)return U(qE(t)),Up(o,t,n,r)}else{const i=$c(e)?"axis":ij(e)?"legend":o6(e)?"header":null;if(i&&e[i]){const a=e[i],{format:o,formatType:s}=a,l=F5(a,["format","formatType"]);if(I0(s)&&!n.customFormatTypes)return U(qE(t)),Up(Object.assign(Object.assign({},e),{[i]:l}),t,n,r)}}return W(e)?u6(e,t,r):x7e(e)}function x7e(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=Ye(n)?"quantitative":J(n)?"nominal":il(n)?"temporal":void 0,Object.assign(Object.assign({},e),{type:t})}function u6(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:a,field:o}=e,s=Object.assign({},e);if(!n&&r&&!$9(r)&&!As(r)&&!to(r)&&(U(w3e(r)),delete s.aggregate),i&&(s.timeUnit=xn(i)),o&&(s.field=`${o}`),nt(a)&&(s.bin=iy(a,t)),Ht(a)&&!Gt(t)&&U(t5e(t)),Rr(s)){const{type:l}=s,c=S5e(l);l!==c&&(s.type=c),l!=="quantitative"&&fP(r)&&(U(_3e(l,r)),s.type="quantitative")}else if(!iP(t)){const l=v7e(s,t);s.type=l}if(Rr(s)){const{compatible:l,warning:c}=_7e(s,t)||{};l===!1&&U(c)}if(s6(s)&&J(s.sort)){const{sort:l}=s;if(ek(l))return Object.assign(Object.assign({},s),{sort:{encoding:l}});const c=l.substr(1);if(l.charAt(0)==="-"&&ek(c))return Object.assign(Object.assign({},s),{sort:{encoding:c,order:"descending"}})}if(o6(s)){const{header:l}=s;if(l){const{orient:c}=l,u=F5(l,["orient"]);if(c)return Object.assign(Object.assign({},s),{header:Object.assign(Object.assign({},u),{labelOrient:l.labelOrient||c,titleOrient:l.titleOrient||c})})}}return s}function iy(e,t){return ps(e)?{maxbins:RE(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?Object.assign(Object.assign({},e),{maxbins:RE(t)}):e}const El={compatible:!0};function _7e(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case Ua:case Wa:case j2:return zp(e)?El:{compatible:!1,warning:k3e(t)};case dt:case zt:case bs:case du:case er:case va:case xa:case Mh:case Ch:case z2:case F0:case G2:case U2:case tl:case zr:case Ci:case W2:return El;case ba:case Zr:case ya:case Di:return n!==$0?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:El;case co:case vs:case xs:case _s:case lo:case so:case oo:case Oi:case ga:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:El;case tr:case ws:return!zp(e)&&!m7e(e)?{compatible:!1,warning:M3e(t)}:El;case Oh:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:El}}function Nc(e){const{formatType:t}=Gp(e);return t==="time"||!t&&w7e(e)}function w7e(e){return e&&(e.type==="temporal"||W(e)&&!!e.timeUnit)}function ay(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){var a;const o=t&&((a=xn(t))===null||a===void 0?void 0:a.unit);let s=o||n==="temporal",l;return Dh(e)?l=e.expr:ae(e)?l=e.signal:il(e)?(s=!0,l=Ad(e)):(J(e)||Ye(e))&&s&&(l=`datetime(${tt(e)})`,m5e(o)&&(Ye(e)&&e<1e4||J(e)&&isNaN(Date.parse(e)))&&(l=Ad({[o]:e}))),l?r&&s?`time(${l})`:l:i?void 0:tt(e)}function uj(e,t){const{type:n}=e;return t.map(r=>{const i=ay(r,{timeUnit:W(e)?e.timeUnit:void 0,type:n,undefinedIfExprNotRequired:!0});return i!==void 0?{signal:i}:r})}function Nh(e,t){return nt(e.bin)?Ts(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const nk={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function Ih(e){return e==null?void 0:e.condition}const fj=["domain","grid","labels","ticks","title"],T7e={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},dj={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},A7e=Object.assign(Object.assign({},dj),{style:1,labelExpr:1,encoding:1});function rk(e){return!!A7e[e]}const S7e={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},hj=G(S7e);function uo(e){return"mark"in e}class oy{constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return uo(t)?t7e(t.mark)===this.name:!1}}var E7e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function c0(e,t){const n=e&&e[t];return n?j(n)?D0(n,r=>!!r.field):W(n)||ry(n):!1}function mj(e,t){const n=e&&e[t];return n?j(n)?D0(n,r=>!!r.field):W(n)||Ta(n)||$h(n):!1}function $5(e,t){if(Gt(t)){const n=e[t];if((W(n)||Ta(n))&&$P(n.type)){const r=aP(t);return mj(e,r)}}return!1}function f6(e){return D0(Sve,t=>{if(c0(e,t)){const n=e[t];if(j(n))return D0(n,r=>!!r.aggregate);{const r=sa(n);return r&&!!r.aggregate}}return!1})}function pj(e,t){const n=[],r=[],i=[],a=[],o={};return d6(e,(s,l)=>{if(W(s)){const{field:c,aggregate:u,bin:f,timeUnit:d}=s,h=E7e(s,["field","aggregate","bin","timeUnit"]);if(u||d||f){const m=l6(s),g=m==null?void 0:m.title;let p=V(s,{forAs:!0});const y=Object.assign(Object.assign(Object.assign({},g?[]:{title:Kl(s,t,{allowDisabling:!0})}),h),{field:p});if(u){let b;if(As(u)?(b="argmax",p=V({op:"argmax",field:u.argmax},{forAs:!0}),y.field=`${p}.${c}`):to(u)?(b="argmin",p=V({op:"argmin",field:u.argmin},{forAs:!0}),y.field=`${p}.${c}`):u!=="boxplot"&&u!=="errorbar"&&u!=="errorband"&&(b=u),b){const v={op:b,as:p};c&&(v.field=c),a.push(v)}}else if(n.push(p),Rr(s)&&nt(f)){if(r.push({bin:f,field:c,as:p}),n.push(V(s,{binSuffix:"end"})),Nh(s,l)&&n.push(V(s,{binSuffix:"range"})),Gt(l)){const b={field:`${p}_end`};o[`${l}2`]=b}y.bin="binned",iP(l)||(y.type=$0)}else if(d){i.push({timeUnit:d,field:c,as:p});const b=Rr(s)&&s.type!==Lc&&"time";b&&(l===Mh||l===F0?y.formatType=b:$ve(l)?y.legend=Object.assign({formatType:b},y.legend):Gt(l)&&(y.axis=Object.assign({formatType:b},y.axis)))}o[l]=y}else n.push(c),o[l]=e[l]}else o[l]=e[l]}),{bins:r,timeUnits:i,aggregate:a,groupby:n,encoding:o}}function k7e(e,t,n){const r=Ive(t,n);if(r){if(r==="binned"){const i=e[t===Oi?dt:zt];return!!(W(i)&&W(e[t])&&Ht(i.bin))}}else return!1;return!0}function M7e(e,t,n,r){const i={};for(const a of G(e))rP(a)||U(E3e(a));for(let a of Dve){if(!e[a])continue;const o=e[a];if(hu(a)){const s=oP(a),l=i[s];if(W(l)){if(A5e(l.type)&&W(o)){U(b3e(s));continue}}else a=s,U(v3e(s))}if(a==="angle"&&t==="arc"&&!e.theta&&(U(y3e),a=zr),!k7e(e,a,t)){U(V2(a,t));continue}if(a===lo&&t==="line"){const s=sa(e[a]);if(s!=null&&s.aggregate){U(A3e);continue}}if(a===er&&(n?"fill"in e:"stroke"in e)){U(TP("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(a===Ch||a===Oh&&!j(o)&&!wi(o)||a===F0&&j(o))o&&(i[a]=Q(o).reduce((s,l)=>(W(l)?s.push(u6(l,a)):U(O5(l,a)),s),[]));else{if(a===F0&&o===null)i[a]=null;else if(!W(o)&&!Ta(o)&&!wi(o)&&!ny(o)&&!ae(o)){U(O5(o,a));continue}i[a]=cj(o,a,r)}}return i}function sy(e,t){const n={};for(const r of G(e)){const i=cj(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function O7e(e){const t=[];for(const n of G(e))if(c0(e,n)){const r=e[n],i=Q(r);for(const a of i)W(a)?t.push(a):ry(a)&&t.push(a.condition)}return t}function d6(e,t,n){if(e)for(const r of G(e)){const i=e[r];if(j(i))for(const a of i)t.call(n,a,r);else t.call(n,i,r)}}function C7e(e,t,n,r){return e?G(e).reduce((i,a)=>{const o=e[a];return j(o)?o.reduce((s,l)=>t.call(r,s,l,a),i):t.call(r,i,o,a)},n):n}function gj(e,t){return G(t).reduce((n,r)=>{switch(r){case dt:case zt:case G2:case W2:case U2:case Oi:case ga:case bs:case du:case zr:case so:case Ci:case oo:case ya:case ba:case Di:case Zr:case Mh:case tr:case tl:case F0:return n;case Oh:if(e==="line"||e==="trail")return n;case Ch:case z2:{const i=t[r];if(j(i)||W(i))for(const a of Q(i))a.aggregate||n.push(V(a,{}));return n}case lo:if(e==="trail")return n;case er:case va:case xa:case co:case vs:case xs:case ws:case _s:{const i=sa(t[r]);return i&&!i.aggregate&&n.push(V(i,{})),n}}},[])}var yj=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function D7e(e){const{tooltip:t}=e,n=yj(e,["tooltip"]);if(!t)return{filteredEncoding:n};let r,i;if(j(t)){for(const a of t)a.aggregate?(r||(r=[]),r.push(a)):(i||(i=[]),i.push(a));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return j(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function N5(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:o,titlePrefix:s})=>{const l=r?` of ${h6(t)}`:"";return{field:o+t.field,type:t.type,title:ae(s)?{signal:`${s}"${escape(l)}"`}:s+l}}),a=O7e(n).map(d7e);return{tooltip:[...i,...Ui(a,De)]}}function h6(e){const{title:t,field:n}=e;return wt(t,n)}function m6(e,t,n,r,i){const{scale:a,axis:o}=n;return({partName:s,mark:l,positionPrefix:c,endPositionPrefix:u=void 0,extraEncoding:f={}})=>{const d=h6(n);return bj(e,s,i,{mark:l,encoding:Object.assign(Object.assign(Object.assign({[t]:Object.assign(Object.assign(Object.assign({field:`${c}_${n.field}`,type:n.type},d!==void 0?{title:d}:{}),a!==void 0?{scale:a}:{}),o!==void 0?{axis:o}:{})},J(u)?{[`${t}2`]:{field:`${u}_${n.field}`}}:{}),r),f)})}}function bj(e,t,n,r){const{clip:i,color:a,opacity:o}=e,s=e.type;return e[t]||e[t]===void 0&&n[t]?[Object.assign(Object.assign({},r),{mark:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n[t]),i?{clip:i}:{}),a?{color:a}:{}),o?{opacity:o}:{}),oa(r.mark)?r.mark:{type:r.mark}),{style:`${s}-${String(t)}`}),ps(e[t])?{}:e[t])})]:[]}function vj(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",a=r[i],o=r[`${i}2`],s=r[`${i}Error`],l=r[`${i}Error2`];return{continuousAxisChannelDef:A1(a,n),continuousAxisChannelDef2:A1(o,n),continuousAxisChannelDefError:A1(s,n),continuousAxisChannelDefError2:A1(l,n),continuousAxis:i}}function A1(e,t){if(e!=null&&e.aggregate){const{aggregate:n}=e,r=yj(e,["aggregate"]);return n!==t&&U(e5e(n,t)),r}else return e}function xj(e,t){const{mark:n,encoding:r}=e,{x:i,y:a}=r;if(oa(n)&&n.orient)return n.orient;if(Wi(i)){if(Wi(a)){const o=W(i)&&i.aggregate,s=W(a)&&a.aggregate;if(!o&&s===t)return"vertical";if(!s&&o===t)return"horizontal";if(o===t&&s===t)throw new Error("Both x and y cannot have aggregate");return Nc(a)&&!Nc(i)?"horizontal":"vertical"}return"horizontal"}else{if(Wi(a))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}var ym=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Wp="boxplot",L7e=["box","median","outliers","rule","ticks"],F7e=new oy(Wp,wj);function _j(e){return Ye(e)?"tukey":e}function wj(e,{config:t}){var n,r;e=Object.assign(Object.assign({},e),{encoding:sy(e.encoding,t)});const{mark:i,encoding:a,params:o,projection:s}=e,l=ym(e,["mark","encoding","params","projection"]),c=oa(i)?i:{type:i};o&&U(_P("boxplot"));const u=(n=c.extent)!==null&&n!==void 0?n:t.boxplot.extent,f=ze("size",c,t),d=c.invalid,h=_j(u),{bins:m,timeUnits:g,transform:p,continuousAxisChannelDef:y,continuousAxis:b,groupby:v,aggregate:x,encodingWithoutContinuousAxis:_,ticksOrient:T,boxOrient:w,customTooltipWithoutAggregatedField:S}=B7e(e,u,t),{color:C,size:k}=_,A=ym(_,["color","size"]),L=ce=>m6(c,b,y,ce,t.boxplot),D=L(A),E=L(_),O=L(Object.assign(Object.assign({},A),k?{size:k}:{})),M=N5([{fieldPrefix:h==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:h==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],y,_),F={type:"tick",color:"black",opacity:1,orient:T,invalid:d,aria:!1},$=h==="min-max"?M:N5([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],y,_),N=[...D({partName:"rule",mark:{type:"rule",invalid:d,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:$}),...D({partName:"rule",mark:{type:"rule",invalid:d,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:$}),...D({partName:"ticks",mark:F,positionPrefix:"lower_whisker",extraEncoding:$}),...D({partName:"ticks",mark:F,positionPrefix:"upper_whisker",extraEncoding:$})],R=[...h!=="tukey"?N:[],...E({partName:"box",mark:Object.assign(Object.assign({type:"bar"},f?{size:f}:{}),{orient:w,invalid:d,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:M}),...O({partName:"median",mark:Object.assign(Object.assign(Object.assign({type:"tick",invalid:d},ee(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{}),f?{size:f}:{}),{orient:T,aria:!1}),positionPrefix:"mid_box",extraEncoding:M})];if(h==="min-max")return Object.assign(Object.assign({},l),{transform:((r=l.transform)!==null&&r!==void 0?r:[]).concat(p),layer:R});const Y=`datum["lower_box_${y.field}"]`,K=`datum["upper_box_${y.field}"]`,me=`(${K} - ${Y})`,pe=`${Y} - ${u} * ${me}`,fe=`${K} + ${u} * ${me}`,Fe=`datum["${y.field}"]`,Ae={joinaggregate:Tj(y.field),groupby:v},$e={transform:[{filter:`(${pe} <= ${Fe}) && (${Fe} <= ${fe})`},{aggregate:[{op:"min",field:y.field,as:`lower_whisker_${y.field}`},{op:"max",field:y.field,as:`upper_whisker_${y.field}`},{op:"min",field:`lower_box_${y.field}`,as:`lower_box_${y.field}`},{op:"max",field:`upper_box_${y.field}`,as:`upper_box_${y.field}`},...x],groupby:v}],layer:N},X=ym(A,["tooltip"]),{scale:he,axis:ye}=y,z=h6(y),Pe=qn(ye,["title"]),Ee=bj(c,"outliers",t.boxplot,{transform:[{filter:`(${Fe} < ${pe}) || (${Fe} > ${fe})`}],mark:"point",encoding:Object.assign(Object.assign(Object.assign({[b]:Object.assign(Object.assign(Object.assign({field:y.field,type:y.type},z!==void 0?{title:z}:{}),he!==void 0?{scale:he}:{}),He(Pe)?{}:{axis:Pe})},X),C?{color:C}:{}),S?{tooltip:S}:{})})[0];let ct;const ot=[...m,...g,Ae];return Ee?ct={transform:ot,layer:[Ee,$e]}:(ct=$e,ct.transform.unshift(...ot)),Object.assign(Object.assign({},l),{layer:[ct,{transform:p,layer:R}]})}function Tj(e){return[{op:"q1",field:e,as:`lower_box_${e}`},{op:"q3",field:e,as:`upper_box_${e}`}]}function B7e(e,t,n){const r=xj(e,Wp),{continuousAxisChannelDef:i,continuousAxis:a}=vj(e,r,Wp),o=i.field,s=_j(t),l=[...Tj(o),{op:"median",field:o,as:`mid_box_${o}`},{op:"min",field:o,as:(s==="min-max"?"lower_whisker_":"min_")+o},{op:"max",field:o,as:(s==="min-max"?"upper_whisker_":"max_")+o}],c=s==="min-max"||s==="tukey"?[]:[{calculate:`datum["upper_box_${o}"] - datum["lower_box_${o}"]`,as:`iqr_${o}`},{calculate:`min(datum["upper_box_${o}"] + datum["iqr_${o}"] * ${t}, datum["max_${o}"])`,as:`upper_whisker_${o}`},{calculate:`max(datum["lower_box_${o}"] - datum["iqr_${o}"] * ${t}, datum["min_${o}"])`,as:`lower_whisker_${o}`}],u=e.encoding,f=a;u[f];const d=ym(u,[typeof f=="symbol"?f:f+""]),{customTooltipWithoutAggregatedField:h,filteredEncoding:m}=D7e(d),{bins:g,timeUnits:p,aggregate:y,groupby:b,encoding:v}=pj(m,n),x=r==="vertical"?"horizontal":"vertical",_=r,T=[...g,...p,{aggregate:[...y,...l],groupby:b},...c];return{bins:g,timeUnits:p,transform:T,groupby:b,aggregate:y,continuousAxisChannelDef:i,continuousAxis:a,encodingWithoutContinuousAxis:v,ticksOrient:x,boxOrient:_,customTooltipWithoutAggregatedField:h}}var ik=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const p6="errorbar",$7e=["ticks","rule"],N7e=new oy(p6,Aj);function Aj(e,{config:t}){e=Object.assign(Object.assign({},e),{encoding:sy(e.encoding,t)});const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:a,ticksOrient:o,markDef:s,outerSpec:l,tooltipEncoding:c}=Sj(e,p6,t);delete a.size;const u=m6(s,i,r,a,t.errorbar),f=s.thickness,d=s.size,h=Object.assign(Object.assign({type:"tick",orient:o,aria:!1},f!==void 0?{thickness:f}:{}),d!==void 0?{size:d}:{}),m=[...u({partName:"ticks",mark:h,positionPrefix:"lower",extraEncoding:c}),...u({partName:"ticks",mark:h,positionPrefix:"upper",extraEncoding:c}),...u({partName:"rule",mark:Object.assign({type:"rule",ariaRoleDescription:"errorbar"},f!==void 0?{size:f}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:c})];return Object.assign(Object.assign(Object.assign({},l),{transform:n}),m.length>1?{layer:m}:Object.assign({},m[0]))}function I7e(e,t){const{encoding:n}=e;if(Z7e(n))return{orient:xj(e,t),inputType:"raw"};const r=R7e(n),i=P7e(n),a=n.x,o=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const s=n.x2,l=n.y2;if(ge(s)&&ge(l))throw new Error(`${t} cannot have both x2 and y2`);if(ge(s)){if(Wi(a))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(ge(l)){if(Wi(o))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const s=n.xError,l=n.xError2,c=n.yError,u=n.yError2;if(ge(l)&&!ge(s))throw new Error(`${t} cannot have xError2 without xError`);if(ge(u)&&!ge(c))throw new Error(`${t} cannot have yError2 without yError`);if(ge(s)&&ge(c))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(ge(s)){if(Wi(a))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(ge(c)){if(Wi(o))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function Z7e(e){return(ge(e.x)||ge(e.y))&&!ge(e.x2)&&!ge(e.y2)&&!ge(e.xError)&&!ge(e.xError2)&&!ge(e.yError)&&!ge(e.yError2)}function R7e(e){return ge(e.x2)||ge(e.y2)}function P7e(e){return ge(e.xError)||ge(e.xError2)||ge(e.yError)||ge(e.yError2)}function Sj(e,t,n){var r;const{mark:i,encoding:a,params:o,projection:s}=e,l=ik(e,["mark","encoding","params","projection"]),c=oa(i)?i:{type:i};o&&U(_P(t));const{orient:u,inputType:f}=I7e(e,t),{continuousAxisChannelDef:d,continuousAxisChannelDef2:h,continuousAxisChannelDefError:m,continuousAxisChannelDefError2:g,continuousAxis:p}=vj(e,u,t),{errorBarSpecificAggregate:y,postAggregateCalculates:b,tooltipSummary:v,tooltipTitleWithFieldName:x}=j7e(c,d,h,m,g,f,t,n),_=a,T=p;_[T];const w=p==="x"?"x2":"y2";_[w];const S=p==="x"?"xError":"yError";_[S];const C=p==="x"?"xError2":"yError2";_[C];const k=ik(_,[typeof T=="symbol"?T:T+"",typeof w=="symbol"?w:w+"",typeof S=="symbol"?S:S+"",typeof C=="symbol"?C:C+""]),{bins:A,timeUnits:L,aggregate:D,groupby:E,encoding:O}=pj(k,n),M=[...D,...y],F=f!=="raw"?[]:E,$=N5(v,d,O,x);return{transform:[...(r=l.transform)!==null&&r!==void 0?r:[],...A,...L,...M.length===0?[]:[{aggregate:M,groupby:F}],...b],groupby:F,continuousAxisChannelDef:d,continuousAxis:p,encodingWithoutContinuousAxis:O,ticksOrient:u==="vertical"?"horizontal":"vertical",markDef:c,outerSpec:l,tooltipEncoding:$}}function j7e(e,t,n,r,i,a,o,s){let l=[],c=[];const u=t.field;let f,d=!1;if(a==="raw"){const h=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":s.errorbar.center,m=e.extent?e.extent:h==="mean"?"stderr":"iqr";if(h==="median"!=(m==="iqr")&&U(Q3e(h,m,o)),m==="stderr"||m==="stdev")l=[{op:m,field:u,as:`extent_${u}`},{op:h,field:u,as:`center_${u}`}],c=[{calculate:`datum["center_${u}"] + datum["extent_${u}"]`,as:`upper_${u}`},{calculate:`datum["center_${u}"] - datum["extent_${u}"]`,as:`lower_${u}`}],f=[{fieldPrefix:"center_",titlePrefix:Eh(h)},{fieldPrefix:"upper_",titlePrefix:ak(h,m,"+")},{fieldPrefix:"lower_",titlePrefix:ak(h,m,"-")}],d=!0;else{let g,p,y;m==="ci"?(g="mean",p="ci0",y="ci1"):(g="median",p="q1",y="q3"),l=[{op:p,field:u,as:`lower_${u}`},{op:y,field:u,as:`upper_${u}`},{op:g,field:u,as:`center_${u}`}],f=[{fieldPrefix:"upper_",titlePrefix:Kl({field:u,aggregate:y,type:"quantitative"},s,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Kl({field:u,aggregate:p,type:"quantitative"},s,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Kl({field:u,aggregate:g,type:"quantitative"},s,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&U(K3e(e.center,e.extent)),a==="aggregated-upper-lower"?(f=[],c=[{calculate:`datum["${n.field}"]`,as:`upper_${u}`},{calculate:`datum["${u}"]`,as:`lower_${u}`}]):a==="aggregated-error"&&(f=[{fieldPrefix:"",titlePrefix:u}],c=[{calculate:`datum["${u}"] + datum["${r.field}"]`,as:`upper_${u}`}],i?c.push({calculate:`datum["${u}"] + datum["${i.field}"]`,as:`lower_${u}`}):c.push({calculate:`datum["${u}"] - datum["${r.field}"]`,as:`lower_${u}`}));for(const h of c)f.push({fieldPrefix:h.as.substring(0,6),titlePrefix:L0(L0(h.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:c,errorBarSpecificAggregate:l,tooltipSummary:f,tooltipTitleWithFieldName:d}}function ak(e,t,n){return`${Eh(e)} ${n} ${t}`}const g6="errorband",z7e=["band","borders"],G7e=new oy(g6,Ej);function Ej(e,{config:t}){e=Object.assign(Object.assign({},e),{encoding:sy(e.encoding,t)});const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:a,markDef:o,outerSpec:s,tooltipEncoding:l}=Sj(e,g6,t),c=o,u=m6(c,i,r,a,t.errorband),f=e.encoding.x!==void 0&&e.encoding.y!==void 0;let d={type:f?"area":"rect"},h={type:f?"line":"rule"};const m=Object.assign(Object.assign({},c.interpolate?{interpolate:c.interpolate}:{}),c.tension&&c.interpolate?{tension:c.tension}:{});return f?(d=Object.assign(Object.assign(Object.assign({},d),m),{ariaRoleDescription:"errorband"}),h=Object.assign(Object.assign(Object.assign({},h),m),{aria:!1})):c.interpolate?U(XE("interpolate")):c.tension&&U(XE("tension")),Object.assign(Object.assign({},s),{transform:n,layer:[...u({partName:"band",mark:d,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l}),...u({partName:"borders",mark:h,positionPrefix:"lower",extraEncoding:l}),...u({partName:"borders",mark:h,positionPrefix:"upper",extraEncoding:l})]})}const kj={};function y6(e,t,n){const r=new oy(e,t);kj[e]={normalizer:r,parts:n}}function U7e(){return G(kj)}y6(Wp,wj,L7e);y6(p6,Aj,$7e);y6(g6,Ej,z7e);const W7e=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],Mj={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},Oj={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},H7e=G(Mj),Y7e=G(Oj),q7e={header:1,headerRow:1,headerColumn:1,headerFacet:1},Cj=G(q7e),Dj=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],V7e={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},X7e={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},la="_vgsid_",J7e={point:{on:"click",fields:[la],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function b6(e){return e==="legend"||!!(e!=null&&e.legend)}function Qb(e){return b6(e)&&ee(e)}function v6(e){return!!(e!=null&&e.select)}var K7e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Lj(e){const t=[];for(const n of e||[]){if(v6(n))continue;const{expr:r,bind:i}=n,a=K7e(n,["expr","bind"]);if(i&&r){const o=Object.assign(Object.assign({},a),{bind:i,init:r});t.push(o)}else{const o=Object.assign(Object.assign(Object.assign({},a),r?{update:r}:{}),i?{bind:i}:{});t.push(o)}}return t}function Q7e(e){return ly(e)||_6(e)||x6(e)}function x6(e){return"concat"in e}function ly(e){return"vconcat"in e}function _6(e){return"hconcat"in e}function Fj({step:e,offsetIsDiscrete:t}){var n;return t?(n=e.for)!==null&&n!==void 0?n:"offset":"position"}function ca(e){return ee(e)&&e.step!==void 0}function ok(e){return e.view||e.width||e.height}const sk=20,e8e={align:1,bounds:1,center:1,columns:1,spacing:1},t8e=G(e8e);function n8e(e,t,n){var r,i;const a=n[t],o={},{spacing:s,columns:l}=a;s!==void 0&&(o.spacing=s),l!==void 0&&(ty(e)&&!Bh(e.facet)||x6(e))&&(o.columns=l),ly(e)&&(o.columns=1);for(const c of t8e)if(e[c]!==void 0)if(c==="spacing"){const u=e[c];o[c]=Ye(u)?u:{row:(r=u.row)!==null&&r!==void 0?r:s,column:(i=u.column)!==null&&i!==void 0?i:s}}else o[c]=e[c];return o}var r8e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function I5(e,t){var n;return(n=e[t])!==null&&n!==void 0?n:e[t==="width"?"continuousWidth":"continuousHeight"]}function Hp(e,t){const n=Yp(e,t);return ca(n)?n.step:Bj}function Yp(e,t){var n;const r=(n=e[t])!==null&&n!==void 0?n:e[t==="width"?"discreteWidth":"discreteHeight"];return wt(r,{step:e.step})}const Bj=20,i8e={continuousWidth:200,continuousHeight:200,step:Bj},a8e={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:i8e,mark:V5e,arc:{},area:{},bar:K5e,circle:{},geoshape:{},image:{},line:{},point:{},rect:Q5e,rule:{color:"black"},square:{},text:{color:"black"},tick:e7e,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:D5e,projection:{},legend:V7e,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:J7e,style:{},title:{},facet:{spacing:sk},concat:{spacing:sk},normalizedNumberFormat:".0%"},Ca=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],lk={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},ck={blue:Ca[0],orange:Ca[1],red:Ca[2],teal:Ca[3],green:Ca[4],yellow:Ca[5],purple:Ca[6],pink:Ca[7],brown:Ca[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function o8e(e={}){return{signals:[{name:"color",value:ee(e)?Object.assign(Object.assign({},ck),e):ck}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function s8e(e){return{signals:[{name:"fontSize",value:ee(e)?Object.assign(Object.assign({},lk),e):lk}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function l8e(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function $j(e){const t=G(e||{}),n={};for(const r of t){const i=e[r];n[r]=Ih(i)?mP(i):fr(i)}return n}function c8e(e){const t=G(e),n={};for(const r of t)n[r]=$j(e[r]);return n}const u8e=[...HP,...hj,...Cj,"background","padding","legend","lineBreak","scale","style","title","view"];function Nj(e={}){const{color:t,font:n,fontSize:r,selection:i}=e,a=r8e(e,["color","font","fontSize","selection"]),o=tu({},ve(a8e),n?l8e(n):{},t?o8e(t):{},r?s8e(r):{},a||{});i&&nu(o,"selection",i,!0);const s=qn(o,u8e);for(const l of["background","lineBreak","padding"])o[l]&&(s[l]=fr(o[l]));for(const l of HP)o[l]&&(s[l]=Un(o[l]));for(const l of hj)o[l]&&(s[l]=$j(o[l]));for(const l of Cj)o[l]&&(s[l]=Un(o[l]));return o.legend&&(s.legend=Un(o.legend)),o.scale&&(s.scale=Un(o.scale)),o.style&&(s.style=c8e(o.style)),o.title&&(s.title=Un(o.title)),o.view&&(s.view=Un(o.view)),s}const f8e=new Set(["view",...G5e]),d8e=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],h8e=Object.assign({view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},q5e);function m8e(e){e=ve(e);for(const t of d8e)delete e[t];if(e.axis)for(const t in e.axis)Ih(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of W7e)delete e.legend[t];if(e.mark){for(const t of KE)delete e.mark[t];e.mark.tooltip&&ee(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(Lj(e.params)),delete e.params);for(const t of f8e){for(const r of KE)delete e[t][r];const n=h8e[t];if(n)for(const r of n)delete e[t][r];g8e(e,t)}for(const t of U7e())delete e[t];p8e(e);for(const t in e)ee(e[t])&&He(e[t])&&delete e[t];return He(e)?void 0:e}function p8e(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=hP(e.title);He(t)||(e.style["group-title"]=Object.assign(Object.assign({},e.style["group-title"]),t)),He(n)||(e.style["group-subtitle"]=Object.assign(Object.assign({},e.style["group-subtitle"]),n)),He(r)?delete e.title:e.title=r}function g8e(e,t,n,r){const i=r?e[t][r]:e[t];t==="view"&&(n="cell");const a=Object.assign(Object.assign({},i),e.style[n??t]);He(a)||(e.style[n??t]=a),r||delete e[t]}function cy(e){return"layer"in e}function y8e(e){return"repeat"in e}function b8e(e){return!j(e.repeat)&&e.repeat.layer}var v8e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class w6{map(t,n){return ty(t)?this.mapFacet(t,n):y8e(t)?this.mapRepeat(t,n):_6(t)?this.mapHConcat(t,n):ly(t)?this.mapVConcat(t,n):x6(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(cy(t))return this.mapLayer(t,n);if(uo(t))return this.mapUnit(t,n);throw new Error(I9(t))}mapLayer(t,n){return Object.assign(Object.assign({},t),{layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))})}mapHConcat(t,n){return Object.assign(Object.assign({},t),{hconcat:t.hconcat.map(r=>this.map(r,n))})}mapVConcat(t,n){return Object.assign(Object.assign({},t),{vconcat:t.vconcat.map(r=>this.map(r,n))})}mapConcat(t,n){const{concat:r}=t,i=v8e(t,["concat"]);return Object.assign(Object.assign({},i),{concat:r.map(a=>this.map(a,n))})}mapFacet(t,n){return Object.assign(Object.assign({},t),{spec:this.map(t.spec,n)})}mapRepeat(t,n){return Object.assign(Object.assign({},t),{spec:this.map(t.spec,n)})}}const x8e={zero:1,center:1,normalize:1};function _8e(e){return e in x8e}const w8e=new Set([zP,J2,X2,Pp,Q2,e6,t6,K2,GP,Q9]),T8e=new Set([J2,X2,zP]);function kl(e){return W(e)&&Bc(e)==="quantitative"&&!e.bin}function uk(e,t){var n,r;const i=t==="x"?"y":"radius",a=e[t],o=e[i];if(W(a)&&W(o))if(kl(a)&&kl(o)){if(a.stack)return t;if(o.stack)return i;const s=W(a)&&!!a.aggregate,l=W(o)&&!!o.aggregate;if(s!==l)return s?t:i;{const c=(n=a.scale)===null||n===void 0?void 0:n.type,u=(r=o.scale)===null||r===void 0?void 0:r.type;if(c&&c!=="linear")return i;if(u&&u!=="linear")return t}}else{if(kl(a))return t;if(kl(o))return i}else{if(kl(a))return t;if(kl(o))return i}}function A8e(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function Ij(e,t){var n,r;const i=oa(e)?e.type:e;if(!w8e.has(i))return null;const a=uk(t,"x")||uk(t,"theta");if(!a)return null;const o=t[a],s=W(o)?V(o,{}):void 0,l=A8e(a),c=[],u=new Set;if(t[l]){const h=t[l],m=W(h)?V(h,{}):void 0;m&&m!==s&&(c.push(l),u.add(m));const g=l==="x"?"xOffset":"yOffset",p=t[g],y=W(p)?V(p,{}):void 0;y&&y!==s&&(c.push(g),u.add(y))}const f=Lve.reduce((h,m)=>{if(m!=="tooltip"&&c0(t,m)){const g=t[m];for(const p of Q(g)){const y=sa(p);if(y.aggregate)continue;const b=V(y,{});(!b||!u.has(b))&&h.push({channel:m,fieldDef:y})}}return h},[]);let d;return o.stack!==void 0?ps(o.stack)?d=o.stack?"zero":null:d=o.stack:T8e.has(i)&&(d="zero"),!d||!_8e(d)||f6(t)&&f.length===0?null:!((n=o==null?void 0:o.scale)===null||n===void 0)&&n.type&&((r=o==null?void 0:o.scale)===null||r===void 0?void 0:r.type)!==Vn.LINEAR?(U(V3e(o.scale.type)),null):ge(t[_a(a)])?(o.stack!==void 0&&U(q3e(a)),null):(W(o)&&o.aggregate&&!Uve.has(o.aggregate)&&U(X3e(o.aggregate)),{groupbyChannels:c,groupbyFields:u,fieldChannel:a,impute:o.impute===null?!1:Es(i),stackBy:f,offset:d})}var Zj=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function S8e(e){const t=Zj(e,["point","line"]);return G(t).length>1?t:t.type}function E8e(e){for(const t of["line","area","rule","trail"])e[t]&&(e=Object.assign(Object.assign({},e),{[t]:qn(e[t],["point","line"])}));return e}function ev(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?ee(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?ee(t.point)?t.point:{}:void 0}function fk(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class k8e{constructor(){this.name="path-overlay"}hasMatchingType(t,n){if(uo(t)){const{mark:r,encoding:i}=t,a=oa(r)?r:{type:r};switch(a.type){case"line":case"rule":case"trail":return!!ev(a,n[a.type],i);case"area":return!!ev(a,n[a.type],i)||!!fk(a,n[a.type])}}return!1}run(t,n,r){const{config:i}=n,{params:a,projection:o,mark:s,encoding:l}=t,c=Zj(t,["params","projection","mark","encoding"]),u=sy(l,i),f=oa(s)?s:{type:s},d=ev(f,i[f.type],u),h=f.type==="area"&&fk(f,i[f.type]),m=[Object.assign(Object.assign({},a?{params:a}:{}),{mark:S8e(Object.assign(Object.assign({},f.type==="area"&&f.opacity===void 0&&f.fillOpacity===void 0?{opacity:.7}:{}),f)),encoding:qn(u,["shape"])})],g=Ij(f,u);let p=u;if(g){const{fieldChannel:y,offset:b}=g;p=Object.assign(Object.assign({},u),{[y]:Object.assign(Object.assign({},u[y]),b?{stack:b}:{})})}return p=qn(p,["y2","x2"]),h&&m.push(Object.assign(Object.assign({},o?{projection:o}:{}),{mark:Object.assign(Object.assign({type:"line"},Oc(f,["clip","interpolate","tension","tooltip"])),h),encoding:p})),d&&m.push(Object.assign(Object.assign({},o?{projection:o}:{}),{mark:Object.assign(Object.assign({type:"point",opacity:1,filled:!0},Oc(f,["clip","tooltip"])),d),encoding:p})),r(Object.assign(Object.assign({},c),{layer:m}),Object.assign(Object.assign({},n),{config:E8e(i)}))}}var M8e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function O8e(e,t){return t?Bh(e)?Pj(e,t):Rj(e,t):e}function tv(e,t){return t?Pj(e,t):e}function Z5(e,t,n){const r=t[e];if(u7e(r)){if(r.repeat in n)return Object.assign(Object.assign({},t),{[e]:n[r.repeat]});U(u3e(r.repeat));return}return t}function Rj(e,t){if(e=Z5("field",e,t),e!==void 0){if(e===null)return null;if(s6(e)&&Xi(e.sort)){const n=Z5("field",e.sort,t);e=Object.assign(Object.assign({},e),n?{sort:n}:{})}return e}}function dk(e,t){if(W(e))return Rj(e,t);{const n=Z5("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function hk(e,t){if(ge(e)){const n=dk(e,t);if(n)return n;if(ny(e))return{condition:e.condition}}else{if($h(e)){const n=dk(e.condition,t);return n?Object.assign(Object.assign({},e),{condition:n}):M8e(e,["condition"])}return e}}function Pj(e,t){const n={};for(const r in e)if(oe(e,r)){const i=e[r];if(j(i))n[r]=i.map(a=>hk(a,t)).filter(a=>a);else{const a=hk(i,t);a!==void 0&&(n[r]=a)}}return n}class C8e{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(uo(t)){const{encoding:n,mark:r}=t;if(r==="line"||oa(r)&&r.type==="line")for(const i of Ove){const a=nl(i),o=n[a];if(n[i]&&(W(o)&&!Ht(o.bin)||Ta(o)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:a}=t;return U(D3e(!!i.x2,!!i.y2)),r(Object.assign(Object.assign({},t),{mark:ee(a)?Object.assign(Object.assign({},a),{type:"rule"}):"rule"}),n)}}var mo=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class D8e extends w6{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[F7e,N7e,G7e,new k8e,new C8e]}map(t,n){if(uo(t)){const r=c0(t.encoding,Ua),i=c0(t.encoding,Wa),a=c0(t.encoding,j2);if(r||i||a)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:r,parentProjection:i}=n,a=tv(t.encoding,n.repeater),o=Object.assign(Object.assign({},t),a?{encoding:a}:{});if(r||i)return this.mapUnitWithParentEncodingOrProjection(o,n);const s=this.mapLayerOrUnit.bind(this);for(const l of this.nonFacetUnitNormalizers)if(l.hasMatchingType(o,n.config))return l.run(o,n,s);return o}mapRepeat(t,n){return b8e(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:r,spec:i}=t,a=mo(t,["repeat","spec"]),{row:o,column:s,layer:l}=r,{repeater:c={},repeaterPrefix:u=""}=n;return o||s?this.mapRepeat(Object.assign(Object.assign({},t),{repeat:Object.assign(Object.assign({},o?{row:o}:{}),s?{column:s}:{}),spec:{repeat:{layer:l},spec:i}}),n):Object.assign(Object.assign({},a),{layer:l.map(f=>{const d=Object.assign(Object.assign({},c),{layer:f}),h=`${(i.name||"")+u}child__layer_${lt(f)}`,m=this.mapLayerOrUnit(i,Object.assign(Object.assign({},n),{repeater:d,repeaterPrefix:h}));return m.name=h,m})})}mapNonLayerRepeat(t,n){var r;const{repeat:i,spec:a,data:o}=t,s=mo(t,["repeat","spec","data"]);!j(i)&&t.columns&&(t=qn(t,["columns"]),U(HE("repeat")));const l=[],{repeater:c={},repeaterPrefix:u=""}=n,f=!j(i)&&i.row||[c?c.row:null],d=!j(i)&&i.column||[c?c.column:null],h=j(i)&&i||[c?c.repeat:null];for(const g of h)for(const p of f)for(const y of d){const b={repeat:g,row:p,column:y,layer:c.layer},v=(a.name||"")+u+"child__"+(j(i)?`${lt(g)}`:(i.row?`row_${lt(p)}`:"")+(i.column?`column_${lt(y)}`:"")),x=this.map(a,Object.assign(Object.assign({},n),{repeater:b,repeaterPrefix:v}));x.name=v,l.push(qn(x,["data"]))}const m=j(i)?t.columns:i.column?i.column.length:1;return Object.assign(Object.assign({data:(r=a.data)!==null&&r!==void 0?r:o,align:"all"},s),{columns:m,concat:l})}mapFacet(t,n){const{facet:r}=t;return Bh(r)&&t.columns&&(t=qn(t,["columns"]),U(HE("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:r,projection:i}=t,{parentEncoding:a,parentProjection:o,config:s}=n,l=pk({parentProjection:o,projection:i}),c=mk({parentEncoding:a,encoding:tv(r,n.repeater)});return this.mapUnit(Object.assign(Object.assign(Object.assign({},t),l?{projection:l}:{}),c?{encoding:c}:{}),{config:s})}mapFacetedUnit(t,n){const r=t.encoding,{row:i,column:a,facet:o}=r,s=mo(r,["row","column","facet"]),{mark:l,width:c,projection:u,height:f,view:d,params:h,encoding:m}=t,g=mo(t,["mark","width","projection","height","view","params","encoding"]),{facetMapping:p,layout:y}=this.getFacetMappingAndLayout({row:i,column:a,facet:o},n),b=tv(s,n.repeater);return this.mapFacet(Object.assign(Object.assign(Object.assign({},g),y),{facet:p,spec:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},c?{width:c}:{}),f?{height:f}:{}),d?{view:d}:{}),u?{projection:u}:{}),{mark:l,encoding:b}),h?{params:h}:{})}),n)}getFacetMappingAndLayout(t,n){var r;const{row:i,column:a,facet:o}=t;if(i||a){o&&U(O3e([...i?[Ua]:[],...a?[Wa]:[]]));const s={},l={};for(const c of[Ua,Wa]){const u=t[c];if(u){const f=mo(u,["align","center","spacing","columns"]);s[c]=f;for(const d of["align","center","spacing"])u[d]!==void 0&&((r=l[d])!==null&&r!==void 0||(l[d]={}),l[d][c]=u[d])}}return{facetMapping:s,layout:l}}else{const{align:s,center:l,spacing:c,columns:u}=o,f=mo(o,["align","center","spacing","columns"]);return{facetMapping:O8e(f,n.repeater),layout:Object.assign(Object.assign(Object.assign(Object.assign({},s?{align:s}:{}),l?{center:l}:{}),c?{spacing:c}:{}),u?{columns:u}:{})}}}mapLayer(t,n){var{parentEncoding:r,parentProjection:i}=n,a=mo(n,["parentEncoding","parentProjection"]);const{encoding:o,projection:s}=t,l=mo(t,["encoding","projection"]),c=Object.assign(Object.assign({},a),{parentEncoding:mk({parentEncoding:r,encoding:o,layer:!0}),parentProjection:pk({parentProjection:i,projection:s})});return super.mapLayer(l,c)}}function mk({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...G(e),...G(t)]);for(const a of i){const o=t[a],s=e[a];if(ge(o)){const l=Object.assign(Object.assign({},s),o);r[a]=l}else $h(o)?r[a]=Object.assign(Object.assign({},o),{condition:Object.assign(Object.assign({},s),o.condition)}):o||o===null?r[a]=o:(n||wi(s)||ae(s)||ge(s)||j(s))&&(r[a]=s)}}else r=t;return!r||He(r)?void 0:r}function pk(e){const{parentProjection:t,projection:n}=e;return t&&n&&U(g3e({parentProjection:t,projection:n})),n??t}function T6(e){return"filter"in e}function L8e(e){return(e==null?void 0:e.stop)!==void 0}function jj(e){return"lookup"in e}function F8e(e){return"data"in e}function B8e(e){return"param"in e}function $8e(e){return"pivot"in e}function N8e(e){return"density"in e}function I8e(e){return"quantile"in e}function Z8e(e){return"regression"in e}function R8e(e){return"loess"in e}function P8e(e){return"sample"in e}function j8e(e){return"window"in e}function z8e(e){return"joinaggregate"in e}function G8e(e){return"flatten"in e}function U8e(e){return"calculate"in e}function zj(e){return"bin"in e}function W8e(e){return"impute"in e}function H8e(e){return"timeUnit"in e}function Y8e(e){return"aggregate"in e}function q8e(e){return"stack"in e}function V8e(e){return"fold"in e}function X8e(e){return e.map(t=>T6(t)?{filter:Xl(t.filter,T5e)}:t)}var Ro=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class J8e extends w6{map(t,n){var r,i;return(r=n.emptySelections)!==null&&r!==void 0||(n.emptySelections={}),(i=n.selectionPredicates)!==null&&i!==void 0||(n.selectionPredicates={}),t=gk(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=gk(t,n),t.encoding){const r={};for(const[i,a]of is(t.encoding))r[i]=Gj(a,n);t=Object.assign(Object.assign({},t),{encoding:r})}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const r=t,{selection:i}=r,a=Ro(r,["selection"]);return i?Object.assign(Object.assign({},a),{params:is(i).map(([o,s])=>{var l;const c=s,{init:u,bind:f,empty:d}=c,h=Ro(c,["init","bind","empty"]);h.type==="single"?(h.type="point",h.toggle=!1):h.type==="multi"&&(h.type="point"),n.emptySelections[o]=d!=="none";for(const m of yn((l=n.selectionPredicates[o])!==null&&l!==void 0?l:{}))m.empty=d!=="none";return{name:o,value:u,select:h,bind:f}})}):t}}function gk(e,t){const{transform:n}=e,r=Ro(e,["transform"]);if(n){const i=n.map(a=>{if(T6(a))return{filter:R5(a,t)};if(zj(a)&&rl(a.bin))return Object.assign(Object.assign({},a),{bin:Uj(a.bin)});if(jj(a)){const o=a.from,{selection:s}=o,l=Ro(o,["selection"]);return s?Object.assign(Object.assign({},a),{from:Object.assign({param:s},l)}):a}return a});return Object.assign(Object.assign({},r),{transform:i})}return e}function Gj(e,t){var n,r;const i=ve(e);if(W(i)&&rl(i.bin)&&(i.bin=Uj(i.bin)),al(i)&&(!((r=(n=i.scale)===null||n===void 0?void 0:n.domain)===null||r===void 0)&&r.selection)){const a=i.scale.domain,{selection:o}=a,s=Ro(a,["selection"]);i.scale.domain=Object.assign(Object.assign({},s),o?{param:o}:{})}if(ny(i))if(j(i.condition))i.condition=i.condition.map(a=>{const{selection:o,param:s,test:l}=a,c=Ro(a,["selection","param","test"]);return s?a:Object.assign(Object.assign({},c),{test:R5(a,t)})});else{const a=Gj(i.condition,t),{selection:o,param:s,test:l}=a,c=Ro(a,["selection","param","test"]);i.condition=s?i.condition:Object.assign(Object.assign({},c),{test:R5(i.condition,t)})}return i}function Uj(e){const t=e.extent;if(t!=null&&t.selection){const{selection:n}=t,r=Ro(t,["selection"]);return Object.assign(Object.assign({},e),{extent:Object.assign(Object.assign({},r),{param:n})})}return e}function R5(e,t){const n=r=>Xl(r,i=>{var a,o,s;const l=(a=t.emptySelections[i])!==null&&a!==void 0?a:!0,c={param:i,empty:l};return(o=(s=t.selectionPredicates)[i])!==null&&o!==void 0||(s[i]=[]),t.selectionPredicates[i].push(c),c});return e.selection?n(e.selection):Xl(e.test||e.filter,r=>r.selection?n(r.selection):r)}class P5 extends w6{map(t,n){var r;const i=(r=n.selections)!==null&&r!==void 0?r:[];if(t.params&&!uo(t)){const a=[];for(const o of t.params)v6(o)?i.push(o):a.push(o);t.params=a}return n.selections=i,super.map(t,Wj(t,n))}mapUnit(t,n){var r;const i=n.selections;if(!i||!i.length)return t;const a=((r=n.path)!==null&&r!==void 0?r:[]).concat(t.name),o=[];for(const s of i)if(!s.views||!s.views.length)o.push(s);else for(const l of s.views)(J(l)&&(l===t.name||a.indexOf(l)>=0)||j(l)&&l.map(c=>a.indexOf(c)).every((c,u,f)=>c!==-1&&(u===0||c>f[u-1])))&&o.push(s);return o.length&&(t.params=o),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=P5.prototype[e];P5.prototype[e]=function(n,r){return t.call(this,n,Wj(n,r))}}function Wj(e,t){var n;return e.name?Object.assign(Object.assign({},t),{path:((n=t.path)!==null&&n!==void 0?n:[]).concat(e.name)}):t}function Hj(e,t){t===void 0&&(t=Nj(e.config));const n=t4e(e,t),{width:r,height:i}=e,a=n4e(n,{width:r,height:i,autosize:e.autosize},t);return Object.assign(Object.assign({},n),a?{autosize:a}:{})}const K8e=new D8e,Q8e=new J8e,e4e=new P5;function t4e(e,t={}){const n={config:t};return e4e.map(K8e.map(Q8e.map(e,n),n),n)}function yk(e){return J(e)?{type:e}:e??{}}function n4e(e,t,n){let{width:r,height:i}=t;const a=uo(e)||cy(e),o={};a?r=="container"&&i=="container"?(o.type="fit",o.contains="padding"):r=="container"?(o.type="fit-x",o.contains="padding"):i=="container"&&(o.type="fit-y",o.contains="padding"):(r=="container"&&(U(zE("width")),r=void 0),i=="container"&&(U(zE("height")),i=void 0));const s=Object.assign(Object.assign(Object.assign({type:"pad"},o),n?yk(n.autosize):{}),yk(e.autosize));if(s.type==="fit"&&!a&&(U(e3e),s.type="pad"),r=="container"&&!(s.type=="fit"||s.type=="fit-x")&&U(GE("width")),i=="container"&&!(s.type=="fit"||s.type=="fit-y")&&U(GE("height")),!Gi(s,{type:"pad"}))return s}function r4e(e){return e==="fit"||e==="fit-x"||e==="fit-y"}function i4e(e){return e?`fit-${H2(e)}`:"fit"}const a4e=["background","padding"];function bk(e,t){const n={};for(const r of a4e)e&&e[r]!==void 0&&(n[r]=fr(e[r]));return t&&(n.params=e.params),n}class fo{constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new fo(ve(this.explicit),ve(this.implicit))}combine(){return Object.assign(Object.assign({},this.explicit),this.implicit)}get(t){return wt(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of G(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function Ni(e){return{explicit:!0,value:e}}function or(e){return{explicit:!1,value:e}}function Yj(e){return(t,n,r,i)=>{const a=e(t.value,n.value);return a>0?t:a<0?n:uy(t,n,r,i)}}function uy(e,t,n,r){return e.explicit&&t.explicit&&U(j3e(n,r,e.value,t.value)),e}function os(e,t,n,r,i=uy){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:Gi(e.value,t.value)?e:i(e,t,n,r)}class o4e extends fo{constructor(t={},n={},r=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function Ic(e){return"url"in e}function Sd(e){return"values"in e}function qj(e){return"name"in e&&!Ic(e)&&!Sd(e)&&!Po(e)}function Po(e){return e&&(Vj(e)||Xj(e)||A6(e))}function Vj(e){return"sequence"in e}function Xj(e){return"sphere"in e}function A6(e){return"graticule"in e}var et;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup"})(et||(et={}));var s4e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Z0(e,t=!0,n=bn){if(j(e)){const r=e.map(i=>Z0(i,t,n));return t?`[${r.join(", ")}]`:r}else if(il(e))return n(t?Ad(e):d5e(e));return t?n(tt(e)):e}function l4e(e,t){var n;for(const r of yn((n=e.component.selection)!==null&&n!==void 0?n:{})){const i=r.name;let a=`${i}${cs}, ${r.resolve==="global"?"true":`{unit: ${Zc(e)}}`}`;for(const o of dy)o.defined(r)&&(o.signals&&(t=o.signals(e,r,t)),o.modifyExpr&&(a=o.modifyExpr(e,r,a)));t.push({name:i+j4e,on:[{events:{signal:r.name+cs},update:`modify(${q(r.name+R0)}, ${a})`}]})}return S6(t)}function c4e(e,t){if(e.component.selection&&G(e.component.selection).length){const n=q(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:ys("mousemove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return S6(t)}function u4e(e,t){var n;let r=!1;for(const i of yn((n=e.component.selection)!==null&&n!==void 0?n:{})){const a=i.name,o=q(a+R0);if(t.filter(l=>l.name===a).length===0){const l=i.resolve==="global"?"union":i.resolve,c=i.type==="point"?", true, true)":")";t.push({name:i.name,update:`${dz}(${o}, ${q(l)}${c}`})}r=!0;for(const l of dy)l.defined(i)&&l.topLevelSignals&&(t=l.topLevelSignals(e,i,t))}return r&&t.filter(a=>a.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]}),S6(t)}function f4e(e,t){var n;const r=[...t],i=Zc(e,{escape:!1});for(const a of yn((n=e.component.selection)!==null&&n!==void 0?n:{})){const o={name:a.name+R0};if(a.project.hasSelectionId&&(o.transform=[{type:"collect",sort:{field:la}}]),a.init){const l=a.project.items.map(c=>s4e(c,["signals"]));o.values=a.project.hasSelectionId?a.init.map(c=>({unit:i,[la]:Z0(c,!1)[0]})):a.init.map(c=>({unit:i,fields:l,values:Z0(c,!1)}))}r.filter(l=>l.name===a.name+R0).length||r.push(o)}return r}function Jj(e,t){var n;for(const r of yn((n=e.component.selection)!==null&&n!==void 0?n:{}))for(const i of dy)i.defined(r)&&i.marks&&(t=i.marks(e,r,t));return t}function d4e(e,t){for(const n of e.children)xt(n)&&(t=Jj(n,t));return t}function h4e(e,t,n,r){const i=yz(e,t.param,t);return{signal:br(n.get("type"))&&j(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function S6(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}class Ve{constructor(t,n){this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){U(h3e);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}class Ln extends Ve{constructor(t,n,r,i){super(t,n),this.type=r,this.refCounts=i,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${JR()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}var vk=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class Ji extends Ve{constructor(t,n){super(t),this.formula=n}clone(){return new Ji(null,ve(this.formula))}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,a)=>{const{field:o,timeUnit:s}=a;if(s){const l=V(a,{forAs:!0});i[De({as:l,field:o,timeUnit:s})]={as:l,field:o,timeUnit:s}}return i},{});return He(r)?null:new Ji(t,r)}static makeFromTransform(t,n){const r=Object.assign({},n),{timeUnit:i}=r,a=vk(r,["timeUnit"]),o=xn(i),s=Object.assign(Object.assign({},a),{timeUnit:o});return new Ji(t,{[De(s)]:s})}merge(t){this.formula=Object.assign({},this.formula);for(const n in t.formula)this.formula[n]||(this.formula[n]=t.formula[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}removeFormulas(t){const n={};for(const[r,i]of is(this.formula))t.has(i.as)||(n[r]=i);this.formula=n}producedFields(){return new Set(yn(this.formula).map(t=>t.as))}dependentFields(){return new Set(yn(this.formula).map(t=>t.field))}hash(){return`TimeUnit ${De(this.formula)}`}assemble(){const t=[];for(const n of yn(this.formula)){const{field:r,as:i,timeUnit:a}=n,o=xn(a),{unit:s,utc:l}=o,c=vk(o,["unit","utc"]);t.push(Object.assign(Object.assign(Object.assign(Object.assign({field:Ir(r),type:"timeunit"},s?{units:z9(s)}:{}),l?{timezone:"utc"}:{}),c),{as:[i,`${i}_end`]}))}return t}}var m4e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Zh="_tuple_fields";class p4e{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const g4e={defined:()=>!0,parse:(e,t,n)=>{var r;const i=t.name,a=(r=t.project)!==null&&r!==void 0?r:t.project=new p4e,o={},s={},l=new Set,c=(g,p)=>{const y=p==="visual"?g.channel:g.field;let b=lt(`${i}_${y}`);for(let v=1;l.has(b);v++)b=lt(`${i}_${y}_${v}`);return l.add(b),{[p]:b}},u=t.type,f=e.config.selection[u],d=n.value!==void 0?Q(n.value):null;let{fields:h,encodings:m}=ee(n.select)?n.select:{};if(!h&&!m&&d){for(const g of d)if(ee(g))for(const p of G(g))Mve(p)?(m||(m=[])).push(p):u==="interval"?(U(c3e),m=f.encodings):(h||(h=[])).push(p)}!h&&!m&&(m=f.encodings,"fields"in f&&(h=f.fields));for(const g of m??[]){const p=e.fieldDef(g);if(p){let y=p.field;if(p.aggregate){U(t3e(g,p.aggregate));continue}else if(!y){U(WE(g));continue}if(p.timeUnit){y=e.vgField(g);const b={timeUnit:p.timeUnit,as:y,field:p.field};s[De(b)]=b}if(!o[y]){let b="E";if(u==="interval"){const x=e.getScaleComponent(g).get("type");br(x)&&(b="R")}else p.bin&&(b="R-RE");const v={field:y,channel:g,type:b};v.signals=Object.assign(Object.assign({},c(v,"data")),c(v,"visual")),a.items.push(o[y]=v),a.hasField[y]=a.hasChannel[g]=o[y],a.hasSelectionId=a.hasSelectionId||y===la}}else U(WE(g))}for(const g of h??[]){if(a.hasField[g])continue;const p={type:"E",field:g};p.signals=Object.assign({},c(p,"data")),a.items.push(p),a.hasField[g]=p,a.hasSelectionId=a.hasSelectionId||g===la}d&&(t.init=d.map(g=>a.items.map(p=>ee(g)?g[p.channel]!==void 0?g[p.channel]:g[p.field]:g))),He(s)||(a.timeUnit=new Ji(null,s))},signals:(e,t,n)=>{const r=t.name+Zh;return n.filter(a=>a.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(a=>{const o=m4e(a,["signals","hasLegend"]);return o.field=Ir(o.field),o})})}},ss={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!Ts(i))continue;const a=e.getScaleComponent(i),o=a?a.get("type"):void 0;if(!a||!br(o)){U(i3e);continue}a.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(o=>n.filter(s=>s.name===o.signals.data).length===0);if(!e.parent||z5(e)||r.length===0)return n;const i=n.filter(o=>o.name===t.name)[0];let a=i.update;if(a.indexOf(dz)>=0)i.update=`{${r.map(o=>`${q(Ir(o.field))}: ${o.signals.data}`).join(", ")}}`;else{for(const o of r){const s=`${q(Ir(o.field))}: ${o.signals.data}`;a.includes(s)||(a=`${a.substring(0,a.length-1)}, ${s}}`)}i.update=a}return n.concat(r.map(o=>({name:o.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!z5(e))for(const r of t.scales){const i=n.filter(a=>a.name===r.signals.data)[0];i.push="outer",delete i.value,delete i.update}return n}};function j5(e,t){return`domain(${q(e.scaleName(t))})`}function z5(e){var t;return e.parent&&vu(e.parent)&&((t=!e.parent.parent)!==null&&t!==void 0?t:z5(e.parent.parent))}var y4e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Ql="_brush",G5="_scale_trigger",b4e={defined:e=>e.type==="interval",signals:(e,t,n)=>{const r=t.name,i=r+Zh,a=ss.defined(t),o=t.init?t.init[0]:null,s=[],l=[];if(t.translate&&!a){const u=`!event.item || event.item.mark.name !== ${q(r+Ql)}`;Kj(t,(f,d)=>{var h,m;const g=Q((h=(m=d.between[0]).filter)!==null&&h!==void 0?h:m.filter=[]);return g.includes(u)||g.push(u),f})}t.project.items.forEach((u,f)=>{const d=u.channel;if(d!==dt&&d!==zt){U("Interval selections only support x and y encoding channels.");return}const h=o?o[f]:null,m=v4e(e,t,u,h),g=u.signals.data,p=u.signals.visual,y=q(e.scaleName(d)),b=e.getScaleComponent(d).get("type"),v=br(b)?"+":"";n.push(...m),s.push(g),l.push({scaleName:e.scaleName(d),expr:`(!isArray(${g}) || (${v}invert(${y}, ${p})[0] === ${v}${g}[0] && ${v}invert(${y}, ${p})[1] === ${v}${g}[1]))`})}),!a&&l.length&&n.push({name:r+G5,value:{},on:[{events:l.map(u=>({scale:u.scaleName})),update:`${l.map(u=>u.expr).join(" && ")} ? ${r+G5} : {}`}]});const c=`unit: ${Zc(e)}, fields: ${i}, values`;return n.concat(Object.assign(Object.assign({name:r+cs},o?{init:`{${c}: ${Z0(o)}}`}:{}),s.length?{on:[{events:[{signal:s.join(" || ")}],update:`${s.join(" && ")} ? {${c}: [${s}]} : null`}]}:{}))},marks:(e,t,n)=>{const r=t.name,{x:i,y:a}=t.project.hasChannel,o=i==null?void 0:i.signals.visual,s=a==null?void 0:a.signals.visual,l=`data(${q(t.name+R0)})`;if(ss.defined(t)||!i&&!a)return n;const c={x:i!==void 0?{signal:`${o}[0]`}:{value:0},y:a!==void 0?{signal:`${s}[0]`}:{value:0},x2:i!==void 0?{signal:`${o}[1]`}:{field:{group:"width"}},y2:a!==void 0?{signal:`${s}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const p of G(c))c[p]=[Object.assign({test:`${l}.length && ${l}[0].unit === ${Zc(e)}`},c[p]),{value:0}];const u=t.mark,{fill:f,fillOpacity:d,cursor:h}=u,m=y4e(u,["fill","fillOpacity","cursor"]),g=G(m).reduce((p,y)=>(p[y]=[{test:[i!==void 0&&`${o}[0] !== ${o}[1]`,a!==void 0&&`${s}[0] !== ${s}[1]`].filter(b=>b).join(" && "),value:m[y]},{value:null}],p),{});return[{name:`${r+Ql}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:f},fillOpacity:{value:d}},update:c}},...n,{name:r+Ql,type:"rect",clip:!0,encode:{enter:Object.assign(Object.assign({},h?{cursor:{value:h}}:{}),{fill:{value:"transparent"}}),update:Object.assign(Object.assign({},c),g)}}]}};function v4e(e,t,n,r){const i=n.channel,a=n.signals.visual,o=n.signals.data,s=ss.defined(t),l=q(e.scaleName(i)),c=e.getScaleComponent(i),u=c?c.get("type"):void 0,f=g=>`scale(${l}, ${g})`,d=e.getSizeSignalRef(i===dt?"width":"height").signal,h=`${i}(unit)`,m=Kj(t,(g,p)=>[...g,{events:p.between[0],update:`[${h}, ${h}]`},{events:p,update:`[${a}[0], clamp(${h}, 0, ${d})]`}]);return m.push({events:{signal:t.name+G5},update:br(u)?`[${f(`${o}[0]`)}, ${f(`${o}[1]`)}]`:"[0, 0]"}),s?[{name:o,on:[]}]:[Object.assign(Object.assign({name:a},r?{init:Z0(r,!0,f)}:{value:[]}),{on:m}),Object.assign(Object.assign({name:o},r?{init:Z0(r)}:{}),{on:[{events:{signal:a},update:`${a}[0] === ${a}[1] ? null : invert(${l}, ${a})`}]})]}function Kj(e,t){return e.events.reduce((n,r)=>r.between?t(n,r):(U(`${r} is not an ordered event stream for interval selections.`),n),[])}const x4e={defined:e=>e.type==="point",signals:(e,t,n)=>{var r;const i=t.name,a=i+Zh,o=t.project,s="(item().isVoronoi ? datum.datum : datum)",l=yn((r=e.component.selection)!==null&&r!==void 0?r:{}).reduce((d,h)=>h.type==="interval"?d.concat(h.name+Ql):d,[]).map(d=>`indexof(item().mark.name, '${d}') < 0`).join(" && "),c=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${l?` && ${l}`:""}`;let u=`unit: ${Zc(e)}, `;if(t.project.hasSelectionId)u+=`${la}: ${s}[${q(la)}]`;else{const d=o.items.map(h=>{const m=e.fieldDef(h.channel);return m!=null&&m.bin?`[${s}[${q(e.vgField(h.channel,{}))}], ${s}[${q(e.vgField(h.channel,{binSuffix:"end"}))}]]`:`${s}[${q(h.field)}]`}).join(", ");u+=`fields: ${a}, values: [${d}]`}const f=t.events;return n.concat([{name:i+cs,on:f?[{events:f,update:`${c} ? {${u}} : null`,force:!0}]:[]}])}};function pu(e,t,n,r){const i=ny(t)&&t.condition,a=r(t);if(i){const s=Q(i).map(l=>{const c=r(l);if(c7e(l)){const{param:u,empty:f}=l,d=gz(e,{param:u,empty:f});return Object.assign({test:d},c)}else{const u=Xp(e,l.test);return Object.assign({test:u},c)}});return{[n]:[...s,...a!==void 0?[a]:[]]}}else return a!==void 0?{[n]:a}:{}}function E6(e,t="text"){const n=e.encoding[t];return pu(e,n,t,r=>fy(r,e.config))}function fy(e,t,n="datum"){if(e){if(wi(e))return it(e.value);if(ge(e)){const{format:r,formatType:i}=Gp(e);return a6({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function Qj(e,t={}){const{encoding:n,markDef:r,config:i,stack:a}=e,o=n.tooltip;if(j(o))return{tooltip:xk({tooltip:o},a,i,t)};{const s=t.reactiveGeom?"datum.datum":"datum";return pu(e,o,"tooltip",l=>{const c=fy(l,i,s);if(c)return c;if(l===null)return;let u=ze("tooltip",r,i);if(u===!0&&(u={content:"encoding"}),J(u))return{value:u};if(ee(u))return ae(u)?u:u.content==="encoding"?xk(n,a,i,t):{signal:s}})}}function ez(e,t,n,{reactiveGeom:r}={}){const i={},a=r?"datum.datum":"datum",o=[];function s(c,u){const f=nl(u),d=Rr(c)?c:Object.assign(Object.assign({},c),{type:e[f].type}),h=d.title||c6(d,n),m=Q(h).join(", ");let g;if(Gt(u)){const p=u==="x"?"x2":"y2",y=sa(e[p]);if(Ht(d.bin)&&y){const b=V(d,{expr:a}),v=V(y,{expr:a}),{format:x,formatType:_}=Gp(d);g=Fh(b,v,x,_,n),i[p]=!0}}if((Gt(u)||u===zr||u===Ci)&&t&&t.fieldChannel===u&&t.offset==="normalize"){const{format:p,formatType:y}=Gp(d);g=a6({fieldOrDatumDef:d,format:p,formatType:y,expr:a,config:n,normalizeStack:!0}).signal}g??(g=fy(d,n,a).signal),o.push({channel:u,key:m,value:g})}d6(e,(c,u)=>{W(c)?s(c,u):ry(c)&&s(c.condition,u)});const l={};for(const{channel:c,key:u,value:f}of o)!i[c]&&!l[u]&&(l[u]=f);return l}function xk(e,t,n,{reactiveGeom:r}={}){const i=ez(e,t,n,{reactiveGeom:r}),a=is(i).map(([o,s])=>`"${o}": ${s}`);return a.length>0?{signal:`{${a.join(", ")}}`}:void 0}function _4e(e){const{markDef:t,config:n}=e,r=ze("aria",t,n);return r===!1?{}:Object.assign(Object.assign(Object.assign({},r?{aria:r}:{}),w4e(e)),T4e(e))}function w4e(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=ze("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:t in Jve?{}:{ariaRoleDescription:{value:t}}}function T4e(e){const{encoding:t,markDef:n,config:r,stack:i}=e,a=t.description;if(a)return pu(e,a,"description",l=>fy(l,e.config));const o=ze("description",n,r);if(o!=null)return{description:it(o)};if(r.aria===!1)return{};const s=ez(t,i,r);if(!He(s))return{description:{signal:is(s).map(([l,c],u)=>`"${u>0?"; ":""}${l}: " + (${c})`).join(" + ")}}}function $t(e,t,n={}){const{markDef:r,encoding:i,config:a}=t,{vgChannel:o}=n;let{defaultRef:s,defaultValue:l}=n;s===void 0&&(l??(l=ze(e,r,a,{vgChannel:o,ignoreVgConfig:!0})),l!==void 0&&(s=it(l)));const c=i[e];return pu(t,c,o??e,u=>i6({channel:e,channelDef:u,markDef:r,config:a,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:s}))}function tz(e,t={filled:void 0}){var n,r,i,a;const{markDef:o,encoding:s,config:l}=e,{type:c}=o,u=(n=t.filled)!==null&&n!==void 0?n:ze("filled",o,l),f=Me(["bar","point","circle","square","geoshape"],c)?"transparent":void 0,d=(i=(r=ze(u===!0?"color":void 0,o,l,{vgChannel:"fill"}))!==null&&r!==void 0?r:l.mark[u===!0&&"color"])!==null&&i!==void 0?i:f,h=(a=ze(u===!1?"color":void 0,o,l,{vgChannel:"stroke"}))!==null&&a!==void 0?a:l.mark[u===!1&&"color"],m=u?"fill":"stroke",g=Object.assign(Object.assign({},d?{fill:it(d)}:{}),h?{stroke:it(h)}:{});return o.color&&(u?o.fill:o.stroke)&&U(TP("property",{fill:"fill"in o,stroke:"stroke"in o})),Object.assign(Object.assign(Object.assign(Object.assign({},g),$t("color",e,{vgChannel:m,defaultValue:u?d:h})),$t("fill",e,{defaultValue:s.fill?d:void 0})),$t("stroke",e,{defaultValue:s.stroke?h:void 0}))}function A4e(e){const{encoding:t,mark:n}=e,r=t.order;return!Es(n)&&wi(r)?pu(e,r,"zindex",i=>it(i.value)):{}}function Ed({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const a=`${e}Offset`,o=t[a],s=n[a];if((a==="xOffset"||a==="yOffset")&&s)return{offsetType:"encoding",offset:i6({channel:a,channelDef:s,markDef:t,config:r==null?void 0:r.config,scaleName:r.scaleName(a),scale:r.getScaleComponent(a),stack:null,defaultRef:it(o),bandPosition:i})};const l=t[a];return l?{offsetType:"visual",offset:l}:{}}function fn(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:a,config:o,stack:s}=t,l=i[e],c=i[_a(e)],u=t.scaleName(e),f=t.getScaleComponent(e),{offset:d,offsetType:h}=Ed({channel:e,markDef:a,encoding:i,model:t,bandPosition:.5}),m=k6({model:t,defaultPos:n,channel:e,scaleName:u,scale:f}),g=!l&&Gt(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:S4e({channel:e,channelDef:l,channel2Def:c,markDef:a,config:o,scaleName:u,scale:f,stack:s,offset:d,defaultRef:m,bandPosition:h==="encoding"?0:void 0});return g?{[r||e]:g}:void 0}function S4e(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:a,markDef:o}=e;if(ge(n)&&i&&t===i.fieldChannel){if(W(n)){let s=n.bandPosition;if(s===void 0&&o.type==="text"&&(t==="radius"||t==="theta")&&(s=.5),s!==void 0)return jp({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:s,offset:a})}return l0(n,r,{suffix:"end"},{offset:a})}return n6(e)}function k6({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:a,config:o}=e;return()=>{const s=nl(n),l=as(n),c=ze(n,a,o,{vgChannel:l});if(c!==void 0)return Zf(n,c);switch(t){case"zeroOrMin":case"zeroOrMax":if(r){const u=i.get("type");if(!Me([Vn.LOG,Vn.TIME,Vn.UTC],u)){if(i.domainDefinitelyIncludesZero())return{scale:r,value:0}}}if(t==="zeroOrMin")return s==="y"?{field:{group:"height"}}:{value:0};switch(s){case"radius":return{signal:`min(${e.width.signal},${e.height.signal})/2`};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":{const u=e[nr(n)];return Object.assign(Object.assign({},u),{mult:.5})}}}}const E4e={left:"x",center:"xc",right:"x2"},k4e={top:"y",middle:"yc",bottom:"y2"};function nz(e,t,n,r="middle"){if(e==="radius"||e==="theta")return as(e);const i=e==="x"?"align":"baseline",a=ze(i,t,n);let o;return ae(a)?(U(C3e(i)),o=void 0):o=a,e==="x"?E4e[o||(r==="top"?"left":"center")]:k4e[o||r]}function qp(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?rz(e,t,{defaultPos:n,defaultPos2:r}):fn(e,t,{defaultPos:n})}function rz(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:a}=t,o=_a(e),s=nr(e),l=M4e(t,r,o),c=l[s]?nz(e,i,a):as(e);return Object.assign(Object.assign({},fn(e,t,{defaultPos:n,vgChannel:c})),l)}function M4e(e,t,n){const{encoding:r,mark:i,markDef:a,stack:o,config:s}=e,l=nl(n),c=nr(n),u=as(n),f=r[l],d=e.scaleName(l),h=e.getScaleComponent(l),{offset:m}=n in r||n in a?Ed({channel:n,markDef:a,encoding:r,model:e}):Ed({channel:l,markDef:a,encoding:r,model:e});if(!f&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const p=nr(n),y=e.markDef[p];return y!=null?{[p]:{value:y}}:{[u]:{field:e.getName(n)}}}const g=O4e({channel:n,channelDef:f,channel2Def:r[n],markDef:a,config:s,scaleName:d,scale:h,stack:o,offset:m,defaultRef:void 0});return g!==void 0?{[u]:g}:S1(n,a)||S1(n,{[n]:Zp(n,a,s.style),[c]:Zp(c,a,s.style)})||S1(n,s[i])||S1(n,s.mark)||{[u]:k6({model:e,defaultPos:t,channel:n,scaleName:d,scale:h})()}}function O4e({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:a,scale:o,stack:s,offset:l,defaultRef:c}){return ge(t)&&s&&e.charAt(0)===s.fieldChannel.charAt(0)?l0(t,a,{suffix:"start"},{offset:l}):n6({channel:e,channelDef:n,scaleName:a,scale:o,stack:s,markDef:r,config:i,offset:l,defaultRef:c})}function S1(e,t){const n=nr(e),r=as(e);if(t[r]!==void 0)return{[r]:Zf(e,t[r])};if(t[e]!==void 0)return{[r]:Zf(e,t[e])};if(t[n]){const i=t[n];if(N0(i))U(T3e(n));else return{[n]:Zf(e,i)}}}function ls(e,t){var n,r;const{config:i,encoding:a,markDef:o}=e,s=o.type,l=_a(t),c=nr(t),u=a[t],f=a[l],d=e.getScaleComponent(t),h=d?d.get("type"):void 0,m=o.orient,g=(r=(n=a[c])!==null&&n!==void 0?n:a.size)!==null&&r!==void 0?r:ze("size",o,i,{vgChannel:c}),p=s==="bar"&&(t==="x"?m==="vertical":m==="horizontal");return W(u)&&(nt(u.bin)||Ht(u.bin)||u.timeUnit&&!f)&&!(g&&!N0(g))&&!Ut(h)?L4e({fieldDef:u,fieldDef2:f,channel:t,model:e}):(ge(u)&&Ut(h)||p)&&!f?D4e(u,t,e):rz(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function C4e(e,t,n,r,i){if(N0(i))if(n){const o=n.get("type");if(o==="band"){let s=`bandwidth('${t}')`;return i.band!==1&&(s=`${i.band} * ${s}`),{signal:`max(0.25, ${s})`}}else i.band!==1&&(U(B3e(o)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(ae(i))return i;if(i)return{value:i}}if(n){const o=n.get("range");if(Ss(o)&&Ye(o.step))return{value:o.step-2}}return{value:Hp(r.view,e)-2}}function D4e(e,t,n){const{markDef:r,encoding:i,config:a,stack:o}=n,s=r.orient,l=n.scaleName(t),c=n.getScaleComponent(t),u=nr(t),f=_a(t),d=Cve(t),h=n.scaleName(d),m=s==="horizontal"&&t==="y"||s==="vertical"&&t==="x";let g;(i.size||r.size)&&(m?g=$t("size",n,{vgChannel:u,defaultRef:it(r.size)}):U(Z3e(r.type)));const p=!!g,y=nj({channel:t,fieldDef:e,markDef:r,config:a,scaleType:c==null?void 0:c.get("type"),useVlSizeChannel:m});g=g||{[u]:C4e(u,h||l,c,a,y)};const b=(c==null?void 0:c.get("type"))==="band"&&N0(y)&&!p?"top":"middle",v=nz(t,r,a,b),x=v==="xc"||v==="yc",{offset:_,offsetType:T}=Ed({channel:t,markDef:r,encoding:i,model:n,bandPosition:x?.5:0}),w=n6({channel:t,channelDef:e,markDef:r,config:a,scaleName:l,scale:c,stack:o,offset:_,defaultRef:k6({model:n,defaultPos:"mid",channel:t,scaleName:l,scale:c}),bandPosition:x?T==="encoding"?0:.5:ae(y)?{signal:`(1-${y})/2`}:N0(y)?(1-y.band)/2:0});if(u)return Object.assign({[v]:w},g);{const S=as(f),C=g[u],k=_?Object.assign(Object.assign({},C),{offset:_}):C;return{[v]:w,[S]:j(w)?[w[0],Object.assign(Object.assign({},w[1]),{offset:k})]:Object.assign(Object.assign({},w),{offset:k})}}}function Hu(e,t,n,r,i){if(tP(e))return 0;const a=e==="x"||e==="y2"?-t/2:t/2;if(ae(n)||ae(i)||ae(r)){const o=Ha(n),s=Ha(i),l=Ha(r),c=l?`${l} + `:"",u=o?`(${o} ? -1 : 1) * `:"",f=s?`(${s} + ${a})`:a;return{signal:c+u+f}}else return i=i||0,r+(n?-i-a:+i+a)}function L4e({fieldDef:e,fieldDef2:t,channel:n,model:r}){var i,a,o;const{config:s,markDef:l,encoding:c}=r,u=r.getScaleComponent(n),f=r.scaleName(n),d=u?u.get("type"):void 0,h=u.get("reverse"),m=nj({channel:n,fieldDef:e,markDef:l,config:s,scaleType:d}),g=(i=r.component.axes[n])===null||i===void 0?void 0:i[0],p=(a=g==null?void 0:g.get("translate"))!==null&&a!==void 0?a:.5,y=Gt(n)&&(o=ze("binSpacing",l,s))!==null&&o!==void 0?o:0,b=_a(n),v=as(n),x=as(b),{offset:_}=Ed({channel:n,markDef:l,encoding:c,model:r,bandPosition:0}),T=ae(m)?{signal:`(1-${m.signal})/2`}:N0(m)?(1-m.band)/2:.5;if(nt(e.bin)||e.timeUnit)return{[x]:_k({fieldDef:e,scaleName:f,bandPosition:T,offset:Hu(b,y,h,p,_)}),[v]:_k({fieldDef:e,scaleName:f,bandPosition:ae(T)?{signal:`1-${T.signal}`}:1-T,offset:Hu(n,y,h,p,_)})};if(Ht(e.bin)){const w=l0(e,f,{},{offset:Hu(b,y,h,p,_)});if(W(t))return{[x]:w,[v]:l0(t,f,{},{offset:Hu(n,y,h,p,_)})};if(rl(e.bin)&&e.bin.step)return{[x]:w,[v]:{signal:`scale("${f}", ${V(e,{expr:"datum"})} + ${e.bin.step})`,offset:Hu(n,y,h,p,_)}}}U(EP(b))}function _k({fieldDef:e,scaleName:t,bandPosition:n,offset:r}){return jp({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r})}const F4e=new Set(["aria","width","height"]);function Gr(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?tz(e):{};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},B4e(e.markDef,t)),wk(e,"fill",n)),wk(e,"stroke",r)),$t("opacity",e)),$t("fillOpacity",e)),$t("strokeOpacity",e)),$t("strokeWidth",e)),$t("strokeDash",e)),A4e(e)),Qj(e)),E6(e,"href")),_4e(e))}function wk(e,t,n){const{config:r,mark:i,markDef:a}=e;if(ze("invalid",a,r)==="hide"&&n&&!Es(i)){const s=$4e(e,{invalid:!0,channels:Y2});if(s)return{[t]:[{test:s,value:null},...Q(n)]}}return n?{[t]:n}:{}}function B4e(e,t){return Xve.reduce((n,r)=>(!F4e.has(r)&&e[r]!==void 0&&t[r]!=="ignore"&&(n[r]=it(e[r])),n),{})}function $4e(e,{invalid:t=!1,channels:n}){const r=n.reduce((a,o)=>{const s=e.getScaleComponent(o);if(s){const l=s.get("type"),c=e.vgField(o,{expr:"datum"});c&&br(l)&&(a[c]=!0)}return a},{}),i=G(r);if(i.length>0){const a=t?"||":"&&";return i.map(o=>r6(o,t)).join(` ${a} `)}}function M6(e){const{config:t,markDef:n}=e;if(ze("invalid",n,t)){const i=N4e(e,{channels:wa});if(i)return{defined:{signal:i}}}return{}}function N4e(e,{invalid:t=!1,channels:n}){const r=n.reduce((a,o)=>{var s;const l=e.getScaleComponent(o);if(l){const c=l.get("type"),u=e.vgField(o,{expr:"datum",binSuffix:!((s=e.stack)===null||s===void 0)&&s.impute?"mid":void 0});u&&br(c)&&(a[u]=!0)}return a},{}),i=G(r);if(i.length>0){const a=t?"||":"&&";return i.map(o=>r6(o,t)).join(` ${a} `)}}function Tk(e,t){if(t!==void 0)return{[e]:it(t)}}const nv="voronoi",iz={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(nv)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,a=e.mark;if(Es(a))return U(n3e(a)),n;const o={name:e.getName(nv),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:Object.assign({fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},Qj(e,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let s=0,l=!1;return n.forEach((c,u)=>{var f;const d=(f=c.name)!==null&&f!==void 0?f:"";d===e.component.mark[0].name?s=u:d.indexOf(nv)>=0&&(l=!0)}),l||n.splice(s+1,0,o),n}},az={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!b6(e.bind),parse:(e,t,n)=>hz(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,a=t.bind,o=t.init&&t.init[0],s=iz.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((l,c)=>{var u,f;const d=lt(`${r}_${l.field}`);n.filter(m=>m.name===d).length||n.unshift(Object.assign(Object.assign({name:d},o?{init:Z0(o[c])}:{value:null}),{on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${s}[${q(l.field)}] : null`}]:[],bind:(f=(u=a[l.field])!==null&&u!==void 0?u:a[l.channel])!==null&&f!==void 0?f:a}))}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,a=n.filter(c=>c.name===r+cs)[0],o=r+Zh,s=i.items.map(c=>lt(`${r}_${c.field}`)),l=s.map(c=>`${c} !== null`).join(" && ");return s.length&&(a.update=`${l} ? {fields: ${o}, values: [${s.join(", ")}]} : null`),delete a.value,delete a.on,n}},Vp="_toggle",oz={defined:e=>e.type==="point"&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+Vp,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+cs,r=t.name+Vp;return`${r} ? null : ${n}, `+(t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${Zc(e)}}, `)+`${r} ? ${n} : null`}},I4e={defined:e=>e.clear!==void 0&&e.clear!==!1,parse:(e,t)=>{t.clear&&(t.clear=J(t.clear)?ys(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(az.defined(t))for(const r of t.project.items){const i=n.findIndex(a=>a.name===lt(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,a){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:a})}if(t.type==="interval")for(const i of t.project.items){const a=n.findIndex(o=>o.name===i.signals.visual);if(r(a,"[0, 0]"),a===-1){const o=n.findIndex(s=>s.name===i.signals.data);r(o,"null")}}else{let i=n.findIndex(a=>a.name===t.name+cs);r(i,"null"),oz.defined(t)&&(i=n.findIndex(a=>a.name===t.name+Vp),r(i,"false"))}return n}},sz={defined:e=>{const t=e.resolve==="global"&&e.bind&&b6(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==la;return t&&!n&&U(a3e),t&&n},parse:(e,t,n)=>{var r;const i=ve(n);if(i.select=J(i.select)?{type:i.select,toggle:t.toggle}:Object.assign(Object.assign({},i.select),{toggle:t.toggle}),hz(t,i),ee(n.select)&&(n.select.on||n.select.clear)){const s='event.item && indexof(event.item.mark.role, "legend") < 0';for(const l of t.events)l.filter=Q((r=l.filter)!==null&&r!==void 0?r:[]),l.filter.includes(s)||l.filter.push(s)}const a=Qb(t.bind)?t.bind.legend:"click",o=J(a)?ys(a,"view"):Q(a);t.bind={legend:{merge:o}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=Qb(t.bind)&&t.bind.legend,a=o=>s=>{const l=ve(s);return l.markname=o,l};for(const o of t.project.items){if(!o.hasLegend)continue;const s=`${lt(o.field)}_legend`,l=`${r}_${s}`;if(n.filter(u=>u.name===l).length===0){const u=i.merge.map(a(`${s}_symbols`)).concat(i.merge.map(a(`${s}_labels`))).concat(i.merge.map(a(`${s}_entries`)));n.unshift(Object.assign(Object.assign({name:l},t.init?{}:{value:null}),{on:[{events:u,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${l}`,force:!0}]}))}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,a=n.find(d=>d.name===r+cs),o=r+Zh,s=i.items.filter(d=>d.hasLegend).map(d=>lt(`${r}_${lt(d.field)}_legend`)),c=`${s.map(d=>`${d} !== null`).join(" && ")} ? {fields: ${o}, values: [${s.join(", ")}]} : null`;t.events&&s.length>0?a.on.push({events:s.map(d=>({signal:d})),update:c}):s.length>0&&(a.update=c,delete a.value,delete a.on);const u=n.find(d=>d.name===r+Vp),f=Qb(t.bind)&&t.bind.legend;return u&&(t.events?u.on.push(Object.assign(Object.assign({},u.on[0]),{events:f})):u.on[0].events=f),n}};function Z4e(e,t,n){var r,i,a,o;const s=(r=e.fieldDef(t))===null||r===void 0?void 0:r.field;for(const l of yn((i=e.component.selection)!==null&&i!==void 0?i:{})){const c=(a=l.project.hasField[s])!==null&&a!==void 0?a:l.project.hasChannel[t];if(c&&sz.defined(l)){const u=(o=n.get("selections"))!==null&&o!==void 0?o:[];u.push(l.name),n.set("selections",u,!1),c.hasLegend=!0}}}const lz="_translate_anchor",cz="_translate_delta",R4e={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=ss.defined(t),a=r+lz,{x:o,y:s}=t.project.hasChannel;let l=ys(t.translate,"scope");return i||(l=l.map(c=>(c.between[0].markname=r+Ql,c))),n.push({name:a,value:{},on:[{events:l.map(c=>c.between[0]),update:"{x: x(unit), y: y(unit)"+(o!==void 0?`, extent_x: ${i?j5(e,dt):`slice(${o.signals.visual})`}`:"")+(s!==void 0?`, extent_y: ${i?j5(e,zt):`slice(${s.signals.visual})`}`:"")+"}"}]},{name:r+cz,value:{},on:[{events:l,update:`{x: ${a}.x - x(unit), y: ${a}.y - y(unit)}`}]}),o!==void 0&&Ak(e,t,o,"width",n),s!==void 0&&Ak(e,t,s,"height",n),n}};function Ak(e,t,n,r,i){var a,o;const s=t.name,l=s+lz,c=s+cz,u=n.channel,f=ss.defined(t),d=i.filter(w=>w.name===n.signals[f?"data":"visual"])[0],h=e.getSizeSignalRef(r).signal,m=e.getScaleComponent(u),g=m.get("type"),p=m.get("reverse"),y=f?u===dt?p?"":"-":p?"-":"":"",b=`${l}.extent_${u}`,v=`${y}${c}.${u} / ${f?`${h}`:`span(${b})`}`,x=f?g==="log"?"panLog":g==="symlog"?"panSymlog":g==="pow"?"panPow":"panLinear":"panLinear",_=f?g==="pow"?`, ${(a=m.get("exponent"))!==null&&a!==void 0?a:1}`:g==="symlog"?`, ${(o=m.get("constant"))!==null&&o!==void 0?o:1}`:"":"",T=`${x}(${b}, ${v}${_})`;d.on.push({events:{signal:c},update:f?T:`clampRange(${T}, 0, ${h})`})}const uz="_zoom_anchor",fz="_zoom_delta",P4e={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=ss.defined(t),a=r+fz,{x:o,y:s}=t.project.hasChannel,l=q(e.scaleName(dt)),c=q(e.scaleName(zt));let u=ys(t.zoom,"scope");return i||(u=u.map(f=>(f.markname=r+Ql,f))),n.push({name:r+uz,on:[{events:u,update:i?"{"+[l?`x: invert(${l}, x(unit))`:"",c?`y: invert(${c}, y(unit))`:""].filter(f=>!!f).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:a,on:[{events:u,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),o!==void 0&&Sk(e,t,o,"width",n),s!==void 0&&Sk(e,t,s,"height",n),n}};function Sk(e,t,n,r,i){var a,o;const s=t.name,l=n.channel,c=ss.defined(t),u=i.filter(x=>x.name===n.signals[c?"data":"visual"])[0],f=e.getSizeSignalRef(r).signal,d=e.getScaleComponent(l),h=d.get("type"),m=c?j5(e,l):u.name,g=s+fz,p=`${s}${uz}.${l}`,y=c?h==="log"?"zoomLog":h==="symlog"?"zoomSymlog":h==="pow"?"zoomPow":"zoomLinear":"zoomLinear",b=c?h==="pow"?`, ${(a=d.get("exponent"))!==null&&a!==void 0?a:1}`:h==="symlog"?`, ${(o=d.get("constant"))!==null&&o!==void 0?o:1}`:"":"",v=`${y}(${m}, ${p}, ${g}${b})`;u.on.push({events:{signal:g},update:c?v:`clampRange(${v}, 0, ${f})`})}const R0="_store",cs="_tuple",j4e="_modify",dz="vlSelectionResolve",dy=[x4e,b4e,g4e,oz,az,ss,sz,I4e,R4e,P4e,iz];function z4e(e){let t=e.parent;for(;t&&!mi(t);)t=t.parent;return t}function Zc(e,{escape:t}={escape:!0}){let n=t?q(e.name):e.name;const r=z4e(e);if(r){const{facet:i}=r;for(const a of Or)i[a]&&(n+=` + '__facet_${a}_' + (facet[${q(r.vgField(a))}])`)}return n}function O6(e){var t;return yn((t=e.component.selection)!==null&&t!==void 0?t:{}).reduce((n,r)=>n||r.project.hasSelectionId,!1)}function hz(e,t){(J(t.select)||!t.select.on)&&delete e.events,(J(t.select)||!t.select.clear)&&delete e.clear,(J(t.select)||!t.select.toggle)&&delete e.toggle}function U5(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...U5(e.object)),t.push(...U5(e.property))),t)}function mz(e){return e.object.type==="MemberExpression"?mz(e.object):e.object.name==="datum"}function pz(e){const t=H_(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&mz(r)&&n.add(U5(r).slice(1).join("."))}),n}class gu extends Ve{constructor(t,n,r){super(t),this.model=n,this.filter=r,this.expr=Xp(this.model,this.filter,this),this._dependentFields=pz(this.expr)}clone(){return new gu(null,this.model,ve(this.filter))}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function G4e(e,t){var n;const r={},i=e.config.selection;if(!t||!t.length)return r;for(const a of t){const o=lt(a.name),s=a.select,l=J(s)?s:s.type,c=ee(s)?ve(s):{type:l},u=i[l];for(const d in u)d==="fields"||d==="encodings"||(d==="mark"&&(c[d]=Object.assign(Object.assign({},u[d]),c[d])),(c[d]===void 0||c[d]===!0)&&(c[d]=(n=u[d])!==null&&n!==void 0?n:c[d]));const f=r[o]=Object.assign(Object.assign({},c),{name:o,type:l,init:a.value,bind:a.bind,events:J(c.on)?ys(c.on,"scope"):Q(ve(c.on))});for(const d of dy)d.defined(f)&&d.parse&&d.parse(e,f,a)}return r}function gz(e,t,n,r="datum"){const i=J(t)?t:t.param,a=lt(i),o=q(a+R0);let s;try{s=e.getSelectionComponent(a,i)}catch{return`!!${a}`}if(s.project.timeUnit){const d=n??e.component.data.raw,h=s.project.timeUnit.clone();d.parent?h.insertAsParentOf(d):d.parent=h}const l=s.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",c=s.resolve==="global"?")":`, ${q(s.resolve)})`,u=`${l}${o}, ${r}${c}`,f=`length(data(${o}))`;return t.empty===!1?`${f} && ${u}`:`!${f} || ${u}`}function yz(e,t,n){const r=lt(t),i=n.encoding;let a=n.field,o;try{o=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!a)a=o.project.items[0].field,o.project.items.length>1&&U(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${q(a)}.`);else if(i&&!a){const s=o.project.items.filter(l=>l.channel===i);!s.length||s.length>1?(a=o.project.items[0].field,U((s.length?"Multiple ":"No ")+`matching ${q(i)} encoding found for selection ${q(n.param)}. Using "field": ${q(a)}.`)):a=s[0].field}return`${o.name}[${q(Ir(a))}]`}function U4e(e,t){var n;for(const[r,i]of is((n=e.component.selection)!==null&&n!==void 0?n:{})){const a=e.getName(`lookup_${r}`);e.component.data.outputNodes[a]=i.materialized=new Ln(new gu(t,e,{param:r}),a,et.Lookup,e.component.data.outputNodeRefCounts)}}function Xp(e,t,n){return If(t,r=>J(r)?r:x5e(r)?gz(e,r,n):BP(r))}var E1=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function W4e(e,t){if(e)return j(e)&&!To(e)?e.map(n=>c6(n,t)).join(", "):e}function rv(e,t,n,r){var i,a,o,s,l;(i=e.encode)!==null&&i!==void 0||(e.encode={}),(a=(s=e.encode)[t])!==null&&a!==void 0||(s[t]={}),(o=(l=e.encode[t]).update)!==null&&o!==void 0||(l.update={}),e.encode[t].update[n]=r}function wf(e,t,n,r={header:!1}){var i,a;const o=e.combine(),{disable:s,orient:l,scale:c,labelExpr:u,title:f,zindex:d}=o,h=E1(o,["disable","orient","scale","labelExpr","title","zindex"]);if(!s){for(const m in h){const g=T7e[m],p=h[m];if(g&&g!==t&&g!=="both")delete h[m];else if(Ih(p)){const{condition:y}=p,b=E1(p,["condition"]),v=Q(y),x=nk[m];if(x){const{vgProp:_,part:T}=x,w=[...v.map(S=>{const{test:C}=S,k=E1(S,["test"]);return Object.assign({test:Xp(null,C)},k)}),b];rv(h,T,_,w),delete h[m]}else if(x===null){const _={signal:v.map(T=>{const{test:w}=T,S=E1(T,["test"]);return`${Xp(null,w)} ? ${jE(S)} : `}).join("")+jE(b)};h[m]=_}}else if(ae(p)){const y=nk[m];if(y){const{vgProp:b,part:v}=y;rv(h,v,b,p),delete h[m]}}Me(["labelAlign","labelBaseline"],m)&&h[m]===null&&delete h[m]}if(t==="grid"){if(!h.grid)return;if(h.encode){const{grid:m}=h.encode;h.encode=Object.assign({},m?{grid:m}:{}),He(h.encode)&&delete h.encode}return Object.assign(Object.assign({scale:c,orient:l},h),{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:wt(d,0)})}else{if(!r.header&&e.mainExtracted)return;if(u!==void 0){let g=u;!((a=(i=h.encode)===null||i===void 0?void 0:i.labels)===null||a===void 0)&&a.update&&ae(h.encode.labels.update.text)&&(g=L0(u,"datum.label",h.encode.labels.update.text.signal)),rv(h,"labels","text",{signal:g})}if(h.labelAlign===null&&delete h.labelAlign,h.encode){for(const g of fj)e.hasAxisPart(g)||delete h.encode[g];He(h.encode)&&delete h.encode}const m=W4e(f,n);return Object.assign(Object.assign(Object.assign(Object.assign({scale:c,orient:l,grid:!1},m?{title:m}:{}),h),n.aria===!1?{aria:!1}:{}),{zindex:wt(d,0)})}}}function bz(e){const{axes:t}=e.component,n=[];for(const r of wa)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const a=r==="x"?"height":"width",o=e.getSizeSignalRef(a).signal;a!==o&&n.push({name:a,update:o})}}return n}function H4e(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>wf(i,"grid",t)),...r.map(i=>wf(i,"grid",t)),...n.map(i=>wf(i,"main",t)),...r.map(i=>wf(i,"main",t))].filter(i=>i)}function Ek(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const a=n==="x"?"bottom":"left",o=t[n==="x"?"axisBottom":"axisLeft"]||{},s=t[n==="x"?"axisTop":"axisRight"]||{},l=new Set([...G(o),...G(s)]),c={};for(const u of l.values())c[u]={signal:`${r.signal} === "${a}" ? ${Ha(o[u])} : ${Ha(s[u])}`};return c}return t[i]})])}function Y4e(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:ZP(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],a=e==="x"?"axisX":"axisY",o=ae(n)?"axisOrient":`axis${Eh(n)}`,s=[...i,...i.map(c=>a+c.substr(4))],l=["axis",o,a];return{vlOnlyAxisConfig:Ek(s,r,e,n),vgAxisConfig:Ek(l,r,e,n),axisConfigStyle:q4e([...l,...s],r)}}function q4e(e,t){var n;const r=[{}];for(const i of e){let a=(n=t[i])===null||n===void 0?void 0:n.style;if(a){a=Q(a);for(const o of a)r.push(t.style[o])}}return Object.assign.apply(null,r)}function W5(e,t,n,r={}){var i;const a=gP(e,n,t);if(a!==void 0)return{configFrom:"style",configValue:a};for(const o of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(((i=r[o])===null||i===void 0?void 0:i[e])!==void 0)return{configFrom:o,configValue:r[o][e]};return{}}const kk={scale:({model:e,channel:t})=>e.scaleName(t),format:({fieldOrDatumDef:e,config:t,axis:n})=>{const{format:r,formatType:i}=n;return XP(e,e.type,r,i,t,!0)},formatType:({axis:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return JP(r,t,n)},grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>{var r;return(r=t.grid)!==null&&r!==void 0?r:V4e(n,e)},gridScale:({model:e,channel:t})=>X4e(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||xz(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||vz(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>{var r;return(r=e.labelFlush)!==null&&r!==void 0?r:K4e(t.type,n)},labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>{var r;return(r=e.labelOverlap)!==null&&r!==void 0?r:Q4e(t.type,n,W(t)&&!!t.timeUnit,W(t)?t.sort:void 0)},orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{var a;const o=e==="x"?"width":e==="y"?"height":void 0,s=o?t.getSizeSignalRef(o):void 0;return(a=n.tickCount)!==null&&a!==void 0?a:txe({fieldOrDatumDef:r,scaleType:i,size:s,values:n.values})},title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=_z(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),a=n==="x"?"x2":"y2",o=t.fieldDef(a);return bP(i?[tk(i)]:[],W(o)?[tk(o)]:[])},values:({axis:e,fieldOrDatumDef:t})=>nxe(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>{var r;return(r=e.zindex)!==null&&r!==void 0?r:rxe(n,t)}};function V4e(e,t){return!Ut(e)&&W(t)&&!nt(t==null?void 0:t.bin)&&!Ht(t==null?void 0:t.bin)}function X4e(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function J4e(e,t,n,r,i){const a=t==null?void 0:t.labelAngle;if(a!==void 0)return ae(a)?a:Td(a);{const{configValue:o}=W5("labelAngle",r,t==null?void 0:t.style,i);return o!==void 0?Td(o):n===dt&&Me([K9,J9],e.type)&&!(W(e)&&e.timeUnit)?270:void 0}}function H5(e){return`(((${e.signal} % 360) + 360) % 360)`}function vz(e,t,n,r){if(e!==void 0)if(n==="x"){if(ae(e)){const i=H5(e),a=ae(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${a} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(ae(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(ae(e)){const i=H5(e),a=ae(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${a} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(ae(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function xz(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,a=r?"bottom":"left";if(ae(e)){const o=H5(e),s=ae(t)?`(${t.signal} === "${a}")`:t===a;return{signal:`(${i?`(${o} + 90)`:o} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${o} && ${o} < ${180+i}) === ${s} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(ae(t)){const o=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${o} "${a}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===a)?"left":"right"}function K4e(e,t){if(t==="x"&&Me(["quantitative","temporal"],e))return!0}function Q4e(e,t,n,r){if(n&&!ee(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function exe(e){return e==="x"?"bottom":"left"}function txe({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){var i;if(!r&&!Ut(t)&&t!=="log"){if(W(e)){if(nt(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&Me(["month","hours","day","quarter"],(i=xn(e.timeUnit))===null||i===void 0?void 0:i.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function _z(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),a=r?r.title:void 0,o=i?i.title:void 0;if(a&&o)return vP(a,o);if(a)return a;if(o)return o;if(a!==void 0)return a;if(o!==void 0)return o}function nxe(e,t){const n=e.values;if(j(n))return uj(t,n);if(ae(n))return n}function rxe(e,t){return e==="rect"&&zp(t)?1:0}class Rc extends Ve{constructor(t,n){super(t),this.transform=n,this._dependentFields=pz(this.transform.calculate)}clone(){return new Rc(null,ve(this.transform))}static parseAllForSortIndex(t,n){return n.forEachFieldDef((r,i)=>{if(al(r)&&ej(r.sort)){const{field:a,timeUnit:o}=r,s=r.sort,l=s.map((c,u)=>`${BP({field:a,timeUnit:o,equal:c})} ? ${u} : `).join("")+s.length;t=new Rc(t,{calculate:l,as:Pc(r,i,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${De(this.transform)}`}}function Pc(e,t,n){return V(e,Object.assign({prefix:t,suffix:"sort_index"},n??{}))}function hy(e,t){return Me(["top","bottom"],t)?"column":Me(["left","right"],t)||e==="row"?"row":"column"}function jc(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return wt((t||{})[e],i[e],n.header[e])}function my(e,t,n,r){const i={};for(const a of e){const o=jc(a,t||{},n,r);o!==void 0&&(i[a]=o)}return i}const C6=["row","column"],D6=["header","footer"];function ixe(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:a,titleAngle:o,titleOrient:s}=my(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),l=hy(t,s),c=Td(o);return{name:`${t}-title`,type:"group",role:`${l}-title`,title:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:n},t==="row"?{orient:"left"}:{}),{style:"guide-title"}),Tz(c,l)),wz(l,c,a)),Az(r,i,t,H7e,Mj))}}function wz(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=xz(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function Tz(e,t){const n=vz(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function axe(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of D6)if(n[i])for(const a of n[i]){const o=sxe(e,t,i,n,a);o!=null&&r.push(o)}return r}function oxe(e,t){var n;const{sort:r}=e;return Xi(r)?{field:V(r,{expr:"datum"}),order:(n=r.order)!==null&&n!==void 0?n:"ascending"}:j(r)?{field:Pc(e,t,{expr:"datum"}),order:"ascending"}:{field:V(e,{expr:"datum"}),order:r??"ascending"}}function Y5(e,t,n){const{format:r,formatType:i,labelAngle:a,labelAnchor:o,labelOrient:s,labelExpr:l}=my(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),c=a6({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,u=hy(t,s);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:{signal:l?L0(L0(l,"datum.label",c),"datum.value",V(e,{expr:"parent"})):c}},t==="row"?{orient:"left"}:{}),{style:"guide-label",frame:"group"}),Tz(a,u)),wz(u,a,o)),Az(n,e,t,Y7e,Oj))}function sxe(e,t,n,r,i){if(i){let a=null;const{facetFieldDef:o}=r,s=e.config?e.config:void 0;if(o&&i.labels){const{labelOrient:f}=my(["labelOrient"],o.header,s,t);(t==="row"&&!Me(["top","bottom"],f)||t==="column"&&!Me(["left","right"],f))&&(a=Y5(o,t,s))}const l=mi(e)&&!Bh(e.facet),c=i.axes,u=(c==null?void 0:c.length)>0;if(a||u){const f=t==="row"?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`},r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:oxe(o,t)}:{}),u&&l?{from:{data:e.getName(`facet_domain_${t}`)}}:{}),a?{title:a}:{}),i.sizeSignal?{encode:{update:{[f]:i.sizeSignal}}}:{}),u?{axes:c}:{})}}return null}const lxe={column:{start:0,end:1},row:{start:1,end:0}};function cxe(e,t){return lxe[t][e]}function uxe(e,t){const n={};for(const r of Or){const i=e[r];if(i!=null&&i.facetFieldDef){const{titleAnchor:a,titleOrient:o}=my(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),s=hy(r,o),l=cxe(a,s);l!==void 0&&(n[s]=l)}}return He(n)?void 0:n}function Az(e,t,n,r,i){const a={};for(const o of r){if(!i[o])continue;const s=jc(o,t==null?void 0:t.header,e,n);s!==void 0&&(a[i[o]]=s)}return a}function L6(e){return[...k1(e,"width"),...k1(e,"height"),...k1(e,"childWidth"),...k1(e,"childHeight")]}function k1(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(!r||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const a=e.getScaleComponent(n);if(a){const o=a.get("type"),s=a.get("range");if(Ut(o)&&Ss(s)){const l=e.scaleName(n);return mi(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[Mk(l,s)]:[Mk(l,s),{name:i,update:Sz(l,a,`domain('${l}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const a=i.endsWith("width"),o=a?"containerSize()[0]":"containerSize()[1]",s=I5(e.config.view,a?"width":"height"),l=`isFinite(${o}) ? ${o} : ${s}`;return[{name:i,init:l,on:[{update:l,events:"window:resize"}]}]}else return[{name:i,value:r}]}function Mk(e,t){const n=`${e}_step`;return ae(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function Sz(e,t,n){const r=t.get("type"),i=t.get("padding"),a=wt(t.get("paddingOuter"),i);let o=t.get("paddingInner");return o=r==="band"?o!==void 0?o:i:1,`bandspace(${n}, ${Ha(o)}, ${Ha(a)}) * ${e}_step`}function Ez(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function kz(e,t){return G(e).reduce((n,r)=>{const i=e[r];return Object.assign(Object.assign({},n),pu(t,i,r,a=>it(a.value)))},{})}function Mz(e,t){if(mi(t))return e==="theta"?"independent":"shared";if(vu(t))return"shared";if(R6(t))return Gt(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function F6(e,t){const n=e.scale[t],r=Gt(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&U(G3e(t)),"independent"):e[r][t]||"shared"}const fxe=Object.assign(Object.assign({},X7e),{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),Oz=G(fxe);class dxe extends fo{}const Ok={symbols:hxe,gradient:mxe,labels:pxe,entries:gxe};function hxe(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:a}){var o,s,l,c,u,f,d,h;if(a!=="symbol")return;const{markDef:m,encoding:g,config:p,mark:y}=n,b=m.filled&&y!=="trail";let v=Object.assign(Object.assign({},Qve({},n,H5e)),tz(n,{filled:b}));const x=(o=i.get("symbolOpacity"))!==null&&o!==void 0?o:p.legend.symbolOpacity,_=(s=i.get("symbolFillColor"))!==null&&s!==void 0?s:p.legend.symbolFillColor,T=(l=i.get("symbolStrokeColor"))!==null&&l!==void 0?l:p.legend.symbolStrokeColor,w=x===void 0?(c=Cz(g.opacity))!==null&&c!==void 0?c:m.opacity:void 0;if(v.fill){if(r==="fill"||b&&r===er)delete v.fill;else if(v.fill.field)_?delete v.fill:(v.fill=it((u=p.legend.symbolBaseFillColor)!==null&&u!==void 0?u:"black"),v.fillOpacity=it(w??1));else if(j(v.fill)){const S=(h=(d=q5((f=g.fill)!==null&&f!==void 0?f:g.color))!==null&&d!==void 0?d:m.fill)!==null&&h!==void 0?h:b&&m.color;S&&(v.fill=it(S))}}if(v.stroke){if(r==="stroke"||!b&&r===er)delete v.stroke;else if(v.stroke.field||T)delete v.stroke;else if(j(v.stroke)){const S=wt(q5(g.stroke||g.color),m.stroke,b?m.color:void 0);S&&(v.stroke={value:S})}}if(r!==co){const S=W(t)&&Lz(n,i,t);S?v.opacity=[Object.assign({test:S},it(w??1)),it(p.legend.unselectedOpacity)]:w&&(v.opacity=it(w))}return v=Object.assign(Object.assign({},v),e),He(v)?void 0:v}function mxe(e,{model:t,legendType:n,legendCmpt:r}){var i;if(n!=="gradient")return;const{config:a,markDef:o,encoding:s}=t;let l={};const u=((i=r.get("gradientOpacity"))!==null&&i!==void 0?i:a.legend.gradientOpacity)===void 0?Cz(s.opacity)||o.opacity:void 0;return u&&(l.opacity=it(u)),l=Object.assign(Object.assign({},l),e),He(l)?void 0:l}function pxe(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const a=n.legend(r)||{},o=n.config,s=W(t)?Lz(n,i,t):void 0,l=s?[{test:s,value:1},{value:o.legend.unselectedOpacity}]:void 0,{format:c,formatType:u}=a;let f;I0(u)?f=li({fieldOrDatumDef:t,field:"datum.value",format:c,formatType:u,config:o}):c===void 0&&u===void 0&&o.customFormatTypes&&(t.type==="quantitative"&&o.numberFormatType?f=li({fieldOrDatumDef:t,field:"datum.value",format:o.numberFormat,formatType:o.numberFormatType,config:o}):t.type==="temporal"&&o.timeFormatType&&W(t)&&t.timeUnit===void 0&&(f=li({fieldOrDatumDef:t,field:"datum.value",format:o.timeFormat,formatType:o.timeFormatType,config:o})));const d=Object.assign(Object.assign(Object.assign({},l?{opacity:l}:{}),f?{text:f}:{}),e);return He(d)?void 0:d}function gxe(e,{legendCmpt:t}){const n=t.get("selections");return n!=null&&n.length?Object.assign(Object.assign({},e),{fill:{value:"transparent"}}):e}function Cz(e){return Dz(e,(t,n)=>Math.max(t,n.value))}function q5(e){return Dz(e,(t,n)=>wt(t,n.value))}function Dz(e,t){if(f7e(e))return Q(e.condition).reduce(t,e.value);if(wi(e))return e.value}function Lz(e,t,n){const r=t.get("selections");if(!(r!=null&&r.length))return;const i=q(n.field);return r.map(a=>`(!length(data(${q(lt(a)+R0)})) || (${a}[${i}] && indexof(${a}[${i}], datum.value) >= 0))`).join(" || ")}const Ck={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return XP(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return JP(r,t,n)},gradientLength:e=>{var t,n;const{legend:r,legendConfig:i}=e;return(n=(t=r.gradientLength)!==null&&t!==void 0?t:i.gradientLength)!==null&&n!==void 0?n:Txe(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>{var r,i;return(i=(r=e.labelOverlap)!==null&&r!==void 0?r:t.labelOverlap)!==null&&i!==void 0?i:Axe(n)},symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>{var i;return(i=e.symbolType)!==null&&i!==void 0?i:bxe(t.type,n,r.shape,t.shape)},title:({fieldOrDatumDef:e,config:t})=>Kl(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(Jl(n)&&si(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>yxe(t,e)};function yxe(e,t){const n=e.values;if(j(n))return uj(t,n);if(ae(n))return n}function bxe(e,t,n,r){var i;if(t!=="shape"){const a=(i=q5(n))!==null&&i!==void 0?i:r;if(a)return a}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function vxe(e){const{legend:t}=e;return wt(t.type,xxe(e))}function xxe({channel:e,timeUnit:t,scaleType:n}){if(Jl(e)){if(Me(["quarter","month","day"],t))return"symbol";if(si(n))return"gradient"}return"symbol"}function _xe({legendConfig:e,legendType:t,orient:n,legend:r}){var i,a;return(a=(i=r.direction)!==null&&i!==void 0?i:e[t?"gradientDirection":"symbolDirection"])!==null&&a!==void 0?a:wxe(n,t)}function wxe(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function Txe({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:a,gradientHorizontalMinLength:o,gradientVerticalMaxLength:s,gradientVerticalMinLength:l}=e;if(si(i))return n==="horizontal"?r==="top"||r==="bottom"?Dk(t,"width",o,a):o:Dk(t,"height",l,s)}function Dk(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function Axe(e){if(Me(["quantile","threshold","log","symlog"],e))return"greedy"}function Fz(e){const t=xt(e)?Sxe(e):Oxe(e);return e.component.legends=t,t}function Sxe(e){const{encoding:t}=e,n={};for(const r of[er,...Dj]){const i=Mt(t[r]);!i||!e.getScaleComponent(r)||r===tr&&W(i)&&i.type===mu||(n[r]=Mxe(e,r))}return n}function Exe(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function kxe(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!(n!=null&&n.values);case"title":if(t==="title"&&e===(r==null?void 0:r.title))return!0}return e===(n||{})[t]}function Mxe(e,t){var n,r,i;let a=e.legend(t);const{markDef:o,encoding:s,config:l}=e,c=l.legend,u=new dxe({},Exe(e,t));Z4e(e,t,u);const f=a!==void 0?!a:c.disable;if(u.set("disable",f,a!==void 0),f)return u;a=a||{};const d=e.getScaleComponent(t).get("type"),h=Mt(s[t]),m=W(h)?(n=xn(h.timeUnit))===null||n===void 0?void 0:n.unit:void 0,g=a.orient||l.legend.orient||"right",p=vxe({legend:a,channel:t,timeUnit:m,scaleType:d}),y=_xe({legend:a,legendType:p,orient:g,legendConfig:c}),b={legend:a,channel:t,model:e,markDef:o,encoding:s,fieldOrDatumDef:h,legendConfig:c,config:l,scaleType:d,orient:g,legendType:p,direction:y};for(const w of Oz){if(p==="gradient"&&w.startsWith("symbol")||p==="symbol"&&w.startsWith("gradient"))continue;const S=w in Ck?Ck[w](b):a[w];if(S!==void 0){const C=kxe(S,w,a,e.fieldDef(t));(C||l.legend[w]===void 0)&&u.set(w,S,C)}}const v=(r=a==null?void 0:a.encoding)!==null&&r!==void 0?r:{},x=u.get("selections"),_={},T={fieldOrDatumDef:h,model:e,channel:t,legendCmpt:u,legendType:p};for(const w of["labels","legend","title","symbols","gradient","entries"]){const S=kz((i=v[w])!==null&&i!==void 0?i:{},e),C=w in Ok?Ok[w](S,T):S;C!==void 0&&!He(C)&&(_[w]=Object.assign(Object.assign(Object.assign({},x!=null&&x.length&&W(h)?{name:`${lt(h.field)}_legend_${w}`}:{}),x!=null&&x.length?{interactive:!!x}:{}),{update:C}))}return He(_)||u.set("encode",_,!!(a!=null&&a.encoding)),u}function Oxe(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){Fz(r);for(const i of G(r.component.legends))n.legend[i]=F6(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=Bz(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of G(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function Bz(e,t){var n,r,i,a;if(!e)return t.clone();const o=e.getWithExplicit("orient"),s=t.getWithExplicit("orient");if(o.explicit&&s.explicit&&o.value!==s.value)return;let l=!1;for(const c of Oz){const u=os(e.getWithExplicit(c),t.getWithExplicit(c),c,"legend",(f,d)=>{switch(c){case"symbolType":return Cxe(f,d);case"title":return xP(f,d);case"type":return l=!0,or("symbol")}return uy(f,d,c,"legend")});e.setWithExplicit(c,u)}return l&&(!((r=(n=e.implicit)===null||n===void 0?void 0:n.encode)===null||r===void 0)&&r.gradient&&Ip(e.implicit,["encode","gradient"]),!((a=(i=e.explicit)===null||i===void 0?void 0:i.encode)===null||a===void 0)&&a.gradient&&Ip(e.explicit,["encode","gradient"])),e}function Cxe(e,t){return t.value==="circle"?t:e}var Dxe=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Lxe(e,t,n,r){var i,a,o,s,l;(i=e.encode)!==null&&i!==void 0||(e.encode={}),(a=(s=e.encode)[t])!==null&&a!==void 0||(s[t]={}),(o=(l=e.encode[t]).update)!==null&&o!==void 0||(l.update={}),e.encode[t].update[n]=r}function $z(e){const t=e.component.legends,n={};for(const i of G(t)){const a=e.getScaleComponent(i),o=tt(a.get("domains"));if(n[o])for(const s of n[o])Bz(s,t[i])||n[o].push(t[i]);else n[o]=[t[i].clone()]}return yn(n).flat().map(i=>Fxe(i,e.config)).filter(i=>i!==void 0)}function Fxe(e,t){var n,r,i;const a=e.combine(),{disable:o,labelExpr:s,selections:l}=a,c=Dxe(a,["disable","labelExpr","selections"]);if(!o){if(t.aria===!1&&c.aria==null&&(c.aria=!1),!((n=c.encode)===null||n===void 0)&&n.symbols){const u=c.encode.symbols.update;u.fill&&u.fill.value!=="transparent"&&!u.stroke&&!c.stroke&&(u.stroke={value:"transparent"});for(const f of Dj)c[f]&&delete u[f]}if(c.title||delete c.title,s!==void 0){let u=s;!((i=(r=c.encode)===null||r===void 0?void 0:r.labels)===null||i===void 0)&&i.update&&ae(c.encode.labels.update.text)&&(u=L0(s,"datum.label",c.encode.labels.update.text.signal)),Lxe(c,"labels","text",{signal:u})}return c}}function Bxe(e){return vu(e)||R6(e)?$xe(e):Nz(e)}function $xe(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),Nz(e))}function Nz(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(o=>o.signal).join(", ")}]`},a=t.data.reduce((o,s)=>{const l=ae(s)?s.signal:`data('${e.lookupDataSource(s)}')`;return Me(o,l)||o.push(l),o},[]);if(a.length<=0)throw new Error("Projection's fit didn't find any data sources");return[Object.assign({name:r,size:i,fit:{signal:a.length>1?`[${a.join(", ")}]`:a[0]}},n)]}else return[Object.assign(Object.assign({name:r},{translate:{signal:"[width / 2, height / 2]"}}),n)]}const Nxe=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class Iz extends fo{constructor(t,n,r,i){super(Object.assign({},n),{name:t}),this.specifiedProjection=n,this.size=r,this.data=i,this.merged=!1}get isFit(){return!!this.data}}function Zz(e){e.component.projection=xt(e)?Ixe(e):Pxe(e)}function Ixe(e){var t;if(e.hasProjection){const n=Un(e.specifiedProjection),r=!(n&&(n.scale!=null||n.translate!=null)),i=r?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,a=r?Zxe(e):void 0,o=new Iz(e.projectionName(!0),Object.assign(Object.assign({},(t=Un(e.config.projection))!==null&&t!==void 0?t:{}),n??{}),i,a);return o.get("type")||o.set("type","equalEarth",!1),o}}function Zxe(e){const t=[],{encoding:n}=e;for(const r of[[ba,ya],[Zr,Di]])(Mt(n[r[0]])||Mt(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(tr)&&e.typedFieldDef(tr).type===mu&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(et.Main)),t}function Rxe(e,t){const n=A9(Nxe,i=>!!(!oe(e.explicit,i)&&!oe(t.explicit,i)||oe(e.explicit,i)&&oe(t.explicit,i)&&Gi(e.get(i),t.get(i))));if(Gi(e.size,t.size)){if(n)return e;if(Gi(e.explicit,{}))return t;if(Gi(t.explicit,{}))return e}return null}function Pxe(e){if(e.children.length===0)return;let t;for(const r of e.children)Zz(r);const n=A9(e.children,r=>{const i=r.component.projection;if(i)if(t){const a=Rxe(t,i);return a&&(t=a),!!a}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new Iz(r,t.specifiedProjection,t.size,ve(t.data));for(const a of e.children){const o=a.component.projection;o&&(o.isFit&&i.data.push(...a.component.projection.data),a.renameProjection(o.get("name"),r),o.merged=!0)}return i}}var jxe=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function zxe(e,t,n,r){var i,a;if(Nh(t,n)){const o=xt(e)?(a=(i=e.axis(n))!==null&&i!==void 0?i:e.legend(n))!==null&&a!==void 0?a:{}:{},s=V(t,{expr:"datum"}),l=V(t,{expr:"datum",binSuffix:"end"});return{formulaAs:V(t,{binSuffix:"range",forAs:!0}),formula:Fh(s,l,o.format,o.formatType,r)}}return{}}function Rz(e,t){return`${dP(e)}_${t}`}function Gxe(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function B6(e,t,n){var r;const i=(r=iy(n,void 0))!==null&&r!==void 0?r:{},a=Rz(i,t);return e.getName(`${a}_bins`)}function Uxe(e){return"as"in e}function Lk(e,t,n){let r,i;Uxe(e)?r=J(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[V(e,{forAs:!0}),V(e,{binSuffix:"end",forAs:!0})];const a=Object.assign({},iy(t,void 0)),o=Rz(a,e.field),{signal:s,extentSignal:l}=Gxe(n,o);if(q2(a.extent)){const u=a.extent;i=yz(n,u.param,u),delete a.extent}const c=Object.assign(Object.assign(Object.assign({bin:a,field:e.field,as:[r]},s?{signal:s}:{}),l?{extentSignal:l}:{}),i?{span:i}:{});return{key:o,binComponent:c}}class Ki extends Ve{constructor(t,n){super(t),this.bins=n}clone(){return new Ki(null,ve(this.bins))}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,a,o)=>{if(Rr(a)&&nt(a.bin)){const{key:s,binComponent:l}=Lk(a,a.bin,n);i[s]=Object.assign(Object.assign(Object.assign({},l),i[s]),zxe(n,a,o,n.config))}return i},{});return He(r)?null:new Ki(t,r)}static makeFromTransform(t,n,r){const{key:i,binComponent:a}=Lk(n,n.bin,r);return new Ki(t,{[i]:a})}merge(t,n){for(const r of G(t.bins))r in this.bins?(n(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=Ui([...this.bins[r].as,...t.bins[r].as],De)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set(yn(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(yn(this.bins).map(t=>t.field))}hash(){return`Bin ${De(this.bins)}`}assemble(){return yn(this.bins).flatMap(t=>{const n=[],[r,...i]=t.as,a=t.bin,{extent:o}=a,s=jxe(a,["extent"]),l=Object.assign(Object.assign(Object.assign({type:"bin",field:Ir(t.field),as:r,signal:t.signal},q2(o)?{extent:null}:{extent:o}),t.span?{span:{signal:`span(${t.span})`}}:{}),s);!o&&t.extentSignal&&(n.push({type:"extent",field:Ir(t.field),signal:t.extentSignal}),l.extent={signal:t.extentSignal}),n.push(l);for(const c of i)for(let u=0;u<2;u++)n.push({type:"formula",expr:V({field:r[u]},{expr:"datum"}),as:c[u]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}function Wxe(e,t,n,r){var i;const a=xt(r)?r.encoding[_a(t)]:void 0;if(Rr(n)&&xt(r)&&rj(n,a,r.markDef,r.config))e.add(V(n,{})),e.add(V(n,{suffix:"end"})),n.bin&&Nh(n,t)&&e.add(V(n,{binSuffix:"range"}));else if(Tve(t)){const o=wve(t);e.add(r.getName(o))}else e.add(V(n));return al(n)&&B5e((i=n.scale)===null||i===void 0?void 0:i.range)&&e.add(n.scale.range.field),e}function Hxe(e,t){var n;for(const r of G(t)){const i=t[r];for(const a of G(i))r in e?e[r][a]=new Set([...(n=e[r][a])!==null&&n!==void 0?n:[],...i[a]]):e[r]={[a]:i[a]}}}class hi extends Ve{constructor(t,n,r){super(t),this.dimensions=n,this.measures=r}clone(){return new hi(null,new Set(this.dimensions),ve(this.measures))}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let r=!1;n.forEachFieldDef(o=>{o.aggregate&&(r=!0)});const i={},a=new Set;return!r||(n.forEachFieldDef((o,s)=>{var l,c,u,f;const{aggregate:d,field:h}=o;if(d)if(d==="count")(l=i["*"])!==null&&l!==void 0||(i["*"]={}),i["*"].count=new Set([V(o,{forAs:!0})]);else{if(to(d)||As(d)){const m=to(d)?"argmin":"argmax",g=d[m];(c=i[g])!==null&&c!==void 0||(i[g]={}),i[g][m]=new Set([V({op:m,field:g},{forAs:!0})])}else(u=i[h])!==null&&u!==void 0||(i[h]={}),i[h][d]=new Set([V(o,{forAs:!0})]);Ts(s)&&n.scaleDomain(s)==="unaggregated"&&((f=i[h])!==null&&f!==void 0||(i[h]={}),i[h].min=new Set([V({field:h,aggregate:"min"},{forAs:!0})]),i[h].max=new Set([V({field:h,aggregate:"max"},{forAs:!0})]))}else Wxe(a,s,o,n)}),a.size+G(i).length===0)?null:new hi(t,a,i)}static makeFromTransform(t,n){var r,i,a;const o=new Set,s={};for(const l of n.aggregate){const{op:c,field:u,as:f}=l;c&&(c==="count"?((r=s["*"])!==null&&r!==void 0||(s["*"]={}),s["*"].count=new Set([f||V(l,{forAs:!0})])):((i=s[u])!==null&&i!==void 0||(s[u]={}),s[u][c]=new Set([f||V(l,{forAs:!0})])))}for(const l of(a=n.groupby)!==null&&a!==void 0?a:[])o.add(l);return o.size+G(s).length===0?null:new hi(t,o,s)}merge(t){return qR(this.dimensions,t.dimensions)?(Hxe(this.measures,t.measures),!0):(a5e("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...G(this.measures)])}producedFields(){const t=new Set;for(const n of G(this.measures))for(const r of G(this.measures[n])){const i=this.measures[n][r];i.size===0?t.add(`${r}_${n}`):i.forEach(t.add,t)}return t}hash(){return`Aggregate ${De({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],r=[];for(const a of G(this.measures))for(const o of G(this.measures[a]))for(const s of this.measures[a][o])r.push(s),t.push(o),n.push(a==="*"?null:Ir(a));return{type:"aggregate",groupby:[...this.dimensions].map(Ir),ops:t,fields:n,as:r}}}class yu extends Ve{constructor(t,n,r,i){super(t),this.model=n,this.name=r,this.data=i;for(const a of Or){const o=n.facet[a];if(o){const{bin:s,sort:l}=o;this[a]=Object.assign({name:n.getName(`${a}_domain`),fields:[V(o),...nt(s)?[V(o,{binSuffix:"end"})]:[]]},Xi(l)?{sortField:l}:j(l)?{sortIndexField:Pc(o,a)}:{})}}this.childModel=n.child}hash(){let t="Facet";for(const n of Or)this[n]&&(t+=` ${n.charAt(0)}:${De(this[n])}`);return t}get fields(){var t;const n=[];for(const r of Or)!((t=this[r])===null||t===void 0)&&t.fields&&n.push(...this[r].fields);return n}dependentFields(){const t=new Set(this.fields);for(const n of Or)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of wa){const r=this.childModel.component.scales[n];if(r&&!r.merged){const i=r.get("type"),a=r.get("range");if(Ut(i)&&Ss(a)){const o=py(this.childModel,n),s=Z6(o);s?t[n]=s:U(Z9(n))}}}return t}assembleRowColumnHeaderData(t,n,r){const i={row:"y",column:"x",facet:void 0}[t],a=[],o=[],s=[];i&&r&&r[i]&&(n?(a.push(`distinct_${r[i]}`),o.push("max")):(a.push(r[i]),o.push("distinct")),s.push(`distinct_${r[i]}`));const{sortField:l,sortIndexField:c}=this[t];if(l){const{op:u=ey,field:f}=l;a.push(f),o.push(u),s.push(V(l,{forAs:!0}))}else c&&(a.push(c),o.push("max"),s.push(c));return{name:this[t].name,source:n??this.data,transform:[Object.assign({type:"aggregate",groupby:this[t].fields},a.length?{fields:a,ops:o,as:s}:{})]}}assembleFacetHeaderData(t){var n,r;const{columns:i}=this.model.layout,{layoutHeaders:a}=this.model.component,o=[],s={};for(const u of C6){for(const f of D6){const d=(n=a[u]&&a[u][f])!==null&&n!==void 0?n:[];for(const h of d)if(((r=h.axes)===null||r===void 0?void 0:r.length)>0){s[u]=!0;break}}if(s[u]){const f=`length(data("${this.facet.name}"))`,d=u==="row"?i?{signal:`ceil(${f} / ${i})`}:1:i?{signal:`min(${f}, ${i})`}:{signal:f};o.push({name:`${this.facet.name}_${u}`,transform:[{type:"sequence",start:0,stop:d}]})}}const{row:l,column:c}=s;return(l||c)&&o.unshift(this.assembleRowColumnHeaderData("facet",null,t)),o}assemble(){var t,n;const r=[];let i=null;const a=this.getChildIndependentFieldsWithStep(),{column:o,row:s,facet:l}=this;if(o&&s&&(a.x||a.y)){i=`cross_${this.column.name}_${this.row.name}`;const c=[].concat((t=a.x)!==null&&t!==void 0?t:[],(n=a.y)!==null&&n!==void 0?n:[]),u=c.map(()=>"distinct");r.push({name:i,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:c,ops:u}]})}for(const c of[Wa,Ua])this[c]&&r.push(this.assembleRowColumnHeaderData(c,i,a));if(l){const c=this.assembleFacetHeaderData(a);c&&r.push(...c)}return r}}function Fk(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function Yxe(e,t){const n=k9(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=Fk(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=Fk(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return U(d3e(t)),null}function qxe(e){const t={};return gm(e.filter,n=>{var r;if(FP(n)){let i=null;G9(n)?i=fr(n.equal):W9(n)?i=fr(n.lte):U9(n)?i=fr(n.lt):H9(n)?i=fr(n.gt):Y9(n)?i=fr(n.gte):q9(n)?i=n.range[0]:V9(n)&&(i=((r=n.oneOf)!==null&&r!==void 0?r:n.in)[0]),i&&(il(i)?t[n.field]="date":Ye(i)?t[n.field]="number":J(i)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function Vxe(e){const t={};function n(r){Nc(r)?t[r.field]="date":r.type==="quantitative"&&Gve(r.aggregate)?t[r.field]="number":Cc(r.field)>1?r.field in t||(t[r.field]="flatten"):al(r)&&Xi(r.sort)&&Cc(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((xt(e)||mi(e))&&e.forEachFieldDef((r,i)=>{if(Rr(r))n(r);else{const a=nl(i),o=e.fieldDef(a);n(Object.assign(Object.assign({},r),{type:o.type}))}}),xt(e)){const{mark:r,markDef:i,encoding:a}=e;if(Es(r)&&!e.encoding.order){const o=i.orient==="horizontal"?"y":"x",s=a[o];W(s)&&s.type==="quantitative"&&!(s.field in t)&&(t[s.field]="number")}}return t}function Xxe(e){const t={};if(xt(e)&&e.component.selection)for(const n of G(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&Cc(i.field)>1&&(t[i.field]="flatten")}return t}class dn extends Ve{constructor(t,n){super(t),this._parse=n}clone(){return new dn(null,ve(this._parse))}hash(){return`Parse ${De(this._parse)}`}static makeExplicit(t,n,r){var i;let a={};const o=n.data;return!Po(o)&&(!((i=o==null?void 0:o.format)===null||i===void 0)&&i.parse)&&(a=o.format.parse),this.makeWithAncestors(t,a,{},r)}static makeWithAncestors(t,n,r,i){for(const s of G(r)){const l=i.getWithExplicit(s);l.value!==void 0&&(l.explicit||l.value===r[s]||l.value==="derived"||r[s]==="flatten"?delete r[s]:U(YE(s,r[s],l.value)))}for(const s of G(n)){const l=i.get(s);l!==void 0&&(l===n[s]?delete n[s]:U(YE(s,n[s],l)))}const a=new fo(n,r);i.copyAll(a);const o={};for(const s of G(a.combine())){const l=a.get(s);l!==null&&(o[s]=l)}return G(o).length===0||i.parseNothing?null:new dn(t,o)}get parse(){return this._parse}merge(t){this._parse=Object.assign(Object.assign({},this._parse),t.parse),t.remove()}assembleFormatParse(){const t={};for(const n of G(this._parse)){const r=this._parse[n];Cc(n)===1&&(t[n]=r)}return t}producedFields(){return new Set(G(this._parse))}dependentFields(){return new Set(G(this._parse))}assembleTransforms(t=!1){return G(this._parse).filter(n=>t?Cc(n)>1:!0).map(n=>{const r=Yxe(n,this._parse[n]);return r?{type:"formula",expr:r,as:M9(n)}:null}).filter(n=>n!==null)}}class us extends Ve{clone(){return new us(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([la])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:la}}}class Rh extends Ve{constructor(t,n){super(t),this.params=n}clone(){return new Rh(null,this.params)}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${De(this.params)}`}assemble(){return Object.assign({type:"graticule"},this.params===!0?{}:this.params)}}class Ph extends Ve{constructor(t,n){super(t),this.params=n}clone(){return new Ph(null,this.params)}dependentFields(){return new Set}producedFields(){var t;return new Set([(t=this.params.as)!==null&&t!==void 0?t:"data"])}hash(){return`Hash ${De(this.params)}`}assemble(){return Object.assign({type:"sequence"},this.params)}}class P0 extends Ve{constructor(t){super(null),t??(t={name:"source"});let n;if(Po(t)||(n=t.format?Object.assign({},qn(t.format,["parse"])):{}),Sd(t))this._data={values:t.values};else if(Ic(t)){if(this._data={url:t.url},!n.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];Me(["json","csv","tsv","dsv","topojson"],r)||(r="json"),n.type=r}}else Xj(t)?this._data={values:[{type:"Sphere"}]}:(qj(t)||Po(t))&&(this._data={});this._generator=Po(t),t.name&&(this._name=t.name),n&&!He(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return Object.assign(Object.assign({name:this._name},this._data),{transform:[]})}}var Bk=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Jxe=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Tf;function $6(e){return e instanceof P0||e instanceof Rh||e instanceof Ph}class N6{constructor(){Tf.set(this,void 0),Bk(this,Tf,!1,"f")}setModified(){Bk(this,Tf,!0,"f")}get modifiedFlag(){return Jxe(this,Tf,"f")}}Tf=new WeakMap;class ol extends N6{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,a)=>a[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class I6 extends N6{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class Kxe extends I6{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of G(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class Qxe extends I6{constructor(t){super(),this.requiresSelectionId=t&&O6(t)}run(t){t instanceof us&&(this.requiresSelectionId&&($6(t.parent)||t.parent instanceof hi||t.parent instanceof dn)||(this.setModified(),t.remove()))}}class e_e extends N6{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof Ji&&(r=t.producedFields(),S9(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class t_e extends I6{constructor(){super()}run(t){t instanceof Ln&&!t.isRequired()&&(this.setModified(),t.remove())}}class n_e extends ol{run(t){if(!$6(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof dn)if(t instanceof dn)this.setModified(),t.merge(n);else{if(E9(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class r_e extends ol{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof dn);if(t.numChildren()>1&&r.length>=1){const i={},a=new Set;for(const o of r){const s=o.parse;for(const l of G(s))l in i?i[l]!==s[l]&&a.add(l):i[l]=s[l]}for(const o of a)delete i[o];if(!He(i)){this.setModified();const o=new dn(t,i);for(const s of n){if(s instanceof dn)for(const l of G(i))delete s.parse[l];t.removeChild(s),s.parent=o,s instanceof dn&&G(s.parse).length===0&&s.remove()}}}}}class i_e extends ol{run(t){t instanceof Ln||t.numChildren()>0||t instanceof yu||t instanceof P0||(this.setModified(),t.remove())}}class a_e extends ol{run(t){const n=t.children.filter(i=>i instanceof Ji),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class o_e extends ol{run(t){const n=t.children.filter(i=>i instanceof hi),r={};for(const i of n){const a=De(i.groupBy);a in r||(r[a]=[]),r[a].push(i)}for(const i of G(r)){const a=r[i];if(a.length>1){const o=a.pop();for(const s of a)o.merge(s)&&(t.removeChild(s),s.parent=o,s.remove(),this.setModified())}}}}class s_e extends ol{constructor(t){super(),this.model=t}run(t){const n=!($6(t)||t instanceof gu||t instanceof dn||t instanceof us),r=[],i=[];for(const a of t.children)a instanceof Ki&&(n&&!E9(t.producedFields(),a.dependentFields())?r.push(a):i.push(a));if(r.length>0){const a=r.pop();for(const o of r)a.merge(o,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof Ki?t.merge(a,this.model.renameSignal.bind(this.model)):a.swapWithParent()}if(i.length>1){const a=i.pop();for(const o of i)a.merge(o,this.model.renameSignal.bind(this.model));this.setModified()}}}class l_e extends ol{run(t){const n=[...t.children];if(!D0(n,o=>o instanceof Ln)||t.numChildren()<=1)return;const i=[];let a;for(const o of n)if(o instanceof Ln){let s=o;for(;s.numChildren()===1;){const[l]=s.children;if(l instanceof Ln)s=l;else break}i.push(...s.children),a?(t.removeChild(o),o.parent=a.parent,a.parent.removeChild(a),a.parent=s,this.setModified()):a=s}else i.push(o);if(i.length){this.setModified();for(const o of i)o.parent.removeChild(o),o.parent=a}}}class sl extends Ve{constructor(t,n){super(t),this.transform=n}clone(){return new sl(null,ve(this.transform))}addDimensions(t){this.transform.groupby=Ui(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){var n;return(n=t.as)!==null&&n!==void 0?n:V(t)}hash(){return`JoinAggregateTransform ${De(this.transform)}`}assemble(){const t=[],n=[],r=[];for(const a of this.transform.joinaggregate)n.push(a.op),r.push(this.getDefaultName(a)),t.push(a.field===void 0?null:a.field);const i=this.transform.groupby;return Object.assign({type:"joinaggregate",as:r,ops:n,fields:t},i!==void 0?{groupby:i}:{})}}function c_e(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=V(r);return i&&t.push(i),t},[])}function u_e(e){return j(e)&&e.every(t=>J(t))&&e.length>1}class Ya extends Ve{constructor(t,n){super(t),this._stack=n}clone(){return new Ya(null,ve(this._stack))}static makeFromTransform(t,n){const{stack:r,groupby:i,as:a,offset:o="zero"}=n,s=[],l=[];if(n.sort!==void 0)for(const f of n.sort)s.push(f.field),l.push(wt(f.order,"ascending"));const c={field:s,order:l};let u;return u_e(a)?u=a:J(a)?u=[a,`${a}_end`]:u=[`${n.stack}_start`,`${n.stack}_end`],new Ya(t,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:o,sort:c,facetby:[],as:u})}static makeFromEncoding(t,n){const r=n.stack,{encoding:i}=n;if(!r)return null;const{groupbyChannels:a,fieldChannel:o,offset:s,impute:l}=r,c=a.map(h=>{const m=i[h];return sa(m)}).filter(h=>!!h),u=c_e(n),f=n.encoding.order;let d;return j(f)||W(f)?d=yP(f):d=u.reduce((h,m)=>(h.field.push(m),h.order.push(o==="y"?"descending":"ascending"),h),{field:[],order:[]}),new Ya(t,{dimensionFieldDefs:c,stackField:n.vgField(o),facetby:[],stackby:u,sort:d,offset:s,impute:l,as:[n.vgField(o,{suffix:"start",forAs:!0}),n.vgField(o,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${De(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:n,groupby:r}=this._stack;return t.length>0?t.map(i=>i.bin?n?[V(i,{binSuffix:"mid"})]:[V(i,{}),V(i,{binSuffix:"end"})]:[V(i)]).flat():r??[]}assemble(){const t=[],{facetby:n,dimensionFieldDefs:r,stackField:i,stackby:a,sort:o,offset:s,impute:l,as:c}=this._stack;if(l)for(const u of r){const{bandPosition:f=.5,bin:d}=u;if(d){const h=V(u,{expr:"datum"}),m=V(u,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${f}*${h}+${1-f}*${m}`,as:V(u,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:i,groupby:[...a,...n],key:V(u,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:i,sort:o,as:c,offset:s}),t}}class bu extends Ve{constructor(t,n){super(t),this.transform=n}clone(){return new bu(null,ve(this.transform))}addDimensions(t){this.transform.groupby=Ui(this.transform.groupby.concat(t),n=>n)}dependentFields(){var t,n;const r=new Set;return((t=this.transform.groupby)!==null&&t!==void 0?t:[]).forEach(r.add,r),((n=this.transform.sort)!==null&&n!==void 0?n:[]).forEach(i=>r.add(i.field)),this.transform.window.map(i=>i.field).filter(i=>i!==void 0).forEach(r.add,r),r}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){var n;return(n=t.as)!==null&&n!==void 0?n:V(t)}hash(){return`WindowTransform ${De(this.transform)}`}assemble(){var t;const n=[],r=[],i=[],a=[];for(const d of this.transform.window)r.push(d.op),i.push(this.getDefaultName(d)),a.push(d.param===void 0?null:d.param),n.push(d.field===void 0?null:d.field);const o=this.transform.frame,s=this.transform.groupby;if(o&&o[0]===null&&o[1]===null&&r.every(d=>$9(d)))return Object.assign({type:"joinaggregate",as:i,ops:r,fields:n},s!==void 0?{groupby:s}:{});const l=[],c=[];if(this.transform.sort!==void 0)for(const d of this.transform.sort)l.push(d.field),c.push((t=d.order)!==null&&t!==void 0?t:"ascending");const u={field:l,order:c},f=this.transform.ignorePeers;return Object.assign(Object.assign(Object.assign({type:"window",params:a,as:i,ops:r,fields:n,sort:u},f!==void 0?{ignorePeers:f}:{}),s!==void 0?{groupby:s}:{}),o!==void 0?{frame:o}:{})}}function f_e(e){function t(n){if(!(n instanceof yu)){const r=n.clone();if(r instanceof Ln){const i=X5+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof hi||r instanceof Ya||r instanceof bu||r instanceof sl)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function V5(e){if(e instanceof yu)if(e.numChildren()===1&&!(e.children[0]instanceof Ln)){const t=e.children[0];(t instanceof hi||t instanceof Ya||t instanceof bu||t instanceof sl)&&t.addDimensions(e.fields),t.swapWithParent(),V5(e)}else{const t=e.model.component.data.main;Pz(t);const n=f_e(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(V5)}function Pz(e){if(e instanceof Ln&&e.type===et.Main&&e.numChildren()===1){const t=e.children[0];t instanceof yu||(t.swapWithParent(),Pz(e))}}const X5="scale_",M1=5;function J5(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!J5(t.children))return!1}return!0}function Ur(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function $k(e,t,n){let r=e.sources,i=!1;return i=Ur(new t_e,r)||i,i=Ur(new Qxe(t),r)||i,r=r.filter(a=>a.numChildren()>0),i=Ur(new i_e,r)||i,r=r.filter(a=>a.numChildren()>0),n||(i=Ur(new n_e,r)||i,i=Ur(new s_e(t),r)||i,i=Ur(new e_e,r)||i,i=Ur(new r_e,r)||i,i=Ur(new o_e,r)||i,i=Ur(new a_e,r)||i,i=Ur(new Kxe,r)||i,i=Ur(new l_e,r)||i),e.sources=r,i}function d_e(e,t){J5(e.sources);let n=0,r=0;for(let i=0;i<M1&&$k(e,t,!0);i++)n++;e.sources.map(V5);for(let i=0;i<M1&&$k(e,t,!1);i++)r++;J5(e.sources),Math.max(n,r)===M1&&U(`Maximum optimization runs(${M1}) reached.`)}class Xn{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new Xn(()=>t(n))}}var h_e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function jz(e){xt(e)?m_e(e):p_e(e)}function m_e(e){const t=e.component.scales;for(const n of G(t)){const r=y_e(e,n);if(t[n].setWithExplicit("domains",r),v_e(e,n),e.component.data.isFaceted){let a=e;for(;!mi(a)&&a.parent;)a=a.parent;if(a.component.resolve.scale[n]==="shared")for(const s of r.value)Pa(s)&&(s.data=X5+s.data.replace(X5,""))}}}function p_e(e){for(const n of e.children)jz(n);const t=e.component.scales;for(const n of G(t)){let r,i=null;for(const a of e.children){const o=a.component.scales[n];if(o){r===void 0?r=o.getWithExplicit("domains"):r=os(r,o.getWithExplicit("domains"),"domains","scale",K5);const s=o.get("selectionExtent");i&&s&&i.param!==s.param&&U(l3e),i=s}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function g_e(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:a}=Nk(t,n);if(!i){U(a);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=Nk(t,n);if(i)return"unaggregated"}return e}function y_e(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=g_e(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]=Object.assign(Object.assign({},e.specifiedScales[t]),{domain:i})),t==="x"&&Mt(r.x2)?Mt(r.x)?os(yo(n,i,e,"x"),yo(n,i,e,"x2"),"domain","scale",K5):yo(n,i,e,"x2"):t==="y"&&Mt(r.y2)?Mt(r.y)?os(yo(n,i,e,"y"),yo(n,i,e,"y2"),"domain","scale",K5):yo(n,i,e,"y2"):yo(n,i,e,t)}function b_e(e,t,n){return e.map(r=>({signal:`{data: ${ay(r,{timeUnit:n,type:t})}}`}))}function iv(e,t,n){var r;const i=(r=xn(n))===null||r===void 0?void 0:r.unit;return t==="temporal"||i?b_e(e,t,i):[e]}function yo(e,t,n,r){const{encoding:i}=n,a=Mt(i[r]),{type:o}=a,s=a.timeUnit;if(F5e(t)){const f=yo(e,void 0,n,r),d=iv(t.unionWith,o,s);return Ni([...d,...f.value])}else{if(ae(t))return Ni([t]);if(t&&t!=="unaggregated"&&!PP(t))return Ni(iv(t,o,s))}const l=n.stack;if(l&&r===l.fieldChannel){if(l.offset==="normalize")return or([[0,1]]);const f=n.requestDataName(et.Main);return or([{data:f,field:n.vgField(r,{suffix:"start"})},{data:f,field:n.vgField(r,{suffix:"end"})}])}const c=Ts(r)&&W(a)?x_e(n,r,e):void 0;if(Ta(a)){const f=iv([a.datum],o,s);return or(f)}const u=a;if(t==="unaggregated"){const f=n.requestDataName(et.Main),{field:d}=a;return or([{data:f,field:V({field:d,aggregate:"min"})},{data:f,field:V({field:d,aggregate:"max"})}])}else if(nt(u.bin)){if(Ut(e))return or(e==="bin-ordinal"?[]:[{data:wd(c)?n.requestDataName(et.Main):n.requestDataName(et.Raw),field:n.vgField(r,Nh(u,r)?{binSuffix:"range"}:{}),sort:c===!0||!ee(c)?{field:n.vgField(r,{}),op:"min"}:c}]);{const{bin:f}=u;if(nt(f)){const d=B6(n,u.field,f);return or([new Xn(()=>{const h=n.getSignalName(d);return`[${h}.start, ${h}.stop]`})])}else return or([{data:n.requestDataName(et.Main),field:n.vgField(r,{})}])}}else if(u.timeUnit&&Me(["time","utc"],e)&&rj(u,xt(n)?n.encoding[_a(r)]:void 0,n.markDef,n.config)){const f=n.requestDataName(et.Main);return or([{data:f,field:n.vgField(r)},{data:f,field:n.vgField(r,{suffix:"end"})}])}else return or(c?[{data:wd(c)?n.requestDataName(et.Main):n.requestDataName(et.Raw),field:n.vgField(r),sort:c}]:[{data:n.requestDataName(et.Main),field:n.vgField(r)}])}function av(e,t){const{op:n,field:r,order:i}=e;return Object.assign(Object.assign({op:n??(t?"sum":ey)},r?{field:Ir(r)}:{}),i?{order:i}:{})}function v_e(e,t){var n;const r=e.component.scales[t],i=e.specifiedScales[t].domain,a=(n=e.fieldDef(t))===null||n===void 0?void 0:n.bin,o=PP(i)&&i,s=rl(a)&&q2(a.extent)&&a.extent;(o||s)&&r.set("selectionExtent",o??s,!0)}function x_e(e,t,n){if(!Ut(n))return;const r=e.fieldDef(t),i=r.sort;if(ej(i))return{op:"min",field:Pc(r,t),order:"ascending"};const{stack:a}=e,o=a?new Set([...a.groupbyFields,...a.stackBy.map(s=>s.fieldDef.field)]):void 0;if(Xi(i)){const s=a&&!o.has(i.field);return av(i,s)}else if(QP(i)){const{encoding:s,order:l}=i,c=e.fieldDef(s),{aggregate:u,field:f}=c,d=a&&!o.has(f);if(to(u)||As(u))return av({field:V(c),order:l},d);if($9(u)||!u)return av({op:u,field:f,order:l},d)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(Me(["ascending",void 0],i))return!0}}function Nk(e,t){const{aggregate:n,type:r}=e;return n?J(n)&&!Wve.has(n)?{valid:!1,reason:N3e(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:I3e(e)}:{valid:!0}:{valid:!1,reason:$3e(e)}}function K5(e,t,n,r){return e.explicit&&t.explicit&&U(z3e(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function __e(e){const t=Ui(e.map(o=>Pa(o)?h_e(o,["sort"]):o),De),n=Ui(e.map(o=>{if(Pa(o)){const s=o.sort;return s!==void 0&&!wd(s)&&("op"in s&&s.op==="count"&&delete s.field,s.order==="ascending"&&delete s.order),s}}).filter(o=>o!==void 0),De);if(t.length===0)return;if(t.length===1){const o=e[0];if(Pa(o)&&n.length>0){let s=n[0];if(n.length>1)U(VE),s=!0;else if(ee(s)&&"field"in s){const l=s.field;o.field===l&&(s=s.order?{order:s.order}:!0)}return Object.assign(Object.assign({},o),{sort:s})}return o}const r=Ui(n.map(o=>wd(o)||!("op"in o)||J(o.op)&&o.op in jve?o:(U(U3e(o)),!0)),De);let i;r.length===1?i=r[0]:r.length>1&&(U(VE),i=!0);const a=Ui(e.map(o=>Pa(o)?o.data:null),o=>o);return a.length===1&&a[0]!==null?Object.assign({data:a[0],fields:t.map(s=>s.field)},i?{sort:i}:{}):Object.assign({fields:t},i?{sort:i}:{})}function Z6(e){if(Pa(e)&&J(e.field))return e.field;if(Yve(e)){let t;for(const n of e.fields)if(Pa(n)&&J(n.field)){if(!t)t=n.field;else if(t!==n.field)return U(W3e),t}return U(H3e),t}else if(qve(e)){U(Y3e);const t=e.fields[0];return J(t)?t:void 0}}function py(e,t){const r=e.component.scales[t].get("domains").map(i=>(Pa(i)&&(i.data=e.lookupDataSource(i.data)),i));return __e(r)}var w_e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function zz(e){return vu(e)||R6(e)?e.children.reduce((t,n)=>t.concat(zz(n)),Ik(e)):Ik(e)}function Ik(e){return G(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:a,type:o,selectionExtent:s,domains:l,range:c,reverse:u}=i,f=w_e(i,["name","type","selectionExtent","domains","range","reverse"]),d=T_e(i.range,a,n,e),h=py(e,n),m=s?h4e(e,s,r,h):null;return t.push(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:a,type:o},h?{domain:h}:{}),m?{domainRaw:m}:{}),{range:d}),u!==void 0?{reverse:u}:{}),f)),t},[])}function T_e(e,t,n,r){if(Gt(n)){if(Ss(e))return{step:{signal:`${t}_step`}}}else if(ee(e)&&Pa(e))return Object.assign(Object.assign({},e),{data:r.lookupDataSource(e.data)});return e}class Gz extends fo{constructor(t,n){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",n)}domainDefinitelyIncludesZero(){return this.get("zero")!==!1?!0:D0(this.get("domains"),t=>j(t)&&t.length===2&&t[0]<=0&&t[1]>=0)}}const A_e=["range","scheme"];function S_e(e){const t=e.component.scales;for(const n of Y2){const r=t[n];if(!r)continue;const i=E_e(n,e);r.setWithExplicit("range",i)}}function Zk(e,t){const n=e.fieldDef(t);if(n!=null&&n.bin){const{bin:r,field:i}=n,a=nr(t),o=e.getName(a);if(ee(r)&&r.binned&&r.step!==void 0)return new Xn(()=>{const s=e.scaleName(t),l=`(domain("${s}")[1] - domain("${s}")[0]) / ${r.step}`;return`${e.getSignalName(o)} / (${l})`});if(nt(r)){const s=B6(e,i,r);return new Xn(()=>{const l=e.getSignalName(s),c=`(${l}.stop - ${l}.start) / ${l}.step`;return`${e.getSignalName(o)} / (${c})`})}}}function E_e(e,t){const n=t.specifiedScales[e],{size:r}=t,a=t.getScaleComponent(e).get("type");for(const f of A_e)if(n[f]!==void 0){const d=D5(a,f),h=jP(e,f);if(!d)U(AP(a,f,e));else if(h)U(h);else switch(f){case"range":{const m=n.range;if(j(m)){if(Gt(e))return Ni(m.map(g=>{if(g==="width"||g==="height"){const p=t.getName(g),y=t.getSignalName.bind(t);return Xn.fromName(y,p)}return g}))}else if(ee(m))return Ni({data:t.requestDataName(et.Main),field:m.field,sort:{op:"min",field:t.vgField(e)}});return Ni(m)}case"scheme":return Ni(k_e(n[f]))}}const o=e===dt||e==="xOffset"?"width":"height",s=r[o];if(ca(s)){if(Gt(e))if(Ut(a)){const f=Uz(s,t,e);if(f)return Ni({step:f})}else U(SP(o));else if(hu(e)){const f=e===bs?"x":"y";if(t.getScaleComponent(f).get("type")==="band"){const m=Wz(s,a);if(m)return Ni(m)}}}const{rangeMin:l,rangeMax:c}=n,u=M_e(e,t);return(l!==void 0||c!==void 0)&&D5(a,"rangeMin")&&j(u)&&u.length===2?Ni([l??u[0],c??u[1]]):or(u)}function k_e(e){return L5e(e)?Object.assign({scheme:e.name},qn(e,["name"])):{scheme:e}}function M_e(e,t){const{size:n,config:r,mark:i,encoding:a}=t,o=t.getSignalName.bind(t),{type:s}=Mt(a[e]),c=t.getScaleComponent(e).get("type"),{domain:u,domainMid:f}=t.specifiedScales[e];switch(e){case dt:case zt:{if(Me(["point","band"],c)){const m=Hz(e,n,r.view);if(ca(m))return{step:Uz(m,t,e)}}const d=nr(e),h=t.getName(d);return e===zt&&br(c)?[Xn.fromName(o,h),0]:[0,Xn.fromName(o,h)]}case bs:case du:return O_e(e,t,c);case lo:{const d=t.component.scales[e].get("zero"),h=Yz(i,d,r),m=L_e(i,n,t,r);return Fc(c)?D_e(h,m,C_e(c,r,u,e)):[h,m]}case zr:return[0,Math.PI*2];case tl:return[0,360];case Ci:return[0,new Xn(()=>{const d=t.getSignalName("width"),h=t.getSignalName("height");return`min(${d},${h})/2`})];case _s:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case ws:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case tr:return"symbol";case er:case va:case xa:return c==="ordinal"?s==="nominal"?"category":"ordinal":f!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case co:case vs:case xs:return[r.scale.minOpacity,r.scale.maxOpacity]}}function Uz(e,t,n){var r,i,a,o,s;const{encoding:l}=t,c=t.getScaleComponent(n),u=aP(n),f=l[u];if(Fj({step:e,offsetIsDiscrete:ge(f)&&$P(f.type)})==="offset"&&mj(l,u)){const h=t.getScaleComponent(u);let g=`domain('${t.scaleName(u)}').length`;if(h.get("type")==="band"){const y=(i=(r=h.get("paddingInner"))!==null&&r!==void 0?r:h.get("padding"))!==null&&i!==void 0?i:0,b=(o=(a=h.get("paddingOuter"))!==null&&a!==void 0?a:h.get("padding"))!==null&&o!==void 0?o:0;g=`bandspace(${g}, ${y}, ${b})`}const p=(s=c.get("paddingInner"))!==null&&s!==void 0?s:c.get("padding");return{signal:`${e.step} * ${g} / (1-${Kve(p)})`}}else return e.step}function Wz(e,t){if(Fj({step:e,offsetIsDiscrete:Ut(t)})==="offset")return{step:e.step}}function O_e(e,t,n){const r=e===bs?"x":"y",a=t.getScaleComponent(r).get("type"),o=t.scaleName(r);if(a==="band"){const s=Hz(r,t.size,t.config.view);if(ca(s)){const l=Wz(s,n);if(l)return l}return[0,{signal:`bandwidth('${o}')`}]}else return HR(`Cannot use ${e} scale if ${r} scale is not discrete.`)}function Hz(e,t,n){const r=e===dt?"width":"height",i=t[r];return i||Yp(n,r)}function C_e(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&j(n)?n.length+1:(U(n5e(r)),3)}}function D_e(e,t,n){const r=()=>{const i=Ha(t),a=Ha(e),o=`(${i} - ${a}) / (${n} - 1)`;return`sequence(${a}, ${i} + ${o}, ${o})`};return ae(t)?new Xn(r):{signal:r()}}function Yz(e,t,n){if(t)return ae(t)?{signal:`${t.signal} ? 0 : ${Yz(e,!1,n)}`}:0;switch(e){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(V2("size",e))}const Rk=.95;function L_e(e,t,n,r){const i={x:Zk(n,"x"),y:Zk(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const a=Pk(t,i,r.view);return Ye(a)?a-1:new Xn(()=>`${a.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const a=Pk(t,i,r.view);return Ye(a)?Math.pow(Rk*a,2):new Xn(()=>`pow(${Rk} * ${a.signal}, 2)`)}}throw new Error(V2("size",e))}function Pk(e,t,n){const r=ca(e.width)?e.width.step:Hp(n,"width"),i=ca(e.height)?e.height.step:Hp(n,"height");return t.x||t.y?new Xn(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function qz(e,t){xt(e)?F_e(e,t):Xz(e,t)}function F_e(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:a,specifiedScales:o}=e;for(const s of G(n)){const l=o[s],c=n[s],u=e.getScaleComponent(s),f=Mt(i[s]),d=l[t],h=u.get("type"),m=u.get("padding"),g=u.get("paddingInner"),p=D5(h,t),y=jP(s,t);if(d!==void 0&&(p?y&&U(y):U(AP(h,t,s))),p&&y===void 0)if(d!==void 0){const b=f.timeUnit,v=f.type;switch(t){case"domainMax":case"domainMin":il(l[t])||v==="temporal"||b?c.set(t,{signal:ay(l[t],{type:v,timeUnit:b})},!0):c.set(t,l[t],!0);break;default:c.copyKeyFromObject(t,l)}}else{const b=t in jk?jk[t]({model:e,channel:s,fieldOrDatumDef:f,scaleType:h,scalePadding:m,scalePaddingInner:g,domain:l.domain,domainMin:l.domainMin,domainMax:l.domainMax,markDef:a,config:r,hasNestedOffsetScale:$5(i,s),hasSecondaryRangeChannel:!!i[_a(s)]}):r.scale[t];b!==void 0&&c.set(t,b,!1)}}}const jk={bins:({model:e,fieldOrDatumDef:t})=>W(t)?B_e(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>$_e(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:a})=>N_e(e,t,n,r,i,a),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>I_e(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:a})=>Z_e(e,t,n.type,r,i.scale,a),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:a})=>R_e(e,t,n,r,i.scale,a),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=W(e)?e.sort:void 0;return P_e(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:a,hasSecondaryRangeChannel:o})=>j_e(e,t,n,r,i,a.scale,o)};function Vz(e){xt(e)?S_e(e):Xz(e,"range")}function Xz(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?Vz(r):qz(r,t);for(const r of G(n)){let i;for(const a of e.children){const o=a.component.scales[r];if(o){const s=o.getWithExplicit(t);i=os(i,s,t,"scale",Yj((l,c)=>{switch(t){case"range":return l.step&&c.step?l.step-c.step:0}return 0}))}}n[r].setWithExplicit(t,i)}}function B_e(e,t){const n=t.bin;if(nt(n)){const r=B6(e,t.field,n);return new Xn(()=>e.getSignalName(r))}else if(Ht(n)&&rl(n)&&n.step!==void 0)return{step:n.step}}function $_e(e,t){if(Me([er,va,xa],e)&&t!=="nominal")return"hcl"}function N_e(e,t,n,r,i,a){var o;if(!(!((o=sa(a))===null||o===void 0)&&o.bin||j(n)||i!=null||r!=null||Me([Vn.TIME,Vn.UTC],e)))return Gt(t)?!0:void 0}function I_e(e,t,n,r,i,a){if(Gt(e)){if(si(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:o,orient:s}=i;if(o==="bar"&&!(W(r)&&(r.bin||r.timeUnit))&&(s==="vertical"&&e==="x"||s==="horizontal"&&e==="y"))return a.continuousBandSize}if(t===Vn.POINT)return n.pointPadding}}function Z_e(e,t,n,r,i,a=!1){if(e===void 0){if(Gt(t)){const{bandPaddingInner:o,barBandPaddingInner:s,rectBandPaddingInner:l,bandWithNestedOffsetPaddingInner:c}=i;return a?c:wt(o,n==="bar"?s:l)}else if(hu(t)&&r===Vn.BAND)return i.offsetBandPaddingInner}}function R_e(e,t,n,r,i,a=!1){if(e===void 0){if(Gt(t)){const{bandPaddingOuter:o,bandWithNestedOffsetPaddingOuter:s}=i;if(a)return s;if(n===Vn.BAND)return wt(o,ae(r)?{signal:`${r.signal}/2`}:r/2)}else if(hu(t)){if(n===Vn.POINT)return .5;if(n===Vn.BAND)return i.offsetBandPaddingOuter}}}function P_e(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return br(e)&&t==="descending"?ae(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(br(e)&&t==="descending")return!0}function j_e(e,t,n,r,i,a,o){if(!!n&&n!=="unaggregated"&&br(i)){if(j(n)){const l=n[0],c=n[n.length-1];if(l<=0&&c>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!Fc(i))return!0;if(!(W(t)&&t.bin)&&Me([...wa,...Fve],e)){const{orient:l,type:c}=r;return Me(["bar","area","line","trail"],c)&&(l==="horizontal"&&e==="y"||l==="vertical"&&e==="x")?!1:Me(["bar","area"],c)&&!o?!0:a==null?void 0:a.zero}return!1}function z_e(e,t,n,r,i=!1){const a=G_e(t,n,r,i),{type:o}=e;return Ts(t)?o!==void 0?R5e(t,o)?W(n)&&!Z5e(o,n.type)?(U(P3e(o,a)),a):o:(U(R3e(t,o,a)),a):a:null}function G_e(e,t,n,r){var i;switch(t.type){case"nominal":case"ordinal":{if(Jl(e)||Jb(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&U(Kb(e,"ordinal")),"ordinal";if(Gt(e)||hu(e)){if(Me(["rect","bar","image","rule"],n.type)||r)return"band"}else if(n.type==="arc"&&e in B9)return"band";const a=n[nr(e)];return N0(a)||$c(t)&&(!((i=t.axis)===null||i===void 0)&&i.tickBand)?"band":"point"}case"temporal":return Jl(e)?"time":Jb(e)==="discrete"?(U(Kb(e,"temporal")),"ordinal"):W(t)&&t.timeUnit&&xn(t.timeUnit).utc?"utc":"time";case"quantitative":return Jl(e)?W(t)&&nt(t.bin)?"bin-ordinal":"linear":Jb(e)==="discrete"?(U(Kb(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(wP(t.type))}function U_e(e,{ignoreRange:t}={}){Jz(e),jz(e);for(const n of I5e)qz(e,n);t||Vz(e)}function Jz(e){xt(e)?e.component.scales=W_e(e):e.component.scales=Y_e(e)}function W_e(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const a of Y2){const o=Mt(t[a]);if(o&&n===UP&&a===tr&&o.type===mu)continue;let s=o&&o.scale;if(hu(a)){const l=oP(a);if(!$5(t,l)){s&&U(S3e(a));continue}}if(o&&s!==null&&s!==!1){s??(s={});const l=$5(t,a),c=z_e(s,a,o,r,l);i[a]=new Gz(e.scaleName(`${a}`,!0),{value:c,explicit:s.type===c})}}return i}const H_e=Yj((e,t)=>JE(e)-JE(t));function Y_e(e){var t,n;const r=e.component.scales={},i={},a=e.component.resolve;for(const o of e.children){Jz(o);for(const s of G(o.component.scales))if((t=(n=a.scale)[s])!==null&&t!==void 0||(n[s]=Mz(s,e)),a.scale[s]==="shared"){const l=i[s],c=o.component.scales[s].getWithExplicit("type");l?k5e(l.value,c.value)?i[s]=os(l,c,"type","scale",H_e):(a.scale[s]="independent",delete i[s]):i[s]=c}}for(const o of G(i)){const s=e.scaleName(o,!0),l=i[o];r[o]=new Gz(s,l);for(const c of e.children){const u=c.component.scales[o];u&&(c.renameScale(u.get("name"),s),u.merged=!0)}}return r}var ov=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class sv{constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function xt(e){return(e==null?void 0:e.type)==="unit"}function mi(e){return(e==null?void 0:e.type)==="facet"}function R6(e){return(e==null?void 0:e.type)==="concat"}function vu(e){return(e==null?void 0:e.type)==="layer"}class P6{constructor(t,n,r,i,a,o,s){var l,c;this.type=n,this.parent=r,this.config=a,this.correctDataNames=u=>{var f,d,h;return!((f=u.from)===null||f===void 0)&&f.data&&(u.from.data=this.lookupDataSource(u.from.data)),!((h=(d=u.from)===null||d===void 0?void 0:d.facet)===null||h===void 0)&&h.data&&(u.from.facet.data=this.lookupDataSource(u.from.facet.data)),u},this.parent=r,this.config=a,this.view=Un(s),this.name=(l=t.name)!==null&&l!==void 0?l:i,this.title=To(t.title)?{text:t.title}:t.title?Un(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new sv,this.projectionNameMap=r?r.projectionNameMap:new sv,this.signalNameMap=r?r.signalNameMap:new sv,this.data=t.data,this.description=t.description,this.transforms=X8e((c=t.transform)!==null&&c!==void 0?c:[]),this.layout=n==="layer"||n==="unit"?{}:n8e(t,n,a),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:ty(t)||(r==null?void 0:r.component.data.isFaceted)&&t.data===void 0},layoutSize:new fo,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({scale:{},axis:{},legend:{}},o?ve(o):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){U_e(this)}parseProjection(){Zz(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){Fz(this)}assembleEncodeFromView(t){const n=ov(t,["style"]),r={};for(const i of G(n)){const a=n[i];a!==void 0&&(r[i]=it(a))}return r}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=it(this.description)),this.type==="unit"||this.type==="layer")?Object.assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},n??{}):He(n)?void 0:n}assembleLayout(){if(!this.layout)return;const t=this.layout,{spacing:n}=t,r=ov(t,["spacing"]),{component:i,config:a}=this,o=uxe(i.layoutHeaders,a);return Object.assign(Object.assign(Object.assign({padding:n},this.assembleDefaultLayout()),r),o?{titleBand:o}:{})}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of Or)t[r].title&&n.push(ixe(this,r));for(const r of C6)n=n.concat(axe(this,r));return n}assembleAxes(){return H4e(this.component.axes,this.config)}assembleLegends(){return $z(this)}assembleProjections(){return Bxe(this)}assembleTitle(){var t,n,r;const i=(t=this.title)!==null&&t!==void 0?t:{},{encoding:a}=i,o=ov(i,["encoding"]),s=Object.assign(Object.assign(Object.assign({},hP(this.config.title).nonMarkTitleProperties),o),a?{encode:{update:a}}:{});if(s.text)return Me(["unit","layer"],this.type)?Me(["middle",void 0],s.anchor)&&((n=s.frame)!==null&&n!==void 0||(s.frame="group")):(r=s.anchor)!==null&&r!==void 0||(s.anchor="start"),He(s)?void 0:s}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||mi(this.parent)?zz(this):[];i.length>0&&(n.scales=i);const a=this.assembleAxes();a.length>0&&(n.axes=a);const o=this.assembleLegends();return o.length>0&&(n.legends=o),n}getName(t){return lt((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(et[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(mi(this.parent)){const n=Ez(t),r=H2(n),i=this.component.scales[r];if(i&&!i.merged){const a=i.get("type"),o=i.get("range");if(Ut(a)&&Ss(o)){const s=i.get("name"),l=py(this,r),c=Z6(l);if(c){const u=V({aggregate:"distinct",field:c},{expr:"datum"});return{signal:Sz(s,i,u)}}else return U(Z9(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(rP(t)&&Ts(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(r3e(n));return r}hasAxisOrientSignalRef(){var t,n;return((t=this.component.axes.x)===null||t===void 0?void 0:t.some(r=>r.hasOrientSignalRef()))||((n=this.component.axes.y)===null||n===void 0?void 0:n.some(r=>r.hasOrientSignalRef()))}}class Kz extends P6{vgField(t,n={}){const r=this.fieldDef(t);if(r)return V(r,n)}reduceFieldDef(t,n){return C7e(this.getMapping(),(r,i,a)=>{const o=sa(i);return o?t(r,o,a):r},n)}forEachFieldDef(t,n){d6(this.getMapping(),(r,i)=>{const a=sa(r);a&&t(a,i)},n)}}var q_e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class gy extends Ve{constructor(t,n){var r,i,a;super(t),this.transform=n,this.transform=ve(n);const o=(r=this.transform.as)!==null&&r!==void 0?r:[void 0,void 0];this.transform.as=[(i=o[0])!==null&&i!==void 0?i:"value",(a=o[1])!==null&&a!==void 0?a:"density"],n.groupby&&n.minsteps==null&&n.maxsteps==null&&n.steps==null&&(this.transform.steps=200)}clone(){return new gy(null,ve(this.transform))}dependentFields(){var t;return new Set([this.transform.density,...(t=this.transform.groupby)!==null&&t!==void 0?t:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${De(this.transform)}`}assemble(){const t=this.transform,{density:n}=t,r=q_e(t,["density"]);return Object.assign({type:"kde",field:n},r)}}class kd extends Ve{constructor(t,n){super(t),this.filter=n}clone(){return new kd(null,Object.assign({},this.filter))}static make(t,n){const{config:r,mark:i,markDef:a}=n;if(ze("invalid",a,r)!=="filter")return null;const s=n.reduceFieldDef((l,c,u)=>{const f=Ts(u)&&n.getScaleComponent(u);if(f){const d=f.get("type");br(d)&&c.aggregate!=="count"&&!Es(i)&&(l[c.field]=c)}return l},{});return G(s).length?new kd(t,s):null}dependentFields(){return new Set(G(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${De(this.filter)}`}assemble(){const t=G(this.filter).reduce((n,r)=>{const i=this.filter[r],a=V(i,{expr:"datum"});return i!==null&&(i.type==="temporal"?n.push(`(isDate(${a}) || (isValid(${a}) && isFinite(+${a})))`):i.type==="quantitative"&&(n.push(`isValid(${a})`),n.push(`isFinite(+${a})`))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}class yy extends Ve{constructor(t,n){super(t),this.transform=n,this.transform=ve(n);const{flatten:r,as:i=[]}=this.transform;this.transform.as=r.map((a,o)=>{var s;return(s=i[o])!==null&&s!==void 0?s:a})}clone(){return new yy(this.parent,ve(this.transform))}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${De(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class by extends Ve{constructor(t,n){var r,i,a;super(t),this.transform=n,this.transform=ve(n);const o=(r=this.transform.as)!==null&&r!==void 0?r:[void 0,void 0];this.transform.as=[(i=o[0])!==null&&i!==void 0?i:"key",(a=o[1])!==null&&a!==void 0?a:"value"]}clone(){return new by(null,ve(this.transform))}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${De(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class ec extends Ve{constructor(t,n,r,i){super(t),this.fields=n,this.geojson=r,this.signal=i}clone(){return new ec(null,ve(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let r=0;for(const i of[[ba,ya],[Zr,Di]]){const a=i.map(o=>{const s=Mt(n.encoding[o]);return W(s)?s.field:Ta(s)?{expr:`${s.datum}`}:wi(s)?{expr:`${s.value}`}:void 0});(a[0]||a[1])&&(t=new ec(t,a,null,n.getName(`geojson_${r++}`)))}if(n.channelHasField(tr)){const i=n.typedFieldDef(tr);i.type===mu&&(t=new ec(t,null,i.field,n.getName(`geojson_${r++}`)))}return t}dependentFields(){var t;const n=((t=this.fields)!==null&&t!==void 0?t:[]).filter(J);return new Set([...this.geojson?[this.geojson]:[],...n])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${De(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],Object.assign(Object.assign(Object.assign({type:"geojson"},this.fields?{fields:this.fields}:{}),this.geojson?{geojson:this.geojson}:{}),{signal:this.signal})]}}class Md extends Ve{constructor(t,n,r,i){super(t),this.projection=n,this.fields=r,this.as=i}clone(){return new Md(null,this.projection,ve(this.fields),ve(this.as))}static parseAll(t,n){if(!n.projectionName())return t;for(const r of[[ba,ya],[Zr,Di]]){const i=r.map(o=>{const s=Mt(n.encoding[o]);return W(s)?s.field:Ta(s)?{expr:`${s.datum}`}:wi(s)?{expr:`${s.value}`}:void 0}),a=r[0]===Zr?"2":"";(i[0]||i[1])&&(t=new Md(t,n.projectionName(),i,[n.getName(`x${a}`),n.getName(`y${a}`)]))}return t}dependentFields(){return new Set(this.fields.filter(J))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${De(this.fields)} ${De(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class u0 extends Ve{constructor(t,n){super(t),this.transform=n}clone(){return new u0(null,ve(this.transform))}dependentFields(){var t;return new Set([this.transform.impute,this.transform.key,...(t=this.transform.groupby)!==null&&t!==void 0?t:[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:r,step:i}=t;return{signal:`sequence(${[n,r,...i?[i]:[]].join(",")})`}}static makeFromTransform(t,n){return new u0(t,n)}static makeFromEncoding(t,n){const r=n.encoding,i=r.x,a=r.y;if(W(i)&&W(a)){const o=i.impute?i:a.impute?a:void 0;if(o===void 0)return;const s=i.impute?a:a.impute?i:void 0,{method:l,value:c,frame:u,keyvals:f}=o.impute,d=gj(n.mark,r);return new u0(t,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({impute:o.field,key:s.field},l?{method:l}:{}),c!==void 0?{value:c}:{}),u?{frame:u}:{}),f!==void 0?{keyvals:f}:{}),d.length?{groupby:d}:{}))}return null}hash(){return`Impute ${De(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:r,method:i,groupby:a,value:o,frame:s=[null,null]}=this.transform,l=Object.assign(Object.assign(Object.assign(Object.assign({type:"impute",field:t,key:n},r?{keyvals:L8e(r)?this.processSequence(r):r}:{}),{method:"value"}),a?{groupby:a}:{}),{value:!i||i==="value"?o:null});if(i&&i!=="value"){const c=Object.assign({type:"window",as:[`imputed_${t}_value`],ops:[i],fields:[t],frame:s,ignorePeers:!1},a?{groupby:a}:{}),u={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[l,c,u]}else return[l]}}var V_e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class vy extends Ve{constructor(t,n){var r,i,a;super(t),this.transform=n,this.transform=ve(n);const o=(r=this.transform.as)!==null&&r!==void 0?r:[void 0,void 0];this.transform.as=[(i=o[0])!==null&&i!==void 0?i:n.on,(a=o[1])!==null&&a!==void 0?a:n.loess]}clone(){return new vy(null,ve(this.transform))}dependentFields(){var t;return new Set([this.transform.loess,this.transform.on,...(t=this.transform.groupby)!==null&&t!==void 0?t:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${De(this.transform)}`}assemble(){const t=this.transform,{loess:n,on:r}=t,i=V_e(t,["loess","on"]);return Object.assign({type:"loess",x:r,y:n},i)}}class Od extends Ve{constructor(t,n,r){super(t),this.transform=n,this.secondary=r}clone(){return new Od(null,ve(this.transform),this.secondary)}static make(t,n,r,i){const a=n.component.data.sources,{from:o}=r;let s=null;if(F8e(o)){let l=tG(o.data,a);l||(l=new P0(o.data),a.push(l));const c=n.getName(`lookup_${i}`);s=new Ln(l,c,et.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[c]=s}else if(B8e(o)){const l=o.param;r=Object.assign({as:l},r);let c;try{c=n.getSelectionComponent(lt(l),l)}catch{throw new Error(o3e(l))}if(s=c.materialized,!s)throw new Error(s3e(l))}return new Od(t,r,s.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?Q(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${De({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t=Object.assign({values:this.transform.from.fields},this.transform.as?{as:Q(this.transform.as)}:{});else{let n=this.transform.as;J(n)||(U(p3e),n="_lookup"),t={as:[n]}}return Object.assign(Object.assign({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},t),this.transform.default?{default:this.transform.default}:{})}}var X_e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class xy extends Ve{constructor(t,n){var r,i,a;super(t),this.transform=n,this.transform=ve(n);const o=(r=this.transform.as)!==null&&r!==void 0?r:[void 0,void 0];this.transform.as=[(i=o[0])!==null&&i!==void 0?i:"prob",(a=o[1])!==null&&a!==void 0?a:"value"]}clone(){return new xy(null,ve(this.transform))}dependentFields(){var t;return new Set([this.transform.quantile,...(t=this.transform.groupby)!==null&&t!==void 0?t:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${De(this.transform)}`}assemble(){const t=this.transform,{quantile:n}=t,r=X_e(t,["quantile"]);return Object.assign({type:"quantile",field:n},r)}}var J_e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class _y extends Ve{constructor(t,n){var r,i,a;super(t),this.transform=n,this.transform=ve(n);const o=(r=this.transform.as)!==null&&r!==void 0?r:[void 0,void 0];this.transform.as=[(i=o[0])!==null&&i!==void 0?i:n.on,(a=o[1])!==null&&a!==void 0?a:n.regression]}clone(){return new _y(null,ve(this.transform))}dependentFields(){var t;return new Set([this.transform.regression,this.transform.on,...(t=this.transform.groupby)!==null&&t!==void 0?t:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${De(this.transform)}`}assemble(){const t=this.transform,{regression:n,on:r}=t,i=J_e(t,["regression","on"]);return Object.assign({type:"regression",x:r,y:n},i)}}class wy extends Ve{constructor(t,n){super(t),this.transform=n}clone(){return new wy(null,ve(this.transform))}addDimensions(t){var n;this.transform.groupby=Ui(((n=this.transform.groupby)!==null&&n!==void 0?n:[]).concat(t),r=>r)}producedFields(){}dependentFields(){var t;return new Set([this.transform.pivot,this.transform.value,...(t=this.transform.groupby)!==null&&t!==void 0?t:[]])}hash(){return`PivotTransform ${De(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:r,limit:i,op:a}=this.transform;return Object.assign(Object.assign(Object.assign({type:"pivot",field:t,value:n},i!==void 0?{limit:i}:{}),a!==void 0?{op:a}:{}),r!==void 0?{groupby:r}:{})}}class Ty extends Ve{constructor(t,n){super(t),this.transform=n}clone(){return new Ty(null,ve(this.transform))}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${De(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function Qz(e){let t=0;function n(r,i){var a;if(r instanceof P0&&!r.isGenerator&&!Ic(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof dn&&(r.parent instanceof P0&&!i.source?(i.format=Object.assign(Object.assign({},(a=i.format)!==null&&a!==void 0?a:{}),{parse:r.assembleFormatParse()}),i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof yu){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof Rh||r instanceof Ph||r instanceof kd||r instanceof gu||r instanceof Rc||r instanceof Md||r instanceof hi||r instanceof Od||r instanceof bu||r instanceof sl||r instanceof by||r instanceof yy||r instanceof gy||r instanceof vy||r instanceof xy||r instanceof _y||r instanceof us||r instanceof Ty||r instanceof wy)&&i.transform.push(r.assemble()),(r instanceof Ki||r instanceof Ji||r instanceof u0||r instanceof Ya||r instanceof ec)&&i.transform.push(...r.assemble()),r instanceof Ln&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof Ln?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof Ln&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let o=i.name;!i.source||i.transform.length>0?e.push(i):o=i.source;for(const s of r.children)n(s,{name:null,source:o,transform:[]});break}}}return n}function K_e(e){const t=[],n=Qz(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function Q_e(e,t){var n,r;const i=[],a=Qz(i);let o=0;for(const l of e.sources){l.hasName()||(l.dataName=`source_${o++}`);const c=l.assemble();a(l,c)}for(const l of i)l.transform.length===0&&delete l.transform;let s=0;for(const[l,c]of i.entries())((n=c.transform)!==null&&n!==void 0?n:[]).length===0&&!c.source&&i.splice(s++,0,i.splice(l,1)[0]);for(const l of i)for(const c of(r=l.transform)!==null&&r!==void 0?r:[])c.type==="lookup"&&(c.from=e.outputNodes[c.from].getSource());for(const l of i)l.name in t&&(l.values=t[l.name]);return i}function e9e(e){return e==="top"||e==="left"||ae(e)?"header":"footer"}function t9e(e){for(const t of Or)n9e(e,t);zk(e,"x"),zk(e,"y")}function n9e(e,t){var n;const{facet:r,config:i,child:a,component:o}=e;if(e.channelHasField(t)){const s=r[t],l=jc("title",null,i,t);let c=Kl(s,i,{allowDisabling:!0,includeDefault:l===void 0||!!l});a.component.layoutHeaders[t].title&&(c=j(c)?c.join(", "):c,c+=` / ${a.component.layoutHeaders[t].title}`,a.component.layoutHeaders[t].title=null);const u=jc("labelOrient",s.header,i,t),f=s.header!==null?wt((n=s.header)===null||n===void 0?void 0:n.labels,i.header.labels,!0):!1,d=Me(["bottom","right"],u)?"footer":"header";o.layoutHeaders[t]={title:s.header!==null?c:null,facetFieldDef:s,[d]:t==="facet"?[]:[eG(e,t,f)]}}}function eG(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function zk(e,t){var n;const{child:r}=e;if(r.component.axes[t]){const{layoutHeaders:i,resolve:a}=e.component;if(a.axis[t]=F6(a,t),a.axis[t]==="shared"){const o=t==="x"?"column":"row",s=i[o];for(const l of r.component.axes[t]){const c=e9e(l.get("orient"));(n=s[c])!==null&&n!==void 0||(s[c]=[eG(e,o,!1)]);const u=wf(l,"main",e.config,{header:!0});u&&s[c][0].axes.push(u),l.mainExtracted=!0}}}}function r9e(e){j6(e),Jp(e,"width"),Jp(e,"height")}function i9e(e){j6(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";Jp(e,t),Jp(e,n)}function j6(e){for(const t of e.children)t.parseLayoutSize()}function Jp(e,t){var n;const r=Ez(t),i=H2(r),a=e.component.resolve,o=e.component.layoutSize;let s;for(const l of e.children){const c=l.component.layoutSize.getWithExplicit(r),u=(n=a.scale[i])!==null&&n!==void 0?n:Mz(i,e);if(u==="independent"&&c.value==="step"){s=void 0;break}if(s){if(u==="independent"&&s.value!==c.value){s=void 0;break}s=os(s,c,r,"")}else s=c}if(s){for(const l of e.children)e.renameSignal(l.getName(r),e.getName(t)),l.component.layoutSize.set(r,"merged",!1);o.setWithExplicit(t,s)}else o.setWithExplicit(t,{explicit:!1,value:void 0})}function a9e(e){const{size:t,component:n}=e;for(const r of wa){const i=nr(r);if(t[i]){const a=t[i];n.layoutSize.set(i,ca(a)?"step":a,!0)}else{const a=o9e(e,i);n.layoutSize.set(i,a,!1)}}}function o9e(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const a=i.get("type"),o=i.get("range");if(Ut(a)){const s=Yp(r.view,t);return Ss(o)||ca(s)?"step":s}else return I5(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return I5(r.view,t);{const a=Yp(r.view,t);return ca(a)?a.step:a}}}function Q5(e,t,n){return V(t,Object.assign({suffix:`by_${V(e)}`},n??{}))}class Rf extends Kz{constructor(t,n,r,i){super(t,"facet",n,r,i,t.resolve),this.child=H6(t.spec,this,this.getName("child"),void 0,i),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!Bh(t))return{facet:this.initFacetFieldDef(t,"facet")};const n=G(t),r={};for(const i of n){if(![Ua,Wa].includes(i)){U(V2(i,"facet"));break}const a=t[i];if(a.field===void 0){U(O5(a,i));break}r[i]=this.initFacetFieldDef(a,i)}return r}initFacetFieldDef(t,n){const r=u6(t,n);return r.header?r.header=Un(r.header):r.header===null&&(r.header=null),r}channelHasField(t){return!!this.facet[t]}fieldDef(t){return this.facet[t]}parseData(){this.component.data=Ay(this),this.child.parseData()}parseLayoutSize(){j6(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),t9e(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){var t,n,r;const i={};for(const a of Or)for(const o of D6){const s=this.component.layoutHeaders[a],l=s[o],{facetFieldDef:c}=s;if(c){const u=jc("titleOrient",c.header,this.config,a);if(["right","bottom"].includes(u)){const f=hy(a,u);(t=i.titleAnchor)!==null&&t!==void 0||(i.titleAnchor={}),i.titleAnchor[f]="end"}}if(l!=null&&l[0]){const u=a==="row"?"height":"width",f=o==="header"?"headerBand":"footerBand";a!=="facet"&&!this.child.component.layoutSize.get(u)&&((n=i[f])!==null&&n!==void 0||(i[f]={}),i[f][a]=.5),s.title&&((r=i.offset)!==null&&r!==void 0||(i.offset={}),i.offset[a==="row"?"rowTitle":"columnTitle"]=10)}}return i}assembleDefaultLayout(){const{column:t,row:n}=this.facet,r=t?this.columnDistinctSignal():n?1:void 0;let i="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(i="none"),Object.assign(Object.assign(Object.assign({},this.getHeaderLayoutMixins()),r?{columns:r}:{}),{bounds:"full",align:i})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof Rf))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof Rf?Object.assign(Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:V(this.facet.column,{prefix:"distinct"})}}}}:{}),super.assembleGroup(t)):super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],r=[];if(this.child instanceof Rf){if(this.child.channelHasField("column")){const i=V(this.child.facet.column);t.push(i),n.push("distinct"),r.push(`distinct_${i}`)}}else for(const i of wa){const a=this.child.component.scales[i];if(a&&!a.merged){const o=a.get("type"),s=a.get("range");if(Ut(o)&&Ss(s)){const l=py(this.child,i),c=Z6(l);c?(t.push(c),n.push("distinct"),r.push(`distinct_${c}`)):U(Z9(i))}}}return{fields:t,ops:n,as:r}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:r,column:i}=this.facet,{fields:a,ops:o,as:s}=this.getCardinalityAggregateForChild(),l=[];for(const u of Or){const f=this.facet[u];if(f){l.push(V(f));const{bin:d,sort:h}=f;if(nt(d)&&l.push(V(f,{binSuffix:"end"})),Xi(h)){const{field:m,op:g=ey}=h,p=Q5(f,h);r&&i?(a.push(p),o.push("max"),s.push(p)):(a.push(m),o.push(g),s.push(p))}else if(j(h)){const m=Pc(f,u);a.push(m),o.push("max"),s.push(m)}}}const c=!!r&&!!i;return Object.assign({name:t,data:n,groupby:l},c||a.length>0?{aggregate:Object.assign(Object.assign({},c?{cross:c}:{}),a.length?{fields:a,ops:o,as:s}:{})}:{})}facetSortFields(t){const{facet:n}=this,r=n[t];return r?Xi(r.sort)?[Q5(r,r.sort,{expr:"datum"})]:j(r.sort)?[Pc(r,t,{expr:"datum"})]:[V(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,r=n[t];if(r){const{sort:i}=r;return[(Xi(i)?i.order:!j(i)&&i)||"ascending"]}return[]}assembleLabelTitle(){var t;const{facet:n,config:r}=this;if(n.facet)return Y5(n.facet,"facet",r);const i={row:["top","bottom"],column:["left","right"]};for(const a of C6)if(n[a]){const o=jc("labelOrient",(t=n[a])===null||t===void 0?void 0:t.header,r,a);if(i[a].includes(o))return Y5(n[a],a,r)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,r=K_e(n),i=t.assembleGroupEncodeEntry(!1),a=this.assembleLabelTitle()||t.assembleTitle(),o=t.assembleGroupStyle();return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:this.getName("cell"),type:"group"},a?{title:a}:{}),o?{style:o}:{}),{from:{facet:this.assembleFacet()},sort:{field:Or.map(l=>this.facetSortFields(l)).flat(),order:Or.map(l=>this.facetSortOrder(l)).flat()}}),r.length>0?{data:r}:{}),i?{encode:{update:i}}:{}),t.assembleGroup(c4e(this,[])))]}getMapping(){return this.facet}}function s9e(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const a of[n,r])if(Xi(a.sort)){const{field:o,op:s=ey}=a.sort;e=i=new sl(e,{joinaggregate:[{op:s,field:o,as:Q5(a,a.sort,{forAs:!0})}],groupby:[V(a)]})}return i}return null}function tG(e,t){var n,r,i,a;for(const o of t){const s=o.data;if(e.name&&o.hasName()&&e.name!==o.dataName)continue;const l=(n=e.format)===null||n===void 0?void 0:n.mesh,c=(r=s.format)===null||r===void 0?void 0:r.feature;if(l&&c)continue;const u=(i=e.format)===null||i===void 0?void 0:i.feature;if((u||c)&&u!==c)continue;const f=(a=s.format)===null||a===void 0?void 0:a.mesh;if(!((l||f)&&l!==f)){if(Sd(e)&&Sd(s)){if(Gi(e.values,s.values))return o}else if(Ic(e)&&Ic(s)){if(e.url===s.url)return o}else if(qj(e)&&e.name===o.dataName)return o}}return null}function l9e(e,t){if(e.data||!e.parent){if(e.data===null){const r=new P0({values:[]});return t.push(r),r}const n=tG(e.data,t);if(n)return Po(e.data)||(n.data.format=YR({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new P0(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function c9e(e,t,n){var r,i;let a=0;for(const o of t.transforms){let s,l;if(U8e(o))l=e=new Rc(e,o),s="derived";else if(T6(o)){const c=qxe(o);l=e=(r=dn.makeWithAncestors(e,{},c,n))!==null&&r!==void 0?r:e,e=new gu(e,t,o.filter)}else if(zj(o))l=e=Ki.makeFromTransform(e,o,t),s="number";else if(H8e(o))s="date",n.getWithExplicit(o.field).value===void 0&&(e=new dn(e,{[o.field]:s}),n.set(o.field,s,!1)),l=e=Ji.makeFromTransform(e,o);else if(Y8e(o))l=e=hi.makeFromTransform(e,o),s="number",O6(t)&&(e=new us(e));else if(jj(o))l=e=Od.make(e,t,o,a++),s="derived";else if(j8e(o))l=e=new bu(e,o),s="number";else if(z8e(o))l=e=new sl(e,o),s="number";else if(q8e(o))l=e=Ya.makeFromTransform(e,o),s="derived";else if(V8e(o))l=e=new by(e,o),s="derived";else if(G8e(o))l=e=new yy(e,o),s="derived";else if($8e(o))l=e=new wy(e,o),s="derived";else if(P8e(o))e=new Ty(e,o);else if(W8e(o))l=e=u0.makeFromTransform(e,o),s="derived";else if(N8e(o))l=e=new gy(e,o),s="derived";else if(I8e(o))l=e=new xy(e,o),s="derived";else if(Z8e(o))l=e=new _y(e,o),s="derived";else if(R8e(o))l=e=new vy(e,o),s="derived";else{U(m3e(o));continue}if(l&&s!==void 0)for(const c of(i=l.producedFields())!==null&&i!==void 0?i:[])n.set(c,s,!1)}return e}function Ay(e){var t,n,r,i,a,o,s,l,c,u;let f=l9e(e,e.component.data.sources);const{outputNodes:d,outputNodeRefCounts:h}=e.component.data,m=e.data,p=!(m&&(Po(m)||Ic(m)||Sd(m)))&&e.parent?e.parent.component.data.ancestorParse.clone():new o4e;Po(m)?(Vj(m)?f=new Ph(f,m.sequence):A6(m)&&(f=new Rh(f,m.graticule)),p.parseNothing=!0):((t=m==null?void 0:m.format)===null||t===void 0?void 0:t.parse)===null&&(p.parseNothing=!0),f=(n=dn.makeExplicit(f,e,p))!==null&&n!==void 0?n:f,f=new us(f);const y=e.parent&&vu(e.parent);(xt(e)||mi(e))&&y&&(f=(r=Ki.makeFromEncoding(f,e))!==null&&r!==void 0?r:f),e.transforms.length>0&&(f=c9e(f,e,p));const b=Xxe(e),v=Vxe(e);f=(i=dn.makeWithAncestors(f,{},Object.assign(Object.assign({},b),v),p))!==null&&i!==void 0?i:f,xt(e)&&(f=ec.parseAll(f,e),f=Md.parseAll(f,e)),(xt(e)||mi(e))&&(y||(f=(a=Ki.makeFromEncoding(f,e))!==null&&a!==void 0?a:f),f=(o=Ji.makeFromEncoding(f,e))!==null&&o!==void 0?o:f,f=Rc.parseAllForSortIndex(f,e));const x=e.getDataName(et.Raw),_=new Ln(f,x,et.Raw,h);if(d[x]=_,f=_,xt(e)){const C=hi.makeFromEncoding(f,e);C&&(f=C,O6(e)&&(f=new us(f))),f=(s=u0.makeFromEncoding(f,e))!==null&&s!==void 0?s:f,f=(l=Ya.makeFromEncoding(f,e))!==null&&l!==void 0?l:f}xt(e)&&(f=(c=kd.make(f,e))!==null&&c!==void 0?c:f);const T=e.getDataName(et.Main),w=new Ln(f,T,et.Main,h);d[T]=w,f=w,xt(e)&&U4e(e,w);let S=null;if(mi(e)){const C=e.getName("facet");f=(u=s9e(f,e.facet))!==null&&u!==void 0?u:f,S=new yu(f,e,C,w.getSource()),d[C]=S}return Object.assign(Object.assign({},e.component.data),{outputNodes:d,outputNodeRefCounts:h,raw:_,main:w,facetRoot:S,ancestorParse:p})}class u9e extends P6{constructor(t,n,r,i){var a,o,s,l;super(t,"concat",n,r,i,t.resolve),(((o=(a=t.resolve)===null||a===void 0?void 0:a.axis)===null||o===void 0?void 0:o.x)==="shared"||((l=(s=t.resolve)===null||s===void 0?void 0:s.axis)===null||l===void 0?void 0:l.y)==="shared")&&U(f3e),this.children=this.getChildren(t).map((c,u)=>H6(c,this,this.getName(`concat_${u}`),void 0,i))}parseData(){this.component.data=Ay(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of G(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return ly(t)?t.vconcat:_6(t)?t.hconcat:t.concat}parseLayoutSize(){i9e(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=L6(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),r=t.assembleGroupStyle(),i=t.assembleGroupEncodeEntry(!1);return Object.assign(Object.assign(Object.assign(Object.assign({type:"group",name:t.getName("group")},n?{title:n}:{}),r?{style:r}:{}),i?{encode:{update:i}}:{}),t.assembleGroup())})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return Object.assign(Object.assign({},t!=null?{columns:t}:{}),{bounds:"full",align:"each"})}}function f9e(e){return e===!1||e===null}const d9e=Object.assign(Object.assign({disable:1,gridScale:1,scale:1},dj),{labelExpr:1,encode:1}),nG=G(d9e);class z6 extends fo{constructor(t={},n={},r=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=r}clone(){return new z6(ve(this.explicit),ve(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!f9e(this.get(t))}hasOrientSignalRef(){return ae(this.explicit.orient)}}function h9e(e,t,n){var r;const{encoding:i,config:a}=e,o=(r=Mt(i[t]))!==null&&r!==void 0?r:Mt(i[_a(t)]),s=e.axis(t)||{},{format:l,formatType:c}=s;if(I0(c))return Object.assign({text:li({fieldOrDatumDef:o,field:"datum.value",format:l,formatType:c,config:a})},n);if(l===void 0&&c===void 0&&a.customFormatTypes){if(Bc(o)==="quantitative"){if($c(o)&&o.stack==="normalize"&&a.normalizedNumberFormatType)return Object.assign({text:li({fieldOrDatumDef:o,field:"datum.value",format:a.normalizedNumberFormat,formatType:a.normalizedNumberFormatType,config:a})},n);if(a.numberFormatType)return Object.assign({text:li({fieldOrDatumDef:o,field:"datum.value",format:a.numberFormat,formatType:a.numberFormatType,config:a})},n)}if(Bc(o)==="temporal"&&a.timeFormatType&&W(o)&&!o.timeUnit)return Object.assign({text:li({fieldOrDatumDef:o,field:"datum.value",format:a.timeFormat,formatType:a.timeFormatType,config:a})},n)}return n}function m9e(e){return wa.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[_9e(n,e)]),t),{})}const p9e={bottom:"top",top:"bottom",left:"right",right:"left"};function g9e(e){var t;const{axes:n,resolve:r}=e.component,i={top:0,bottom:0,right:0,left:0};for(const a of e.children){a.parseAxesAndHeaders();for(const o of G(a.component.axes))r.axis[o]=F6(e.component.resolve,o),r.axis[o]==="shared"&&(n[o]=y9e(n[o],a.component.axes[o]),n[o]||(r.axis[o]="independent",delete n[o]))}for(const a of wa){for(const o of e.children)if(o.component.axes[a]){if(r.axis[a]==="independent"){n[a]=((t=n[a])!==null&&t!==void 0?t:[]).concat(o.component.axes[a]);for(const s of o.component.axes[a]){const{value:l,explicit:c}=s.getWithExplicit("orient");if(!ae(l)){if(i[l]>0&&!c){const u=p9e[l];i[l]>i[u]&&s.set("orient",u,!1)}i[l]++}}}delete o.component.axes[a]}if(r.axis[a]==="independent"&&n[a]&&n[a].length>1)for(const o of n[a])o.get("grid")&&!o.explicit.grid&&(o.implicit.grid=!1)}}function y9e(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],a=t[r];if(!!i!=!!a)return;if(i&&a){const o=i.getWithExplicit("orient"),s=a.getWithExplicit("orient");if(o.explicit&&s.explicit&&o.value!==s.value)return;e[r]=b9e(i,a)}}}else return t.map(n=>n.clone());return e}function b9e(e,t){for(const n of nG){const r=os(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,a)=>{switch(n){case"title":return xP(i,a);case"gridScale":return{explicit:i.explicit,value:wt(i.value,a.value)}}return uy(i,a,n,"axis")});e.setWithExplicit(n,r)}return e}function v9e(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(ae(n.labelAngle)?n.labelAngle:Td(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===_z(r,i))return!0}return e===n[t]}const x9e=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function _9e(e,t){var n,r,i;let a=t.axis(e);const o=new z6,s=Mt(t.encoding[e]),{mark:l,config:c}=t,u=(a==null?void 0:a.orient)||((n=c[e==="x"?"axisX":"axisY"])===null||n===void 0?void 0:n.orient)||((r=c.axis)===null||r===void 0?void 0:r.orient)||exe(e),f=t.getScaleComponent(e).get("type"),d=Y4e(e,f,u,t.config),h=a!==void 0?!a:W5("disable",c.style,a==null?void 0:a.style,d).configValue;if(o.set("disable",h,a!==void 0),h)return o;a=a||{};const m=J4e(s,a,e,c.style,d),g={fieldOrDatumDef:s,axis:a,channel:e,model:t,scaleType:f,orient:u,labelAngle:m,mark:l,config:c};for(const b of nG){const v=b in kk?kk[b](g):rk(b)?a[b]:void 0,x=v!==void 0,_=v9e(v,b,a,t,e);if(x&&_)o.set(b,v,_);else{const{configValue:T=void 0,configFrom:w=void 0}=rk(b)&&b!=="values"?W5(b,c.style,a.style,d):{},S=T!==void 0;x&&!S?o.set(b,v,_):(w!=="vgAxisConfig"||x9e.has(b)&&S||Ih(T)||ae(T))&&o.set(b,T,!1)}}const p=(i=a.encoding)!==null&&i!==void 0?i:{},y=fj.reduce((b,v)=>{var x;if(!o.hasAxisPart(v))return b;const _=kz((x=p[v])!==null&&x!==void 0?x:{},t),T=v==="labels"?h9e(t,e,_):_;return T!==void 0&&!He(T)&&(b[v]={update:T}),b},{});return He(y)||o.set("encode",y,!!a.encoding||a.labelAngle!==void 0),o}function w9e({encoding:e,size:t}){for(const n of wa){const r=nr(n);ca(t[r])&&Wi(e[n])&&(delete t[r],U(SP(r)))}return t}function T9e(e,t,n){const r=Un(e),i=ze("orient",r,n);if(r.orient=k9e(r.type,t,i),i!==void 0&&i!==r.orient&&U(L3e(r.orient,i)),r.type==="bar"&&r.orient){const s=ze("cornerRadiusEnd",r,n);if(s!==void 0){const l=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:J5e[r.orient];for(const c of l)r[c]=s;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}return ze("opacity",r,n)===void 0&&(r.opacity=S9e(r.type,t)),ze("cursor",r,n)===void 0&&(r.cursor=A9e(r,t,n)),r}function A9e(e,t,n){return t.href||e.href||ze("href",e,n)?"pointer":e.cursor}function S9e(e,t){if(Me([Q2,Q9,e6,t6],e)&&!f6(t))return .7}function E9e(e,t,{graticule:n}){if(n)return!1;const r=B0("filled",e,t),i=e.type;return wt(r,i!==Q2&&i!==K2&&i!==Pp)}function k9e(e,t,n){switch(e){case Q2:case e6:case t6:case GP:case j5e:case P5e:return}const{x:r,y:i,x2:a,y2:o}=t;switch(e){case J2:if(W(r)&&(Ht(r.bin)||W(i)&&i.aggregate&&!r.aggregate))return"vertical";if(W(i)&&(Ht(i.bin)||W(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(o||a){if(n)return n;if(!a)return(W(r)&&r.type===$0&&!nt(r.bin)||B5(r))&&W(i)&&Ht(i.bin)?"horizontal":"vertical";if(!o)return(W(i)&&i.type===$0&&!nt(i.bin)||B5(i))&&W(r)&&Ht(r.bin)?"vertical":"horizontal"}case Pp:if(a&&!(W(r)&&Ht(r.bin))&&o&&!(W(i)&&Ht(i.bin)))return;case X2:if(o)return W(i)&&Ht(i.bin)?"horizontal":"vertical";if(a)return W(r)&&Ht(r.bin)?"vertical":"horizontal";if(e===Pp){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case K2:case Q9:{const s=Wi(r),l=Wi(i);if(n)return n;if(s&&!l)return e!=="tick"?"horizontal":"vertical";if(!s&&l)return e!=="tick"?"vertical":"horizontal";if(s&&l){const c=r,u=i,f=c.type===Lc,d=u.type===Lc;return f&&!d?e!=="tick"?"vertical":"horizontal":!f&&d?e!=="tick"?"horizontal":"vertical":!c.aggregate&&u.aggregate?e!=="tick"?"vertical":"horizontal":c.aggregate&&!u.aggregate&&e!=="tick"?"horizontal":"vertical"}else return}}return"vertical"}const M9e={vgMark:"arc",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Gr(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),fn("x",e,{defaultPos:"mid"})),fn("y",e,{defaultPos:"mid"})),ls(e,"radius")),ls(e,"theta"))},O9e={vgMark:"area",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign({},Gr(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"})),qp("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"})),qp("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"})),M6(e))},C9e={vgMark:"rect",encodeEntry:e=>Object.assign(Object.assign(Object.assign({},Gr(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),ls(e,"x")),ls(e,"y"))},D9e={vgMark:"shape",encodeEntry:e=>Object.assign({},Gr(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[Object.assign({type:"geoshape",projection:e.projectionName()},n&&W(n)&&n.type===mu?{field:V(n,{expr:"datum"})}:{})]}},L9e={vgMark:"image",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign({},Gr(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"})),ls(e,"x")),ls(e,"y")),E6(e,"url"))},F9e={vgMark:"line",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Gr(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),fn("x",e,{defaultPos:"mid"})),fn("y",e,{defaultPos:"mid"})),$t("size",e,{vgChannel:"strokeWidth"})),M6(e))},B9e={vgMark:"trail",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Gr(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),fn("x",e,{defaultPos:"mid"})),fn("y",e,{defaultPos:"mid"})),$t("size",e)),M6(e))};function G6(e,t){const{config:n}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Gr(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),fn("x",e,{defaultPos:"mid"})),fn("y",e,{defaultPos:"mid"})),$t("size",e)),$t("angle",e)),$9e(e,n,t))}function $9e(e,t,n){return n?{shape:{value:n}}:$t("shape",e)}const N9e={vgMark:"symbol",encodeEntry:e=>G6(e)},I9e={vgMark:"symbol",encodeEntry:e=>G6(e,"circle")},Z9e={vgMark:"symbol",encodeEntry:e=>G6(e,"square")},R9e={vgMark:"rect",encodeEntry:e=>Object.assign(Object.assign(Object.assign({},Gr(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),ls(e,"x")),ls(e,"y"))},P9e={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:Object.assign(Object.assign(Object.assign(Object.assign({},Gr(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),qp("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"})),qp("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"})),$t("size",e,{vgChannel:"strokeWidth"}))}},j9e={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Gr(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"})),fn("x",e,{defaultPos:"mid"})),fn("y",e,{defaultPos:"mid"})),E6(e)),$t("size",e,{vgChannel:"fontSize"})),$t("angle",e)),Tk("align",z9e(e.markDef,n,t))),Tk("baseline",G9e(e.markDef,n,t))),fn("radius",e,{defaultPos:null})),fn("theta",e,{defaultPos:null}))}};function z9e(e,t,n){if(ze("align",e,n)===void 0)return"center"}function G9e(e,t,n){if(ze("baseline",e,n)===void 0)return"middle"}const U9e={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"width":"height",a=r==="horizontal"?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Gr(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),fn("x",e,{defaultPos:"mid",vgChannel:"xc"})),fn("y",e,{defaultPos:"mid",vgChannel:"yc"})),$t("size",e,{defaultValue:W9e(e),vgChannel:i})),{[a]:it(ze("thickness",n,t))})}};function W9e(e){var t;const{config:n,markDef:r}=e,{orient:i}=r,a=i==="horizontal"?"width":"height",o=e.getScaleComponent(i==="horizontal"?"x":"y"),s=(t=ze("size",r,n,{vgChannel:a}))!==null&&t!==void 0?t:n.tick.bandSize;if(s!==void 0)return s;{const l=o?o.get("range"):void 0;return l&&Ss(l)&&Ye(l.step)?l.step*3/4:Hp(n.view,a)*3/4}}const O1={arc:M9e,area:O9e,bar:C9e,circle:I9e,geoshape:D9e,image:L9e,line:F9e,point:N9e,rect:R9e,rule:P9e,square:Z9e,text:j9e,tick:U9e,trail:B9e};function H9e(e){if(Me([K2,X2,z5e],e.mark)){const t=gj(e.mark,e.encoding);if(t.length>0)return Y9e(e,t)}else if(e.mark===J2){const t=M5.some(n=>ze(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return q9e(e)}return U6(e)}const Gk="faceted_path_";function Y9e(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:Gk+e.requestDataName(et.Main),data:e.requestDataName(et.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:U6(e,{fromPrefix:Gk})}]}const Uk="stack_group_";function q9e(e){var t;const[n]=U6(e,{fromPrefix:Uk}),r=e.scaleName(e.stack.fieldChannel),i=(u={})=>e.vgField(e.stack.fieldChannel,u),a=(u,f)=>{const d=[i({prefix:"min",suffix:"start",expr:f}),i({prefix:"max",suffix:"start",expr:f}),i({prefix:"min",suffix:"end",expr:f}),i({prefix:"max",suffix:"end",expr:f})];return`${u}(${d.map(h=>`scale('${r}',${h})`).join(",")})`};let o,s;e.stack.fieldChannel==="x"?(o=Object.assign(Object.assign({},Oc(n.encode.update,["y","yc","y2","height",...M5])),{x:{signal:a("min","datum")},x2:{signal:a("max","datum")},clip:{value:!0}}),s={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},n.encode.update=Object.assign(Object.assign({},qn(n.encode.update,["y","yc","y2"])),{height:{field:{group:"height"}}})):(o=Object.assign(Object.assign({},Oc(n.encode.update,["x","xc","x2","width"])),{y:{signal:a("min","datum")},y2:{signal:a("max","datum")},clip:{value:!0}}),s={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},n.encode.update=Object.assign(Object.assign({},qn(n.encode.update,["x","xc","x2"])),{width:{field:{group:"width"}}}));for(const u of M5){const f=B0(u,e.markDef,e.config);n.encode.update[u]?(o[u]=n.encode.update[u],delete n.encode.update[u]):f&&(o[u]=it(f)),f&&(n.encode.update[u]={value:0})}const l=[];if(((t=e.stack.groupbyChannels)===null||t===void 0?void 0:t.length)>0)for(const u of e.stack.groupbyChannels){const f=e.fieldDef(u),d=V(f);d&&l.push(d),(f!=null&&f.bin||f!=null&&f.timeUnit)&&l.push(V(f,{binSuffix:"end"}))}return o=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((u,f)=>{if(n.encode.update[f])return Object.assign(Object.assign({},u),{[f]:n.encode.update[f]});{const d=B0(f,e.markDef,e.config);return d!==void 0?Object.assign(Object.assign({},u),{[f]:it(d)}):u}},o),o.stroke&&(o.strokeForeground={value:!0},o.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(et.Main),name:Uk+e.requestDataName(et.Main),groupby:l,aggregate:{fields:[i({suffix:"start"}),i({suffix:"start"}),i({suffix:"end"}),i({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:o},marks:[{type:"group",encode:{update:s},marks:[n]}]}]}function V9e(e){var t;const{encoding:n,stack:r,mark:i,markDef:a,config:o}=e,s=n.order;if(!(!j(s)&&wi(s)&&E5(s.value)||!s&&E5(ze("order",a,o)))){if((j(s)||W(s))&&!r)return yP(s,{expr:"datum"});if(Es(i)){const l=a.orient==="horizontal"?"y":"x",c=n[l];if(W(c)){const u=c.sort;if(j(u))return{field:V(c,{prefix:l,suffix:"sort_index",expr:"datum"})};if(Xi(u))return{field:V({aggregate:f6(e.encoding)?u.op:void 0,field:u.field},{expr:"datum"})};if(QP(u)){const f=e.fieldDef(u.encoding);return{field:V(f,{expr:"datum"}),order:u.order}}else return u===null?void 0:{field:V(c,{binSuffix:!((t=e.stack)===null||t===void 0)&&t.impute?"mid":void 0,expr:"datum"})}}return}}}function U6(e,t={fromPrefix:""}){const{mark:n,markDef:r,encoding:i,config:a}=e,o=wt(r.clip,X9e(e),J9e(e)),s=pP(r),l=i.key,c=V9e(e),u=K9e(e),f=ze("aria",r,a),d=O1[n].postEncodingTransform?O1[n].postEncodingTransform(e):null;return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName("marks"),type:O1[n].vgMark},o?{clip:!0}:{}),s?{style:s}:{}),l?{key:l.field}:{}),c?{sort:c}:{}),u||{}),f===!1?{aria:f}:{}),{from:{data:t.fromPrefix+e.requestDataName(et.Main)},encode:{update:O1[n].encodeEntry(e)}}),d?{transform:d}:{})]}function X9e(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t!=null&&t.get("selectionExtent")||n!=null&&n.get("selectionExtent")?!0:void 0}function J9e(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function K9e(e){if(!e.component.selection)return null;const t=G(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=G(r.component.selection).length,r=r.parent;return n?{interactive:t>0||!!e.encoding.tooltip}:null}class rG extends Kz{constructor(t,n,r,i={},a){var o;super(t,"unit",n,r,a,void 0,ok(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[];const s=oa(t.mark)?Object.assign({},t.mark):{type:t.mark},l=s.type;s.filled===void 0&&(s.filled=E9e(s,a,{graticule:t.data&&A6(t.data)}));const c=this.encoding=M7e(t.encoding||{},l,s.filled,a);this.markDef=T9e(s,c,a),this.size=w9e({encoding:c,size:ok(t)?Object.assign(Object.assign(Object.assign({},i),t.width?{width:t.width}:{}),t.height?{height:t.height}:{}):i}),this.stack=Ij(l,c),this.specifiedScales=this.initScales(l,c),this.specifiedAxes=this.initAxes(c),this.specifiedLegends=this.initLegends(c),this.specifiedProjection=t.projection,this.selection=((o=t.params)!==null&&o!==void 0?o:[]).filter(u=>v6(u))}get hasProjection(){const{encoding:t}=this,n=this.mark===UP,r=t&&Ave.some(i=>ge(t[i]));return n||r}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return Y2.reduce((r,i)=>{var a;const o=Mt(n[i]);return o&&(r[i]=this.initScale((a=o.scale)!==null&&a!==void 0?a:{})),r},{})}initScale(t){const{domain:n,range:r}=t,i=Un(t);return j(n)&&(i.domain=n.map(fr)),j(r)&&(i.range=r.map(fr)),i}initAxes(t){return wa.reduce((n,r)=>{const i=t[r];if(ge(i)||r===dt&&ge(t.x2)||r===zt&&ge(t.y2)){const a=ge(i)?i.axis:void 0;n[r]=a&&this.initAxis(Object.assign({},a))}return n},{})}initAxis(t){const n=G(t),r={};for(const i of n){const a=t[i];r[i]=Ih(a)?mP(a):fr(a)}return r}initLegends(t){return Bve.reduce((n,r)=>{const i=Mt(t[r]);if(i&&Nve(r)){const a=i.legend;n[r]=a&&Un(a)}return n},{})}parseData(){this.component.data=Ay(this)}parseLayoutSize(){a9e(this)}parseSelections(){this.component.selection=G4e(this,this.selection)}parseMarkGroup(){this.component.mark=H9e(this)}parseAxesAndHeaders(){this.component.axes=m9e(this)}assembleSelectionTopLevelSignals(t){return u4e(this,t)}assembleSignals(){return[...bz(this),...l4e(this,[])]}assembleSelectionData(t){return f4e(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return L6(this)}assembleMarks(){var t;let n=(t=this.component.mark)!==null&&t!==void 0?t:[];return(!this.parent||!vu(this.parent))&&(n=Jj(this,n)),n.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};if(t!==void 0)return t;if(this.encoding.x||this.encoding.y)return"cell"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return c0(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return sa(n)}typedFieldDef(t){const n=this.fieldDef(t);return Rr(n)?n:null}}class W6 extends P6{constructor(t,n,r,i,a){super(t,"layer",n,r,a,t.resolve,t.view);const o=Object.assign(Object.assign(Object.assign({},i),t.width?{width:t.width}:{}),t.height?{height:t.height}:{});this.children=t.layer.map((s,l)=>{if(cy(s))return new W6(s,this,this.getName(`layer_${l}`),o,a);if(uo(s))return new rG(s,this,this.getName(`layer_${l}`),o,a);throw new Error(I9(s))})}parseData(){this.component.data=Ay(this);for(const t of this.children)t.parseData()}parseLayoutSize(){r9e(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of G(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){g9e(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),bz(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),L6(this))}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleGroupStyle(){const t=new Set;for(const r of this.children)for(const i of Q(r.assembleGroupStyle()))t.add(i);const n=Array.from(t);return n.length>1?n:n.length===1?n[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return d4e(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),$z(this))}}function H6(e,t,n,r,i){if(ty(e))return new Rf(e,t,n,i);if(cy(e))return new W6(e,t,n,r,i);if(uo(e))return new rG(e,t,n,r,i);if(Q7e(e))return new u9e(e,t,n,i);throw new Error(I9(e))}var Q9e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function e6e(e,t={}){t.logger&&r5e(t.logger),t.fieldTitle&&lj(t.fieldTitle);try{const n=Nj(tu(t.config,e.config)),r=Hj(e,n),i=H6(r,null,"",void 0,n);return i.parse(),d_e(i.component.data,i),{spec:n6e(i,t6e(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&i5e(),t.fieldTitle&&b7e()}}function t6e(e,t,n,r){const i=r.component.layoutSize.get("width"),a=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):J(t)&&(t={type:t}),i&&a&&r4e(t.type)){if(i==="step"&&a==="step")U(UE()),t.type="pad";else if(i==="step"||a==="step"){const o=i==="step"?"width":"height";U(UE(H2(o)));const s=o==="width"?"height":"width";t.type=i4e(s)}}return Object.assign(Object.assign(Object.assign({},G(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t}),bk(n,!1)),bk(e,!0))}function n6e(e,t,n={},r){const i=e.config?m8e(e.config):void 0,a=[].concat(e.assembleSelectionData([]),Q_e(e.component.data,n)),o=e.assembleProjections(),s=e.assembleTitle(),l=e.assembleGroupStyle(),c=e.assembleGroupEncodeEntry(!0);let u=e.assembleLayoutSignals();u=u.filter(h=>(h.name==="width"||h.name==="height")&&h.value!==void 0?(t[h.name]=+h.value,!1):!0);const{params:f}=t,d=Q9e(t,["params"]);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({$schema:"https://vega.github.io/schema/vega/v5.json"},e.description?{description:e.description}:{}),d),s?{title:s}:{}),l?{style:l}:{}),c?{encode:{update:c}}:{}),{data:a}),o.length>0?{projections:o}:{}),e.assembleGroup([...u,...e.assembleSelectionTopLevelSignals([]),...Lj(f)])),i?{config:i}:{}),r?{usermeta:r}:{})}const r6e=hve.version,i6e=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:Cc,accessPathWithDatum:k9,compile:e6e,contains:Me,deepEqual:Gi,deleteNestedProperty:Ip,duplicate:ve,entries:is,every:A9,fieldIntersection:E9,flatAccessWithDatum:VR,getFirstDefined:wt,hasIntersection:S9,hash:De,internalField:KR,isBoolean:wd,isEmpty:He,isEqual:bve,isInternalField:QR,isNullOrFalse:E5,isNumeric:P2,keys:G,logicalExpr:If,mergeDeep:YR,never:HR,normalize:Hj,normalizeAngle:Td,omit:qn,pick:Oc,prefixGenerator:k5,removePathFromField:M9,replaceAll:L0,replacePathInField:Ir,resetIdCounter:xve,setEqual:qR,some:D0,stringify:tt,titleCase:Eh,unique:Ui,uniqueId:JR,vals:yn,varName:lt,version:r6e},Symbol.toStringTag,{value:"Module"}));function iG(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}var a6e="vega-themes",o6e="2.10.0",s6e="Themes for stylized Vega and Vega-Lite visualizations.",l6e=["vega","vega-lite","themes","style"],c6e="BSD-3-Clause",u6e={name:"UW Interactive Data Lab",url:"https://idl.cs.washington.edu"},f6e=[{name:"Emily Gu",url:"https://github.com/emilygu"},{name:"Arvind Satyanarayan",url:"http://arvindsatya.com"},{name:"Jeffrey Heer",url:"https://idl.cs.washington.edu"},{name:"Dominik Moritz",url:"https://www.domoritz.de"}],d6e="build/vega-themes.js",Y6="build/vega-themes.module.js",h6e="build/vega-themes.min.js",m6e="build/vega-themes.min.js",p6e="build/vega-themes.module.d.ts",g6e={type:"git",url:"https://github.com/vega/vega-themes.git"},y6e=["src","build"],b6e={prebuild:"yarn clean",build:"rollup -c",clean:"rimraf build && rimraf examples/build","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples",preversion:"yarn lint",serve:"browser-sync start -s -f build examples --serveStatic examples",start:"yarn build && concurrently --kill-others -n Server,Rollup 'yarn serve' 'rollup -c -w'",prepare:"beemo create-config",eslintbase:"beemo eslint .",format:"yarn eslintbase --fix",lint:"yarn eslintbase",release:"auto shipit"},v6e={"@auto-it/conventional-commits":"^10.32.2","@auto-it/first-time-contributor":"^10.32.2","@rollup/plugin-json":"^4.1.0","@rollup/plugin-node-resolve":"^13.0.6","rollup-plugin-ts":"^1.4.7",auto:"^10.32.2","browser-sync":"^2.27.7",concurrently:"^6.4.0","gh-pages":"^3.2.3",rollup:"^2.60.0","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-terser":"^7.0.2",typescript:"^4.4.4",vega:"^5.19.1","vega-lite":"^5.0.0","vega-lite-dev-config":"^0.20.0"},x6e={vega:"*","vega-lite":"*"},_6e={name:a6e,version:o6e,description:s6e,keywords:l6e,license:c6e,author:u6e,contributors:f6e,main:d6e,module:Y6,unpkg:h6e,jsdelivr:m6e,types:p6e,repository:g6e,files:y6e,scripts:b6e,devDependencies:v6e,peerDependencies:x6e};const Ml="#fff",w6e="#888",T6e={background:"#333",title:{color:Ml,subtitleColor:Ml},style:{"guide-label":{fill:Ml},"guide-title":{fill:Ml}},axis:{domainColor:Ml,gridColor:w6e,tickColor:Ml}},Fs="#4572a7",A6e={background:"#fff",arc:{fill:Fs},area:{fill:Fs},line:{stroke:Fs,strokeWidth:2},path:{stroke:Fs},rect:{fill:Fs},shape:{stroke:Fs},symbol:{fill:Fs,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},Bs="#30a2da",lv="#cbcbcb",S6e="#999",E6e="#333",Wk="#f0f0f0",Hk="#333",k6e={arc:{fill:Bs},area:{fill:Bs},axis:{domainColor:lv,grid:!0,gridColor:lv,gridWidth:1,labelColor:S6e,labelFontSize:10,titleColor:E6e,tickColor:lv,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:Wk,group:{fill:Wk},legend:{labelColor:Hk,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:Hk,titleFontSize:14,titlePadding:10},line:{stroke:Bs,strokeWidth:2},path:{stroke:Bs,strokeWidth:.5},rect:{fill:Bs},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:Bs},bar:{binSpacing:2,fill:Bs,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},$s="#000",M6e={group:{fill:"#e5e5e5"},arc:{fill:$s},area:{fill:$s},line:{stroke:$s},path:{stroke:$s},rect:{fill:$s},shape:{stroke:$s},symbol:{fill:$s,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},O6e=22,C6e="normal",Yk="Benton Gothic, sans-serif",qk=11.5,D6e="normal",Ns="#82c6df",cv="Benton Gothic Bold, sans-serif",Vk="normal",Xk=13,Yu={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},L6e={background:"#ffffff",title:{anchor:"start",color:"#000000",font:cv,fontSize:O6e,fontWeight:C6e},arc:{fill:Ns},area:{fill:Ns},line:{stroke:Ns,strokeWidth:2},path:{stroke:Ns},rect:{fill:Ns},shape:{stroke:Ns},symbol:{fill:Ns,size:30},axis:{labelFont:Yk,labelFontSize:qk,labelFontWeight:D6e,titleFont:cv,titleFontSize:Xk,titleFontWeight:Vk},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:Yk,labelFontSize:qk,symbolType:"square",titleFont:cv,titleFontSize:Xk,titleFontWeight:Vk},range:{category:Yu["category-6"],diverging:Yu["fireandice-6"],heatmap:Yu["fire-7"],ordinal:Yu["fire-7"],ramp:Yu["fire-7"]}},Is="#ab5787",C1="#979797",F6e={background:"#f9f9f9",arc:{fill:Is},area:{fill:Is},line:{stroke:Is},path:{stroke:Is},rect:{fill:Is},shape:{stroke:Is},symbol:{fill:Is,size:30},axis:{domainColor:C1,domainWidth:.5,gridWidth:.2,labelColor:C1,tickColor:C1,tickWidth:.2,titleColor:C1},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},Zs="#3e5c69",B6e={background:"#fff",arc:{fill:Zs},area:{fill:Zs},line:{stroke:Zs},path:{stroke:Zs},rect:{fill:Zs},shape:{stroke:Zs},symbol:{fill:Zs},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Sr="#1696d2",Jk="#000000",$6e="#FFFFFF",D1="Lato",uv="Lato",N6e="Lato",I6e="#DEDDDD",Z6e=18,qu={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},R6e={background:$6e,title:{anchor:"start",fontSize:Z6e,font:D1},axisX:{domain:!0,domainColor:Jk,domainWidth:1,grid:!1,labelFontSize:12,labelFont:uv,labelAngle:0,tickColor:Jk,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:D1},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:I6e,gridWidth:1,labelFontSize:12,labelFont:uv,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:D1,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:uv,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:D1,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:qu["six-groups-cat-1"],diverging:qu["diverging-colors"],heatmap:qu["diverging-colors"],ordinal:qu["six-groups-seq"],ramp:qu["shades-blue"]},area:{fill:Sr},rect:{fill:Sr},line:{color:Sr,stroke:Sr,strokeWidth:5},trail:{color:Sr,stroke:Sr,strokeWidth:0,size:1},path:{stroke:Sr,strokeWidth:.5},point:{filled:!0},text:{font:N6e,color:Sr,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:Sr,stroke:null}},arc:{fill:Sr},shape:{stroke:Sr},symbol:{fill:Sr,size:30}},Rs="#3366CC",Kk="#ccc",L1="Arial, sans-serif",P6e={arc:{fill:Rs},area:{fill:Rs},path:{stroke:Rs},rect:{fill:Rs},shape:{stroke:Rs},symbol:{stroke:Rs},circle:{fill:Rs},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:L1,fontSize:12},"guide-title":{font:L1,fontSize:12},"group-title":{font:L1,fontSize:12}},title:{font:L1,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:Kk,tickColor:Kk,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},q6=e=>e*(1/3+1),Qk=q6(9),eM=q6(10),tM=q6(12),Vu="Segoe UI",nM="wf_standard-font, helvetica, arial, sans-serif",rM="#252423",Xu="#605E5C",iM="transparent",j6e="#C8C6C4",Hr="#118DFF",z6e="#12239E",G6e="#E66C37",U6e="#6B007B",W6e="#E044A7",H6e="#744EC2",Y6e="#D9B300",q6e="#D64550",aG=Hr,oG="#DEEFFF",aM=[oG,aG],V6e=[oG,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",aG],X6e={view:{stroke:iM},background:iM,font:Vu,header:{titleFont:nM,titleFontSize:tM,titleColor:rM,labelFont:Vu,labelFontSize:eM,labelColor:Xu},axis:{ticks:!1,grid:!1,domain:!1,labelColor:Xu,labelFontSize:Qk,titleFont:nM,titleColor:rM,titleFontSize:tM,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:j6e,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:Hr},line:{stroke:Hr,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:Vu,fontSize:Qk,fill:Xu},arc:{fill:Hr},area:{fill:Hr,line:!0,opacity:.6},path:{stroke:Hr},rect:{fill:Hr},point:{fill:Hr,filled:!0,size:75},shape:{stroke:Hr},symbol:{fill:Hr,strokeWidth:1.5,size:50},legend:{titleFont:Vu,titleFontWeight:"bold",titleColor:Xu,labelFont:Vu,labelFontSize:eM,labelColor:Xu,symbolType:"circle",symbolSize:75},range:{category:[Hr,z6e,G6e,U6e,W6e,H6e,Y6e,q6e],diverging:aM,heatmap:aM,ordinal:V6e}},J6e=_6e.version,K6e=Object.freeze(Object.defineProperty({__proto__:null,dark:T6e,excel:A6e,fivethirtyeight:k6e,ggplot2:M6e,googlecharts:P6e,latimes:L6e,powerbi:X6e,quartz:F6e,urbaninstitute:R6e,version:J6e,vox:B6e},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Q6e(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function ewe(e,t,n){if(j(e))return`[${e.map(r=>t(J(r)?r:oM(r,n))).join(", ")}]`;if(ee(e)){let r="";const i=e,{title:a,image:o}=i,s=Q6e(i,["title","image"]);a&&(r+=`<h2>${t(a)}</h2>`),o&&(r+=`<img src="${t(o)}">`);const l=Object.keys(s);if(l.length>0){r+="<table>";for(const c of l){let u=s[c];u!==void 0&&(ee(u)&&(u=oM(u,n)),r+=`<tr><td class="key">${t(c)}:</td><td class="value">${t(u)}</td></tr>`)}r+="</table>"}return r||"{}"}return t(e)}function twe(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function oM(e,t){return JSON.stringify(e,twe(t))}var nwe=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element img {
  max-width: 200px;
  max-height: 200px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const sG="vg-tooltip-element",rwe={offsetX:10,offsetY:10,id:sG,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:iwe,maxDepth:2,formatTooltip:ewe};function iwe(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function awe(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return nwe.toString().replace(sG,e)}function owe(e,t,n,r){let i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);let a=e.clientY+r;return a+t.height>window.innerHeight&&(a=+e.clientY-r-t.height),{x:i,y:a}}class swe{constructor(t){this.options=Object.assign(Object.assign({},rwe),t);const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=awe(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}tooltipHandler(t,n,r,i){var a;if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),((a=document.fullscreenElement)!==null&&a!==void 0?a:document.body).appendChild(this.el)),i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(i,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:o,y:s}=owe(n,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${s}px; left: ${o}px`)}}function lwe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sM(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(c){n(c);return}s.done?t(l):Promise.resolve(l).then(r,i)}function Kp(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(l){sM(a,r,i,o,s,"next",l)}function s(l){sM(a,r,i,o,s,"throw",l)}o(void 0)})}}var lG=Object.prototype,Qs=lG.hasOwnProperty,Pi,V6=typeof Symbol=="function"?Symbol:{},Sy=V6.iterator||"@@iterator",cwe=V6.asyncIterator||"@@asyncIterator",Qp=V6.toStringTag||"@@toStringTag";function cG(e,t,n,r){var i=t&&t.prototype instanceof e7?t:e7,a=Object.create(i.prototype),o=new t7(r||[]);return a._invoke=mwe(e,n,o),a}function X6(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}var lM="suspendedStart",uwe="suspendedYield",cM="executing",F1="completed",ni={};function e7(){}function Ey(){}function zc(){}var J6={};J6[Sy]=function(){return this};var fv=Object.getPrototypeOf,B1=fv&&fv(fv(K6([])));B1&&B1!==lG&&Qs.call(B1,Sy)&&(J6=B1);var xu=zc.prototype=e7.prototype=Object.create(J6);Ey.prototype=xu.constructor=zc;zc.constructor=Ey;zc[Qp]=Ey.displayName="GeneratorFunction";function uG(e){["next","throw","return"].forEach(function(t){e[t]=function(n){return this._invoke(t,n)}})}function fG(e){var t=typeof e=="function"&&e.constructor;return t?t===Ey||(t.displayName||t.name)==="GeneratorFunction":!1}function fwe(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,zc):(e.__proto__=zc,Qp in e||(e[Qp]="GeneratorFunction")),e.prototype=Object.create(xu),e}function dwe(e){return{__await:e}}function ky(e,t){function n(a,o,s,l){var c=X6(e[a],e,o);if(c.type==="throw")l(c.arg);else{var u=c.arg,f=u.value;return f&&typeof f=="object"&&Qs.call(f,"__await")?t.resolve(f.__await).then(function(d){n("next",d,s,l)},function(d){n("throw",d,s,l)}):t.resolve(f).then(function(d){u.value=d,s(u)},function(d){return n("throw",d,s,l)})}}var r;function i(a,o){function s(){return new t(function(l,c){n(a,o,l,c)})}return r=r?r.then(s,s):s()}this._invoke=i}uG(ky.prototype);ky.prototype[cwe]=function(){return this};function hwe(e,t,n,r,i){i===void 0&&(i=Promise);var a=new ky(cG(e,t,n,r),i);return fG(t)?a:a.next().then(function(o){return o.done?o.value:a.next()})}function mwe(e,t,n){var r=lM;return function(a,o){if(r===cM)throw new Error("Generator is already running");if(r===F1){if(a==="throw")throw o;return hG()}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var l=dG(s,n);if(l){if(l===ni)continue;return l}}if(n.method==="next")n.sent=n._sent=n.arg;else if(n.method==="throw"){if(r===lM)throw r=F1,n.arg;n.dispatchException(n.arg)}else n.method==="return"&&n.abrupt("return",n.arg);r=cM;var c=X6(e,t,n);if(c.type==="normal"){if(r=n.done?F1:uwe,c.arg===ni)continue;return{value:c.arg,done:n.done}}else c.type==="throw"&&(r=F1,n.method="throw",n.arg=c.arg)}}}function dG(e,t){var n=e.iterator[t.method];if(n===Pi){if(t.delegate=null,t.method==="throw"){if(e.iterator.return&&(t.method="return",t.arg=Pi,dG(e,t),t.method==="throw"))return ni;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return ni}var r=X6(n,e.iterator,t.arg);if(r.type==="throw")return t.method="throw",t.arg=r.arg,t.delegate=null,ni;var i=r.arg;if(!i)return t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,ni;if(i.done)t[e.resultName]=i.value,t.next=e.nextLoc,t.method!=="return"&&(t.method="next",t.arg=Pi);else return i;return t.delegate=null,ni}uG(xu);xu[Qp]="Generator";xu[Sy]=function(){return this};xu.toString=function(){return"[object Generator]"};function pwe(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function dv(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function t7(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pwe,this),this.reset(!0)}function gwe(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function r(){for(;t.length;){var i=t.pop();if(i in e)return r.value=i,r.done=!1,r}return r.done=!0,r}}function K6(e){if(e){var t=e[Sy];if(t)return t.call(e);if(typeof e.next=="function")return e;if(!isNaN(e.length)){var n=-1,r=function i(){for(;++n<e.length;)if(Qs.call(e,n))return i.value=e[n],i.done=!1,i;return i.value=Pi,i.done=!0,i};return r.next=r}}return{next:hG}}function hG(){return{value:Pi,done:!0}}t7.prototype={constructor:t7,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=Pi,this.done=!1,this.delegate=null,this.method="next",this.arg=Pi,this.tryEntries.forEach(dv),!t)for(var n in this)n.charAt(0)==="t"&&Qs.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=Pi)},stop:function(){this.done=!0;var t=this.tryEntries[0],n=t.completion;if(n.type==="throw")throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(c,u){return o.type="throw",o.arg=t,n.next=c,u&&(n.method="next",n.arg=Pi),!!u}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if(a.tryLoc==="root")return r("end");if(a.tryLoc<=this.prev){var s=Qs.call(a,"catchLoc"),l=Qs.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else if(l){if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&Qs.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&(t==="break"||t==="continue")&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=n,a?(this.method="next",this.next=a.finallyLoc,ni):this.complete(o)},complete:function(t,n){if(t.type==="throw")throw t.arg;return t.type==="break"||t.type==="continue"?this.next=t.arg:t.type==="return"?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):t.type==="normal"&&n&&(this.next=n),ni},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),dv(r),ni}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var i=r.completion;if(i.type==="throw"){var a=i.arg;dv(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:K6(t),resultName:n,nextLoc:r},this.method==="next"&&(this.arg=Pi),ni}};var Hi={wrap:cG,isGeneratorFunction:fG,AsyncIterator:ky,mark:fwe,awrap:dwe,async:hwe,keys:gwe,values:K6},ywe=Re;Re.Node=j0;Re.create=Re;function Re(e){var t=this;if(t instanceof Re||(t=new Re),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}Re.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t};Re.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};Re.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};Re.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)vwe(this,arguments[e]);return this.length};Re.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)xwe(this,arguments[e]);return this.length};Re.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};Re.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};Re.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;n!==null;r++)e.call(t,n.value,r,this),n=n.next};Re.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;n!==null;r--)e.call(t,n.value,r,this),n=n.prev};Re.prototype.get=function(e){for(var t=0,n=this.head;n!==null&&t<e;t++)n=n.next;if(t===e&&n!==null)return n.value};Re.prototype.getReverse=function(e){for(var t=0,n=this.tail;n!==null&&t<e;t++)n=n.prev;if(t===e&&n!==null)return n.value};Re.prototype.map=function(e,t){t=t||this;for(var n=new Re,r=this.head;r!==null;)n.push(e.call(t,r.value,this)),r=r.next;return n};Re.prototype.mapReverse=function(e,t){t=t||this;for(var n=new Re,r=this.tail;r!==null;)n.push(e.call(t,r.value,this)),r=r.prev;return n};Re.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)n=e(n,r.value,i),r=r.next;return n};Re.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)n=e(n,r.value,i),r=r.prev;return n};Re.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;n!==null;t++)e[t]=n.value,n=n.next;return e};Re.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;n!==null;t++)e[t]=n.value,n=n.prev;return e};Re.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new Re;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(;i!==null&&r<t;r++,i=i.next)n.push(i.value);return n};Re.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new Re;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,i=this.tail;i!==null&&r>t;r--)i=i.prev;for(;i!==null&&r>e;r--,i=i.prev)n.push(i.value);return n};Re.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,r=this.head;r!==null&&n<e;n++)r=r.next;for(var i=[],n=0;r&&n<t;n++)i.push(r.value),r=this.removeNode(r);r===null&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev);for(var n=0;n<(arguments.length<=2?0:arguments.length-2);n++)r=bwe(this,r,n+2<2||arguments.length<=n+2?void 0:arguments[n+2]);return i};Re.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};function bwe(e,t,n){var r=t===e.head?new j0(n,null,t,e):new j0(n,t,t.next,e);return r.next===null&&(e.tail=r),r.prev===null&&(e.head=r),e.length++,r}function vwe(e,t){e.tail=new j0(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function xwe(e,t){e.head=new j0(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function j0(e,t,n,r){if(!(this instanceof j0))return new j0(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{Re.prototype[Symbol.iterator]=Hi.mark(function e(){var t;return Hi.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t=this.head;case 1:if(!t){r.next=7;break}return r.next=4,t.value;case 4:t=t.next,r.next=1;break;case 7:case"end":return r.stop()}},e,this)})}catch{}var _we=ywe,Vs=Symbol("max"),Na=Symbol("length"),Ol=Symbol("lengthCalculator"),Pf=Symbol("allowStale"),e0=Symbol("maxAge"),Fa=Symbol("dispose"),uM=Symbol("noDisposeOnSet"),Bt=Symbol("lruList"),Yr=Symbol("cache"),mG=Symbol("updateAgeOnGet"),hv=()=>1;class wwe{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[Vs]=t.max||1/0;var n=t.length||hv;if(this[Ol]=typeof n!="function"?hv:n,this[Pf]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[e0]=t.maxAge||0,this[Fa]=t.dispose,this[uM]=t.noDisposeOnSet||!1,this[mG]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Vs]=t||1/0,Ju(this)}get max(){return this[Vs]}set allowStale(t){this[Pf]=!!t}get allowStale(){return this[Pf]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[e0]=t,Ju(this)}get maxAge(){return this[e0]}set lengthCalculator(t){typeof t!="function"&&(t=hv),t!==this[Ol]&&(this[Ol]=t,this[Na]=0,this[Bt].forEach(n=>{n.length=this[Ol](n.value,n.key),this[Na]+=n.length})),Ju(this)}get lengthCalculator(){return this[Ol]}get length(){return this[Na]}get itemCount(){return this[Bt].length}rforEach(t,n){n=n||this;for(var r=this[Bt].tail;r!==null;){var i=r.prev;fM(this,t,r,n),r=i}}forEach(t,n){n=n||this;for(var r=this[Bt].head;r!==null;){var i=r.next;fM(this,t,r,n),r=i}}keys(){return this[Bt].toArray().map(t=>t.key)}values(){return this[Bt].toArray().map(t=>t.value)}reset(){this[Fa]&&this[Bt]&&this[Bt].length&&this[Bt].forEach(t=>this[Fa](t.key,t.value)),this[Yr]=new Map,this[Bt]=new _we,this[Na]=0}dump(){return this[Bt].map(t=>eg(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[Bt]}set(t,n,r){if(r=r||this[e0],r&&typeof r!="number")throw new TypeError("maxAge must be a number");var i=r?Date.now():0,a=this[Ol](n,t);if(this[Yr].has(t)){if(a>this[Vs])return tc(this,this[Yr].get(t)),!1;var o=this[Yr].get(t),s=o.value;return this[Fa]&&(this[uM]||this[Fa](t,s.value)),s.now=i,s.maxAge=r,s.value=n,this[Na]+=a-s.length,s.length=a,this.get(t),Ju(this),!0}var l=new Twe(t,n,a,i,r);return l.length>this[Vs]?(this[Fa]&&this[Fa](t,n),!1):(this[Na]+=l.length,this[Bt].unshift(l),this[Yr].set(t,this[Bt].head),Ju(this),!0)}has(t){if(!this[Yr].has(t))return!1;var n=this[Yr].get(t).value;return!eg(this,n)}get(t){return mv(this,t,!0)}peek(t){return mv(this,t,!1)}pop(){var t=this[Bt].tail;return t?(tc(this,t),t.value):null}del(t){tc(this,this[Yr].get(t))}load(t){this.reset();for(var n=Date.now(),r=t.length-1;r>=0;r--){var i=t[r],a=i.e||0;if(a===0)this.set(i.k,i.v);else{var o=a-n;o>0&&this.set(i.k,i.v,o)}}}prune(){this[Yr].forEach((t,n)=>mv(this,n,!1))}}var mv=(e,t,n)=>{var r=e[Yr].get(t);if(r){var i=r.value;if(eg(e,i)){if(tc(e,r),!e[Pf])return}else n&&(e[mG]&&(r.value.now=Date.now()),e[Bt].unshiftNode(r));return i.value}},eg=(e,t)=>{if(!t||!t.maxAge&&!e[e0])return!1;var n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[e0]&&n>e[e0]},Ju=e=>{if(e[Na]>e[Vs])for(var t=e[Bt].tail;e[Na]>e[Vs]&&t!==null;){var n=t.prev;tc(e,t),t=n}},tc=(e,t)=>{if(t){var n=t.value;e[Fa]&&e[Fa](n.key,n.value),e[Na]-=n.length,e[Yr].delete(n.key),e[Bt].removeNode(t)}};class Twe{constructor(t,n,r,i,a){this.key=t,this.value=n,this.length=r,this.now=i,this.maxAge=a||0}}var fM=(e,t,n,r)=>{var i=n.value;eg(e,i)&&(tc(e,n),e[Pf]||(i=void 0)),i&&t.call(r,i.value,i.key,e)},Awe=wwe,Swe=["includePrerelease","loose","rtl"],Ewe=e=>e?typeof e!="object"?{loose:!0}:Swe.filter(t=>e[t]).reduce((t,n)=>(t[n]=!0,t),{}):{},Q6=Ewe,ri={exports:{}},kwe="2.0.0",Mwe=256,Owe=Number.MAX_SAFE_INTEGER||9007199254740991,Cwe=16,ew={SEMVER_SPEC_VERSION:kwe,MAX_LENGTH:Mwe,MAX_SAFE_INTEGER:Owe,MAX_SAFE_COMPONENT_LENGTH:Cwe},Dwe=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.error("SEMVER",...t)}:()=>{},My=Dwe;(function(e,t){var n=ew.MAX_SAFE_COMPONENT_LENGTH,r=My;t=e.exports={};var i=t.re=[],a=t.src=[],o=t.t={},s=0,l=(c,u,f)=>{var d=s++;r(c,d,u),o[c]=d,a[d]=u,i[d]=new RegExp(u,f?"g":void 0)};l("NUMERICIDENTIFIER","0|[1-9]\\d*"),l("NUMERICIDENTIFIERLOOSE","[0-9]+"),l("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),l("MAINVERSION","(".concat(a[o.NUMERICIDENTIFIER],")\\.")+"(".concat(a[o.NUMERICIDENTIFIER],")\\.")+"(".concat(a[o.NUMERICIDENTIFIER],")")),l("MAINVERSIONLOOSE","(".concat(a[o.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(a[o.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(a[o.NUMERICIDENTIFIERLOOSE],")")),l("PRERELEASEIDENTIFIER","(?:".concat(a[o.NUMERICIDENTIFIER],"|").concat(a[o.NONNUMERICIDENTIFIER],")")),l("PRERELEASEIDENTIFIERLOOSE","(?:".concat(a[o.NUMERICIDENTIFIERLOOSE],"|").concat(a[o.NONNUMERICIDENTIFIER],")")),l("PRERELEASE","(?:-(".concat(a[o.PRERELEASEIDENTIFIER],"(?:\\.").concat(a[o.PRERELEASEIDENTIFIER],")*))")),l("PRERELEASELOOSE","(?:-?(".concat(a[o.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(a[o.PRERELEASEIDENTIFIERLOOSE],")*))")),l("BUILDIDENTIFIER","[0-9A-Za-z-]+"),l("BUILD","(?:\\+(".concat(a[o.BUILDIDENTIFIER],"(?:\\.").concat(a[o.BUILDIDENTIFIER],")*))")),l("FULLPLAIN","v?".concat(a[o.MAINVERSION]).concat(a[o.PRERELEASE],"?").concat(a[o.BUILD],"?")),l("FULL","^".concat(a[o.FULLPLAIN],"$")),l("LOOSEPLAIN","[v=\\s]*".concat(a[o.MAINVERSIONLOOSE]).concat(a[o.PRERELEASELOOSE],"?").concat(a[o.BUILD],"?")),l("LOOSE","^".concat(a[o.LOOSEPLAIN],"$")),l("GTLT","((?:<|>)?=?)"),l("XRANGEIDENTIFIERLOOSE","".concat(a[o.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),l("XRANGEIDENTIFIER","".concat(a[o.NUMERICIDENTIFIER],"|x|X|\\*")),l("XRANGEPLAIN","[v=\\s]*(".concat(a[o.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(a[o.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(a[o.XRANGEIDENTIFIER],")")+"(?:".concat(a[o.PRERELEASE],")?").concat(a[o.BUILD],"?")+")?)?"),l("XRANGEPLAINLOOSE","[v=\\s]*(".concat(a[o.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(a[o.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(a[o.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(a[o.PRERELEASELOOSE],")?").concat(a[o.BUILD],"?")+")?)?"),l("XRANGE","^".concat(a[o.GTLT],"\\s*").concat(a[o.XRANGEPLAIN],"$")),l("XRANGELOOSE","^".concat(a[o.GTLT],"\\s*").concat(a[o.XRANGEPLAINLOOSE],"$")),l("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(n,"})")+"(?:\\.(\\d{1,".concat(n,"}))?")+"(?:\\.(\\d{1,".concat(n,"}))?")+"(?:$|[^\\d])"),l("COERCERTL",a[o.COERCE],!0),l("LONETILDE","(?:~>?)"),l("TILDETRIM","(\\s*)".concat(a[o.LONETILDE],"\\s+"),!0),t.tildeTrimReplace="$1~",l("TILDE","^".concat(a[o.LONETILDE]).concat(a[o.XRANGEPLAIN],"$")),l("TILDELOOSE","^".concat(a[o.LONETILDE]).concat(a[o.XRANGEPLAINLOOSE],"$")),l("LONECARET","(?:\\^)"),l("CARETTRIM","(\\s*)".concat(a[o.LONECARET],"\\s+"),!0),t.caretTrimReplace="$1^",l("CARET","^".concat(a[o.LONECARET]).concat(a[o.XRANGEPLAIN],"$")),l("CARETLOOSE","^".concat(a[o.LONECARET]).concat(a[o.XRANGEPLAINLOOSE],"$")),l("COMPARATORLOOSE","^".concat(a[o.GTLT],"\\s*(").concat(a[o.LOOSEPLAIN],")$|^$")),l("COMPARATOR","^".concat(a[o.GTLT],"\\s*(").concat(a[o.FULLPLAIN],")$|^$")),l("COMPARATORTRIM","(\\s*)".concat(a[o.GTLT],"\\s*(").concat(a[o.LOOSEPLAIN],"|").concat(a[o.XRANGEPLAIN],")"),!0),t.comparatorTrimReplace="$1$2$3",l("HYPHENRANGE","^\\s*(".concat(a[o.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(a[o.XRANGEPLAIN],")")+"\\s*$"),l("HYPHENRANGELOOSE","^\\s*(".concat(a[o.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(a[o.XRANGEPLAINLOOSE],")")+"\\s*$"),l("STAR","(<|>)?=?\\s*\\*"),l("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),l("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(ri,ri.exports);var dM=/^[0-9]+$/,pG=(e,t)=>{var n=dM.test(e),r=dM.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},Lwe=(e,t)=>pG(t,e),Fwe={compareIdentifiers:pG,rcompareIdentifiers:Lwe},$1=My,hM=ew.MAX_LENGTH,N1=ew.MAX_SAFE_INTEGER,mM=ri.exports.re,pM=ri.exports.t,Bwe=Q6,Cl=Fwe.compareIdentifiers;class qr{constructor(t,n){if(n=Bwe(n),t instanceof qr){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError("Invalid Version: ".concat(t));if(t.length>hM)throw new TypeError("version is longer than ".concat(hM," characters"));$1("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;var r=t.trim().match(n.loose?mM[pM.LOOSE]:mM[pM.FULL]);if(!r)throw new TypeError("Invalid Version: ".concat(t));if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>N1||this.major<0)throw new TypeError("Invalid major version");if(this.minor>N1||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>N1||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){var a=+i;if(a>=0&&a<N1)return a}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}toString(){return this.version}compare(t){if($1("SemVer.compare",this.version,this.options,t),!(t instanceof qr)){if(typeof t=="string"&&t===this.version)return 0;t=new qr(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof qr||(t=new qr(t,this.options)),Cl(this.major,t.major)||Cl(this.minor,t.minor)||Cl(this.patch,t.patch)}comparePre(t){if(t instanceof qr||(t=new qr(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var n=0;do{var r=this.prerelease[n],i=t.prerelease[n];if($1("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Cl(r,i)}while(++n)}compareBuild(t){t instanceof qr||(t=new qr(t,this.options));var n=0;do{var r=this.build[n],i=t.build[n];if($1("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Cl(r,i)}while(++n)}inc(t,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n),this.inc("pre",n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n),this.inc("pre",n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}n&&(Cl(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=[n,0]):this.prerelease=[n,0]);break;default:throw new Error("invalid increment argument: ".concat(t))}return this.format(),this.raw=this.version,this}}var tw=qr,gM=tw,$we=(e,t,n)=>new gM(e,n).compare(new gM(t,n)),_u=$we,Nwe=_u,Iwe=(e,t,n)=>Nwe(e,t,n)===0,Zwe=Iwe,Rwe=_u,Pwe=(e,t,n)=>Rwe(e,t,n)!==0,jwe=Pwe,zwe=_u,Gwe=(e,t,n)=>zwe(e,t,n)>0,Uwe=Gwe,Wwe=_u,Hwe=(e,t,n)=>Wwe(e,t,n)>=0,Ywe=Hwe,qwe=_u,Vwe=(e,t,n)=>qwe(e,t,n)<0,Xwe=Vwe,Jwe=_u,Kwe=(e,t,n)=>Jwe(e,t,n)<=0,Qwe=Kwe,eTe=Zwe,tTe=jwe,nTe=Uwe,rTe=Ywe,iTe=Xwe,aTe=Qwe,oTe=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return eTe(e,n,r);case"!=":return tTe(e,n,r);case">":return nTe(e,n,r);case">=":return rTe(e,n,r);case"<":return iTe(e,n,r);case"<=":return aTe(e,n,r);default:throw new TypeError("Invalid operator: ".concat(t))}},sTe=oTe,pv,yM;function lTe(){if(yM)return pv;yM=1;var e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(u,f){if(f=n(f),u instanceof t){if(u.loose===!!f.loose)return u;u=u.value}o("comparator",u,f),this.options=f,this.loose=!!f.loose,this.parse(u),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(u){var f=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],d=u.match(f);if(!d)throw new TypeError("Invalid comparator: ".concat(u));this.operator=d[1]!==void 0?d[1]:"",this.operator==="="&&(this.operator=""),d[2]?this.semver=new s(d[2],this.options.loose):this.semver=e}toString(){return this.value}test(u){if(o("Comparator.test",u,this.options.loose),this.semver===e||u===e)return!0;if(typeof u=="string")try{u=new s(u,this.options)}catch{return!1}return a(u,this.operator,this.semver,this.options)}intersects(u,f){if(!(u instanceof t))throw new TypeError("a Comparator is required");if((!f||typeof f!="object")&&(f={loose:!!f,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new l(u.value,f).test(this.value);if(u.operator==="")return u.value===""?!0:new l(this.value,f).test(u.semver);var d=(this.operator===">="||this.operator===">")&&(u.operator===">="||u.operator===">"),h=(this.operator==="<="||this.operator==="<")&&(u.operator==="<="||u.operator==="<"),m=this.semver.version===u.semver.version,g=(this.operator===">="||this.operator==="<=")&&(u.operator===">="||u.operator==="<="),p=a(this.semver,"<",u.semver,f)&&(this.operator===">="||this.operator===">")&&(u.operator==="<="||u.operator==="<"),y=a(this.semver,">",u.semver,f)&&(this.operator==="<="||this.operator==="<")&&(u.operator===">="||u.operator===">");return d||h||m&&g||p||y}}pv=t;var n=Q6,r=ri.exports.re,i=ri.exports.t,a=sTe,o=My,s=tw,l=gG();return pv}function bM(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=cTe(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return a=c.done,c},e:function(c){o=!0,s=c},f:function(){try{!a&&n.return!=null&&n.return()}finally{if(o)throw s}}}}function cTe(e,t){if(e){if(typeof e=="string")return vM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vM(e,t)}}function vM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gv,xM;function gG(){if(xM)return gv;xM=1;class e{constructor(L,D){if(D=r(D),L instanceof e)return L.loose===!!D.loose&&L.includePrerelease===!!D.includePrerelease?L:new e(L.raw,D);if(L instanceof i)return this.raw=L.value,this.set=[[L]],this.format(),this;if(this.options=D,this.loose=!!D.loose,this.includePrerelease=!!D.includePrerelease,this.raw=L,this.set=L.split("||").map($=>this.parseRange($.trim())).filter($=>$.length),!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(L));if(this.set.length>1){var E=this.set[0];if(this.set=this.set.filter($=>!d($[0])),this.set.length===0)this.set=[E];else if(this.set.length>1){var O=bM(this.set),M;try{for(O.s();!(M=O.n()).done;){var F=M.value;if(F.length===1&&h(F[0])){this.set=[F];break}}}catch($){O.e($)}finally{O.f()}}}this.format()}format(){return this.range=this.set.map(L=>L.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(L){L=L.trim();var D=Object.keys(this.options).join(","),E="parseRange:".concat(D,":").concat(L),O=n.get(E);if(O)return O;var M=this.options.loose,F=M?s[l.HYPHENRANGELOOSE]:s[l.HYPHENRANGE];L=L.replace(F,C(this.options.includePrerelease)),a("hyphen replace",L),L=L.replace(s[l.COMPARATORTRIM],c),a("comparator trim",L),L=L.replace(s[l.TILDETRIM],u),L=L.replace(s[l.CARETTRIM],f),L=L.split(/\s+/).join(" ");var $=L.split(" ").map(fe=>g(fe,this.options)).join(" ").split(/\s+/).map(fe=>S(fe,this.options));M&&($=$.filter(fe=>(a("loose invalid filter",fe,this.options),!!fe.match(s[l.COMPARATORLOOSE])))),a("range list",$);var N=new Map,R=$.map(fe=>new i(fe,this.options)),Y=bM(R),K;try{for(Y.s();!(K=Y.n()).done;){var me=K.value;if(d(me))return[me];N.set(me.value,me)}}catch(fe){Y.e(fe)}finally{Y.f()}N.size>1&&N.has("")&&N.delete("");var pe=[...N.values()];return n.set(E,pe),pe}intersects(L,D){if(!(L instanceof e))throw new TypeError("a Range is required");return this.set.some(E=>m(E,D)&&L.set.some(O=>m(O,D)&&E.every(M=>O.every(F=>M.intersects(F,D)))))}test(L){if(!L)return!1;if(typeof L=="string")try{L=new o(L,this.options)}catch{return!1}for(var D=0;D<this.set.length;D++)if(k(this.set[D],L,this.options))return!0;return!1}}gv=e;var t=Awe,n=new t({max:1e3}),r=Q6,i=lTe(),a=My,o=tw,s=ri.exports.re,l=ri.exports.t,c=ri.exports.comparatorTrimReplace,u=ri.exports.tildeTrimReplace,f=ri.exports.caretTrimReplace,d=A=>A.value==="<0.0.0-0",h=A=>A.value==="",m=(A,L)=>{for(var D=!0,E=A.slice(),O=E.pop();D&&E.length;)D=E.every(M=>O.intersects(M,L)),O=E.pop();return D},g=(A,L)=>(a("comp",A,L),A=v(A,L),a("caret",A),A=y(A,L),a("tildes",A),A=_(A,L),a("xrange",A),A=w(A,L),a("stars",A),A),p=A=>!A||A.toLowerCase()==="x"||A==="*",y=(A,L)=>A.trim().split(/\s+/).map(D=>b(D,L)).join(" "),b=(A,L)=>{var D=L.loose?s[l.TILDELOOSE]:s[l.TILDE];return A.replace(D,(E,O,M,F,$)=>{a("tilde",A,E,O,M,F,$);var N;return p(O)?N="":p(M)?N=">=".concat(O,".0.0 <").concat(+O+1,".0.0-0"):p(F)?N=">=".concat(O,".").concat(M,".0 <").concat(O,".").concat(+M+1,".0-0"):$?(a("replaceTilde pr",$),N=">=".concat(O,".").concat(M,".").concat(F,"-").concat($," <").concat(O,".").concat(+M+1,".0-0")):N=">=".concat(O,".").concat(M,".").concat(F," <").concat(O,".").concat(+M+1,".0-0"),a("tilde return",N),N})},v=(A,L)=>A.trim().split(/\s+/).map(D=>x(D,L)).join(" "),x=(A,L)=>{a("caret",A,L);var D=L.loose?s[l.CARETLOOSE]:s[l.CARET],E=L.includePrerelease?"-0":"";return A.replace(D,(O,M,F,$,N)=>{a("caret",A,O,M,F,$,N);var R;return p(M)?R="":p(F)?R=">=".concat(M,".0.0").concat(E," <").concat(+M+1,".0.0-0"):p($)?M==="0"?R=">=".concat(M,".").concat(F,".0").concat(E," <").concat(M,".").concat(+F+1,".0-0"):R=">=".concat(M,".").concat(F,".0").concat(E," <").concat(+M+1,".0.0-0"):N?(a("replaceCaret pr",N),M==="0"?F==="0"?R=">=".concat(M,".").concat(F,".").concat($,"-").concat(N," <").concat(M,".").concat(F,".").concat(+$+1,"-0"):R=">=".concat(M,".").concat(F,".").concat($,"-").concat(N," <").concat(M,".").concat(+F+1,".0-0"):R=">=".concat(M,".").concat(F,".").concat($,"-").concat(N," <").concat(+M+1,".0.0-0")):(a("no pr"),M==="0"?F==="0"?R=">=".concat(M,".").concat(F,".").concat($).concat(E," <").concat(M,".").concat(F,".").concat(+$+1,"-0"):R=">=".concat(M,".").concat(F,".").concat($).concat(E," <").concat(M,".").concat(+F+1,".0-0"):R=">=".concat(M,".").concat(F,".").concat($," <").concat(+M+1,".0.0-0")),a("caret return",R),R})},_=(A,L)=>(a("replaceXRanges",A,L),A.split(/\s+/).map(D=>T(D,L)).join(" ")),T=(A,L)=>{A=A.trim();var D=L.loose?s[l.XRANGELOOSE]:s[l.XRANGE];return A.replace(D,(E,O,M,F,$,N)=>{a("xRange",A,E,O,M,F,$,N);var R=p(M),Y=R||p(F),K=Y||p($),me=K;return O==="="&&me&&(O=""),N=L.includePrerelease?"-0":"",R?O===">"||O==="<"?E="<0.0.0-0":E="*":O&&me?(Y&&(F=0),$=0,O===">"?(O=">=",Y?(M=+M+1,F=0,$=0):(F=+F+1,$=0)):O==="<="&&(O="<",Y?M=+M+1:F=+F+1),O==="<"&&(N="-0"),E="".concat(O+M,".").concat(F,".").concat($).concat(N)):Y?E=">=".concat(M,".0.0").concat(N," <").concat(+M+1,".0.0-0"):K&&(E=">=".concat(M,".").concat(F,".0").concat(N," <").concat(M,".").concat(+F+1,".0-0")),a("xRange return",E),E})},w=(A,L)=>(a("replaceStars",A,L),A.trim().replace(s[l.STAR],"")),S=(A,L)=>(a("replaceGTE0",A,L),A.trim().replace(s[L.includePrerelease?l.GTE0PRE:l.GTE0],"")),C=A=>(L,D,E,O,M,F,$,N,R,Y,K,me,pe)=>(p(E)?D="":p(O)?D=">=".concat(E,".0.0").concat(A?"-0":""):p(M)?D=">=".concat(E,".").concat(O,".0").concat(A?"-0":""):F?D=">=".concat(D):D=">=".concat(D).concat(A?"-0":""),p(R)?N="":p(Y)?N="<".concat(+R+1,".0.0-0"):p(K)?N="<".concat(R,".").concat(+Y+1,".0-0"):me?N="<=".concat(R,".").concat(Y,".").concat(K,"-").concat(me):A?N="<".concat(R,".").concat(Y,".").concat(+K+1,"-0"):N="<=".concat(N),"".concat(D," ").concat(N).trim()),k=(A,L,D)=>{for(var E=0;E<A.length;E++)if(!A[E].test(L))return!1;if(L.prerelease.length&&!D.includePrerelease){for(var O=0;O<A.length;O++)if(a(A[O].semver),A[O].semver!==i.ANY&&A[O].semver.prerelease.length>0){var M=A[O].semver;if(M.major===L.major&&M.minor===L.minor&&M.patch===L.patch)return!0}return!1}return!0};return gv}var uTe=gG(),fTe=(e,t,n)=>{try{t=new uTe(t,n)}catch{return!1}return t.test(e)},yG=fTe;function dTe(e,t,n){var r=e.open(t),i=1e4,a=250,o=new URL(t),s=o.origin,l=~~(i/a);function c(f){f.source===r&&(l=0,e.removeEventListener("message",c,!1))}e.addEventListener("message",c,!1);function u(){l<=0||(r.postMessage(n,s),setTimeout(u,a),l-=1)}setTimeout(u,a)}var hTe=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e});function bG(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];mTe(e,o)}return e}function mTe(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];nu(e,i,t[i],!0)}}var yv;function pTe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=gTe(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return a=c.done,c},e:function(c){o=!0,s=c},f:function(){try{!a&&n.return!=null&&n.return()}finally{if(o)throw s}}}}function gTe(e,t){if(e){if(typeof e=="string")return _M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _M(e,t)}}function _M(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wM(Object(n),!0).forEach(function(r){lwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Bi=Bbe,Cd=i6e,I1=typeof window<"u"?window:void 0;Cd===void 0&&I1!==null&&I1!==void 0&&(yv=I1.vl)!==null&&yv!==void 0&&yv.compile&&(Cd=I1.vl);var yTe={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},bTe={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},Af={vega:"Vega","vega-lite":"Vega-Lite"},tg={vega:Bi.version,"vega-lite":Cd?Cd.version:"not available"},vTe={vega:e=>e,"vega-lite":(e,t)=>Cd.compile(e,{config:t}).spec},xTe=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,_Te="chart-wrapper";function wTe(e){return typeof e=="function"}function TM(e,t,n,r){var i="<html><head>".concat(t,'</head><body><pre><code class="json">'),a="</code></pre>".concat(n,"</body></html>"),o=window.open("");o.document.write(i+e+a),o.document.title="".concat(Af[r]," JSON Source")}function TTe(e,t){if(e.$schema){var n=iG(e.$schema);if(t&&t!==n.library){var r;console.warn("The given visualization spec is written in ".concat(Af[n.library],", but mode argument sets ").concat((r=Af[t])!==null&&r!==void 0?r:t,"."))}var i=n.library;return yG(tg[i],"^".concat(n.version.slice(1)))||console.warn("The input spec uses ".concat(Af[i]," ").concat(n.version,", but the current version of ").concat(Af[i]," is v").concat(tg[i],".")),i}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function ATe(e){return!!(e&&"load"in e)}function AM(e){return ATe(e)?e:Bi.loader(e)}function STe(e){var t,n,r=(t=(n=e.usermeta)===null||n===void 0?void 0:n.embedOptions)!==null&&t!==void 0?t:{};return J(r.defaultStyle)&&(r.defaultStyle=!1),r}function Ft(e,t){return n7.apply(this,arguments)}function n7(){return n7=Kp(Hi.mark(function e(t,n){var r,i,a,o,s,l,c,u,f,d,h,m=arguments;return Hi.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(a=m.length>2&&m[2]!==void 0?m[2]:{},!J(n)){p.next=10;break}return s=AM(a.loader),p.t0=JSON,p.next=6,s.load(n);case 6:p.t1=p.sent,o=p.t0.parse.call(p.t0,p.t1),p.next=11;break;case 10:o=n;case 11:return l=STe(o),c=l.loader,(!s||c)&&(s=AM((u=a.loader)!==null&&u!==void 0?u:c)),p.next=16,SM(l,s);case 16:return f=p.sent,p.next=19,SM(a,s);case 19:return d=p.sent,h=jo(jo({},bG(d,f)),{},{config:tu((r=d.config)!==null&&r!==void 0?r:{},(i=f.config)!==null&&i!==void 0?i:{})}),p.next=23,kTe(t,o,h,s);case 23:return p.abrupt("return",p.sent);case 24:case"end":return p.stop()}},e)})),n7.apply(this,arguments)}function SM(e,t){return r7.apply(this,arguments)}function r7(){return r7=Kp(Hi.mark(function e(t,n){var r,i,a;return Hi.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!J(t.config)){s.next=8;break}return s.t1=JSON,s.next=4,n.load(t.config);case 4:s.t2=s.sent,s.t0=s.t1.parse.call(s.t1,s.t2),s.next=9;break;case 8:s.t0=(r=t.config)!==null&&r!==void 0?r:{};case 9:if(i=s.t0,!J(t.patch)){s.next=18;break}return s.t4=JSON,s.next=14,n.load(t.patch);case 14:s.t5=s.sent,s.t3=s.t4.parse.call(s.t4,s.t5),s.next=19;break;case 18:s.t3=t.patch;case 19:return a=s.t3,s.abrupt("return",jo(jo(jo({},t),a?{patch:a}:{}),i?{config:i}:{}));case 21:case"end":return s.stop()}},e)})),r7.apply(this,arguments)}function ETe(e){var t,n=e.getRootNode?e.getRootNode():document;return n instanceof ShadowRoot?{root:n,rootContainer:n}:{root:document,rootContainer:(t=document.head)!==null&&t!==void 0?t:document.body}}function kTe(e,t){return i7.apply(this,arguments)}function i7(){return i7=Kp(Hi.mark(function e(t,n){var r,i,a,o,s,l,c,u,f,d,h,m,g,p,y,b,v,x,_,T,w,S,C,k,A,L,D,E,O,M,F,$,N,R,Y,K,me,pe,fe,Fe,Ae,$e,X,he,ye,z,Pe,Ee,ct,ot,ce,We=arguments;return Hi.wrap(function(_n){for(;;)switch(_n.prev=_n.next){case 0:if(ce=function(){pe&&document.removeEventListener("click",pe),$.finalize()},u=We.length>2&&We[2]!==void 0?We[2]:{},f=We.length>3?We[3]:void 0,d=u.theme?tu(K6e[u.theme],(r=u.config)!==null&&r!==void 0?r:{}):u.config,h=ps(u.actions)?u.actions:bG({},yTe,(i=u.actions)!==null&&i!==void 0?i:{}),m=jo(jo({},bTe),u.i18n),g=(a=u.renderer)!==null&&a!==void 0?a:"canvas",p=(o=u.logLevel)!==null&&o!==void 0?o:Bi.Warn,y=(s=u.downloadFileName)!==null&&s!==void 0?s:"visualization",b=typeof t=="string"?document.querySelector(t):t,b){_n.next=12;break}throw new Error("".concat(t," does not exist"));case 12:if(u.defaultStyle!==!1&&(v="vega-embed-style",x=ETe(b),_=x.root,T=x.rootContainer,_.getElementById(v)||(w=document.createElement("style"),w.id=v,w.innerHTML=u.defaultStyle===void 0||u.defaultStyle===!0?hTe.toString():u.defaultStyle,T.appendChild(w))),S=TTe(n,u.mode),C=vTe[S](n,d),S==="vega-lite"&&C.$schema&&(k=iG(C.$schema),yG(tg.vega,"^".concat(k.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(k.version,", but current version is v").concat(tg.vega,"."))),b.classList.add("vega-embed"),h&&b.classList.add("has-actions"),b.innerHTML="",A=b,h&&(L=document.createElement("div"),L.classList.add(_Te),b.appendChild(L),A=L),D=u.patch,D&&(C=D instanceof Function?D(C):Wg(C,D,!0,!1).newDocument),u.formatLocale&&Bi.formatLocale(u.formatLocale),u.timeFormatLocale&&Bi.timeFormatLocale(u.timeFormatLocale),u.expressionFunctions)for(E in u.expressionFunctions)O=u.expressionFunctions[E],"fn"in O?Bi.expressionFunction(E,O.fn,O.visitor):O instanceof Function&&Bi.expressionFunction(E,O);return M=u.ast,F=Bi.parse(C,S==="vega-lite"?{}:d,{ast:M}),$=new(u.viewClass||Bi.View)(F,jo({loader:f,logLevel:p,renderer:g},M?{expr:(l=(c=Bi.expressionInterpreter)!==null&&c!==void 0?c:u.expr)!==null&&l!==void 0?l:Ube}:{})),$.addSignalListener("autosize",(_r,Rn)=>{var ar=Rn.type;ar=="fit-x"?(A.classList.add("fit-x"),A.classList.remove("fit-y")):ar=="fit-y"?(A.classList.remove("fit-x"),A.classList.add("fit-y")):ar=="fit"?A.classList.add("fit-x","fit-y"):A.classList.remove("fit-x","fit-y")}),u.tooltip!==!1&&(N=wTe(u.tooltip)?u.tooltip:new swe(u.tooltip===!0?{}:u.tooltip).call,$.tooltip(N)),R=u.hover,R===void 0&&(R=S==="vega"),R&&(Y=typeof R=="boolean"?{}:R,K=Y.hoverSet,me=Y.updateSet,$.hover(K,me)),u&&(u.width!=null&&$.width(u.width),u.height!=null&&$.height(u.height),u.padding!=null&&$.padding(u.padding)),_n.next=37,$.initialize(A,u.bind).runAsync();case 37:if(h!==!1){if(fe=b,u.defaultStyle!==!1&&(Fe=document.createElement("details"),Fe.title=m.CLICK_TO_VIEW_ACTIONS,b.append(Fe),fe=Fe,Ae=document.createElement("summary"),Ae.innerHTML=xTe,Fe.append(Ae),pe=_r=>{Fe.contains(_r.target)||Fe.removeAttribute("open")},document.addEventListener("click",pe)),$e=document.createElement("div"),fe.append($e),$e.classList.add("vega-actions"),h===!0||h.export!==!1){X=pTe(["svg","png"]);try{for(ye=function(){var Rn=he.value;if(h===!0||h.export===!0||h.export[Rn]){var ar=m["".concat(Rn.toUpperCase(),"_ACTION")],cl=document.createElement("a");cl.text=ar,cl.href="#",cl.target="_blank",cl.download="".concat(y,".").concat(Rn),cl.addEventListener("mousedown",function(){var TG=Kp(Hi.mark(function nw(AG){var rw;return Hi.wrap(function(wu){for(;;)switch(wu.prev=wu.next){case 0:return AG.preventDefault(),wu.next=3,$.toImageURL(Rn,u.scaleFactor);case 3:rw=wu.sent,this.href=rw;case 5:case"end":return wu.stop()}},nw,this)}));return function(nw){return TG.apply(this,arguments)}}()),$e.append(cl)}},X.s();!(he=X.n()).done;)ye()}catch(_r){X.e(_r)}finally{X.f()}}(h===!0||h.source!==!1)&&(z=document.createElement("a"),z.text=m.SOURCE_ACTION,z.href="#",z.addEventListener("click",function(_r){var Rn,ar;TM(xb(n),(Rn=u.sourceHeader)!==null&&Rn!==void 0?Rn:"",(ar=u.sourceFooter)!==null&&ar!==void 0?ar:"",S),_r.preventDefault()}),$e.append(z)),S==="vega-lite"&&(h===!0||h.compiled!==!1)&&(Pe=document.createElement("a"),Pe.text=m.COMPILED_ACTION,Pe.href="#",Pe.addEventListener("click",function(_r){var Rn,ar;TM(xb(C),(Rn=u.sourceHeader)!==null&&Rn!==void 0?Rn:"",(ar=u.sourceFooter)!==null&&ar!==void 0?ar:"","vega"),_r.preventDefault()}),$e.append(Pe)),(h===!0||h.editor!==!1)&&(ct=(Ee=u.editorUrl)!==null&&Ee!==void 0?Ee:"https://vega.github.io/editor/",ot=document.createElement("a"),ot.text=m.EDITOR_ACTION,ot.href="#",ot.addEventListener("click",function(_r){dTe(window,ct,{config:d,mode:S,renderer:g,spec:xb(n)}),_r.preventDefault()}),$e.append(ot))}return _n.abrupt("return",{view:$,spec:n,vgSpec:C,finalize:ce,embedOptions:u});case 39:case"end":return _n.stop()}},e)})),i7.apply(this,arguments)}const MTe=e=>{Ft(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:[{a:"A",b:28},{a:"B",b:55},{a:"C",b:33},{a:"D",b:91},{a:"E",b:81},{a:"F",b:53},{a:"G",b:19},{a:"H",b:87},{a:"I",b:52}]},mark:"tick",encoding:{x:{field:"b",type:"quantitative"}}})},vG=[{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":39.1,"Beak Depth (mm)":18.7,"Flipper Length (mm)":181,"Body Mass (g)":3750,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":39.5,"Beak Depth (mm)":17.4,"Flipper Length (mm)":186,"Body Mass (g)":3800,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":40.3,"Beak Depth (mm)":18,"Flipper Length (mm)":195,"Body Mass (g)":3250,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":null,"Beak Depth (mm)":null,"Flipper Length (mm)":null,"Body Mass (g)":null,Sex:null},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":36.7,"Beak Depth (mm)":19.3,"Flipper Length (mm)":193,"Body Mass (g)":3450,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":39.3,"Beak Depth (mm)":20.6,"Flipper Length (mm)":190,"Body Mass (g)":3650,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":38.9,"Beak Depth (mm)":17.8,"Flipper Length (mm)":181,"Body Mass (g)":3625,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":39.2,"Beak Depth (mm)":19.6,"Flipper Length (mm)":195,"Body Mass (g)":4675,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":34.1,"Beak Depth (mm)":18.1,"Flipper Length (mm)":193,"Body Mass (g)":3475,Sex:null},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":42,"Beak Depth (mm)":20.2,"Flipper Length (mm)":190,"Body Mass (g)":4250,Sex:null},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":37.8,"Beak Depth (mm)":17.1,"Flipper Length (mm)":186,"Body Mass (g)":3300,Sex:null},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":37.8,"Beak Depth (mm)":17.3,"Flipper Length (mm)":180,"Body Mass (g)":3700,Sex:null},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":41.1,"Beak Depth (mm)":17.6,"Flipper Length (mm)":182,"Body Mass (g)":3200,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":38.6,"Beak Depth (mm)":21.2,"Flipper Length (mm)":191,"Body Mass (g)":3800,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":34.6,"Beak Depth (mm)":21.1,"Flipper Length (mm)":198,"Body Mass (g)":4400,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":36.6,"Beak Depth (mm)":17.8,"Flipper Length (mm)":185,"Body Mass (g)":3700,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":38.7,"Beak Depth (mm)":19,"Flipper Length (mm)":195,"Body Mass (g)":3450,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":42.5,"Beak Depth (mm)":20.7,"Flipper Length (mm)":197,"Body Mass (g)":4500,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":34.4,"Beak Depth (mm)":18.4,"Flipper Length (mm)":184,"Body Mass (g)":3325,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":46,"Beak Depth (mm)":21.5,"Flipper Length (mm)":194,"Body Mass (g)":4200,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":37.8,"Beak Depth (mm)":18.3,"Flipper Length (mm)":174,"Body Mass (g)":3400,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":37.7,"Beak Depth (mm)":18.7,"Flipper Length (mm)":180,"Body Mass (g)":3600,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":35.9,"Beak Depth (mm)":19.2,"Flipper Length (mm)":189,"Body Mass (g)":3800,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":38.2,"Beak Depth (mm)":18.1,"Flipper Length (mm)":185,"Body Mass (g)":3950,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":38.8,"Beak Depth (mm)":17.2,"Flipper Length (mm)":180,"Body Mass (g)":3800,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":35.3,"Beak Depth (mm)":18.9,"Flipper Length (mm)":187,"Body Mass (g)":3800,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":40.6,"Beak Depth (mm)":18.6,"Flipper Length (mm)":183,"Body Mass (g)":3550,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":40.5,"Beak Depth (mm)":17.9,"Flipper Length (mm)":187,"Body Mass (g)":3200,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":37.9,"Beak Depth (mm)":18.6,"Flipper Length (mm)":172,"Body Mass (g)":3150,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":40.5,"Beak Depth (mm)":18.9,"Flipper Length (mm)":180,"Body Mass (g)":3950,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":39.5,"Beak Depth (mm)":16.7,"Flipper Length (mm)":178,"Body Mass (g)":3250,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":37.2,"Beak Depth (mm)":18.1,"Flipper Length (mm)":178,"Body Mass (g)":3900,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":39.5,"Beak Depth (mm)":17.8,"Flipper Length (mm)":188,"Body Mass (g)":3300,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":40.9,"Beak Depth (mm)":18.9,"Flipper Length (mm)":184,"Body Mass (g)":3900,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":36.4,"Beak Depth (mm)":17,"Flipper Length (mm)":195,"Body Mass (g)":3325,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":39.2,"Beak Depth (mm)":21.1,"Flipper Length (mm)":196,"Body Mass (g)":4150,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":38.8,"Beak Depth (mm)":20,"Flipper Length (mm)":190,"Body Mass (g)":3950,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":42.2,"Beak Depth (mm)":18.5,"Flipper Length (mm)":180,"Body Mass (g)":3550,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":37.6,"Beak Depth (mm)":19.3,"Flipper Length (mm)":181,"Body Mass (g)":3300,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":39.8,"Beak Depth (mm)":19.1,"Flipper Length (mm)":184,"Body Mass (g)":4650,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":36.5,"Beak Depth (mm)":18,"Flipper Length (mm)":182,"Body Mass (g)":3150,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":40.8,"Beak Depth (mm)":18.4,"Flipper Length (mm)":195,"Body Mass (g)":3900,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":36,"Beak Depth (mm)":18.5,"Flipper Length (mm)":186,"Body Mass (g)":3100,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":44.1,"Beak Depth (mm)":19.7,"Flipper Length (mm)":196,"Body Mass (g)":4400,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":37,"Beak Depth (mm)":16.9,"Flipper Length (mm)":185,"Body Mass (g)":3e3,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":39.6,"Beak Depth (mm)":18.8,"Flipper Length (mm)":190,"Body Mass (g)":4600,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":41.1,"Beak Depth (mm)":19,"Flipper Length (mm)":182,"Body Mass (g)":3425,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":37.5,"Beak Depth (mm)":18.9,"Flipper Length (mm)":179,"Body Mass (g)":2975,Sex:null},{Species:"Adelie",Island:"Dream","Beak Length (mm)":36,"Beak Depth (mm)":17.9,"Flipper Length (mm)":190,"Body Mass (g)":3450,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":42.3,"Beak Depth (mm)":21.2,"Flipper Length (mm)":191,"Body Mass (g)":4150,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":39.6,"Beak Depth (mm)":17.7,"Flipper Length (mm)":186,"Body Mass (g)":3500,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":40.1,"Beak Depth (mm)":18.9,"Flipper Length (mm)":188,"Body Mass (g)":4300,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":35,"Beak Depth (mm)":17.9,"Flipper Length (mm)":190,"Body Mass (g)":3450,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":42,"Beak Depth (mm)":19.5,"Flipper Length (mm)":200,"Body Mass (g)":4050,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":34.5,"Beak Depth (mm)":18.1,"Flipper Length (mm)":187,"Body Mass (g)":2900,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":41.4,"Beak Depth (mm)":18.6,"Flipper Length (mm)":191,"Body Mass (g)":3700,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":39,"Beak Depth (mm)":17.5,"Flipper Length (mm)":186,"Body Mass (g)":3550,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":40.6,"Beak Depth (mm)":18.8,"Flipper Length (mm)":193,"Body Mass (g)":3800,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":36.5,"Beak Depth (mm)":16.6,"Flipper Length (mm)":181,"Body Mass (g)":2850,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":37.6,"Beak Depth (mm)":19.1,"Flipper Length (mm)":194,"Body Mass (g)":3750,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":35.7,"Beak Depth (mm)":16.9,"Flipper Length (mm)":185,"Body Mass (g)":3150,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":41.3,"Beak Depth (mm)":21.1,"Flipper Length (mm)":195,"Body Mass (g)":4400,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":37.6,"Beak Depth (mm)":17,"Flipper Length (mm)":185,"Body Mass (g)":3600,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":41.1,"Beak Depth (mm)":18.2,"Flipper Length (mm)":192,"Body Mass (g)":4050,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":36.4,"Beak Depth (mm)":17.1,"Flipper Length (mm)":184,"Body Mass (g)":2850,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":41.6,"Beak Depth (mm)":18,"Flipper Length (mm)":192,"Body Mass (g)":3950,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":35.5,"Beak Depth (mm)":16.2,"Flipper Length (mm)":195,"Body Mass (g)":3350,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":41.1,"Beak Depth (mm)":19.1,"Flipper Length (mm)":188,"Body Mass (g)":4100,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":35.9,"Beak Depth (mm)":16.6,"Flipper Length (mm)":190,"Body Mass (g)":3050,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":41.8,"Beak Depth (mm)":19.4,"Flipper Length (mm)":198,"Body Mass (g)":4450,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":33.5,"Beak Depth (mm)":19,"Flipper Length (mm)":190,"Body Mass (g)":3600,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":39.7,"Beak Depth (mm)":18.4,"Flipper Length (mm)":190,"Body Mass (g)":3900,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":39.6,"Beak Depth (mm)":17.2,"Flipper Length (mm)":196,"Body Mass (g)":3550,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":45.8,"Beak Depth (mm)":18.9,"Flipper Length (mm)":197,"Body Mass (g)":4150,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":35.5,"Beak Depth (mm)":17.5,"Flipper Length (mm)":190,"Body Mass (g)":3700,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":42.8,"Beak Depth (mm)":18.5,"Flipper Length (mm)":195,"Body Mass (g)":4250,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":40.9,"Beak Depth (mm)":16.8,"Flipper Length (mm)":191,"Body Mass (g)":3700,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":37.2,"Beak Depth (mm)":19.4,"Flipper Length (mm)":184,"Body Mass (g)":3900,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":36.2,"Beak Depth (mm)":16.1,"Flipper Length (mm)":187,"Body Mass (g)":3550,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":42.1,"Beak Depth (mm)":19.1,"Flipper Length (mm)":195,"Body Mass (g)":4e3,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":34.6,"Beak Depth (mm)":17.2,"Flipper Length (mm)":189,"Body Mass (g)":3200,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":42.9,"Beak Depth (mm)":17.6,"Flipper Length (mm)":196,"Body Mass (g)":4700,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":36.7,"Beak Depth (mm)":18.8,"Flipper Length (mm)":187,"Body Mass (g)":3800,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":35.1,"Beak Depth (mm)":19.4,"Flipper Length (mm)":193,"Body Mass (g)":4200,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":37.3,"Beak Depth (mm)":17.8,"Flipper Length (mm)":191,"Body Mass (g)":3350,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":41.3,"Beak Depth (mm)":20.3,"Flipper Length (mm)":194,"Body Mass (g)":3550,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":36.3,"Beak Depth (mm)":19.5,"Flipper Length (mm)":190,"Body Mass (g)":3800,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":36.9,"Beak Depth (mm)":18.6,"Flipper Length (mm)":189,"Body Mass (g)":3500,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":38.3,"Beak Depth (mm)":19.2,"Flipper Length (mm)":189,"Body Mass (g)":3950,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":38.9,"Beak Depth (mm)":18.8,"Flipper Length (mm)":190,"Body Mass (g)":3600,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":35.7,"Beak Depth (mm)":18,"Flipper Length (mm)":202,"Body Mass (g)":3550,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":41.1,"Beak Depth (mm)":18.1,"Flipper Length (mm)":205,"Body Mass (g)":4300,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":34,"Beak Depth (mm)":17.1,"Flipper Length (mm)":185,"Body Mass (g)":3400,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":39.6,"Beak Depth (mm)":18.1,"Flipper Length (mm)":186,"Body Mass (g)":4450,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":36.2,"Beak Depth (mm)":17.3,"Flipper Length (mm)":187,"Body Mass (g)":3300,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":40.8,"Beak Depth (mm)":18.9,"Flipper Length (mm)":208,"Body Mass (g)":4300,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":38.1,"Beak Depth (mm)":18.6,"Flipper Length (mm)":190,"Body Mass (g)":3700,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":40.3,"Beak Depth (mm)":18.5,"Flipper Length (mm)":196,"Body Mass (g)":4350,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":33.1,"Beak Depth (mm)":16.1,"Flipper Length (mm)":178,"Body Mass (g)":2900,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":43.2,"Beak Depth (mm)":18.5,"Flipper Length (mm)":192,"Body Mass (g)":4100,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":35,"Beak Depth (mm)":17.9,"Flipper Length (mm)":192,"Body Mass (g)":3725,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":41,"Beak Depth (mm)":20,"Flipper Length (mm)":203,"Body Mass (g)":4725,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":37.7,"Beak Depth (mm)":16,"Flipper Length (mm)":183,"Body Mass (g)":3075,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":37.8,"Beak Depth (mm)":20,"Flipper Length (mm)":190,"Body Mass (g)":4250,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":37.9,"Beak Depth (mm)":18.6,"Flipper Length (mm)":193,"Body Mass (g)":2925,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":39.7,"Beak Depth (mm)":18.9,"Flipper Length (mm)":184,"Body Mass (g)":3550,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":38.6,"Beak Depth (mm)":17.2,"Flipper Length (mm)":199,"Body Mass (g)":3750,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":38.2,"Beak Depth (mm)":20,"Flipper Length (mm)":190,"Body Mass (g)":3900,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":38.1,"Beak Depth (mm)":17,"Flipper Length (mm)":181,"Body Mass (g)":3175,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":43.2,"Beak Depth (mm)":19,"Flipper Length (mm)":197,"Body Mass (g)":4775,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":38.1,"Beak Depth (mm)":16.5,"Flipper Length (mm)":198,"Body Mass (g)":3825,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":45.6,"Beak Depth (mm)":20.3,"Flipper Length (mm)":191,"Body Mass (g)":4600,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":39.7,"Beak Depth (mm)":17.7,"Flipper Length (mm)":193,"Body Mass (g)":3200,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":42.2,"Beak Depth (mm)":19.5,"Flipper Length (mm)":197,"Body Mass (g)":4275,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":39.6,"Beak Depth (mm)":20.7,"Flipper Length (mm)":191,"Body Mass (g)":3900,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":42.7,"Beak Depth (mm)":18.3,"Flipper Length (mm)":196,"Body Mass (g)":4075,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":38.6,"Beak Depth (mm)":17,"Flipper Length (mm)":188,"Body Mass (g)":2900,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":37.3,"Beak Depth (mm)":20.5,"Flipper Length (mm)":199,"Body Mass (g)":3775,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":35.7,"Beak Depth (mm)":17,"Flipper Length (mm)":189,"Body Mass (g)":3350,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":41.1,"Beak Depth (mm)":18.6,"Flipper Length (mm)":189,"Body Mass (g)":3325,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":36.2,"Beak Depth (mm)":17.2,"Flipper Length (mm)":187,"Body Mass (g)":3150,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":37.7,"Beak Depth (mm)":19.8,"Flipper Length (mm)":198,"Body Mass (g)":3500,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":40.2,"Beak Depth (mm)":17,"Flipper Length (mm)":176,"Body Mass (g)":3450,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":41.4,"Beak Depth (mm)":18.5,"Flipper Length (mm)":202,"Body Mass (g)":3875,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":35.2,"Beak Depth (mm)":15.9,"Flipper Length (mm)":186,"Body Mass (g)":3050,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":40.6,"Beak Depth (mm)":19,"Flipper Length (mm)":199,"Body Mass (g)":4e3,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":38.8,"Beak Depth (mm)":17.6,"Flipper Length (mm)":191,"Body Mass (g)":3275,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":41.5,"Beak Depth (mm)":18.3,"Flipper Length (mm)":195,"Body Mass (g)":4300,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":39,"Beak Depth (mm)":17.1,"Flipper Length (mm)":191,"Body Mass (g)":3050,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":44.1,"Beak Depth (mm)":18,"Flipper Length (mm)":210,"Body Mass (g)":4e3,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":38.5,"Beak Depth (mm)":17.9,"Flipper Length (mm)":190,"Body Mass (g)":3325,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":43.1,"Beak Depth (mm)":19.2,"Flipper Length (mm)":197,"Body Mass (g)":3500,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":36.8,"Beak Depth (mm)":18.5,"Flipper Length (mm)":193,"Body Mass (g)":3500,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":37.5,"Beak Depth (mm)":18.5,"Flipper Length (mm)":199,"Body Mass (g)":4475,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":38.1,"Beak Depth (mm)":17.6,"Flipper Length (mm)":187,"Body Mass (g)":3425,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":41.1,"Beak Depth (mm)":17.5,"Flipper Length (mm)":190,"Body Mass (g)":3900,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":35.6,"Beak Depth (mm)":17.5,"Flipper Length (mm)":191,"Body Mass (g)":3175,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":40.2,"Beak Depth (mm)":20.1,"Flipper Length (mm)":200,"Body Mass (g)":3975,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":37,"Beak Depth (mm)":16.5,"Flipper Length (mm)":185,"Body Mass (g)":3400,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":39.7,"Beak Depth (mm)":17.9,"Flipper Length (mm)":193,"Body Mass (g)":4250,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":40.2,"Beak Depth (mm)":17.1,"Flipper Length (mm)":193,"Body Mass (g)":3400,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":40.6,"Beak Depth (mm)":17.2,"Flipper Length (mm)":187,"Body Mass (g)":3475,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":32.1,"Beak Depth (mm)":15.5,"Flipper Length (mm)":188,"Body Mass (g)":3050,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":40.7,"Beak Depth (mm)":17,"Flipper Length (mm)":190,"Body Mass (g)":3725,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":37.3,"Beak Depth (mm)":16.8,"Flipper Length (mm)":192,"Body Mass (g)":3e3,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":39,"Beak Depth (mm)":18.7,"Flipper Length (mm)":185,"Body Mass (g)":3650,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":39.2,"Beak Depth (mm)":18.6,"Flipper Length (mm)":190,"Body Mass (g)":4250,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":36.6,"Beak Depth (mm)":18.4,"Flipper Length (mm)":184,"Body Mass (g)":3475,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":36,"Beak Depth (mm)":17.8,"Flipper Length (mm)":195,"Body Mass (g)":3450,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":37.8,"Beak Depth (mm)":18.1,"Flipper Length (mm)":193,"Body Mass (g)":3750,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":36,"Beak Depth (mm)":17.1,"Flipper Length (mm)":187,"Body Mass (g)":3700,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":41.5,"Beak Depth (mm)":18.5,"Flipper Length (mm)":201,"Body Mass (g)":4e3,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":46.5,"Beak Depth (mm)":17.9,"Flipper Length (mm)":192,"Body Mass (g)":3500,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":50,"Beak Depth (mm)":19.5,"Flipper Length (mm)":196,"Body Mass (g)":3900,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":51.3,"Beak Depth (mm)":19.2,"Flipper Length (mm)":193,"Body Mass (g)":3650,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":45.4,"Beak Depth (mm)":18.7,"Flipper Length (mm)":188,"Body Mass (g)":3525,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":52.7,"Beak Depth (mm)":19.8,"Flipper Length (mm)":197,"Body Mass (g)":3725,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":45.2,"Beak Depth (mm)":17.8,"Flipper Length (mm)":198,"Body Mass (g)":3950,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":46.1,"Beak Depth (mm)":18.2,"Flipper Length (mm)":178,"Body Mass (g)":3250,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":51.3,"Beak Depth (mm)":18.2,"Flipper Length (mm)":197,"Body Mass (g)":3750,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":46,"Beak Depth (mm)":18.9,"Flipper Length (mm)":195,"Body Mass (g)":4150,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":51.3,"Beak Depth (mm)":19.9,"Flipper Length (mm)":198,"Body Mass (g)":3700,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":46.6,"Beak Depth (mm)":17.8,"Flipper Length (mm)":193,"Body Mass (g)":3800,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":51.7,"Beak Depth (mm)":20.3,"Flipper Length (mm)":194,"Body Mass (g)":3775,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":47,"Beak Depth (mm)":17.3,"Flipper Length (mm)":185,"Body Mass (g)":3700,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":52,"Beak Depth (mm)":18.1,"Flipper Length (mm)":201,"Body Mass (g)":4050,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":45.9,"Beak Depth (mm)":17.1,"Flipper Length (mm)":190,"Body Mass (g)":3575,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":50.5,"Beak Depth (mm)":19.6,"Flipper Length (mm)":201,"Body Mass (g)":4050,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":50.3,"Beak Depth (mm)":20,"Flipper Length (mm)":197,"Body Mass (g)":3300,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":58,"Beak Depth (mm)":17.8,"Flipper Length (mm)":181,"Body Mass (g)":3700,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":46.4,"Beak Depth (mm)":18.6,"Flipper Length (mm)":190,"Body Mass (g)":3450,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":49.2,"Beak Depth (mm)":18.2,"Flipper Length (mm)":195,"Body Mass (g)":4400,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":42.4,"Beak Depth (mm)":17.3,"Flipper Length (mm)":181,"Body Mass (g)":3600,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":48.5,"Beak Depth (mm)":17.5,"Flipper Length (mm)":191,"Body Mass (g)":3400,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":43.2,"Beak Depth (mm)":16.6,"Flipper Length (mm)":187,"Body Mass (g)":2900,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":50.6,"Beak Depth (mm)":19.4,"Flipper Length (mm)":193,"Body Mass (g)":3800,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":46.7,"Beak Depth (mm)":17.9,"Flipper Length (mm)":195,"Body Mass (g)":3300,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":52,"Beak Depth (mm)":19,"Flipper Length (mm)":197,"Body Mass (g)":4150,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":50.5,"Beak Depth (mm)":18.4,"Flipper Length (mm)":200,"Body Mass (g)":3400,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":49.5,"Beak Depth (mm)":19,"Flipper Length (mm)":200,"Body Mass (g)":3800,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":46.4,"Beak Depth (mm)":17.8,"Flipper Length (mm)":191,"Body Mass (g)":3700,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":52.8,"Beak Depth (mm)":20,"Flipper Length (mm)":205,"Body Mass (g)":4550,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":40.9,"Beak Depth (mm)":16.6,"Flipper Length (mm)":187,"Body Mass (g)":3200,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":54.2,"Beak Depth (mm)":20.8,"Flipper Length (mm)":201,"Body Mass (g)":4300,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":42.5,"Beak Depth (mm)":16.7,"Flipper Length (mm)":187,"Body Mass (g)":3350,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":51,"Beak Depth (mm)":18.8,"Flipper Length (mm)":203,"Body Mass (g)":4100,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":49.7,"Beak Depth (mm)":18.6,"Flipper Length (mm)":195,"Body Mass (g)":3600,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":47.5,"Beak Depth (mm)":16.8,"Flipper Length (mm)":199,"Body Mass (g)":3900,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":47.6,"Beak Depth (mm)":18.3,"Flipper Length (mm)":195,"Body Mass (g)":3850,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":52,"Beak Depth (mm)":20.7,"Flipper Length (mm)":210,"Body Mass (g)":4800,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":46.9,"Beak Depth (mm)":16.6,"Flipper Length (mm)":192,"Body Mass (g)":2700,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":53.5,"Beak Depth (mm)":19.9,"Flipper Length (mm)":205,"Body Mass (g)":4500,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":49,"Beak Depth (mm)":19.5,"Flipper Length (mm)":210,"Body Mass (g)":3950,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":46.2,"Beak Depth (mm)":17.5,"Flipper Length (mm)":187,"Body Mass (g)":3650,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":50.9,"Beak Depth (mm)":19.1,"Flipper Length (mm)":196,"Body Mass (g)":3550,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":45.5,"Beak Depth (mm)":17,"Flipper Length (mm)":196,"Body Mass (g)":3500,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":50.9,"Beak Depth (mm)":17.9,"Flipper Length (mm)":196,"Body Mass (g)":3675,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":50.8,"Beak Depth (mm)":18.5,"Flipper Length (mm)":201,"Body Mass (g)":4450,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":50.1,"Beak Depth (mm)":17.9,"Flipper Length (mm)":190,"Body Mass (g)":3400,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":49,"Beak Depth (mm)":19.6,"Flipper Length (mm)":212,"Body Mass (g)":4300,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":51.5,"Beak Depth (mm)":18.7,"Flipper Length (mm)":187,"Body Mass (g)":3250,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":49.8,"Beak Depth (mm)":17.3,"Flipper Length (mm)":198,"Body Mass (g)":3675,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":48.1,"Beak Depth (mm)":16.4,"Flipper Length (mm)":199,"Body Mass (g)":3325,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":51.4,"Beak Depth (mm)":19,"Flipper Length (mm)":201,"Body Mass (g)":3950,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":45.7,"Beak Depth (mm)":17.3,"Flipper Length (mm)":193,"Body Mass (g)":3600,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":50.7,"Beak Depth (mm)":19.7,"Flipper Length (mm)":203,"Body Mass (g)":4050,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":42.5,"Beak Depth (mm)":17.3,"Flipper Length (mm)":187,"Body Mass (g)":3350,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":52.2,"Beak Depth (mm)":18.8,"Flipper Length (mm)":197,"Body Mass (g)":3450,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":45.2,"Beak Depth (mm)":16.6,"Flipper Length (mm)":191,"Body Mass (g)":3250,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":49.3,"Beak Depth (mm)":19.9,"Flipper Length (mm)":203,"Body Mass (g)":4050,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":50.2,"Beak Depth (mm)":18.8,"Flipper Length (mm)":202,"Body Mass (g)":3800,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":45.6,"Beak Depth (mm)":19.4,"Flipper Length (mm)":194,"Body Mass (g)":3525,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":51.9,"Beak Depth (mm)":19.5,"Flipper Length (mm)":206,"Body Mass (g)":3950,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":46.8,"Beak Depth (mm)":16.5,"Flipper Length (mm)":189,"Body Mass (g)":3650,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":45.7,"Beak Depth (mm)":17,"Flipper Length (mm)":195,"Body Mass (g)":3650,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":55.8,"Beak Depth (mm)":19.8,"Flipper Length (mm)":207,"Body Mass (g)":4e3,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":43.5,"Beak Depth (mm)":18.1,"Flipper Length (mm)":202,"Body Mass (g)":3400,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":49.6,"Beak Depth (mm)":18.2,"Flipper Length (mm)":193,"Body Mass (g)":3775,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":50.8,"Beak Depth (mm)":19,"Flipper Length (mm)":210,"Body Mass (g)":4100,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":50.2,"Beak Depth (mm)":18.7,"Flipper Length (mm)":198,"Body Mass (g)":3775,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.1,"Beak Depth (mm)":13.2,"Flipper Length (mm)":211,"Body Mass (g)":4500,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":50,"Beak Depth (mm)":16.3,"Flipper Length (mm)":230,"Body Mass (g)":5700,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":48.7,"Beak Depth (mm)":14.1,"Flipper Length (mm)":210,"Body Mass (g)":4450,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":50,"Beak Depth (mm)":15.2,"Flipper Length (mm)":218,"Body Mass (g)":5700,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":47.6,"Beak Depth (mm)":14.5,"Flipper Length (mm)":215,"Body Mass (g)":5400,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.5,"Beak Depth (mm)":13.5,"Flipper Length (mm)":210,"Body Mass (g)":4550,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.4,"Beak Depth (mm)":14.6,"Flipper Length (mm)":211,"Body Mass (g)":4800,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.7,"Beak Depth (mm)":15.3,"Flipper Length (mm)":219,"Body Mass (g)":5200,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":43.3,"Beak Depth (mm)":13.4,"Flipper Length (mm)":209,"Body Mass (g)":4400,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.8,"Beak Depth (mm)":15.4,"Flipper Length (mm)":215,"Body Mass (g)":5150,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":40.9,"Beak Depth (mm)":13.7,"Flipper Length (mm)":214,"Body Mass (g)":4650,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":49,"Beak Depth (mm)":16.1,"Flipper Length (mm)":216,"Body Mass (g)":5550,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.5,"Beak Depth (mm)":13.7,"Flipper Length (mm)":214,"Body Mass (g)":4650,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":48.4,"Beak Depth (mm)":14.6,"Flipper Length (mm)":213,"Body Mass (g)":5850,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.8,"Beak Depth (mm)":14.6,"Flipper Length (mm)":210,"Body Mass (g)":4200,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":49.3,"Beak Depth (mm)":15.7,"Flipper Length (mm)":217,"Body Mass (g)":5850,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":42,"Beak Depth (mm)":13.5,"Flipper Length (mm)":210,"Body Mass (g)":4150,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":49.2,"Beak Depth (mm)":15.2,"Flipper Length (mm)":221,"Body Mass (g)":6300,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.2,"Beak Depth (mm)":14.5,"Flipper Length (mm)":209,"Body Mass (g)":4800,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":48.7,"Beak Depth (mm)":15.1,"Flipper Length (mm)":222,"Body Mass (g)":5350,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":50.2,"Beak Depth (mm)":14.3,"Flipper Length (mm)":218,"Body Mass (g)":5700,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.1,"Beak Depth (mm)":14.5,"Flipper Length (mm)":215,"Body Mass (g)":5e3,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.5,"Beak Depth (mm)":14.5,"Flipper Length (mm)":213,"Body Mass (g)":4400,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.3,"Beak Depth (mm)":15.8,"Flipper Length (mm)":215,"Body Mass (g)":5050,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":42.9,"Beak Depth (mm)":13.1,"Flipper Length (mm)":215,"Body Mass (g)":5e3,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.1,"Beak Depth (mm)":15.1,"Flipper Length (mm)":215,"Body Mass (g)":5100,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":44.5,"Beak Depth (mm)":14.3,"Flipper Length (mm)":216,"Body Mass (g)":4100,Sex:null},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":47.8,"Beak Depth (mm)":15,"Flipper Length (mm)":215,"Body Mass (g)":5650,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":48.2,"Beak Depth (mm)":14.3,"Flipper Length (mm)":210,"Body Mass (g)":4600,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":50,"Beak Depth (mm)":15.3,"Flipper Length (mm)":220,"Body Mass (g)":5550,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":47.3,"Beak Depth (mm)":15.3,"Flipper Length (mm)":222,"Body Mass (g)":5250,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":42.8,"Beak Depth (mm)":14.2,"Flipper Length (mm)":209,"Body Mass (g)":4700,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.1,"Beak Depth (mm)":14.5,"Flipper Length (mm)":207,"Body Mass (g)":5050,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":59.6,"Beak Depth (mm)":17,"Flipper Length (mm)":230,"Body Mass (g)":6050,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":49.1,"Beak Depth (mm)":14.8,"Flipper Length (mm)":220,"Body Mass (g)":5150,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":48.4,"Beak Depth (mm)":16.3,"Flipper Length (mm)":220,"Body Mass (g)":5400,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":42.6,"Beak Depth (mm)":13.7,"Flipper Length (mm)":213,"Body Mass (g)":4950,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":44.4,"Beak Depth (mm)":17.3,"Flipper Length (mm)":219,"Body Mass (g)":5250,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":44,"Beak Depth (mm)":13.6,"Flipper Length (mm)":208,"Body Mass (g)":4350,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":48.7,"Beak Depth (mm)":15.7,"Flipper Length (mm)":208,"Body Mass (g)":5350,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":42.7,"Beak Depth (mm)":13.7,"Flipper Length (mm)":208,"Body Mass (g)":3950,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":49.6,"Beak Depth (mm)":16,"Flipper Length (mm)":225,"Body Mass (g)":5700,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.3,"Beak Depth (mm)":13.7,"Flipper Length (mm)":210,"Body Mass (g)":4300,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":49.6,"Beak Depth (mm)":15,"Flipper Length (mm)":216,"Body Mass (g)":4750,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":50.5,"Beak Depth (mm)":15.9,"Flipper Length (mm)":222,"Body Mass (g)":5550,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":43.6,"Beak Depth (mm)":13.9,"Flipper Length (mm)":217,"Body Mass (g)":4900,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.5,"Beak Depth (mm)":13.9,"Flipper Length (mm)":210,"Body Mass (g)":4200,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":50.5,"Beak Depth (mm)":15.9,"Flipper Length (mm)":225,"Body Mass (g)":5400,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":44.9,"Beak Depth (mm)":13.3,"Flipper Length (mm)":213,"Body Mass (g)":5100,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.2,"Beak Depth (mm)":15.8,"Flipper Length (mm)":215,"Body Mass (g)":5300,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.6,"Beak Depth (mm)":14.2,"Flipper Length (mm)":210,"Body Mass (g)":4850,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":48.5,"Beak Depth (mm)":14.1,"Flipper Length (mm)":220,"Body Mass (g)":5300,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.1,"Beak Depth (mm)":14.4,"Flipper Length (mm)":210,"Body Mass (g)":4400,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":50.1,"Beak Depth (mm)":15,"Flipper Length (mm)":225,"Body Mass (g)":5e3,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.5,"Beak Depth (mm)":14.4,"Flipper Length (mm)":217,"Body Mass (g)":4900,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45,"Beak Depth (mm)":15.4,"Flipper Length (mm)":220,"Body Mass (g)":5050,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":43.8,"Beak Depth (mm)":13.9,"Flipper Length (mm)":208,"Body Mass (g)":4300,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.5,"Beak Depth (mm)":15,"Flipper Length (mm)":220,"Body Mass (g)":5e3,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":43.2,"Beak Depth (mm)":14.5,"Flipper Length (mm)":208,"Body Mass (g)":4450,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":50.4,"Beak Depth (mm)":15.3,"Flipper Length (mm)":224,"Body Mass (g)":5550,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.3,"Beak Depth (mm)":13.8,"Flipper Length (mm)":208,"Body Mass (g)":4200,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.2,"Beak Depth (mm)":14.9,"Flipper Length (mm)":221,"Body Mass (g)":5300,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.7,"Beak Depth (mm)":13.9,"Flipper Length (mm)":214,"Body Mass (g)":4400,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":54.3,"Beak Depth (mm)":15.7,"Flipper Length (mm)":231,"Body Mass (g)":5650,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.8,"Beak Depth (mm)":14.2,"Flipper Length (mm)":219,"Body Mass (g)":4700,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":49.8,"Beak Depth (mm)":16.8,"Flipper Length (mm)":230,"Body Mass (g)":5700,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.2,"Beak Depth (mm)":14.4,"Flipper Length (mm)":214,"Body Mass (g)":4650,Sex:null},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":49.5,"Beak Depth (mm)":16.2,"Flipper Length (mm)":229,"Body Mass (g)":5800,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":43.5,"Beak Depth (mm)":14.2,"Flipper Length (mm)":220,"Body Mass (g)":4700,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":50.7,"Beak Depth (mm)":15,"Flipper Length (mm)":223,"Body Mass (g)":5550,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":47.7,"Beak Depth (mm)":15,"Flipper Length (mm)":216,"Body Mass (g)":4750,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.4,"Beak Depth (mm)":15.6,"Flipper Length (mm)":221,"Body Mass (g)":5e3,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":48.2,"Beak Depth (mm)":15.6,"Flipper Length (mm)":221,"Body Mass (g)":5100,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.5,"Beak Depth (mm)":14.8,"Flipper Length (mm)":217,"Body Mass (g)":5200,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.4,"Beak Depth (mm)":15,"Flipper Length (mm)":216,"Body Mass (g)":4700,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":48.6,"Beak Depth (mm)":16,"Flipper Length (mm)":230,"Body Mass (g)":5800,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":47.5,"Beak Depth (mm)":14.2,"Flipper Length (mm)":209,"Body Mass (g)":4600,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":51.1,"Beak Depth (mm)":16.3,"Flipper Length (mm)":220,"Body Mass (g)":6e3,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.2,"Beak Depth (mm)":13.8,"Flipper Length (mm)":215,"Body Mass (g)":4750,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.2,"Beak Depth (mm)":16.4,"Flipper Length (mm)":223,"Body Mass (g)":5950,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":49.1,"Beak Depth (mm)":14.5,"Flipper Length (mm)":212,"Body Mass (g)":4625,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":52.5,"Beak Depth (mm)":15.6,"Flipper Length (mm)":221,"Body Mass (g)":5450,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":47.4,"Beak Depth (mm)":14.6,"Flipper Length (mm)":212,"Body Mass (g)":4725,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":50,"Beak Depth (mm)":15.9,"Flipper Length (mm)":224,"Body Mass (g)":5350,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":44.9,"Beak Depth (mm)":13.8,"Flipper Length (mm)":212,"Body Mass (g)":4750,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":50.8,"Beak Depth (mm)":17.3,"Flipper Length (mm)":228,"Body Mass (g)":5600,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":43.4,"Beak Depth (mm)":14.4,"Flipper Length (mm)":218,"Body Mass (g)":4600,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":51.3,"Beak Depth (mm)":14.2,"Flipper Length (mm)":218,"Body Mass (g)":5300,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":47.5,"Beak Depth (mm)":14,"Flipper Length (mm)":212,"Body Mass (g)":4875,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":52.1,"Beak Depth (mm)":17,"Flipper Length (mm)":230,"Body Mass (g)":5550,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":47.5,"Beak Depth (mm)":15,"Flipper Length (mm)":218,"Body Mass (g)":4950,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":52.2,"Beak Depth (mm)":17.1,"Flipper Length (mm)":228,"Body Mass (g)":5400,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.5,"Beak Depth (mm)":14.5,"Flipper Length (mm)":212,"Body Mass (g)":4750,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":49.5,"Beak Depth (mm)":16.1,"Flipper Length (mm)":224,"Body Mass (g)":5650,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":44.5,"Beak Depth (mm)":14.7,"Flipper Length (mm)":214,"Body Mass (g)":4850,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":50.8,"Beak Depth (mm)":15.7,"Flipper Length (mm)":226,"Body Mass (g)":5200,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":49.4,"Beak Depth (mm)":15.8,"Flipper Length (mm)":216,"Body Mass (g)":4925,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.9,"Beak Depth (mm)":14.6,"Flipper Length (mm)":222,"Body Mass (g)":4875,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":48.4,"Beak Depth (mm)":14.4,"Flipper Length (mm)":203,"Body Mass (g)":4625,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":51.1,"Beak Depth (mm)":16.5,"Flipper Length (mm)":225,"Body Mass (g)":5250,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":48.5,"Beak Depth (mm)":15,"Flipper Length (mm)":219,"Body Mass (g)":4850,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":55.9,"Beak Depth (mm)":17,"Flipper Length (mm)":228,"Body Mass (g)":5600,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":47.2,"Beak Depth (mm)":15.5,"Flipper Length (mm)":215,"Body Mass (g)":4975,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":49.1,"Beak Depth (mm)":15,"Flipper Length (mm)":228,"Body Mass (g)":5500,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":47.3,"Beak Depth (mm)":13.8,"Flipper Length (mm)":216,"Body Mass (g)":4725,Sex:null},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.8,"Beak Depth (mm)":16.1,"Flipper Length (mm)":215,"Body Mass (g)":5500,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":41.7,"Beak Depth (mm)":14.7,"Flipper Length (mm)":210,"Body Mass (g)":4700,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":53.4,"Beak Depth (mm)":15.8,"Flipper Length (mm)":219,"Body Mass (g)":5500,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":43.3,"Beak Depth (mm)":14,"Flipper Length (mm)":208,"Body Mass (g)":4575,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":48.1,"Beak Depth (mm)":15.1,"Flipper Length (mm)":209,"Body Mass (g)":5500,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":50.5,"Beak Depth (mm)":15.2,"Flipper Length (mm)":216,"Body Mass (g)":5e3,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":49.8,"Beak Depth (mm)":15.9,"Flipper Length (mm)":229,"Body Mass (g)":5950,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":43.5,"Beak Depth (mm)":15.2,"Flipper Length (mm)":213,"Body Mass (g)":4650,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":51.5,"Beak Depth (mm)":16.3,"Flipper Length (mm)":230,"Body Mass (g)":5500,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.2,"Beak Depth (mm)":14.1,"Flipper Length (mm)":217,"Body Mass (g)":4375,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":55.1,"Beak Depth (mm)":16,"Flipper Length (mm)":230,"Body Mass (g)":5850,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":44.5,"Beak Depth (mm)":15.7,"Flipper Length (mm)":217,"Body Mass (g)":4875,Sex:"."},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":48.8,"Beak Depth (mm)":16.2,"Flipper Length (mm)":222,"Body Mass (g)":6e3,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":47.2,"Beak Depth (mm)":13.7,"Flipper Length (mm)":214,"Body Mass (g)":4925,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":null,"Beak Depth (mm)":null,"Flipper Length (mm)":null,"Body Mass (g)":null,Sex:null},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.8,"Beak Depth (mm)":14.3,"Flipper Length (mm)":215,"Body Mass (g)":4850,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":50.4,"Beak Depth (mm)":15.7,"Flipper Length (mm)":222,"Body Mass (g)":5750,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.2,"Beak Depth (mm)":14.8,"Flipper Length (mm)":212,"Body Mass (g)":5200,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":49.9,"Beak Depth (mm)":16.1,"Flipper Length (mm)":213,"Body Mass (g)":5400,Sex:"MALE"}],OTe=e=>{Dt({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Box"},data:{values:vG},mark:{type:"boxplot",extent:"min-max"},encoding:{x:{field:"Species",type:"nominal"},color:{field:"Species",type:"nominal",legend:null},y:{field:"Body Mass (g)",type:"quantitative",scale:{zero:!1}}}},{x:500,y:500})(ie(e))},CTe=e=>{Ft(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",description:"A vertical box plot showing median, min, and max body mass of penguins.",data:{values:vG},mark:{type:"boxplot",extent:"min-max"},encoding:{x:{field:"Species",type:"nominal"},color:{field:"Species",type:"nominal",legend:null},y:{field:"Body Mass (g)",type:"quantitative",scale:{zero:!1}}}})},DTe=e=>{Dt({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Bubble Plot"},data:{values:[{a:31,b:28},{a:2,b:55},{a:9,b:33},{a:5,b:91},{a:43,b:81},{a:22,b:53},{a:87,b:19},{a:12,b:87},{a:1,b:52}]},mark:"point",encoding:{x:{field:"a",type:"quantitative"},y:{field:"b",type:"quantitative"},size:{field:"a",type:"quantitative"}}},{x:500,y:500})(ie(e))},LTe=e=>{Ft(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:[{a:31,b:28},{a:2,b:55},{a:9,b:33},{a:5,b:91},{a:43,b:81},{a:22,b:53},{a:87,b:19},{a:12,b:87},{a:1,b:52}]},mark:"point",encoding:{x:{field:"a",type:"quantitative"},y:{field:"b",type:"quantitative"},size:{field:"a",type:"quantitative"}}})},FTe=e=>{Dt({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Bullet"},data:{values:[{title:"Revenue",subtitle:"US$, in thousands",ranges:[150,225,300],measures:[220,270],markers:[250]},{title:"Profit",subtitle:"%",ranges:[20,25,30],measures:[21,23],markers:[26]},{title:"Order Size",subtitle:"US$, average",ranges:[350,500,600],measures:[100,320],markers:[550]},{title:"New Customers",subtitle:"count",ranges:[1400,2e3,2500],measures:[1e3,1650],markers:[2100]},{title:"Satisfaction",subtitle:"out of 5",ranges:[3.5,4.25,5],measures:[3.2,4.7],markers:[4.4]}]},facet:{row:{field:"title",type:"ordinal",header:{labelAngle:0,title:""}}},spacing:10,spec:{encoding:{x:{type:"quantitative",scale:{nice:!1},title:null}},layer:[{mark:{type:"bar",color:"#eee"},encoding:{x:{field:"ranges[2]"}}},{mark:{type:"bar",color:"#ddd"},encoding:{x:{field:"ranges[1]"}}},{mark:{type:"bar",color:"#ccc"},encoding:{x:{field:"ranges[0]"}}},{mark:{type:"bar",color:"lightsteelblue",size:10},encoding:{x:{field:"measures[1]"}}},{mark:{type:"bar",color:"steelblue",size:10},encoding:{x:{field:"measures[0]"}}},{mark:{type:"tick",color:"black"},encoding:{x:{field:"markers[0]"}}}]},resolve:{scale:{x:"independent"}},config:{tick:{thickness:2}}},{x:500,y:500})(ie(e))},BTe=e=>{Ft(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:[{title:"Revenue",subtitle:"US$, in thousands",ranges:[150,225,300],measures:[220,270],markers:[250]},{title:"Profit",subtitle:"%",ranges:[20,25,30],measures:[21,23],markers:[26]},{title:"Order Size",subtitle:"US$, average",ranges:[350,500,600],measures:[100,320],markers:[550]},{title:"New Customers",subtitle:"count",ranges:[1400,2e3,2500],measures:[1e3,1650],markers:[2100]},{title:"Satisfaction",subtitle:"out of 5",ranges:[3.5,4.25,5],measures:[3.2,4.7],markers:[4.4]}]},facet:{row:{field:"title",type:"ordinal",header:{labelAngle:0,title:""}}},spacing:10,spec:{encoding:{x:{type:"quantitative",scale:{nice:!1},title:null}},layer:[{mark:{type:"bar",color:"#eee"},encoding:{x:{field:"ranges[2]"}}},{mark:{type:"bar",color:"#ddd"},encoding:{x:{field:"ranges[1]"}}},{mark:{type:"bar",color:"#ccc"},encoding:{x:{field:"ranges[0]"}}},{mark:{type:"bar",color:"lightsteelblue",size:10},encoding:{x:{field:"measures[1]"}}},{mark:{type:"bar",color:"steelblue",size:10},encoding:{x:{field:"measures[0]"}}},{mark:{type:"tick",color:"black"},encoding:{x:{field:"markers[0]"}}}]},resolve:{scale:{x:"independent"}},config:{tick:{thickness:2}}})},$Te=e=>{Dt({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Bump"},data:{values:[{build:1,result:"PASSED"},{build:2,result:"PASSED"},{build:3,result:"FAILED"},{build:4,result:"FAILED"},{build:5,result:"SKIPPED"},{build:6,result:"PASSED"},{build:7,result:"PASSED"},{build:8,result:"FAILED"},{build:9,result:"PASSED"},{build:10,result:"PASSED"},{build:11,result:"SKIPPED"},{build:12,result:"PASSED"},{build:13,result:"PASSED"},{build:14,result:"FAILED"},{build:15,result:"PASSED"},{build:16,result:"SKIPPED"}]},mark:{type:"line",point:!0},encoding:{x:{field:"build",type:"quantitative"},y:{field:"result",type:"nominal"},order:{field:"build",type:"quantitative"}}},{x:500,y:500})(ie(e))},NTe=e=>{Ft(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",description:"Bump chart",data:{values:[{build:1,result:"PASSED"},{build:2,result:"PASSED"},{build:3,result:"FAILED"},{build:4,result:"FAILED"},{build:5,result:"SKIPPED"},{build:6,result:"PASSED"},{build:7,result:"PASSED"},{build:8,result:"FAILED"},{build:9,result:"PASSED"},{build:10,result:"PASSED"},{build:11,result:"SKIPPED"},{build:12,result:"PASSED"},{build:13,result:"PASSED"},{build:14,result:"FAILED"},{build:15,result:"PASSED"},{build:16,result:"SKIPPED"}]},mark:{type:"line",point:!0},encoding:{x:{field:"build",type:"quantitative"},y:{field:"result",type:"nominal"},order:{field:"build",type:"quantitative"}}})},xG=[{date:"2009-06-01",open:28.7,high:30.05,low:28.45,close:30.04,signal:"short",ret:-4.89396411092985},{date:"2009-06-02",open:30.04,high:30.13,low:28.3,close:29.63,signal:"short",ret:-.322580645161295},{date:"2009-06-03",open:29.62,high:31.79,low:29.62,close:31.02,signal:"short",ret:3.68663594470045},{date:"2009-06-04",open:31.02,high:31.02,low:29.92,close:30.18,signal:"short",ret:4.51010886469673},{date:"2009-06-05",open:29.39,high:30.81,low:28.85,close:29.62,signal:"short",ret:6.08424336973478},{date:"2009-06-08",open:30.84,high:31.82,low:26.41,close:29.77,signal:"short",ret:1.2539184952978},{date:"2009-06-09",open:29.77,high:29.77,low:27.79,close:28.27,signal:"short",ret:-5.02431118314424},{date:"2009-06-10",open:26.9,high:29.74,low:26.9,close:28.46,signal:"short",ret:-5.46623794212217},{date:"2009-06-11",open:27.36,high:28.11,low:26.81,close:28.11,signal:"short",ret:-8.3743842364532},{date:"2009-06-12",open:28.08,high:28.5,low:27.73,close:28.15,signal:"short",ret:-5.52763819095477},{date:"2009-06-15",open:29.7,high:31.09,low:29.64,close:30.81,signal:"long",ret:3.4920634920635},{date:"2009-06-16",open:30.81,high:32.75,low:30.07,close:32.68,signal:"short",ret:.155038759689914},{date:"2009-06-17",open:31.19,high:32.77,low:30.64,close:31.54,signal:"short",ret:5.82822085889571},{date:"2009-06-18",open:31.54,high:31.54,low:29.6,close:30.03,signal:"short",ret:8.17610062893082},{date:"2009-06-19",open:29.16,high:29.32,low:27.56,close:27.99,signal:"short",ret:8.59872611464968},{date:"2009-06-22",open:30.4,high:32.05,low:30.3,close:31.17,signal:"short",ret:15.4907975460123},{date:"2009-06-23",open:31.3,high:31.54,low:27.83,close:30.58,signal:"short",ret:11.7370892018779},{date:"2009-06-24",open:30.58,high:30.58,low:28.79,close:29.05,signal:"long",ret:-10.4234527687296},{date:"2009-06-25",open:29.45,high:29.56,low:26.3,close:26.36,signal:"long",ret:0},{date:"2009-06-26",open:27.09,high:27.22,low:25.76,close:25.93,signal:"long",ret:0},{date:"2009-06-29",open:25.93,high:27.18,low:25.29,close:25.35,signal:"long",ret:5.26315789473684},{date:"2009-06-30",open:25.36,high:27.38,low:25.02,close:26.35,signal:"long",ret:6.73758865248228},{date:"2009-07-01",open:25.73,high:26.31,low:24.8,close:26.22,signal:"long",ret:7.83645655877341},{date:"2009-07-02",open:26.22,high:28.62,low:26.22,close:27.95,signal:"long",ret:2.76422764227643},{date:"2009-07-06",open:30.32,high:30.6,low:28.99,close:29,signal:"short",ret:-2.14521452145214},{date:"2009-07-07",open:29,high:30.94,low:28.9,close:30.85,signal:"short",ret:3.03514376996805},{date:"2009-07-08",open:30.85,high:33.05,low:30.43,close:31.3,signal:"short",ret:5.68720379146919},{date:"2009-07-09",open:30.23,high:30.49,low:29.28,close:29.78,signal:"short",ret:8.22784810126583},{date:"2009-07-10",open:29.78,high:30.34,low:28.82,close:29.02,signal:"short",ret:8.64779874213836},{date:"2009-07-13",open:28.36,high:29.24,low:25.42,close:26.31,signal:"short",ret:7.32899022801303},{date:"2009-07-14",open:26.31,high:26.84,low:24.99,close:25.02,signal:"short",ret:7.30897009966778},{date:"2009-07-15",open:25.05,high:26.06,low:23.83,close:25.89,signal:"neutral",ret:0},{date:"2009-07-16",open:25.96,high:26.18,low:24.51,close:25.42,signal:"long",ret:-9.82758620689656},{date:"2009-07-17",open:25.42,high:25.55,low:23.88,close:24.34,signal:"long",ret:-10.8433734939759},{date:"2009-07-20",open:25.06,high:25.42,low:24.26,close:24.4,signal:"long",ret:-7.55711775043936},{date:"2009-07-21",open:24.28,high:25.14,low:23.81,close:23.87,signal:"long",ret:-2.5089605734767},{date:"2009-07-22",open:24.05,high:24.14,low:23.24,close:23.47,signal:"long",ret:.915750915750916},{date:"2009-07-23",open:23.71,high:24.05,low:23.21,close:23.43,signal:"long",ret:2.47148288973383},{date:"2009-07-24",open:23.87,high:23.87,low:23,close:23.09,signal:"long",ret:4.22264875239922},{date:"2009-07-27",open:24.06,high:24.86,low:24.02,close:24.28,signal:"long",ret:-.189393939393929},{date:"2009-07-28",open:24.28,high:25.61,low:24.28,close:25.01,signal:"long",ret:-4.37956204379562},{date:"2009-07-29",open:25.47,high:26.18,low:25.41,close:25.61,signal:"long",ret:-4.48504983388705},{date:"2009-07-30",open:25.4,high:25.76,low:24.85,close:25.4,signal:"long",ret:-1.70357751277683},{date:"2009-07-31",open:25.4,high:26.22,low:24.93,close:25.92,signal:"short",ret:5.06756756756757}],ITe=e=>{Dt({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Box"},data:{values:xG},encoding:{x:{field:"date",type:"temporal",title:"Date in 2009",axis:{format:"%m/%d",labelAngle:-45,title:"Date in 2009"}},y:{type:"quantitative",scale:{zero:!1},axis:{title:"Price"}}},layer:[{mark:"rule",encoding:{y:{field:"low",type:"quantitative"},y2:{field:"high",type:"quantitative"}}},{mark:"bar",encoding:{y:{field:"open",type:"quantitative"},y2:{field:"close",type:"quantitative"}}}]},{x:500,y:500})(ie(e))},ZTe=e=>{Ft(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",width:400,description:"A candlestick chart inspired by an example in Protovis (http://mbostock.github.io/protovis/ex/candlestick.html)",data:{values:xG},encoding:{x:{field:"date",type:"temporal",title:"Date in 2009",axis:{format:"%m/%d",labelAngle:-45,title:"Date in 2009"}},y:{type:"quantitative",scale:{zero:!1},axis:{title:"Price"}},color:{condition:{test:"datum.open < datum.close",value:"#06982d"},value:"#ae1325"}},layer:[{mark:"rule",encoding:{y:{field:"low"},y2:{field:"high"}}},{mark:"bar",encoding:{y:{field:"open"},y2:{field:"close"}}}]})},RTe=e=>{Dt({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Circle Timeline"},data:{values:[{Entity:"A",Year:1970,Deaths:4},{Entity:"A",Year:1980,Deaths:2},{Entity:"A",Year:1990,Deaths:16},{Entity:"B",Year:1970,Deaths:21},{Entity:"B",Year:1980,Deaths:26},{Entity:"B",Year:1990,Deaths:5},{Entity:"C",Year:1970,Deaths:13},{Entity:"C",Year:1980,Deaths:11},{Entity:"C",Year:1990,Deaths:6}]},width:600,height:400,mark:{type:"circle",opacity:.8,stroke:"black",strokeWidth:1},encoding:{x:{field:"Year",type:"temporal"},y:{field:"Entity",type:"nominal",axis:{grid:!0}},size:{field:"Deaths",type:"quantitative",title:"Annual Global Deaths",legend:{clipHeight:30},scale:{rangeMax:5e3}},color:{field:"Entity",type:"nominal",legend:null}}},{x:500,y:500})(ie(e))},PTe=e=>{Ft(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:[{Entity:"A",Year:1970,Deaths:4},{Entity:"A",Year:1980,Deaths:2},{Entity:"A",Year:1990,Deaths:16},{Entity:"B",Year:1970,Deaths:21},{Entity:"B",Year:1980,Deaths:26},{Entity:"B",Year:1990,Deaths:5},{Entity:"C",Year:1970,Deaths:13},{Entity:"C",Year:1980,Deaths:11},{Entity:"C",Year:1990,Deaths:6}]},width:600,height:400,mark:{type:"circle",opacity:.8,stroke:"black",strokeWidth:1},encoding:{x:{field:"Year",type:"temporal"},y:{field:"Entity",type:"nominal",axis:{grid:!0}},size:{field:"Deaths",type:"quantitative",title:"Annual Global Deaths",legend:{clipHeight:30},scale:{rangeMax:5e3}},color:{field:"Entity",type:"nominal",legend:null}}})},jTe=e=>{Dt({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Column Line"},data:{values:[{a:"A",b:28},{a:"B",b:55},{a:"C",b:33},{a:"D",b:91},{a:"E",b:81},{a:"F",b:53},{a:"G",b:19},{a:"H",b:87},{a:"I",b:52}]},layer:[{mark:"bar",encoding:{x:{field:"a",type:"nominal"},y:{field:"b",type:"quantitative"}}},{mark:"line",encoding:{x:{field:"a",type:"nominal"},y:{field:"b",type:"quantitative"}}}]},{x:500,y:500})(ie(e))},zTe=e=>{Ft(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:[{a:"A",b:28},{a:"B",b:55},{a:"C",b:33},{a:"D",b:91},{a:"E",b:81},{a:"F",b:53},{a:"G",b:19},{a:"H",b:87},{a:"I",b:52}]},layer:[{mark:"bar",encoding:{x:{field:"a",type:"nominal"},y:{field:"b",type:"quantitative"}}},{mark:"line",encoding:{x:{field:"a",type:"nominal"},y:{field:"b",type:"quantitative"},color:{value:"#e45755"}}}]})},GTe=e=>{Dt({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Diverging Bar"},description:"A bar chart with negative values. We can hide the axis domain line, and instead use a conditional grid color to draw a zero baseline.",data:{values:[{a:"A",b:-28},{a:"B",b:55},{a:"C",b:-33},{a:"D",b:91},{a:"E",b:81},{a:"F",b:53},{a:"G",b:-19},{a:"H",b:87},{a:"I",b:52}]},mark:"bar",encoding:{y:{field:"a",type:"nominal",axis:{domain:!1,ticks:!1,labelAngle:0,labelPadding:4}},x:{field:"b",type:"quantitative",axis:{gridColor:{condition:{test:"datum.value === 0",value:"black"},value:"#ddd"}}}}},{x:500,y:500})(ie(e))},UTe=e=>{Ft(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",description:"A bar chart with negative values. We can hide the axis domain line, and instead use a conditional grid color to draw a zero baseline.",data:{values:[{a:"A",b:-28},{a:"B",b:55},{a:"C",b:-33},{a:"D",b:91},{a:"E",b:81},{a:"F",b:53},{a:"G",b:-19},{a:"H",b:87},{a:"I",b:52}]},mark:"bar",encoding:{y:{field:"a",type:"nominal",axis:{domain:!1,ticks:!1,labelAngle:0,labelPadding:4}},x:{field:"b",type:"quantitative",axis:{gridColor:{condition:{test:"datum.value === 0",value:"black"},value:"#ddd"}}}}})},WTe=e=>{Dt({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Lollipop"},data:{values:[{a:"A",b:28},{a:"B",b:55},{a:"C",b:33},{a:"D",b:91},{a:"E",b:81},{a:"F",b:53},{a:"G",b:19},{a:"H",b:87},{a:"I",b:52}]},layer:[{mark:"rule",encoding:{y:{field:"a",type:"nominal"},x:{field:"b",type:"quantitative"}}},{mark:"point",encoding:{y:{field:"a",type:"nominal"},x:{field:"b",type:"quantitative"}}}]},{x:500,y:500})(ie(e))},HTe=e=>{Ft(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:[{a:"A",b:28},{a:"B",b:55},{a:"C",b:33},{a:"D",b:91},{a:"E",b:81},{a:"F",b:53},{a:"G",b:19},{a:"H",b:87},{a:"I",b:52}]},layer:[{mark:"rule",encoding:{y:{field:"a",type:"nominal"},x:{field:"b",type:"quantitative"}}},{mark:"point",encoding:{y:{field:"a",type:"nominal"},x:{field:"b",type:"quantitative"}}}]})},_G=[{Name:"chevrolet chevelle malibu",Miles_per_Gallon:18,Cylinders:8,Displacement:307,Horsepower:130,Weight_in_lbs:3504,Acceleration:12,Year:"1970-01-01",Origin:"USA"},{Name:"buick skylark 320",Miles_per_Gallon:15,Cylinders:8,Displacement:350,Horsepower:165,Weight_in_lbs:3693,Acceleration:11.5,Year:"1970-01-01",Origin:"USA"},{Name:"plymouth satellite",Miles_per_Gallon:18,Cylinders:8,Displacement:318,Horsepower:150,Weight_in_lbs:3436,Acceleration:11,Year:"1970-01-01",Origin:"USA"},{Name:"amc rebel sst",Miles_per_Gallon:16,Cylinders:8,Displacement:304,Horsepower:150,Weight_in_lbs:3433,Acceleration:12,Year:"1970-01-01",Origin:"USA"},{Name:"ford torino",Miles_per_Gallon:17,Cylinders:8,Displacement:302,Horsepower:140,Weight_in_lbs:3449,Acceleration:10.5,Year:"1970-01-01",Origin:"USA"},{Name:"ford galaxie 500",Miles_per_Gallon:15,Cylinders:8,Displacement:429,Horsepower:198,Weight_in_lbs:4341,Acceleration:10,Year:"1970-01-01",Origin:"USA"},{Name:"chevrolet impala",Miles_per_Gallon:14,Cylinders:8,Displacement:454,Horsepower:220,Weight_in_lbs:4354,Acceleration:9,Year:"1970-01-01",Origin:"USA"},{Name:"plymouth fury iii",Miles_per_Gallon:14,Cylinders:8,Displacement:440,Horsepower:215,Weight_in_lbs:4312,Acceleration:8.5,Year:"1970-01-01",Origin:"USA"},{Name:"pontiac catalina",Miles_per_Gallon:14,Cylinders:8,Displacement:455,Horsepower:225,Weight_in_lbs:4425,Acceleration:10,Year:"1970-01-01",Origin:"USA"},{Name:"amc ambassador dpl",Miles_per_Gallon:15,Cylinders:8,Displacement:390,Horsepower:190,Weight_in_lbs:3850,Acceleration:8.5,Year:"1970-01-01",Origin:"USA"},{Name:"citroen ds-21 pallas",Miles_per_Gallon:null,Cylinders:4,Displacement:133,Horsepower:115,Weight_in_lbs:3090,Acceleration:17.5,Year:"1970-01-01",Origin:"Europe"},{Name:"chevrolet chevelle concours (sw)",Miles_per_Gallon:null,Cylinders:8,Displacement:350,Horsepower:165,Weight_in_lbs:4142,Acceleration:11.5,Year:"1970-01-01",Origin:"USA"},{Name:"ford torino (sw)",Miles_per_Gallon:null,Cylinders:8,Displacement:351,Horsepower:153,Weight_in_lbs:4034,Acceleration:11,Year:"1970-01-01",Origin:"USA"},{Name:"plymouth satellite (sw)",Miles_per_Gallon:null,Cylinders:8,Displacement:383,Horsepower:175,Weight_in_lbs:4166,Acceleration:10.5,Year:"1970-01-01",Origin:"USA"},{Name:"amc rebel sst (sw)",Miles_per_Gallon:null,Cylinders:8,Displacement:360,Horsepower:175,Weight_in_lbs:3850,Acceleration:11,Year:"1970-01-01",Origin:"USA"},{Name:"dodge challenger se",Miles_per_Gallon:15,Cylinders:8,Displacement:383,Horsepower:170,Weight_in_lbs:3563,Acceleration:10,Year:"1970-01-01",Origin:"USA"},{Name:"plymouth 'cuda 340",Miles_per_Gallon:14,Cylinders:8,Displacement:340,Horsepower:160,Weight_in_lbs:3609,Acceleration:8,Year:"1970-01-01",Origin:"USA"},{Name:"ford mustang boss 302",Miles_per_Gallon:null,Cylinders:8,Displacement:302,Horsepower:140,Weight_in_lbs:3353,Acceleration:8,Year:"1970-01-01",Origin:"USA"},{Name:"chevrolet monte carlo",Miles_per_Gallon:15,Cylinders:8,Displacement:400,Horsepower:150,Weight_in_lbs:3761,Acceleration:9.5,Year:"1970-01-01",Origin:"USA"},{Name:"buick estate wagon (sw)",Miles_per_Gallon:14,Cylinders:8,Displacement:455,Horsepower:225,Weight_in_lbs:3086,Acceleration:10,Year:"1970-01-01",Origin:"USA"},{Name:"toyota corona mark ii",Miles_per_Gallon:24,Cylinders:4,Displacement:113,Horsepower:95,Weight_in_lbs:2372,Acceleration:15,Year:"1970-01-01",Origin:"Japan"},{Name:"plymouth duster",Miles_per_Gallon:22,Cylinders:6,Displacement:198,Horsepower:95,Weight_in_lbs:2833,Acceleration:15.5,Year:"1970-01-01",Origin:"USA"},{Name:"amc hornet",Miles_per_Gallon:18,Cylinders:6,Displacement:199,Horsepower:97,Weight_in_lbs:2774,Acceleration:15.5,Year:"1970-01-01",Origin:"USA"},{Name:"ford maverick",Miles_per_Gallon:21,Cylinders:6,Displacement:200,Horsepower:85,Weight_in_lbs:2587,Acceleration:16,Year:"1970-01-01",Origin:"USA"},{Name:"datsun pl510",Miles_per_Gallon:27,Cylinders:4,Displacement:97,Horsepower:88,Weight_in_lbs:2130,Acceleration:14.5,Year:"1970-01-01",Origin:"Japan"},{Name:"volkswagen 1131 deluxe sedan",Miles_per_Gallon:26,Cylinders:4,Displacement:97,Horsepower:46,Weight_in_lbs:1835,Acceleration:20.5,Year:"1970-01-01",Origin:"Europe"},{Name:"peugeot 504",Miles_per_Gallon:25,Cylinders:4,Displacement:110,Horsepower:87,Weight_in_lbs:2672,Acceleration:17.5,Year:"1970-01-01",Origin:"Europe"},{Name:"audi 100 ls",Miles_per_Gallon:24,Cylinders:4,Displacement:107,Horsepower:90,Weight_in_lbs:2430,Acceleration:14.5,Year:"1970-01-01",Origin:"Europe"},{Name:"saab 99e",Miles_per_Gallon:25,Cylinders:4,Displacement:104,Horsepower:95,Weight_in_lbs:2375,Acceleration:17.5,Year:"1970-01-01",Origin:"Europe"},{Name:"bmw 2002",Miles_per_Gallon:26,Cylinders:4,Displacement:121,Horsepower:113,Weight_in_lbs:2234,Acceleration:12.5,Year:"1970-01-01",Origin:"Europe"},{Name:"amc gremlin",Miles_per_Gallon:21,Cylinders:6,Displacement:199,Horsepower:90,Weight_in_lbs:2648,Acceleration:15,Year:"1970-01-01",Origin:"USA"},{Name:"ford f250",Miles_per_Gallon:10,Cylinders:8,Displacement:360,Horsepower:215,Weight_in_lbs:4615,Acceleration:14,Year:"1970-01-01",Origin:"USA"},{Name:"chevy c20",Miles_per_Gallon:10,Cylinders:8,Displacement:307,Horsepower:200,Weight_in_lbs:4376,Acceleration:15,Year:"1970-01-01",Origin:"USA"},{Name:"dodge d200",Miles_per_Gallon:11,Cylinders:8,Displacement:318,Horsepower:210,Weight_in_lbs:4382,Acceleration:13.5,Year:"1970-01-01",Origin:"USA"},{Name:"hi 1200d",Miles_per_Gallon:9,Cylinders:8,Displacement:304,Horsepower:193,Weight_in_lbs:4732,Acceleration:18.5,Year:"1970-01-01",Origin:"USA"},{Name:"datsun pl510",Miles_per_Gallon:27,Cylinders:4,Displacement:97,Horsepower:88,Weight_in_lbs:2130,Acceleration:14.5,Year:"1971-01-01",Origin:"Japan"},{Name:"chevrolet vega 2300",Miles_per_Gallon:28,Cylinders:4,Displacement:140,Horsepower:90,Weight_in_lbs:2264,Acceleration:15.5,Year:"1971-01-01",Origin:"USA"},{Name:"toyota corona",Miles_per_Gallon:25,Cylinders:4,Displacement:113,Horsepower:95,Weight_in_lbs:2228,Acceleration:14,Year:"1971-01-01",Origin:"Japan"},{Name:"ford pinto",Miles_per_Gallon:25,Cylinders:4,Displacement:98,Horsepower:null,Weight_in_lbs:2046,Acceleration:19,Year:"1971-01-01",Origin:"USA"},{Name:"volkswagen super beetle 117",Miles_per_Gallon:null,Cylinders:4,Displacement:97,Horsepower:48,Weight_in_lbs:1978,Acceleration:20,Year:"1971-01-01",Origin:"Europe"},{Name:"amc gremlin",Miles_per_Gallon:19,Cylinders:6,Displacement:232,Horsepower:100,Weight_in_lbs:2634,Acceleration:13,Year:"1971-01-01",Origin:"USA"},{Name:"plymouth satellite custom",Miles_per_Gallon:16,Cylinders:6,Displacement:225,Horsepower:105,Weight_in_lbs:3439,Acceleration:15.5,Year:"1971-01-01",Origin:"USA"},{Name:"chevrolet chevelle malibu",Miles_per_Gallon:17,Cylinders:6,Displacement:250,Horsepower:100,Weight_in_lbs:3329,Acceleration:15.5,Year:"1971-01-01",Origin:"USA"},{Name:"ford torino 500",Miles_per_Gallon:19,Cylinders:6,Displacement:250,Horsepower:88,Weight_in_lbs:3302,Acceleration:15.5,Year:"1971-01-01",Origin:"USA"},{Name:"amc matador",Miles_per_Gallon:18,Cylinders:6,Displacement:232,Horsepower:100,Weight_in_lbs:3288,Acceleration:15.5,Year:"1971-01-01",Origin:"USA"},{Name:"chevrolet impala",Miles_per_Gallon:14,Cylinders:8,Displacement:350,Horsepower:165,Weight_in_lbs:4209,Acceleration:12,Year:"1971-01-01",Origin:"USA"},{Name:"pontiac catalina brougham",Miles_per_Gallon:14,Cylinders:8,Displacement:400,Horsepower:175,Weight_in_lbs:4464,Acceleration:11.5,Year:"1971-01-01",Origin:"USA"},{Name:"ford galaxie 500",Miles_per_Gallon:14,Cylinders:8,Displacement:351,Horsepower:153,Weight_in_lbs:4154,Acceleration:13.5,Year:"1971-01-01",Origin:"USA"},{Name:"plymouth fury iii",Miles_per_Gallon:14,Cylinders:8,Displacement:318,Horsepower:150,Weight_in_lbs:4096,Acceleration:13,Year:"1971-01-01",Origin:"USA"},{Name:"dodge monaco (sw)",Miles_per_Gallon:12,Cylinders:8,Displacement:383,Horsepower:180,Weight_in_lbs:4955,Acceleration:11.5,Year:"1971-01-01",Origin:"USA"},{Name:"ford country squire (sw)",Miles_per_Gallon:13,Cylinders:8,Displacement:400,Horsepower:170,Weight_in_lbs:4746,Acceleration:12,Year:"1971-01-01",Origin:"USA"},{Name:"pontiac safari (sw)",Miles_per_Gallon:13,Cylinders:8,Displacement:400,Horsepower:175,Weight_in_lbs:5140,Acceleration:12,Year:"1971-01-01",Origin:"USA"},{Name:"amc hornet sportabout (sw)",Miles_per_Gallon:18,Cylinders:6,Displacement:258,Horsepower:110,Weight_in_lbs:2962,Acceleration:13.5,Year:"1971-01-01",Origin:"USA"},{Name:"chevrolet vega (sw)",Miles_per_Gallon:22,Cylinders:4,Displacement:140,Horsepower:72,Weight_in_lbs:2408,Acceleration:19,Year:"1971-01-01",Origin:"USA"},{Name:"pontiac firebird",Miles_per_Gallon:19,Cylinders:6,Displacement:250,Horsepower:100,Weight_in_lbs:3282,Acceleration:15,Year:"1971-01-01",Origin:"USA"},{Name:"ford mustang",Miles_per_Gallon:18,Cylinders:6,Displacement:250,Horsepower:88,Weight_in_lbs:3139,Acceleration:14.5,Year:"1971-01-01",Origin:"USA"},{Name:"mercury capri 2000",Miles_per_Gallon:23,Cylinders:4,Displacement:122,Horsepower:86,Weight_in_lbs:2220,Acceleration:14,Year:"1971-01-01",Origin:"USA"},{Name:"opel 1900",Miles_per_Gallon:28,Cylinders:4,Displacement:116,Horsepower:90,Weight_in_lbs:2123,Acceleration:14,Year:"1971-01-01",Origin:"Europe"},{Name:"peugeot 304",Miles_per_Gallon:30,Cylinders:4,Displacement:79,Horsepower:70,Weight_in_lbs:2074,Acceleration:19.5,Year:"1971-01-01",Origin:"Europe"},{Name:"fiat 124b",Miles_per_Gallon:30,Cylinders:4,Displacement:88,Horsepower:76,Weight_in_lbs:2065,Acceleration:14.5,Year:"1971-01-01",Origin:"Europe"},{Name:"toyota corolla 1200",Miles_per_Gallon:31,Cylinders:4,Displacement:71,Horsepower:65,Weight_in_lbs:1773,Acceleration:19,Year:"1971-01-01",Origin:"Japan"},{Name:"datsun 1200",Miles_per_Gallon:35,Cylinders:4,Displacement:72,Horsepower:69,Weight_in_lbs:1613,Acceleration:18,Year:"1971-01-01",Origin:"Japan"},{Name:"volkswagen model 111",Miles_per_Gallon:27,Cylinders:4,Displacement:97,Horsepower:60,Weight_in_lbs:1834,Acceleration:19,Year:"1971-01-01",Origin:"Europe"},{Name:"plymouth cricket",Miles_per_Gallon:26,Cylinders:4,Displacement:91,Horsepower:70,Weight_in_lbs:1955,Acceleration:20.5,Year:"1971-01-01",Origin:"USA"},{Name:"toyota corona hardtop",Miles_per_Gallon:24,Cylinders:4,Displacement:113,Horsepower:95,Weight_in_lbs:2278,Acceleration:15.5,Year:"1972-01-01",Origin:"Japan"},{Name:"dodge colt hardtop",Miles_per_Gallon:25,Cylinders:4,Displacement:97.5,Horsepower:80,Weight_in_lbs:2126,Acceleration:17,Year:"1972-01-01",Origin:"USA"},{Name:"volkswagen type 3",Miles_per_Gallon:23,Cylinders:4,Displacement:97,Horsepower:54,Weight_in_lbs:2254,Acceleration:23.5,Year:"1972-01-01",Origin:"Europe"},{Name:"chevrolet vega",Miles_per_Gallon:20,Cylinders:4,Displacement:140,Horsepower:90,Weight_in_lbs:2408,Acceleration:19.5,Year:"1972-01-01",Origin:"USA"},{Name:"ford pinto runabout",Miles_per_Gallon:21,Cylinders:4,Displacement:122,Horsepower:86,Weight_in_lbs:2226,Acceleration:16.5,Year:"1972-01-01",Origin:"USA"},{Name:"chevrolet impala",Miles_per_Gallon:13,Cylinders:8,Displacement:350,Horsepower:165,Weight_in_lbs:4274,Acceleration:12,Year:"1972-01-01",Origin:"USA"},{Name:"pontiac catalina",Miles_per_Gallon:14,Cylinders:8,Displacement:400,Horsepower:175,Weight_in_lbs:4385,Acceleration:12,Year:"1972-01-01",Origin:"USA"},{Name:"plymouth fury iii",Miles_per_Gallon:15,Cylinders:8,Displacement:318,Horsepower:150,Weight_in_lbs:4135,Acceleration:13.5,Year:"1972-01-01",Origin:"USA"},{Name:"ford galaxie 500",Miles_per_Gallon:14,Cylinders:8,Displacement:351,Horsepower:153,Weight_in_lbs:4129,Acceleration:13,Year:"1972-01-01",Origin:"USA"},{Name:"amc ambassador sst",Miles_per_Gallon:17,Cylinders:8,Displacement:304,Horsepower:150,Weight_in_lbs:3672,Acceleration:11.5,Year:"1972-01-01",Origin:"USA"},{Name:"mercury marquis",Miles_per_Gallon:11,Cylinders:8,Displacement:429,Horsepower:208,Weight_in_lbs:4633,Acceleration:11,Year:"1972-01-01",Origin:"USA"},{Name:"buick lesabre custom",Miles_per_Gallon:13,Cylinders:8,Displacement:350,Horsepower:155,Weight_in_lbs:4502,Acceleration:13.5,Year:"1972-01-01",Origin:"USA"},{Name:"oldsmobile delta 88 royale",Miles_per_Gallon:12,Cylinders:8,Displacement:350,Horsepower:160,Weight_in_lbs:4456,Acceleration:13.5,Year:"1972-01-01",Origin:"USA"},{Name:"chrysler newport royal",Miles_per_Gallon:13,Cylinders:8,Displacement:400,Horsepower:190,Weight_in_lbs:4422,Acceleration:12.5,Year:"1972-01-01",Origin:"USA"},{Name:"mazda rx2 coupe",Miles_per_Gallon:19,Cylinders:3,Displacement:70,Horsepower:97,Weight_in_lbs:2330,Acceleration:13.5,Year:"1972-01-01",Origin:"Japan"},{Name:"amc matador (sw)",Miles_per_Gallon:15,Cylinders:8,Displacement:304,Horsepower:150,Weight_in_lbs:3892,Acceleration:12.5,Year:"1972-01-01",Origin:"USA"},{Name:"chevrolet chevelle concours (sw)",Miles_per_Gallon:13,Cylinders:8,Displacement:307,Horsepower:130,Weight_in_lbs:4098,Acceleration:14,Year:"1972-01-01",Origin:"USA"},{Name:"ford gran torino (sw)",Miles_per_Gallon:13,Cylinders:8,Displacement:302,Horsepower:140,Weight_in_lbs:4294,Acceleration:16,Year:"1972-01-01",Origin:"USA"},{Name:"plymouth satellite custom (sw)",Miles_per_Gallon:14,Cylinders:8,Displacement:318,Horsepower:150,Weight_in_lbs:4077,Acceleration:14,Year:"1972-01-01",Origin:"USA"},{Name:"volvo 145e (sw)",Miles_per_Gallon:18,Cylinders:4,Displacement:121,Horsepower:112,Weight_in_lbs:2933,Acceleration:14.5,Year:"1972-01-01",Origin:"Europe"},{Name:"volkswagen 411 (sw)",Miles_per_Gallon:22,Cylinders:4,Displacement:121,Horsepower:76,Weight_in_lbs:2511,Acceleration:18,Year:"1972-01-01",Origin:"Europe"},{Name:"peugeot 504 (sw)",Miles_per_Gallon:21,Cylinders:4,Displacement:120,Horsepower:87,Weight_in_lbs:2979,Acceleration:19.5,Year:"1972-01-01",Origin:"Europe"},{Name:"renault 12 (sw)",Miles_per_Gallon:26,Cylinders:4,Displacement:96,Horsepower:69,Weight_in_lbs:2189,Acceleration:18,Year:"1972-01-01",Origin:"Europe"},{Name:"ford pinto (sw)",Miles_per_Gallon:22,Cylinders:4,Displacement:122,Horsepower:86,Weight_in_lbs:2395,Acceleration:16,Year:"1972-01-01",Origin:"USA"},{Name:"datsun 510 (sw)",Miles_per_Gallon:28,Cylinders:4,Displacement:97,Horsepower:92,Weight_in_lbs:2288,Acceleration:17,Year:"1972-01-01",Origin:"Japan"},{Name:"toyouta corona mark ii (sw)",Miles_per_Gallon:23,Cylinders:4,Displacement:120,Horsepower:97,Weight_in_lbs:2506,Acceleration:14.5,Year:"1972-01-01",Origin:"Japan"},{Name:"dodge colt (sw)",Miles_per_Gallon:28,Cylinders:4,Displacement:98,Horsepower:80,Weight_in_lbs:2164,Acceleration:15,Year:"1972-01-01",Origin:"USA"},{Name:"toyota corolla 1600 (sw)",Miles_per_Gallon:27,Cylinders:4,Displacement:97,Horsepower:88,Weight_in_lbs:2100,Acceleration:16.5,Year:"1972-01-01",Origin:"Japan"},{Name:"buick century 350",Miles_per_Gallon:13,Cylinders:8,Displacement:350,Horsepower:175,Weight_in_lbs:4100,Acceleration:13,Year:"1973-01-01",Origin:"USA"},{Name:"amc matador",Miles_per_Gallon:14,Cylinders:8,Displacement:304,Horsepower:150,Weight_in_lbs:3672,Acceleration:11.5,Year:"1973-01-01",Origin:"USA"},{Name:"chevrolet malibu",Miles_per_Gallon:13,Cylinders:8,Displacement:350,Horsepower:145,Weight_in_lbs:3988,Acceleration:13,Year:"1973-01-01",Origin:"USA"},{Name:"ford gran torino",Miles_per_Gallon:14,Cylinders:8,Displacement:302,Horsepower:137,Weight_in_lbs:4042,Acceleration:14.5,Year:"1973-01-01",Origin:"USA"},{Name:"dodge coronet custom",Miles_per_Gallon:15,Cylinders:8,Displacement:318,Horsepower:150,Weight_in_lbs:3777,Acceleration:12.5,Year:"1973-01-01",Origin:"USA"},{Name:"mercury marquis brougham",Miles_per_Gallon:12,Cylinders:8,Displacement:429,Horsepower:198,Weight_in_lbs:4952,Acceleration:11.5,Year:"1973-01-01",Origin:"USA"},{Name:"chevrolet caprice classic",Miles_per_Gallon:13,Cylinders:8,Displacement:400,Horsepower:150,Weight_in_lbs:4464,Acceleration:12,Year:"1973-01-01",Origin:"USA"},{Name:"ford ltd",Miles_per_Gallon:13,Cylinders:8,Displacement:351,Horsepower:158,Weight_in_lbs:4363,Acceleration:13,Year:"1973-01-01",Origin:"USA"},{Name:"plymouth fury gran sedan",Miles_per_Gallon:14,Cylinders:8,Displacement:318,Horsepower:150,Weight_in_lbs:4237,Acceleration:14.5,Year:"1973-01-01",Origin:"USA"},{Name:"chrysler new yorker brougham",Miles_per_Gallon:13,Cylinders:8,Displacement:440,Horsepower:215,Weight_in_lbs:4735,Acceleration:11,Year:"1973-01-01",Origin:"USA"},{Name:"buick electra 225 custom",Miles_per_Gallon:12,Cylinders:8,Displacement:455,Horsepower:225,Weight_in_lbs:4951,Acceleration:11,Year:"1973-01-01",Origin:"USA"},{Name:"amc ambassador brougham",Miles_per_Gallon:13,Cylinders:8,Displacement:360,Horsepower:175,Weight_in_lbs:3821,Acceleration:11,Year:"1973-01-01",Origin:"USA"},{Name:"plymouth valiant",Miles_per_Gallon:18,Cylinders:6,Displacement:225,Horsepower:105,Weight_in_lbs:3121,Acceleration:16.5,Year:"1973-01-01",Origin:"USA"},{Name:"chevrolet nova custom",Miles_per_Gallon:16,Cylinders:6,Displacement:250,Horsepower:100,Weight_in_lbs:3278,Acceleration:18,Year:"1973-01-01",Origin:"USA"},{Name:"amc hornet",Miles_per_Gallon:18,Cylinders:6,Displacement:232,Horsepower:100,Weight_in_lbs:2945,Acceleration:16,Year:"1973-01-01",Origin:"USA"},{Name:"ford maverick",Miles_per_Gallon:18,Cylinders:6,Displacement:250,Horsepower:88,Weight_in_lbs:3021,Acceleration:16.5,Year:"1973-01-01",Origin:"USA"},{Name:"plymouth duster",Miles_per_Gallon:23,Cylinders:6,Displacement:198,Horsepower:95,Weight_in_lbs:2904,Acceleration:16,Year:"1973-01-01",Origin:"USA"},{Name:"volkswagen super beetle",Miles_per_Gallon:26,Cylinders:4,Displacement:97,Horsepower:46,Weight_in_lbs:1950,Acceleration:21,Year:"1973-01-01",Origin:"Europe"},{Name:"chevrolet impala",Miles_per_Gallon:11,Cylinders:8,Displacement:400,Horsepower:150,Weight_in_lbs:4997,Acceleration:14,Year:"1973-01-01",Origin:"USA"},{Name:"ford country",Miles_per_Gallon:12,Cylinders:8,Displacement:400,Horsepower:167,Weight_in_lbs:4906,Acceleration:12.5,Year:"1973-01-01",Origin:"USA"},{Name:"plymouth custom suburb",Miles_per_Gallon:13,Cylinders:8,Displacement:360,Horsepower:170,Weight_in_lbs:4654,Acceleration:13,Year:"1973-01-01",Origin:"USA"},{Name:"oldsmobile vista cruiser",Miles_per_Gallon:12,Cylinders:8,Displacement:350,Horsepower:180,Weight_in_lbs:4499,Acceleration:12.5,Year:"1973-01-01",Origin:"USA"},{Name:"amc gremlin",Miles_per_Gallon:18,Cylinders:6,Displacement:232,Horsepower:100,Weight_in_lbs:2789,Acceleration:15,Year:"1973-01-01",Origin:"USA"},{Name:"toyota carina",Miles_per_Gallon:20,Cylinders:4,Displacement:97,Horsepower:88,Weight_in_lbs:2279,Acceleration:19,Year:"1973-01-01",Origin:"Japan"},{Name:"chevrolet vega",Miles_per_Gallon:21,Cylinders:4,Displacement:140,Horsepower:72,Weight_in_lbs:2401,Acceleration:19.5,Year:"1973-01-01",Origin:"USA"},{Name:"datsun 610",Miles_per_Gallon:22,Cylinders:4,Displacement:108,Horsepower:94,Weight_in_lbs:2379,Acceleration:16.5,Year:"1973-01-01",Origin:"Japan"},{Name:"maxda rx3",Miles_per_Gallon:18,Cylinders:3,Displacement:70,Horsepower:90,Weight_in_lbs:2124,Acceleration:13.5,Year:"1973-01-01",Origin:"Japan"},{Name:"ford pinto",Miles_per_Gallon:19,Cylinders:4,Displacement:122,Horsepower:85,Weight_in_lbs:2310,Acceleration:18.5,Year:"1973-01-01",Origin:"USA"},{Name:"mercury capri v6",Miles_per_Gallon:21,Cylinders:6,Displacement:155,Horsepower:107,Weight_in_lbs:2472,Acceleration:14,Year:"1973-01-01",Origin:"USA"},{Name:"fiat 124 sport coupe",Miles_per_Gallon:26,Cylinders:4,Displacement:98,Horsepower:90,Weight_in_lbs:2265,Acceleration:15.5,Year:"1973-01-01",Origin:"Europe"},{Name:"chevrolet monte carlo s",Miles_per_Gallon:15,Cylinders:8,Displacement:350,Horsepower:145,Weight_in_lbs:4082,Acceleration:13,Year:"1973-01-01",Origin:"USA"},{Name:"pontiac grand prix",Miles_per_Gallon:16,Cylinders:8,Displacement:400,Horsepower:230,Weight_in_lbs:4278,Acceleration:9.5,Year:"1973-01-01",Origin:"USA"},{Name:"fiat 128",Miles_per_Gallon:29,Cylinders:4,Displacement:68,Horsepower:49,Weight_in_lbs:1867,Acceleration:19.5,Year:"1973-01-01",Origin:"Europe"},{Name:"opel manta",Miles_per_Gallon:24,Cylinders:4,Displacement:116,Horsepower:75,Weight_in_lbs:2158,Acceleration:15.5,Year:"1973-01-01",Origin:"Europe"},{Name:"audi 100ls",Miles_per_Gallon:20,Cylinders:4,Displacement:114,Horsepower:91,Weight_in_lbs:2582,Acceleration:14,Year:"1973-01-01",Origin:"Europe"},{Name:"volvo 144ea",Miles_per_Gallon:19,Cylinders:4,Displacement:121,Horsepower:112,Weight_in_lbs:2868,Acceleration:15.5,Year:"1973-01-01",Origin:"Europe"},{Name:"dodge dart custom",Miles_per_Gallon:15,Cylinders:8,Displacement:318,Horsepower:150,Weight_in_lbs:3399,Acceleration:11,Year:"1973-01-01",Origin:"USA"},{Name:"saab 99le",Miles_per_Gallon:24,Cylinders:4,Displacement:121,Horsepower:110,Weight_in_lbs:2660,Acceleration:14,Year:"1973-01-01",Origin:"Europe"},{Name:"toyota mark ii",Miles_per_Gallon:20,Cylinders:6,Displacement:156,Horsepower:122,Weight_in_lbs:2807,Acceleration:13.5,Year:"1973-01-01",Origin:"Japan"},{Name:"oldsmobile omega",Miles_per_Gallon:11,Cylinders:8,Displacement:350,Horsepower:180,Weight_in_lbs:3664,Acceleration:11,Year:"1973-01-01",Origin:"USA"},{Name:"plymouth duster",Miles_per_Gallon:20,Cylinders:6,Displacement:198,Horsepower:95,Weight_in_lbs:3102,Acceleration:16.5,Year:"1974-01-01",Origin:"USA"},{Name:"ford maverick",Miles_per_Gallon:21,Cylinders:6,Displacement:200,Horsepower:null,Weight_in_lbs:2875,Acceleration:17,Year:"1974-01-01",Origin:"USA"},{Name:"amc hornet",Miles_per_Gallon:19,Cylinders:6,Displacement:232,Horsepower:100,Weight_in_lbs:2901,Acceleration:16,Year:"1974-01-01",Origin:"USA"},{Name:"chevrolet nova",Miles_per_Gallon:15,Cylinders:6,Displacement:250,Horsepower:100,Weight_in_lbs:3336,Acceleration:17,Year:"1974-01-01",Origin:"USA"},{Name:"datsun b210",Miles_per_Gallon:31,Cylinders:4,Displacement:79,Horsepower:67,Weight_in_lbs:1950,Acceleration:19,Year:"1974-01-01",Origin:"Japan"},{Name:"ford pinto",Miles_per_Gallon:26,Cylinders:4,Displacement:122,Horsepower:80,Weight_in_lbs:2451,Acceleration:16.5,Year:"1974-01-01",Origin:"USA"},{Name:"toyota corolla 1200",Miles_per_Gallon:32,Cylinders:4,Displacement:71,Horsepower:65,Weight_in_lbs:1836,Acceleration:21,Year:"1974-01-01",Origin:"Japan"},{Name:"chevrolet vega",Miles_per_Gallon:25,Cylinders:4,Displacement:140,Horsepower:75,Weight_in_lbs:2542,Acceleration:17,Year:"1974-01-01",Origin:"USA"},{Name:"chevrolet chevelle malibu classic",Miles_per_Gallon:16,Cylinders:6,Displacement:250,Horsepower:100,Weight_in_lbs:3781,Acceleration:17,Year:"1974-01-01",Origin:"USA"},{Name:"amc matador",Miles_per_Gallon:16,Cylinders:6,Displacement:258,Horsepower:110,Weight_in_lbs:3632,Acceleration:18,Year:"1974-01-01",Origin:"USA"},{Name:"plymouth satellite sebring",Miles_per_Gallon:18,Cylinders:6,Displacement:225,Horsepower:105,Weight_in_lbs:3613,Acceleration:16.5,Year:"1974-01-01",Origin:"USA"},{Name:"ford gran torino",Miles_per_Gallon:16,Cylinders:8,Displacement:302,Horsepower:140,Weight_in_lbs:4141,Acceleration:14,Year:"1974-01-01",Origin:"USA"},{Name:"buick century luxus (sw)",Miles_per_Gallon:13,Cylinders:8,Displacement:350,Horsepower:150,Weight_in_lbs:4699,Acceleration:14.5,Year:"1974-01-01",Origin:"USA"},{Name:"dodge coronet custom (sw)",Miles_per_Gallon:14,Cylinders:8,Displacement:318,Horsepower:150,Weight_in_lbs:4457,Acceleration:13.5,Year:"1974-01-01",Origin:"USA"},{Name:"ford gran torino (sw)",Miles_per_Gallon:14,Cylinders:8,Displacement:302,Horsepower:140,Weight_in_lbs:4638,Acceleration:16,Year:"1974-01-01",Origin:"USA"},{Name:"amc matador (sw)",Miles_per_Gallon:14,Cylinders:8,Displacement:304,Horsepower:150,Weight_in_lbs:4257,Acceleration:15.5,Year:"1974-01-01",Origin:"USA"},{Name:"audi fox",Miles_per_Gallon:29,Cylinders:4,Displacement:98,Horsepower:83,Weight_in_lbs:2219,Acceleration:16.5,Year:"1974-01-01",Origin:"Europe"},{Name:"volkswagen dasher",Miles_per_Gallon:26,Cylinders:4,Displacement:79,Horsepower:67,Weight_in_lbs:1963,Acceleration:15.5,Year:"1974-01-01",Origin:"Europe"},{Name:"opel manta",Miles_per_Gallon:26,Cylinders:4,Displacement:97,Horsepower:78,Weight_in_lbs:2300,Acceleration:14.5,Year:"1974-01-01",Origin:"Europe"},{Name:"toyota corona",Miles_per_Gallon:31,Cylinders:4,Displacement:76,Horsepower:52,Weight_in_lbs:1649,Acceleration:16.5,Year:"1974-01-01",Origin:"Japan"},{Name:"datsun 710",Miles_per_Gallon:32,Cylinders:4,Displacement:83,Horsepower:61,Weight_in_lbs:2003,Acceleration:19,Year:"1974-01-01",Origin:"Japan"},{Name:"dodge colt",Miles_per_Gallon:28,Cylinders:4,Displacement:90,Horsepower:75,Weight_in_lbs:2125,Acceleration:14.5,Year:"1974-01-01",Origin:"USA"},{Name:"fiat 128",Miles_per_Gallon:24,Cylinders:4,Displacement:90,Horsepower:75,Weight_in_lbs:2108,Acceleration:15.5,Year:"1974-01-01",Origin:"Europe"},{Name:"fiat 124 tc",Miles_per_Gallon:26,Cylinders:4,Displacement:116,Horsepower:75,Weight_in_lbs:2246,Acceleration:14,Year:"1974-01-01",Origin:"Europe"},{Name:"honda civic",Miles_per_Gallon:24,Cylinders:4,Displacement:120,Horsepower:97,Weight_in_lbs:2489,Acceleration:15,Year:"1974-01-01",Origin:"Japan"},{Name:"subaru",Miles_per_Gallon:26,Cylinders:4,Displacement:108,Horsepower:93,Weight_in_lbs:2391,Acceleration:15.5,Year:"1974-01-01",Origin:"Japan"},{Name:"fiat x1.9",Miles_per_Gallon:31,Cylinders:4,Displacement:79,Horsepower:67,Weight_in_lbs:2e3,Acceleration:16,Year:"1974-01-01",Origin:"Europe"},{Name:"plymouth valiant custom",Miles_per_Gallon:19,Cylinders:6,Displacement:225,Horsepower:95,Weight_in_lbs:3264,Acceleration:16,Year:"1975-01-01",Origin:"USA"},{Name:"chevrolet nova",Miles_per_Gallon:18,Cylinders:6,Displacement:250,Horsepower:105,Weight_in_lbs:3459,Acceleration:16,Year:"1975-01-01",Origin:"USA"},{Name:"mercury monarch",Miles_per_Gallon:15,Cylinders:6,Displacement:250,Horsepower:72,Weight_in_lbs:3432,Acceleration:21,Year:"1975-01-01",Origin:"USA"},{Name:"ford maverick",Miles_per_Gallon:15,Cylinders:6,Displacement:250,Horsepower:72,Weight_in_lbs:3158,Acceleration:19.5,Year:"1975-01-01",Origin:"USA"},{Name:"pontiac catalina",Miles_per_Gallon:16,Cylinders:8,Displacement:400,Horsepower:170,Weight_in_lbs:4668,Acceleration:11.5,Year:"1975-01-01",Origin:"USA"},{Name:"chevrolet bel air",Miles_per_Gallon:15,Cylinders:8,Displacement:350,Horsepower:145,Weight_in_lbs:4440,Acceleration:14,Year:"1975-01-01",Origin:"USA"},{Name:"plymouth grand fury",Miles_per_Gallon:16,Cylinders:8,Displacement:318,Horsepower:150,Weight_in_lbs:4498,Acceleration:14.5,Year:"1975-01-01",Origin:"USA"},{Name:"ford ltd",Miles_per_Gallon:14,Cylinders:8,Displacement:351,Horsepower:148,Weight_in_lbs:4657,Acceleration:13.5,Year:"1975-01-01",Origin:"USA"},{Name:"buick century",Miles_per_Gallon:17,Cylinders:6,Displacement:231,Horsepower:110,Weight_in_lbs:3907,Acceleration:21,Year:"1975-01-01",Origin:"USA"},{Name:"chevroelt chevelle malibu",Miles_per_Gallon:16,Cylinders:6,Displacement:250,Horsepower:105,Weight_in_lbs:3897,Acceleration:18.5,Year:"1975-01-01",Origin:"USA"},{Name:"amc matador",Miles_per_Gallon:15,Cylinders:6,Displacement:258,Horsepower:110,Weight_in_lbs:3730,Acceleration:19,Year:"1975-01-01",Origin:"USA"},{Name:"plymouth fury",Miles_per_Gallon:18,Cylinders:6,Displacement:225,Horsepower:95,Weight_in_lbs:3785,Acceleration:19,Year:"1975-01-01",Origin:"USA"},{Name:"buick skyhawk",Miles_per_Gallon:21,Cylinders:6,Displacement:231,Horsepower:110,Weight_in_lbs:3039,Acceleration:15,Year:"1975-01-01",Origin:"USA"},{Name:"chevrolet monza 2+2",Miles_per_Gallon:20,Cylinders:8,Displacement:262,Horsepower:110,Weight_in_lbs:3221,Acceleration:13.5,Year:"1975-01-01",Origin:"USA"},{Name:"ford mustang ii",Miles_per_Gallon:13,Cylinders:8,Displacement:302,Horsepower:129,Weight_in_lbs:3169,Acceleration:12,Year:"1975-01-01",Origin:"USA"},{Name:"toyota corolla",Miles_per_Gallon:29,Cylinders:4,Displacement:97,Horsepower:75,Weight_in_lbs:2171,Acceleration:16,Year:"1975-01-01",Origin:"Japan"},{Name:"ford pinto",Miles_per_Gallon:23,Cylinders:4,Displacement:140,Horsepower:83,Weight_in_lbs:2639,Acceleration:17,Year:"1975-01-01",Origin:"USA"},{Name:"amc gremlin",Miles_per_Gallon:20,Cylinders:6,Displacement:232,Horsepower:100,Weight_in_lbs:2914,Acceleration:16,Year:"1975-01-01",Origin:"USA"},{Name:"pontiac astro",Miles_per_Gallon:23,Cylinders:4,Displacement:140,Horsepower:78,Weight_in_lbs:2592,Acceleration:18.5,Year:"1975-01-01",Origin:"USA"},{Name:"toyota corona",Miles_per_Gallon:24,Cylinders:4,Displacement:134,Horsepower:96,Weight_in_lbs:2702,Acceleration:13.5,Year:"1975-01-01",Origin:"Japan"},{Name:"volkswagen dasher",Miles_per_Gallon:25,Cylinders:4,Displacement:90,Horsepower:71,Weight_in_lbs:2223,Acceleration:16.5,Year:"1975-01-01",Origin:"Europe"},{Name:"datsun 710",Miles_per_Gallon:24,Cylinders:4,Displacement:119,Horsepower:97,Weight_in_lbs:2545,Acceleration:17,Year:"1975-01-01",Origin:"Japan"},{Name:"ford pinto",Miles_per_Gallon:18,Cylinders:6,Displacement:171,Horsepower:97,Weight_in_lbs:2984,Acceleration:14.5,Year:"1975-01-01",Origin:"USA"},{Name:"volkswagen rabbit",Miles_per_Gallon:29,Cylinders:4,Displacement:90,Horsepower:70,Weight_in_lbs:1937,Acceleration:14,Year:"1975-01-01",Origin:"Europe"},{Name:"amc pacer",Miles_per_Gallon:19,Cylinders:6,Displacement:232,Horsepower:90,Weight_in_lbs:3211,Acceleration:17,Year:"1975-01-01",Origin:"USA"},{Name:"audi 100ls",Miles_per_Gallon:23,Cylinders:4,Displacement:115,Horsepower:95,Weight_in_lbs:2694,Acceleration:15,Year:"1975-01-01",Origin:"Europe"},{Name:"peugeot 504",Miles_per_Gallon:23,Cylinders:4,Displacement:120,Horsepower:88,Weight_in_lbs:2957,Acceleration:17,Year:"1975-01-01",Origin:"Europe"},{Name:"volvo 244dl",Miles_per_Gallon:22,Cylinders:4,Displacement:121,Horsepower:98,Weight_in_lbs:2945,Acceleration:14.5,Year:"1975-01-01",Origin:"Europe"},{Name:"saab 99le",Miles_per_Gallon:25,Cylinders:4,Displacement:121,Horsepower:115,Weight_in_lbs:2671,Acceleration:13.5,Year:"1975-01-01",Origin:"Europe"},{Name:"honda civic cvcc",Miles_per_Gallon:33,Cylinders:4,Displacement:91,Horsepower:53,Weight_in_lbs:1795,Acceleration:17.5,Year:"1975-01-01",Origin:"Japan"},{Name:"fiat 131",Miles_per_Gallon:28,Cylinders:4,Displacement:107,Horsepower:86,Weight_in_lbs:2464,Acceleration:15.5,Year:"1976-01-01",Origin:"Europe"},{Name:"opel 1900",Miles_per_Gallon:25,Cylinders:4,Displacement:116,Horsepower:81,Weight_in_lbs:2220,Acceleration:16.9,Year:"1976-01-01",Origin:"Europe"},{Name:"capri ii",Miles_per_Gallon:25,Cylinders:4,Displacement:140,Horsepower:92,Weight_in_lbs:2572,Acceleration:14.9,Year:"1976-01-01",Origin:"USA"},{Name:"dodge colt",Miles_per_Gallon:26,Cylinders:4,Displacement:98,Horsepower:79,Weight_in_lbs:2255,Acceleration:17.7,Year:"1976-01-01",Origin:"USA"},{Name:"renault 12tl",Miles_per_Gallon:27,Cylinders:4,Displacement:101,Horsepower:83,Weight_in_lbs:2202,Acceleration:15.3,Year:"1976-01-01",Origin:"Europe"},{Name:"chevrolet chevelle malibu classic",Miles_per_Gallon:17.5,Cylinders:8,Displacement:305,Horsepower:140,Weight_in_lbs:4215,Acceleration:13,Year:"1976-01-01",Origin:"USA"},{Name:"dodge coronet brougham",Miles_per_Gallon:16,Cylinders:8,Displacement:318,Horsepower:150,Weight_in_lbs:4190,Acceleration:13,Year:"1976-01-01",Origin:"USA"},{Name:"amc matador",Miles_per_Gallon:15.5,Cylinders:8,Displacement:304,Horsepower:120,Weight_in_lbs:3962,Acceleration:13.9,Year:"1976-01-01",Origin:"USA"},{Name:"ford gran torino",Miles_per_Gallon:14.5,Cylinders:8,Displacement:351,Horsepower:152,Weight_in_lbs:4215,Acceleration:12.8,Year:"1976-01-01",Origin:"USA"},{Name:"plymouth valiant",Miles_per_Gallon:22,Cylinders:6,Displacement:225,Horsepower:100,Weight_in_lbs:3233,Acceleration:15.4,Year:"1976-01-01",Origin:"USA"},{Name:"chevrolet nova",Miles_per_Gallon:22,Cylinders:6,Displacement:250,Horsepower:105,Weight_in_lbs:3353,Acceleration:14.5,Year:"1976-01-01",Origin:"USA"},{Name:"ford maverick",Miles_per_Gallon:24,Cylinders:6,Displacement:200,Horsepower:81,Weight_in_lbs:3012,Acceleration:17.6,Year:"1976-01-01",Origin:"USA"},{Name:"amc hornet",Miles_per_Gallon:22.5,Cylinders:6,Displacement:232,Horsepower:90,Weight_in_lbs:3085,Acceleration:17.6,Year:"1976-01-01",Origin:"USA"},{Name:"chevrolet chevette",Miles_per_Gallon:29,Cylinders:4,Displacement:85,Horsepower:52,Weight_in_lbs:2035,Acceleration:22.2,Year:"1976-01-01",Origin:"USA"},{Name:"chevrolet woody",Miles_per_Gallon:24.5,Cylinders:4,Displacement:98,Horsepower:60,Weight_in_lbs:2164,Acceleration:22.1,Year:"1976-01-01",Origin:"USA"},{Name:"vw rabbit",Miles_per_Gallon:29,Cylinders:4,Displacement:90,Horsepower:70,Weight_in_lbs:1937,Acceleration:14.2,Year:"1976-01-01",Origin:"Europe"},{Name:"honda civic",Miles_per_Gallon:33,Cylinders:4,Displacement:91,Horsepower:53,Weight_in_lbs:1795,Acceleration:17.4,Year:"1976-01-01",Origin:"Japan"},{Name:"dodge aspen se",Miles_per_Gallon:20,Cylinders:6,Displacement:225,Horsepower:100,Weight_in_lbs:3651,Acceleration:17.7,Year:"1976-01-01",Origin:"USA"},{Name:"ford granada ghia",Miles_per_Gallon:18,Cylinders:6,Displacement:250,Horsepower:78,Weight_in_lbs:3574,Acceleration:21,Year:"1976-01-01",Origin:"USA"},{Name:"pontiac ventura sj",Miles_per_Gallon:18.5,Cylinders:6,Displacement:250,Horsepower:110,Weight_in_lbs:3645,Acceleration:16.2,Year:"1976-01-01",Origin:"USA"},{Name:"amc pacer d/l",Miles_per_Gallon:17.5,Cylinders:6,Displacement:258,Horsepower:95,Weight_in_lbs:3193,Acceleration:17.8,Year:"1976-01-01",Origin:"USA"},{Name:"volkswagen rabbit",Miles_per_Gallon:29.5,Cylinders:4,Displacement:97,Horsepower:71,Weight_in_lbs:1825,Acceleration:12.2,Year:"1976-01-01",Origin:"Europe"},{Name:"datsun b-210",Miles_per_Gallon:32,Cylinders:4,Displacement:85,Horsepower:70,Weight_in_lbs:1990,Acceleration:17,Year:"1976-01-01",Origin:"Japan"},{Name:"toyota corolla",Miles_per_Gallon:28,Cylinders:4,Displacement:97,Horsepower:75,Weight_in_lbs:2155,Acceleration:16.4,Year:"1976-01-01",Origin:"Japan"},{Name:"ford pinto",Miles_per_Gallon:26.5,Cylinders:4,Displacement:140,Horsepower:72,Weight_in_lbs:2565,Acceleration:13.6,Year:"1976-01-01",Origin:"USA"},{Name:"volvo 245",Miles_per_Gallon:20,Cylinders:4,Displacement:130,Horsepower:102,Weight_in_lbs:3150,Acceleration:15.7,Year:"1976-01-01",Origin:"Europe"},{Name:"plymouth volare premier v8",Miles_per_Gallon:13,Cylinders:8,Displacement:318,Horsepower:150,Weight_in_lbs:3940,Acceleration:13.2,Year:"1976-01-01",Origin:"USA"},{Name:"peugeot 504",Miles_per_Gallon:19,Cylinders:4,Displacement:120,Horsepower:88,Weight_in_lbs:3270,Acceleration:21.9,Year:"1976-01-01",Origin:"Europe"},{Name:"toyota mark ii",Miles_per_Gallon:19,Cylinders:6,Displacement:156,Horsepower:108,Weight_in_lbs:2930,Acceleration:15.5,Year:"1976-01-01",Origin:"Japan"},{Name:"mercedes-benz 280s",Miles_per_Gallon:16.5,Cylinders:6,Displacement:168,Horsepower:120,Weight_in_lbs:3820,Acceleration:16.7,Year:"1976-01-01",Origin:"Europe"},{Name:"cadillac seville",Miles_per_Gallon:16.5,Cylinders:8,Displacement:350,Horsepower:180,Weight_in_lbs:4380,Acceleration:12.1,Year:"1976-01-01",Origin:"USA"},{Name:"chevy c10",Miles_per_Gallon:13,Cylinders:8,Displacement:350,Horsepower:145,Weight_in_lbs:4055,Acceleration:12,Year:"1976-01-01",Origin:"USA"},{Name:"ford f108",Miles_per_Gallon:13,Cylinders:8,Displacement:302,Horsepower:130,Weight_in_lbs:3870,Acceleration:15,Year:"1976-01-01",Origin:"USA"},{Name:"dodge d100",Miles_per_Gallon:13,Cylinders:8,Displacement:318,Horsepower:150,Weight_in_lbs:3755,Acceleration:14,Year:"1976-01-01",Origin:"USA"},{Name:"honda Accelerationord cvcc",Miles_per_Gallon:31.5,Cylinders:4,Displacement:98,Horsepower:68,Weight_in_lbs:2045,Acceleration:18.5,Year:"1977-01-01",Origin:"Japan"},{Name:"buick opel isuzu deluxe",Miles_per_Gallon:30,Cylinders:4,Displacement:111,Horsepower:80,Weight_in_lbs:2155,Acceleration:14.8,Year:"1977-01-01",Origin:"USA"},{Name:"renault 5 gtl",Miles_per_Gallon:36,Cylinders:4,Displacement:79,Horsepower:58,Weight_in_lbs:1825,Acceleration:18.6,Year:"1977-01-01",Origin:"Europe"},{Name:"plymouth arrow gs",Miles_per_Gallon:25.5,Cylinders:4,Displacement:122,Horsepower:96,Weight_in_lbs:2300,Acceleration:15.5,Year:"1977-01-01",Origin:"USA"},{Name:"datsun f-10 hatchback",Miles_per_Gallon:33.5,Cylinders:4,Displacement:85,Horsepower:70,Weight_in_lbs:1945,Acceleration:16.8,Year:"1977-01-01",Origin:"Japan"},{Name:"chevrolet caprice classic",Miles_per_Gallon:17.5,Cylinders:8,Displacement:305,Horsepower:145,Weight_in_lbs:3880,Acceleration:12.5,Year:"1977-01-01",Origin:"USA"},{Name:"oldsmobile cutlass supreme",Miles_per_Gallon:17,Cylinders:8,Displacement:260,Horsepower:110,Weight_in_lbs:4060,Acceleration:19,Year:"1977-01-01",Origin:"USA"},{Name:"dodge monaco brougham",Miles_per_Gallon:15.5,Cylinders:8,Displacement:318,Horsepower:145,Weight_in_lbs:4140,Acceleration:13.7,Year:"1977-01-01",Origin:"USA"},{Name:"mercury cougar brougham",Miles_per_Gallon:15,Cylinders:8,Displacement:302,Horsepower:130,Weight_in_lbs:4295,Acceleration:14.9,Year:"1977-01-01",Origin:"USA"},{Name:"chevrolet concours",Miles_per_Gallon:17.5,Cylinders:6,Displacement:250,Horsepower:110,Weight_in_lbs:3520,Acceleration:16.4,Year:"1977-01-01",Origin:"USA"},{Name:"buick skylark",Miles_per_Gallon:20.5,Cylinders:6,Displacement:231,Horsepower:105,Weight_in_lbs:3425,Acceleration:16.9,Year:"1977-01-01",Origin:"USA"},{Name:"plymouth volare custom",Miles_per_Gallon:19,Cylinders:6,Displacement:225,Horsepower:100,Weight_in_lbs:3630,Acceleration:17.7,Year:"1977-01-01",Origin:"USA"},{Name:"ford granada",Miles_per_Gallon:18.5,Cylinders:6,Displacement:250,Horsepower:98,Weight_in_lbs:3525,Acceleration:19,Year:"1977-01-01",Origin:"USA"},{Name:"pontiac grand prix lj",Miles_per_Gallon:16,Cylinders:8,Displacement:400,Horsepower:180,Weight_in_lbs:4220,Acceleration:11.1,Year:"1977-01-01",Origin:"USA"},{Name:"chevrolet monte carlo landau",Miles_per_Gallon:15.5,Cylinders:8,Displacement:350,Horsepower:170,Weight_in_lbs:4165,Acceleration:11.4,Year:"1977-01-01",Origin:"USA"},{Name:"chrysler cordoba",Miles_per_Gallon:15.5,Cylinders:8,Displacement:400,Horsepower:190,Weight_in_lbs:4325,Acceleration:12.2,Year:"1977-01-01",Origin:"USA"},{Name:"ford thunderbird",Miles_per_Gallon:16,Cylinders:8,Displacement:351,Horsepower:149,Weight_in_lbs:4335,Acceleration:14.5,Year:"1977-01-01",Origin:"USA"},{Name:"volkswagen rabbit custom",Miles_per_Gallon:29,Cylinders:4,Displacement:97,Horsepower:78,Weight_in_lbs:1940,Acceleration:14.5,Year:"1977-01-01",Origin:"Europe"},{Name:"pontiac sunbird coupe",Miles_per_Gallon:24.5,Cylinders:4,Displacement:151,Horsepower:88,Weight_in_lbs:2740,Acceleration:16,Year:"1977-01-01",Origin:"USA"},{Name:"toyota corolla liftback",Miles_per_Gallon:26,Cylinders:4,Displacement:97,Horsepower:75,Weight_in_lbs:2265,Acceleration:18.2,Year:"1977-01-01",Origin:"Japan"},{Name:"ford mustang ii 2+2",Miles_per_Gallon:25.5,Cylinders:4,Displacement:140,Horsepower:89,Weight_in_lbs:2755,Acceleration:15.8,Year:"1977-01-01",Origin:"USA"},{Name:"chevrolet chevette",Miles_per_Gallon:30.5,Cylinders:4,Displacement:98,Horsepower:63,Weight_in_lbs:2051,Acceleration:17,Year:"1977-01-01",Origin:"USA"},{Name:"dodge colt m/m",Miles_per_Gallon:33.5,Cylinders:4,Displacement:98,Horsepower:83,Weight_in_lbs:2075,Acceleration:15.9,Year:"1977-01-01",Origin:"USA"},{Name:"subaru dl",Miles_per_Gallon:30,Cylinders:4,Displacement:97,Horsepower:67,Weight_in_lbs:1985,Acceleration:16.4,Year:"1977-01-01",Origin:"Japan"},{Name:"volkswagen dasher",Miles_per_Gallon:30.5,Cylinders:4,Displacement:97,Horsepower:78,Weight_in_lbs:2190,Acceleration:14.1,Year:"1977-01-01",Origin:"Europe"},{Name:"datsun 810",Miles_per_Gallon:22,Cylinders:6,Displacement:146,Horsepower:97,Weight_in_lbs:2815,Acceleration:14.5,Year:"1977-01-01",Origin:"Japan"},{Name:"bmw 320i",Miles_per_Gallon:21.5,Cylinders:4,Displacement:121,Horsepower:110,Weight_in_lbs:2600,Acceleration:12.8,Year:"1977-01-01",Origin:"Europe"},{Name:"mazda rx-4",Miles_per_Gallon:21.5,Cylinders:3,Displacement:80,Horsepower:110,Weight_in_lbs:2720,Acceleration:13.5,Year:"1977-01-01",Origin:"Japan"},{Name:"volkswagen rabbit custom diesel",Miles_per_Gallon:43.1,Cylinders:4,Displacement:90,Horsepower:48,Weight_in_lbs:1985,Acceleration:21.5,Year:"1978-01-01",Origin:"Europe"},{Name:"ford fiesta",Miles_per_Gallon:36.1,Cylinders:4,Displacement:98,Horsepower:66,Weight_in_lbs:1800,Acceleration:14.4,Year:"1978-01-01",Origin:"USA"},{Name:"mazda glc deluxe",Miles_per_Gallon:32.8,Cylinders:4,Displacement:78,Horsepower:52,Weight_in_lbs:1985,Acceleration:19.4,Year:"1978-01-01",Origin:"Japan"},{Name:"datsun b210 gx",Miles_per_Gallon:39.4,Cylinders:4,Displacement:85,Horsepower:70,Weight_in_lbs:2070,Acceleration:18.6,Year:"1978-01-01",Origin:"Japan"},{Name:"honda civic cvcc",Miles_per_Gallon:36.1,Cylinders:4,Displacement:91,Horsepower:60,Weight_in_lbs:1800,Acceleration:16.4,Year:"1978-01-01",Origin:"Japan"},{Name:"oldsmobile cutlass salon brougham",Miles_per_Gallon:19.9,Cylinders:8,Displacement:260,Horsepower:110,Weight_in_lbs:3365,Acceleration:15.5,Year:"1978-01-01",Origin:"USA"},{Name:"dodge diplomat",Miles_per_Gallon:19.4,Cylinders:8,Displacement:318,Horsepower:140,Weight_in_lbs:3735,Acceleration:13.2,Year:"1978-01-01",Origin:"USA"},{Name:"mercury monarch ghia",Miles_per_Gallon:20.2,Cylinders:8,Displacement:302,Horsepower:139,Weight_in_lbs:3570,Acceleration:12.8,Year:"1978-01-01",Origin:"USA"},{Name:"pontiac phoenix lj",Miles_per_Gallon:19.2,Cylinders:6,Displacement:231,Horsepower:105,Weight_in_lbs:3535,Acceleration:19.2,Year:"1978-01-01",Origin:"USA"},{Name:"chevrolet malibu",Miles_per_Gallon:20.5,Cylinders:6,Displacement:200,Horsepower:95,Weight_in_lbs:3155,Acceleration:18.2,Year:"1978-01-01",Origin:"USA"},{Name:"ford fairmont (auto)",Miles_per_Gallon:20.2,Cylinders:6,Displacement:200,Horsepower:85,Weight_in_lbs:2965,Acceleration:15.8,Year:"1978-01-01",Origin:"USA"},{Name:"ford fairmont (man)",Miles_per_Gallon:25.1,Cylinders:4,Displacement:140,Horsepower:88,Weight_in_lbs:2720,Acceleration:15.4,Year:"1978-01-01",Origin:"USA"},{Name:"plymouth volare",Miles_per_Gallon:20.5,Cylinders:6,Displacement:225,Horsepower:100,Weight_in_lbs:3430,Acceleration:17.2,Year:"1978-01-01",Origin:"USA"},{Name:"amc concord",Miles_per_Gallon:19.4,Cylinders:6,Displacement:232,Horsepower:90,Weight_in_lbs:3210,Acceleration:17.2,Year:"1978-01-01",Origin:"USA"},{Name:"buick century special",Miles_per_Gallon:20.6,Cylinders:6,Displacement:231,Horsepower:105,Weight_in_lbs:3380,Acceleration:15.8,Year:"1978-01-01",Origin:"USA"},{Name:"mercury zephyr",Miles_per_Gallon:20.8,Cylinders:6,Displacement:200,Horsepower:85,Weight_in_lbs:3070,Acceleration:16.7,Year:"1978-01-01",Origin:"USA"},{Name:"dodge aspen",Miles_per_Gallon:18.6,Cylinders:6,Displacement:225,Horsepower:110,Weight_in_lbs:3620,Acceleration:18.7,Year:"1978-01-01",Origin:"USA"},{Name:"amc concord d/l",Miles_per_Gallon:18.1,Cylinders:6,Displacement:258,Horsepower:120,Weight_in_lbs:3410,Acceleration:15.1,Year:"1978-01-01",Origin:"USA"},{Name:"chevrolet monte carlo landau",Miles_per_Gallon:19.2,Cylinders:8,Displacement:305,Horsepower:145,Weight_in_lbs:3425,Acceleration:13.2,Year:"1978-01-01",Origin:"USA"},{Name:"buick regal sport coupe (turbo)",Miles_per_Gallon:17.7,Cylinders:6,Displacement:231,Horsepower:165,Weight_in_lbs:3445,Acceleration:13.4,Year:"1978-01-01",Origin:"USA"},{Name:"ford futura",Miles_per_Gallon:18.1,Cylinders:8,Displacement:302,Horsepower:139,Weight_in_lbs:3205,Acceleration:11.2,Year:"1978-01-01",Origin:"USA"},{Name:"dodge magnum xe",Miles_per_Gallon:17.5,Cylinders:8,Displacement:318,Horsepower:140,Weight_in_lbs:4080,Acceleration:13.7,Year:"1978-01-01",Origin:"USA"},{Name:"chevrolet chevette",Miles_per_Gallon:30,Cylinders:4,Displacement:98,Horsepower:68,Weight_in_lbs:2155,Acceleration:16.5,Year:"1978-01-01",Origin:"USA"},{Name:"toyota corona",Miles_per_Gallon:27.5,Cylinders:4,Displacement:134,Horsepower:95,Weight_in_lbs:2560,Acceleration:14.2,Year:"1978-01-01",Origin:"Japan"},{Name:"datsun 510",Miles_per_Gallon:27.2,Cylinders:4,Displacement:119,Horsepower:97,Weight_in_lbs:2300,Acceleration:14.7,Year:"1978-01-01",Origin:"Japan"},{Name:"dodge omni",Miles_per_Gallon:30.9,Cylinders:4,Displacement:105,Horsepower:75,Weight_in_lbs:2230,Acceleration:14.5,Year:"1978-01-01",Origin:"USA"},{Name:"toyota celica gt liftback",Miles_per_Gallon:21.1,Cylinders:4,Displacement:134,Horsepower:95,Weight_in_lbs:2515,Acceleration:14.8,Year:"1978-01-01",Origin:"Japan"},{Name:"plymouth sapporo",Miles_per_Gallon:23.2,Cylinders:4,Displacement:156,Horsepower:105,Weight_in_lbs:2745,Acceleration:16.7,Year:"1978-01-01",Origin:"USA"},{Name:"oldsmobile starfire sx",Miles_per_Gallon:23.8,Cylinders:4,Displacement:151,Horsepower:85,Weight_in_lbs:2855,Acceleration:17.6,Year:"1978-01-01",Origin:"USA"},{Name:"datsun 200-sx",Miles_per_Gallon:23.9,Cylinders:4,Displacement:119,Horsepower:97,Weight_in_lbs:2405,Acceleration:14.9,Year:"1978-01-01",Origin:"Japan"},{Name:"audi 5000",Miles_per_Gallon:20.3,Cylinders:5,Displacement:131,Horsepower:103,Weight_in_lbs:2830,Acceleration:15.9,Year:"1978-01-01",Origin:"Europe"},{Name:"volvo 264gl",Miles_per_Gallon:17,Cylinders:6,Displacement:163,Horsepower:125,Weight_in_lbs:3140,Acceleration:13.6,Year:"1978-01-01",Origin:"Europe"},{Name:"saab 99gle",Miles_per_Gallon:21.6,Cylinders:4,Displacement:121,Horsepower:115,Weight_in_lbs:2795,Acceleration:15.7,Year:"1978-01-01",Origin:"Europe"},{Name:"peugeot 604sl",Miles_per_Gallon:16.2,Cylinders:6,Displacement:163,Horsepower:133,Weight_in_lbs:3410,Acceleration:15.8,Year:"1978-01-01",Origin:"Europe"},{Name:"volkswagen scirocco",Miles_per_Gallon:31.5,Cylinders:4,Displacement:89,Horsepower:71,Weight_in_lbs:1990,Acceleration:14.9,Year:"1978-01-01",Origin:"Europe"},{Name:"honda Accelerationord lx",Miles_per_Gallon:29.5,Cylinders:4,Displacement:98,Horsepower:68,Weight_in_lbs:2135,Acceleration:16.6,Year:"1978-01-01",Origin:"Japan"},{Name:"pontiac lemans v6",Miles_per_Gallon:21.5,Cylinders:6,Displacement:231,Horsepower:115,Weight_in_lbs:3245,Acceleration:15.4,Year:"1979-01-01",Origin:"USA"},{Name:"mercury zephyr 6",Miles_per_Gallon:19.8,Cylinders:6,Displacement:200,Horsepower:85,Weight_in_lbs:2990,Acceleration:18.2,Year:"1979-01-01",Origin:"USA"},{Name:"ford fairmont 4",Miles_per_Gallon:22.3,Cylinders:4,Displacement:140,Horsepower:88,Weight_in_lbs:2890,Acceleration:17.3,Year:"1979-01-01",Origin:"USA"},{Name:"amc concord dl 6",Miles_per_Gallon:20.2,Cylinders:6,Displacement:232,Horsepower:90,Weight_in_lbs:3265,Acceleration:18.2,Year:"1979-01-01",Origin:"USA"},{Name:"dodge aspen 6",Miles_per_Gallon:20.6,Cylinders:6,Displacement:225,Horsepower:110,Weight_in_lbs:3360,Acceleration:16.6,Year:"1979-01-01",Origin:"USA"},{Name:"chevrolet caprice classic",Miles_per_Gallon:17,Cylinders:8,Displacement:305,Horsepower:130,Weight_in_lbs:3840,Acceleration:15.4,Year:"1979-01-01",Origin:"USA"},{Name:"ford ltd landau",Miles_per_Gallon:17.6,Cylinders:8,Displacement:302,Horsepower:129,Weight_in_lbs:3725,Acceleration:13.4,Year:"1979-01-01",Origin:"USA"},{Name:"mercury grand marquis",Miles_per_Gallon:16.5,Cylinders:8,Displacement:351,Horsepower:138,Weight_in_lbs:3955,Acceleration:13.2,Year:"1979-01-01",Origin:"USA"},{Name:"dodge st. regis",Miles_per_Gallon:18.2,Cylinders:8,Displacement:318,Horsepower:135,Weight_in_lbs:3830,Acceleration:15.2,Year:"1979-01-01",Origin:"USA"},{Name:"buick estate wagon (sw)",Miles_per_Gallon:16.9,Cylinders:8,Displacement:350,Horsepower:155,Weight_in_lbs:4360,Acceleration:14.9,Year:"1979-01-01",Origin:"USA"},{Name:"ford country squire (sw)",Miles_per_Gallon:15.5,Cylinders:8,Displacement:351,Horsepower:142,Weight_in_lbs:4054,Acceleration:14.3,Year:"1979-01-01",Origin:"USA"},{Name:"chevrolet malibu classic (sw)",Miles_per_Gallon:19.2,Cylinders:8,Displacement:267,Horsepower:125,Weight_in_lbs:3605,Acceleration:15,Year:"1979-01-01",Origin:"USA"},{Name:"chrysler lebaron town @ country (sw)",Miles_per_Gallon:18.5,Cylinders:8,Displacement:360,Horsepower:150,Weight_in_lbs:3940,Acceleration:13,Year:"1979-01-01",Origin:"USA"},{Name:"vw rabbit custom",Miles_per_Gallon:31.9,Cylinders:4,Displacement:89,Horsepower:71,Weight_in_lbs:1925,Acceleration:14,Year:"1979-01-01",Origin:"Europe"},{Name:"maxda glc deluxe",Miles_per_Gallon:34.1,Cylinders:4,Displacement:86,Horsepower:65,Weight_in_lbs:1975,Acceleration:15.2,Year:"1979-01-01",Origin:"Japan"},{Name:"dodge colt hatchback custom",Miles_per_Gallon:35.7,Cylinders:4,Displacement:98,Horsepower:80,Weight_in_lbs:1915,Acceleration:14.4,Year:"1979-01-01",Origin:"USA"},{Name:"amc spirit dl",Miles_per_Gallon:27.4,Cylinders:4,Displacement:121,Horsepower:80,Weight_in_lbs:2670,Acceleration:15,Year:"1979-01-01",Origin:"USA"},{Name:"mercedes benz 300d",Miles_per_Gallon:25.4,Cylinders:5,Displacement:183,Horsepower:77,Weight_in_lbs:3530,Acceleration:20.1,Year:"1979-01-01",Origin:"Europe"},{Name:"cadillac eldorado",Miles_per_Gallon:23,Cylinders:8,Displacement:350,Horsepower:125,Weight_in_lbs:3900,Acceleration:17.4,Year:"1979-01-01",Origin:"USA"},{Name:"peugeot 504",Miles_per_Gallon:27.2,Cylinders:4,Displacement:141,Horsepower:71,Weight_in_lbs:3190,Acceleration:24.8,Year:"1979-01-01",Origin:"Europe"},{Name:"oldsmobile cutlass salon brougham",Miles_per_Gallon:23.9,Cylinders:8,Displacement:260,Horsepower:90,Weight_in_lbs:3420,Acceleration:22.2,Year:"1979-01-01",Origin:"USA"},{Name:"plymouth horizon",Miles_per_Gallon:34.2,Cylinders:4,Displacement:105,Horsepower:70,Weight_in_lbs:2200,Acceleration:13.2,Year:"1979-01-01",Origin:"USA"},{Name:"plymouth horizon tc3",Miles_per_Gallon:34.5,Cylinders:4,Displacement:105,Horsepower:70,Weight_in_lbs:2150,Acceleration:14.9,Year:"1979-01-01",Origin:"USA"},{Name:"datsun 210",Miles_per_Gallon:31.8,Cylinders:4,Displacement:85,Horsepower:65,Weight_in_lbs:2020,Acceleration:19.2,Year:"1979-01-01",Origin:"Japan"},{Name:"fiat strada custom",Miles_per_Gallon:37.3,Cylinders:4,Displacement:91,Horsepower:69,Weight_in_lbs:2130,Acceleration:14.7,Year:"1979-01-01",Origin:"Europe"},{Name:"buick skylark limited",Miles_per_Gallon:28.4,Cylinders:4,Displacement:151,Horsepower:90,Weight_in_lbs:2670,Acceleration:16,Year:"1979-01-01",Origin:"USA"},{Name:"chevrolet citation",Miles_per_Gallon:28.8,Cylinders:6,Displacement:173,Horsepower:115,Weight_in_lbs:2595,Acceleration:11.3,Year:"1979-01-01",Origin:"USA"},{Name:"oldsmobile omega brougham",Miles_per_Gallon:26.8,Cylinders:6,Displacement:173,Horsepower:115,Weight_in_lbs:2700,Acceleration:12.9,Year:"1979-01-01",Origin:"USA"},{Name:"pontiac phoenix",Miles_per_Gallon:33.5,Cylinders:4,Displacement:151,Horsepower:90,Weight_in_lbs:2556,Acceleration:13.2,Year:"1979-01-01",Origin:"USA"},{Name:"vw rabbit",Miles_per_Gallon:41.5,Cylinders:4,Displacement:98,Horsepower:76,Weight_in_lbs:2144,Acceleration:14.7,Year:"1980-01-01",Origin:"Europe"},{Name:"toyota corolla tercel",Miles_per_Gallon:38.1,Cylinders:4,Displacement:89,Horsepower:60,Weight_in_lbs:1968,Acceleration:18.8,Year:"1980-01-01",Origin:"Japan"},{Name:"chevrolet chevette",Miles_per_Gallon:32.1,Cylinders:4,Displacement:98,Horsepower:70,Weight_in_lbs:2120,Acceleration:15.5,Year:"1980-01-01",Origin:"USA"},{Name:"datsun 310",Miles_per_Gallon:37.2,Cylinders:4,Displacement:86,Horsepower:65,Weight_in_lbs:2019,Acceleration:16.4,Year:"1980-01-01",Origin:"Japan"},{Name:"chevrolet citation",Miles_per_Gallon:28,Cylinders:4,Displacement:151,Horsepower:90,Weight_in_lbs:2678,Acceleration:16.5,Year:"1980-01-01",Origin:"USA"},{Name:"ford fairmont",Miles_per_Gallon:26.4,Cylinders:4,Displacement:140,Horsepower:88,Weight_in_lbs:2870,Acceleration:18.1,Year:"1980-01-01",Origin:"USA"},{Name:"amc concord",Miles_per_Gallon:24.3,Cylinders:4,Displacement:151,Horsepower:90,Weight_in_lbs:3003,Acceleration:20.1,Year:"1980-01-01",Origin:"USA"},{Name:"dodge aspen",Miles_per_Gallon:19.1,Cylinders:6,Displacement:225,Horsepower:90,Weight_in_lbs:3381,Acceleration:18.7,Year:"1980-01-01",Origin:"USA"},{Name:"audi 4000",Miles_per_Gallon:34.3,Cylinders:4,Displacement:97,Horsepower:78,Weight_in_lbs:2188,Acceleration:15.8,Year:"1980-01-01",Origin:"Europe"},{Name:"toyota corona liftback",Miles_per_Gallon:29.8,Cylinders:4,Displacement:134,Horsepower:90,Weight_in_lbs:2711,Acceleration:15.5,Year:"1980-01-01",Origin:"Japan"},{Name:"mazda 626",Miles_per_Gallon:31.3,Cylinders:4,Displacement:120,Horsepower:75,Weight_in_lbs:2542,Acceleration:17.5,Year:"1980-01-01",Origin:"Japan"},{Name:"datsun 510 hatchback",Miles_per_Gallon:37,Cylinders:4,Displacement:119,Horsepower:92,Weight_in_lbs:2434,Acceleration:15,Year:"1980-01-01",Origin:"Japan"},{Name:"toyota corolla",Miles_per_Gallon:32.2,Cylinders:4,Displacement:108,Horsepower:75,Weight_in_lbs:2265,Acceleration:15.2,Year:"1980-01-01",Origin:"Japan"},{Name:"mazda glc",Miles_per_Gallon:46.6,Cylinders:4,Displacement:86,Horsepower:65,Weight_in_lbs:2110,Acceleration:17.9,Year:"1980-01-01",Origin:"Japan"},{Name:"dodge colt",Miles_per_Gallon:27.9,Cylinders:4,Displacement:156,Horsepower:105,Weight_in_lbs:2800,Acceleration:14.4,Year:"1980-01-01",Origin:"USA"},{Name:"datsun 210",Miles_per_Gallon:40.8,Cylinders:4,Displacement:85,Horsepower:65,Weight_in_lbs:2110,Acceleration:19.2,Year:"1980-01-01",Origin:"Japan"},{Name:"vw rabbit c (diesel)",Miles_per_Gallon:44.3,Cylinders:4,Displacement:90,Horsepower:48,Weight_in_lbs:2085,Acceleration:21.7,Year:"1980-01-01",Origin:"Europe"},{Name:"vw dasher (diesel)",Miles_per_Gallon:43.4,Cylinders:4,Displacement:90,Horsepower:48,Weight_in_lbs:2335,Acceleration:23.7,Year:"1980-01-01",Origin:"Europe"},{Name:"audi 5000s (diesel)",Miles_per_Gallon:36.4,Cylinders:5,Displacement:121,Horsepower:67,Weight_in_lbs:2950,Acceleration:19.9,Year:"1980-01-01",Origin:"Europe"},{Name:"mercedes-benz 240d",Miles_per_Gallon:30,Cylinders:4,Displacement:146,Horsepower:67,Weight_in_lbs:3250,Acceleration:21.8,Year:"1980-01-01",Origin:"Europe"},{Name:"honda civic 1500 gl",Miles_per_Gallon:44.6,Cylinders:4,Displacement:91,Horsepower:67,Weight_in_lbs:1850,Acceleration:13.8,Year:"1980-01-01",Origin:"Japan"},{Name:"renault lecar deluxe",Miles_per_Gallon:40.9,Cylinders:4,Displacement:85,Horsepower:null,Weight_in_lbs:1835,Acceleration:17.3,Year:"1980-01-01",Origin:"Europe"},{Name:"subaru dl",Miles_per_Gallon:33.8,Cylinders:4,Displacement:97,Horsepower:67,Weight_in_lbs:2145,Acceleration:18,Year:"1980-01-01",Origin:"Japan"},{Name:"vokswagen rabbit",Miles_per_Gallon:29.8,Cylinders:4,Displacement:89,Horsepower:62,Weight_in_lbs:1845,Acceleration:15.3,Year:"1980-01-01",Origin:"Europe"},{Name:"datsun 280-zx",Miles_per_Gallon:32.7,Cylinders:6,Displacement:168,Horsepower:132,Weight_in_lbs:2910,Acceleration:11.4,Year:"1980-01-01",Origin:"Japan"},{Name:"mazda rx-7 gs",Miles_per_Gallon:23.7,Cylinders:3,Displacement:70,Horsepower:100,Weight_in_lbs:2420,Acceleration:12.5,Year:"1980-01-01",Origin:"Japan"},{Name:"triumph tr7 coupe",Miles_per_Gallon:35,Cylinders:4,Displacement:122,Horsepower:88,Weight_in_lbs:2500,Acceleration:15.1,Year:"1980-01-01",Origin:"Europe"},{Name:"ford mustang cobra",Miles_per_Gallon:23.6,Cylinders:4,Displacement:140,Horsepower:null,Weight_in_lbs:2905,Acceleration:14.3,Year:"1980-01-01",Origin:"USA"},{Name:"honda Accelerationord",Miles_per_Gallon:32.4,Cylinders:4,Displacement:107,Horsepower:72,Weight_in_lbs:2290,Acceleration:17,Year:"1980-01-01",Origin:"Japan"},{Name:"plymouth reliant",Miles_per_Gallon:27.2,Cylinders:4,Displacement:135,Horsepower:84,Weight_in_lbs:2490,Acceleration:15.7,Year:"1982-01-01",Origin:"USA"},{Name:"buick skylark",Miles_per_Gallon:26.6,Cylinders:4,Displacement:151,Horsepower:84,Weight_in_lbs:2635,Acceleration:16.4,Year:"1982-01-01",Origin:"USA"},{Name:"dodge aries wagon (sw)",Miles_per_Gallon:25.8,Cylinders:4,Displacement:156,Horsepower:92,Weight_in_lbs:2620,Acceleration:14.4,Year:"1982-01-01",Origin:"USA"},{Name:"chevrolet citation",Miles_per_Gallon:23.5,Cylinders:6,Displacement:173,Horsepower:110,Weight_in_lbs:2725,Acceleration:12.6,Year:"1982-01-01",Origin:"USA"},{Name:"plymouth reliant",Miles_per_Gallon:30,Cylinders:4,Displacement:135,Horsepower:84,Weight_in_lbs:2385,Acceleration:12.9,Year:"1982-01-01",Origin:"USA"},{Name:"toyota starlet",Miles_per_Gallon:39.1,Cylinders:4,Displacement:79,Horsepower:58,Weight_in_lbs:1755,Acceleration:16.9,Year:"1982-01-01",Origin:"Japan"},{Name:"plymouth champ",Miles_per_Gallon:39,Cylinders:4,Displacement:86,Horsepower:64,Weight_in_lbs:1875,Acceleration:16.4,Year:"1982-01-01",Origin:"USA"},{Name:"honda civic 1300",Miles_per_Gallon:35.1,Cylinders:4,Displacement:81,Horsepower:60,Weight_in_lbs:1760,Acceleration:16.1,Year:"1982-01-01",Origin:"Japan"},{Name:"subaru",Miles_per_Gallon:32.3,Cylinders:4,Displacement:97,Horsepower:67,Weight_in_lbs:2065,Acceleration:17.8,Year:"1982-01-01",Origin:"Japan"},{Name:"datsun 210",Miles_per_Gallon:37,Cylinders:4,Displacement:85,Horsepower:65,Weight_in_lbs:1975,Acceleration:19.4,Year:"1982-01-01",Origin:"Japan"},{Name:"toyota tercel",Miles_per_Gallon:37.7,Cylinders:4,Displacement:89,Horsepower:62,Weight_in_lbs:2050,Acceleration:17.3,Year:"1982-01-01",Origin:"Japan"},{Name:"mazda glc 4",Miles_per_Gallon:34.1,Cylinders:4,Displacement:91,Horsepower:68,Weight_in_lbs:1985,Acceleration:16,Year:"1982-01-01",Origin:"Japan"},{Name:"plymouth horizon 4",Miles_per_Gallon:34.7,Cylinders:4,Displacement:105,Horsepower:63,Weight_in_lbs:2215,Acceleration:14.9,Year:"1982-01-01",Origin:"USA"},{Name:"ford escort 4w",Miles_per_Gallon:34.4,Cylinders:4,Displacement:98,Horsepower:65,Weight_in_lbs:2045,Acceleration:16.2,Year:"1982-01-01",Origin:"USA"},{Name:"ford escort 2h",Miles_per_Gallon:29.9,Cylinders:4,Displacement:98,Horsepower:65,Weight_in_lbs:2380,Acceleration:20.7,Year:"1982-01-01",Origin:"USA"},{Name:"volkswagen jetta",Miles_per_Gallon:33,Cylinders:4,Displacement:105,Horsepower:74,Weight_in_lbs:2190,Acceleration:14.2,Year:"1982-01-01",Origin:"Europe"},{Name:"renault 18i",Miles_per_Gallon:34.5,Cylinders:4,Displacement:100,Horsepower:null,Weight_in_lbs:2320,Acceleration:15.8,Year:"1982-01-01",Origin:"Europe"},{Name:"honda prelude",Miles_per_Gallon:33.7,Cylinders:4,Displacement:107,Horsepower:75,Weight_in_lbs:2210,Acceleration:14.4,Year:"1982-01-01",Origin:"Japan"},{Name:"toyota corolla",Miles_per_Gallon:32.4,Cylinders:4,Displacement:108,Horsepower:75,Weight_in_lbs:2350,Acceleration:16.8,Year:"1982-01-01",Origin:"Japan"},{Name:"datsun 200sx",Miles_per_Gallon:32.9,Cylinders:4,Displacement:119,Horsepower:100,Weight_in_lbs:2615,Acceleration:14.8,Year:"1982-01-01",Origin:"Japan"},{Name:"mazda 626",Miles_per_Gallon:31.6,Cylinders:4,Displacement:120,Horsepower:74,Weight_in_lbs:2635,Acceleration:18.3,Year:"1982-01-01",Origin:"Japan"},{Name:"peugeot 505s turbo diesel",Miles_per_Gallon:28.1,Cylinders:4,Displacement:141,Horsepower:80,Weight_in_lbs:3230,Acceleration:20.4,Year:"1982-01-01",Origin:"Europe"},{Name:"saab 900s",Miles_per_Gallon:null,Cylinders:4,Displacement:121,Horsepower:110,Weight_in_lbs:2800,Acceleration:15.4,Year:"1982-01-01",Origin:"Europe"},{Name:"volvo diesel",Miles_per_Gallon:30.7,Cylinders:6,Displacement:145,Horsepower:76,Weight_in_lbs:3160,Acceleration:19.6,Year:"1982-01-01",Origin:"Europe"},{Name:"toyota cressida",Miles_per_Gallon:25.4,Cylinders:6,Displacement:168,Horsepower:116,Weight_in_lbs:2900,Acceleration:12.6,Year:"1982-01-01",Origin:"Japan"},{Name:"datsun 810 maxima",Miles_per_Gallon:24.2,Cylinders:6,Displacement:146,Horsepower:120,Weight_in_lbs:2930,Acceleration:13.8,Year:"1982-01-01",Origin:"Japan"},{Name:"buick century",Miles_per_Gallon:22.4,Cylinders:6,Displacement:231,Horsepower:110,Weight_in_lbs:3415,Acceleration:15.8,Year:"1982-01-01",Origin:"USA"},{Name:"oldsmobile cutlass ls",Miles_per_Gallon:26.6,Cylinders:8,Displacement:350,Horsepower:105,Weight_in_lbs:3725,Acceleration:19,Year:"1982-01-01",Origin:"USA"},{Name:"ford granada gl",Miles_per_Gallon:20.2,Cylinders:6,Displacement:200,Horsepower:88,Weight_in_lbs:3060,Acceleration:17.1,Year:"1982-01-01",Origin:"USA"},{Name:"chrysler lebaron salon",Miles_per_Gallon:17.6,Cylinders:6,Displacement:225,Horsepower:85,Weight_in_lbs:3465,Acceleration:16.6,Year:"1982-01-01",Origin:"USA"},{Name:"chevrolet cavalier",Miles_per_Gallon:28,Cylinders:4,Displacement:112,Horsepower:88,Weight_in_lbs:2605,Acceleration:19.6,Year:"1982-01-01",Origin:"USA"},{Name:"chevrolet cavalier wagon",Miles_per_Gallon:27,Cylinders:4,Displacement:112,Horsepower:88,Weight_in_lbs:2640,Acceleration:18.6,Year:"1982-01-01",Origin:"USA"},{Name:"chevrolet cavalier 2-door",Miles_per_Gallon:34,Cylinders:4,Displacement:112,Horsepower:88,Weight_in_lbs:2395,Acceleration:18,Year:"1982-01-01",Origin:"USA"},{Name:"pontiac j2000 se hatchback",Miles_per_Gallon:31,Cylinders:4,Displacement:112,Horsepower:85,Weight_in_lbs:2575,Acceleration:16.2,Year:"1982-01-01",Origin:"USA"},{Name:"dodge aries se",Miles_per_Gallon:29,Cylinders:4,Displacement:135,Horsepower:84,Weight_in_lbs:2525,Acceleration:16,Year:"1982-01-01",Origin:"USA"},{Name:"pontiac phoenix",Miles_per_Gallon:27,Cylinders:4,Displacement:151,Horsepower:90,Weight_in_lbs:2735,Acceleration:18,Year:"1982-01-01",Origin:"USA"},{Name:"ford fairmont futura",Miles_per_Gallon:24,Cylinders:4,Displacement:140,Horsepower:92,Weight_in_lbs:2865,Acceleration:16.4,Year:"1982-01-01",Origin:"USA"},{Name:"amc concord dl",Miles_per_Gallon:23,Cylinders:4,Displacement:151,Horsepower:null,Weight_in_lbs:3035,Acceleration:20.5,Year:"1982-01-01",Origin:"USA"},{Name:"volkswagen rabbit l",Miles_per_Gallon:36,Cylinders:4,Displacement:105,Horsepower:74,Weight_in_lbs:1980,Acceleration:15.3,Year:"1982-01-01",Origin:"Europe"},{Name:"mazda glc custom l",Miles_per_Gallon:37,Cylinders:4,Displacement:91,Horsepower:68,Weight_in_lbs:2025,Acceleration:18.2,Year:"1982-01-01",Origin:"Japan"},{Name:"mazda glc custom",Miles_per_Gallon:31,Cylinders:4,Displacement:91,Horsepower:68,Weight_in_lbs:1970,Acceleration:17.6,Year:"1982-01-01",Origin:"Japan"},{Name:"plymouth horizon miser",Miles_per_Gallon:38,Cylinders:4,Displacement:105,Horsepower:63,Weight_in_lbs:2125,Acceleration:14.7,Year:"1982-01-01",Origin:"USA"},{Name:"mercury lynx l",Miles_per_Gallon:36,Cylinders:4,Displacement:98,Horsepower:70,Weight_in_lbs:2125,Acceleration:17.3,Year:"1982-01-01",Origin:"USA"},{Name:"nissan stanza xe",Miles_per_Gallon:36,Cylinders:4,Displacement:120,Horsepower:88,Weight_in_lbs:2160,Acceleration:14.5,Year:"1982-01-01",Origin:"Japan"},{Name:"honda Accelerationord",Miles_per_Gallon:36,Cylinders:4,Displacement:107,Horsepower:75,Weight_in_lbs:2205,Acceleration:14.5,Year:"1982-01-01",Origin:"Japan"},{Name:"toyota corolla",Miles_per_Gallon:34,Cylinders:4,Displacement:108,Horsepower:70,Weight_in_lbs:2245,Acceleration:16.9,Year:"1982-01-01",Origin:"Japan"},{Name:"honda civic",Miles_per_Gallon:38,Cylinders:4,Displacement:91,Horsepower:67,Weight_in_lbs:1965,Acceleration:15,Year:"1982-01-01",Origin:"Japan"},{Name:"honda civic (auto)",Miles_per_Gallon:32,Cylinders:4,Displacement:91,Horsepower:67,Weight_in_lbs:1965,Acceleration:15.7,Year:"1982-01-01",Origin:"Japan"},{Name:"datsun 310 gx",Miles_per_Gallon:38,Cylinders:4,Displacement:91,Horsepower:67,Weight_in_lbs:1995,Acceleration:16.2,Year:"1982-01-01",Origin:"Japan"},{Name:"buick century limited",Miles_per_Gallon:25,Cylinders:6,Displacement:181,Horsepower:110,Weight_in_lbs:2945,Acceleration:16.4,Year:"1982-01-01",Origin:"USA"},{Name:"oldsmobile cutlass ciera (diesel)",Miles_per_Gallon:38,Cylinders:6,Displacement:262,Horsepower:85,Weight_in_lbs:3015,Acceleration:17,Year:"1982-01-01",Origin:"USA"},{Name:"chrysler lebaron medallion",Miles_per_Gallon:26,Cylinders:4,Displacement:156,Horsepower:92,Weight_in_lbs:2585,Acceleration:14.5,Year:"1982-01-01",Origin:"USA"},{Name:"ford granada l",Miles_per_Gallon:22,Cylinders:6,Displacement:232,Horsepower:112,Weight_in_lbs:2835,Acceleration:14.7,Year:"1982-01-01",Origin:"USA"},{Name:"toyota celica gt",Miles_per_Gallon:32,Cylinders:4,Displacement:144,Horsepower:96,Weight_in_lbs:2665,Acceleration:13.9,Year:"1982-01-01",Origin:"Japan"},{Name:"dodge charger 2.2",Miles_per_Gallon:36,Cylinders:4,Displacement:135,Horsepower:84,Weight_in_lbs:2370,Acceleration:13,Year:"1982-01-01",Origin:"USA"},{Name:"chevrolet camaro",Miles_per_Gallon:27,Cylinders:4,Displacement:151,Horsepower:90,Weight_in_lbs:2950,Acceleration:17.3,Year:"1982-01-01",Origin:"USA"},{Name:"ford mustang gl",Miles_per_Gallon:27,Cylinders:4,Displacement:140,Horsepower:86,Weight_in_lbs:2790,Acceleration:15.6,Year:"1982-01-01",Origin:"USA"},{Name:"vw pickup",Miles_per_Gallon:44,Cylinders:4,Displacement:97,Horsepower:52,Weight_in_lbs:2130,Acceleration:24.6,Year:"1982-01-01",Origin:"Europe"},{Name:"dodge rampage",Miles_per_Gallon:32,Cylinders:4,Displacement:135,Horsepower:84,Weight_in_lbs:2295,Acceleration:11.6,Year:"1982-01-01",Origin:"USA"},{Name:"ford ranger",Miles_per_Gallon:28,Cylinders:4,Displacement:120,Horsepower:79,Weight_in_lbs:2625,Acceleration:18.6,Year:"1982-01-01",Origin:"USA"},{Name:"chevy s-10",Miles_per_Gallon:31,Cylinders:4,Displacement:119,Horsepower:82,Weight_in_lbs:2720,Acceleration:19.4,Year:"1982-01-01",Origin:"USA"}],YTe=e=>{Dt({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Mosaic"},data:{values:_G},transform:[{aggregate:[{op:"count",as:"count_*"}],groupby:["Origin","Cylinders"]},{stack:"count_*",groupby:[],as:["stack_count_Origin1","stack_count_Origin2"],offset:"normalize",sort:[{field:"Origin",order:"ascending"}]},{window:[{op:"min",field:"stack_count_Origin1",as:"x"},{op:"max",field:"stack_count_Origin2",as:"x2"},{op:"dense_rank",as:"rank_Cylinders"},{op:"distinct",field:"Cylinders",as:"distinct_Cylinders"}],groupby:["Origin"],frame:[null,null],sort:[{field:"Cylinders",order:"ascending"}]},{window:[{op:"dense_rank",as:"rank_Origin"}],frame:[null,null],sort:[{field:"Origin",order:"ascending"}]},{stack:"count_*",groupby:["Origin"],as:["y","y2"],offset:"normalize",sort:[{field:"Cylinders",order:"ascending"}]},{calculate:"datum.y + (datum.rank_Cylinders - 1) * datum.distinct_Cylinders * 0.01 / 3",as:"ny"},{calculate:"datum.y2 + (datum.rank_Cylinders - 1) * datum.distinct_Cylinders * 0.01 / 3",as:"ny2"},{calculate:"datum.x + (datum.rank_Origin - 1) * 0.01",as:"nx"},{calculate:"datum.x2 + (datum.rank_Origin - 1) * 0.01",as:"nx2"},{calculate:"(datum.nx+datum.nx2)/2",as:"xc"},{calculate:"(datum.ny+datum.ny2)/2",as:"yc"}],vconcat:[{mark:{type:"text",baseline:"middle",align:"center"},encoding:{x:{aggregate:"min",field:"xc",title:"Origin",axis:{orient:"top"}},color:{field:"Origin",legend:null},text:{field:"Origin"}}},{layer:[{mark:{type:"rect"},encoding:{x:{field:"nx",type:"quantitative",axis:null},x2:{field:"nx2"},y:{field:"ny",type:"quantitative"},y2:{field:"ny2"},color:{field:"Origin",type:"nominal",legend:null},opacity:{field:"Cylinders",type:"quantitative",legend:null},tooltip:[{field:"Origin",type:"nominal"},{field:"Cylinders",type:"quantitative"}]}},{mark:{type:"text",baseline:"middle"},encoding:{x:{field:"xc",type:"quantitative",axis:null},y:{field:"yc",type:"quantitative",axis:{title:"Cylinders"}},text:{field:"Cylinders",type:"nominal"}}}]}],resolve:{scale:{x:"shared"}},config:{view:{stroke:""},concat:{spacing:10},axis:{domain:!1,ticks:!1,labels:!1,grid:!1}}},{x:500,y:500})(ie(e))},qTe=e=>{Ft(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:_G},transform:[{aggregate:[{op:"count",as:"count_*"}],groupby:["Origin","Cylinders"]},{stack:"count_*",groupby:[],as:["stack_count_Origin1","stack_count_Origin2"],offset:"normalize",sort:[{field:"Origin",order:"ascending"}]},{window:[{op:"min",field:"stack_count_Origin1",as:"x"},{op:"max",field:"stack_count_Origin2",as:"x2"},{op:"dense_rank",as:"rank_Cylinders"},{op:"distinct",field:"Cylinders",as:"distinct_Cylinders"}],groupby:["Origin"],frame:[null,null],sort:[{field:"Cylinders",order:"ascending"}]},{window:[{op:"dense_rank",as:"rank_Origin"}],frame:[null,null],sort:[{field:"Origin",order:"ascending"}]},{stack:"count_*",groupby:["Origin"],as:["y","y2"],offset:"normalize",sort:[{field:"Cylinders",order:"ascending"}]},{calculate:"datum.y + (datum.rank_Cylinders - 1) * datum.distinct_Cylinders * 0.01 / 3",as:"ny"},{calculate:"datum.y2 + (datum.rank_Cylinders - 1) * datum.distinct_Cylinders * 0.01 / 3",as:"ny2"},{calculate:"datum.x + (datum.rank_Origin - 1) * 0.01",as:"nx"},{calculate:"datum.x2 + (datum.rank_Origin - 1) * 0.01",as:"nx2"},{calculate:"(datum.nx+datum.nx2)/2",as:"xc"},{calculate:"(datum.ny+datum.ny2)/2",as:"yc"}],vconcat:[{mark:{type:"text",baseline:"middle",align:"center"},encoding:{x:{aggregate:"min",field:"xc",title:"Origin",axis:{orient:"top"}},color:{field:"Origin",legend:null},text:{field:"Origin"}}},{layer:[{mark:{type:"rect"},encoding:{x:{field:"nx",type:"quantitative",axis:null},x2:{field:"nx2"},y:{field:"ny",type:"quantitative"},y2:{field:"ny2"},color:{field:"Origin",type:"nominal",legend:null},opacity:{field:"Cylinders",type:"quantitative",legend:null},tooltip:[{field:"Origin",type:"nominal"},{field:"Cylinders",type:"quantitative"}]}},{mark:{type:"text",baseline:"middle"},encoding:{x:{field:"xc",type:"quantitative",axis:null},y:{field:"yc",type:"quantitative",axis:{title:"Cylinders"}},text:{field:"Cylinders",type:"nominal"}}}]}],resolve:{scale:{x:"shared"}},config:{view:{stroke:""},concat:{spacing:10},axis:{domain:!1,ticks:!1,labels:!1,grid:!1}}})},VTe=e=>{Dt({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Paired Bar"},data:{values:[{category:"A",group:"x",value:.1},{category:"A",group:"y",value:.6},{category:"A",group:"z",value:.9},{category:"B",group:"x",value:.7},{category:"B",group:"y",value:.2},{category:"B",group:"z",value:1.1},{category:"C",group:"x",value:.6},{category:"C",group:"y",value:.1},{category:"C",group:"z",value:.2}]},mark:"bar",encoding:{x:{field:"category",type:"nominal"},y:{field:"value",type:"quantitative"},xOffset:{field:"group",type:"quantitative"},color:{field:"group"}}},{x:500,y:500})(ie(e))},XTe=e=>{Ft(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:[{category:"A",group:"x",value:.1},{category:"A",group:"y",value:.6},{category:"A",group:"z",value:.9},{category:"B",group:"x",value:.7},{category:"B",group:"y",value:.2},{category:"B",group:"z",value:1.1},{category:"C",group:"x",value:.6},{category:"C",group:"y",value:.1},{category:"C",group:"z",value:.2}]},mark:"bar",encoding:{x:{field:"category"},y:{field:"value",type:"quantitative"},xOffset:{field:"group"},color:{field:"group"}}})},JTe=e=>{Dt({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Pictogram"},data:{values:[{x:.5,y:.5,img:"/ffox.png"},{x:1.5,y:1.5,img:"/gimp.png"},{x:2.5,y:2.5,img:"/7zip.png"}]},mark:{type:"image",width:50,height:50},encoding:{x:{field:"x",type:"quantitative"},y:{field:"y",type:"quantitative"},url:{field:"img",type:"nominal"}}},{x:500,y:500})(ie(e))},KTe=e=>{Ft(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:[{x:.5,y:.5,img:"/ffox.png"},{x:1.5,y:1.5,img:"/gimp.png"},{x:2.5,y:2.5,img:"/7zip.png"}]},mark:{type:"image",width:50,height:50},encoding:{x:{field:"x",type:"quantitative"},y:{field:"y",type:"quantitative"},url:{field:"img",type:"nominal"}}})},QTe=e=>{Dt({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Priestely"},data:{values:[{task:"A",start:1,end:4},{task:"B",start:3,end:9},{task:"C",start:8,end:10}]},mark:"bar",encoding:{y:{field:"task",type:"ordinal"},x:{field:"start",type:"quantitative"},x2:{field:"end"}}},{x:500,y:500})(ie(e))},eAe=e=>{Ft(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:[{task:"A",start:1,end:4},{task:"B",start:3,end:9},{task:"C",start:8,end:10}]},mark:"bar",encoding:{y:{field:"task",type:"ordinal"},x:{field:"start",type:"quantitative"},x2:{field:"end"}}})},tAe=e=>{Dt({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Projection"},data:{values:[{ci1:23.5007,ci0:19.6912,center:21.5735,Year:1893024e5},{ci1:25.8214,ci0:20.8554,center:23.375,Year:2209248e5},{ci1:26.4472,ci0:21.9749,center:24.0611,Year:2524608e5},{ci1:27.7074,ci0:22.6203,center:25.0931,Year:2839968e5}]},layer:[{mark:"errorband",encoding:{y:{field:"ci1",type:"quantitative",scale:{zero:!1},title:"Mean of Miles per Gallon (95% CIs)"},y2:{field:"ci0",type:"quantitative"},x:{field:"Year",type:"quantitative"}}},{mark:"line",encoding:{y:{field:"center",type:"quantitative"},x:{field:"Year",type:"quantitative"}}}]},{x:500,y:500})(ie(e))},nAe=e=>{Ft(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:[{ci1:23.5007,ci0:19.6912,center:21.5735,Year:1893024e5},{ci1:25.8214,ci0:20.8554,center:23.375,Year:2209248e5},{ci1:26.4472,ci0:21.9749,center:24.0611,Year:2524608e5},{ci1:27.7074,ci0:22.6203,center:25.0931,Year:2839968e5}]},layer:[{mark:"errorband",encoding:{y:{field:"ci1",type:"quantitative",scale:{zero:!1},title:"Mean of Miles per Gallon (95% CIs)"},y2:{field:"ci0"},x:{field:"Year",timeUnit:"year"}}},{mark:"line",encoding:{y:{field:"center",type:"quantitative"},x:{field:"Year",timeUnit:"year"}}}]})},wG=[{series:"Government",year:2e3,month:1,count:430,rate:2.1,date:"2000-01-01T08:00:00.000Z"},{series:"Government",year:2e3,month:2,count:409,rate:2,date:"2000-02-01T08:00:00.000Z"},{series:"Government",year:2e3,month:3,count:311,rate:1.5,date:"2000-03-01T08:00:00.000Z"},{series:"Government",year:2e3,month:4,count:269,rate:1.3,date:"2000-04-01T08:00:00.000Z"},{series:"Government",year:2e3,month:5,count:370,rate:1.9,date:"2000-05-01T07:00:00.000Z"},{series:"Government",year:2e3,month:6,count:603,rate:3.1,date:"2000-06-01T07:00:00.000Z"},{series:"Government",year:2e3,month:7,count:545,rate:2.9,date:"2000-07-01T07:00:00.000Z"},{series:"Government",year:2e3,month:8,count:583,rate:3.1,date:"2000-08-01T07:00:00.000Z"},{series:"Government",year:2e3,month:9,count:408,rate:2.1,date:"2000-09-01T07:00:00.000Z"},{series:"Government",year:2e3,month:10,count:391,rate:2,date:"2000-10-01T07:00:00.000Z"},{series:"Government",year:2e3,month:11,count:384,rate:1.9,date:"2000-11-01T08:00:00.000Z"},{series:"Government",year:2e3,month:12,count:365,rate:1.8,date:"2000-12-01T08:00:00.000Z"},{series:"Government",year:2001,month:1,count:463,rate:2.3,date:"2001-01-01T08:00:00.000Z"},{series:"Government",year:2001,month:2,count:298,rate:1.5,date:"2001-02-01T08:00:00.000Z"},{series:"Government",year:2001,month:3,count:355,rate:1.8,date:"2001-03-01T08:00:00.000Z"},{series:"Government",year:2001,month:4,count:369,rate:1.9,date:"2001-04-01T08:00:00.000Z"},{series:"Government",year:2001,month:5,count:361,rate:1.8,date:"2001-05-01T07:00:00.000Z"},{series:"Government",year:2001,month:6,count:525,rate:2.7,date:"2001-06-01T07:00:00.000Z"},{series:"Government",year:2001,month:7,count:548,rate:2.8,date:"2001-07-01T07:00:00.000Z"},{series:"Government",year:2001,month:8,count:540,rate:2.8,date:"2001-08-01T07:00:00.000Z"},{series:"Government",year:2001,month:9,count:438,rate:2.2,date:"2001-09-01T07:00:00.000Z"},{series:"Government",year:2001,month:10,count:429,rate:2.2,date:"2001-10-01T07:00:00.000Z"},{series:"Government",year:2001,month:11,count:420,rate:2.1,date:"2001-11-01T08:00:00.000Z"},{series:"Government",year:2001,month:12,count:419,rate:2.1,date:"2001-12-01T08:00:00.000Z"},{series:"Government",year:2002,month:1,count:486,rate:2.4,date:"2002-01-01T08:00:00.000Z"},{series:"Government",year:2002,month:2,count:508,rate:2.5,date:"2002-02-01T08:00:00.000Z"},{series:"Government",year:2002,month:3,count:477,rate:2.4,date:"2002-03-01T08:00:00.000Z"},{series:"Government",year:2002,month:4,count:447,rate:2.2,date:"2002-04-01T08:00:00.000Z"},{series:"Government",year:2002,month:5,count:484,rate:2.3,date:"2002-05-01T07:00:00.000Z"},{series:"Government",year:2002,month:6,count:561,rate:2.8,date:"2002-06-01T07:00:00.000Z"},{series:"Government",year:2002,month:7,count:645,rate:3.2,date:"2002-07-01T07:00:00.000Z"},{series:"Government",year:2002,month:8,count:596,rate:3,date:"2002-08-01T07:00:00.000Z"},{series:"Government",year:2002,month:9,count:530,rate:2.6,date:"2002-09-01T07:00:00.000Z"},{series:"Government",year:2002,month:10,count:499,rate:2.5,date:"2002-10-01T07:00:00.000Z"},{series:"Government",year:2002,month:11,count:468,rate:2.3,date:"2002-11-01T08:00:00.000Z"},{series:"Government",year:2002,month:12,count:446,rate:2.2,date:"2002-12-01T08:00:00.000Z"},{series:"Government",year:2003,month:1,count:571,rate:2.8,date:"2003-01-01T08:00:00.000Z"},{series:"Government",year:2003,month:2,count:483,rate:2.4,date:"2003-02-01T08:00:00.000Z"},{series:"Government",year:2003,month:3,count:526,rate:2.6,date:"2003-03-01T08:00:00.000Z"},{series:"Government",year:2003,month:4,count:440,rate:2.2,date:"2003-04-01T08:00:00.000Z"},{series:"Government",year:2003,month:5,count:478,rate:2.4,date:"2003-05-01T07:00:00.000Z"},{series:"Government",year:2003,month:6,count:704,rate:3.5,date:"2003-06-01T07:00:00.000Z"},{series:"Government",year:2003,month:7,count:749,rate:3.8,date:"2003-07-01T07:00:00.000Z"},{series:"Government",year:2003,month:8,count:745,rate:3.7,date:"2003-08-01T07:00:00.000Z"},{series:"Government",year:2003,month:9,count:556,rate:2.7,date:"2003-09-01T07:00:00.000Z"},{series:"Government",year:2003,month:10,count:500,rate:2.4,date:"2003-10-01T07:00:00.000Z"},{series:"Government",year:2003,month:11,count:542,rate:2.7,date:"2003-11-01T08:00:00.000Z"},{series:"Government",year:2003,month:12,count:516,rate:2.5,date:"2003-12-01T08:00:00.000Z"},{series:"Government",year:2004,month:1,count:511,rate:2.5,date:"2004-01-01T08:00:00.000Z"},{series:"Government",year:2004,month:2,count:490,rate:2.4,date:"2004-02-01T08:00:00.000Z"},{series:"Government",year:2004,month:3,count:530,rate:2.6,date:"2004-03-01T08:00:00.000Z"},{series:"Government",year:2004,month:4,count:433,rate:2.1,date:"2004-04-01T08:00:00.000Z"},{series:"Government",year:2004,month:5,count:468,rate:2.3,date:"2004-05-01T07:00:00.000Z"},{series:"Government",year:2004,month:6,count:580,rate:2.8,date:"2004-06-01T07:00:00.000Z"},{series:"Government",year:2004,month:7,count:741,rate:3.7,date:"2004-07-01T07:00:00.000Z"},{series:"Government",year:2004,month:8,count:676,rate:3.3,date:"2004-08-01T07:00:00.000Z"},{series:"Government",year:2004,month:9,count:568,rate:2.7,date:"2004-09-01T07:00:00.000Z"},{series:"Government",year:2004,month:10,count:561,rate:2.7,date:"2004-10-01T07:00:00.000Z"},{series:"Government",year:2004,month:11,count:514,rate:2.4,date:"2004-11-01T08:00:00.000Z"},{series:"Government",year:2004,month:12,count:499,rate:2.4,date:"2004-12-01T08:00:00.000Z"},{series:"Government",year:2005,month:1,count:555,rate:2.6,date:"2005-01-01T08:00:00.000Z"},{series:"Government",year:2005,month:2,count:472,rate:2.3,date:"2005-02-01T08:00:00.000Z"},{series:"Government",year:2005,month:3,count:468,rate:2.2,date:"2005-03-01T08:00:00.000Z"},{series:"Government",year:2005,month:4,count:478,rate:2.3,date:"2005-04-01T08:00:00.000Z"},{series:"Government",year:2005,month:5,count:453,rate:2.1,date:"2005-05-01T07:00:00.000Z"},{series:"Government",year:2005,month:6,count:681,rate:3.2,date:"2005-06-01T07:00:00.000Z"},{series:"Government",year:2005,month:7,count:683,rate:3.3,date:"2005-07-01T07:00:00.000Z"},{series:"Government",year:2005,month:8,count:664,rate:3.2,date:"2005-08-01T07:00:00.000Z"},{series:"Government",year:2005,month:9,count:568,rate:2.7,date:"2005-09-01T07:00:00.000Z"},{series:"Government",year:2005,month:10,count:502,rate:2.4,date:"2005-10-01T07:00:00.000Z"},{series:"Government",year:2005,month:11,count:494,rate:2.4,date:"2005-11-01T08:00:00.000Z"},{series:"Government",year:2005,month:12,count:393,rate:1.9,date:"2005-12-01T08:00:00.000Z"},{series:"Government",year:2006,month:1,count:457,rate:2.2,date:"2006-01-01T08:00:00.000Z"},{series:"Government",year:2006,month:2,count:472,rate:2.3,date:"2006-02-01T08:00:00.000Z"},{series:"Government",year:2006,month:3,count:461,rate:2.2,date:"2006-03-01T08:00:00.000Z"},{series:"Government",year:2006,month:4,count:414,rate:2,date:"2006-04-01T08:00:00.000Z"},{series:"Government",year:2006,month:5,count:429,rate:2.1,date:"2006-05-01T07:00:00.000Z"},{series:"Government",year:2006,month:6,count:578,rate:2.8,date:"2006-06-01T07:00:00.000Z"},{series:"Government",year:2006,month:7,count:659,rate:3.2,date:"2006-07-01T07:00:00.000Z"},{series:"Government",year:2006,month:8,count:595,rate:2.9,date:"2006-08-01T07:00:00.000Z"},{series:"Government",year:2006,month:9,count:396,rate:1.9,date:"2006-09-01T07:00:00.000Z"},{series:"Government",year:2006,month:10,count:424,rate:2,date:"2006-10-01T07:00:00.000Z"},{series:"Government",year:2006,month:11,count:400,rate:1.9,date:"2006-11-01T08:00:00.000Z"},{series:"Government",year:2006,month:12,count:395,rate:1.9,date:"2006-12-01T08:00:00.000Z"},{series:"Government",year:2007,month:1,count:476,rate:2.2,date:"2007-01-01T08:00:00.000Z"},{series:"Government",year:2007,month:2,count:405,rate:1.9,date:"2007-02-01T08:00:00.000Z"},{series:"Government",year:2007,month:3,count:419,rate:1.9,date:"2007-03-01T08:00:00.000Z"},{series:"Government",year:2007,month:4,count:408,rate:1.9,date:"2007-04-01T07:00:00.000Z"},{series:"Government",year:2007,month:5,count:428,rate:1.9,date:"2007-05-01T07:00:00.000Z"},{series:"Government",year:2007,month:6,count:572,rate:2.7,date:"2007-06-01T07:00:00.000Z"},{series:"Government",year:2007,month:7,count:704,rate:3.3,date:"2007-07-01T07:00:00.000Z"},{series:"Government",year:2007,month:8,count:695,rate:3.2,date:"2007-08-01T07:00:00.000Z"},{series:"Government",year:2007,month:9,count:525,rate:2.4,date:"2007-09-01T07:00:00.000Z"},{series:"Government",year:2007,month:10,count:492,rate:2.3,date:"2007-10-01T07:00:00.000Z"},{series:"Government",year:2007,month:11,count:482,rate:2.2,date:"2007-11-01T07:00:00.000Z"},{series:"Government",year:2007,month:12,count:451,rate:2.1,date:"2007-12-01T08:00:00.000Z"},{series:"Government",year:2008,month:1,count:471,rate:2.2,date:"2008-01-01T08:00:00.000Z"},{series:"Government",year:2008,month:2,count:372,rate:1.7,date:"2008-02-01T08:00:00.000Z"},{series:"Government",year:2008,month:3,count:425,rate:1.9,date:"2008-03-01T08:00:00.000Z"},{series:"Government",year:2008,month:4,count:373,rate:1.7,date:"2008-04-01T07:00:00.000Z"},{series:"Government",year:2008,month:5,count:461,rate:2.1,date:"2008-05-01T07:00:00.000Z"},{series:"Government",year:2008,month:6,count:654,rate:3,date:"2008-06-01T07:00:00.000Z"},{series:"Government",year:2008,month:7,count:770,rate:3.6,date:"2008-07-01T07:00:00.000Z"},{series:"Government",year:2008,month:8,count:721,rate:3.3,date:"2008-08-01T07:00:00.000Z"},{series:"Government",year:2008,month:9,count:573,rate:2.6,date:"2008-09-01T07:00:00.000Z"},{series:"Government",year:2008,month:10,count:552,rate:2.5,date:"2008-10-01T07:00:00.000Z"},{series:"Government",year:2008,month:11,count:527,rate:2.4,date:"2008-11-01T07:00:00.000Z"},{series:"Government",year:2008,month:12,count:511,rate:2.3,date:"2008-12-01T08:00:00.000Z"},{series:"Government",year:2009,month:1,count:652,rate:3,date:"2009-01-01T08:00:00.000Z"},{series:"Government",year:2009,month:2,count:563,rate:2.6,date:"2009-02-01T08:00:00.000Z"},{series:"Government",year:2009,month:3,count:598,rate:2.8,date:"2009-03-01T08:00:00.000Z"},{series:"Government",year:2009,month:4,count:575,rate:2.6,date:"2009-04-01T07:00:00.000Z"},{series:"Government",year:2009,month:5,count:702,rate:3.1,date:"2009-05-01T07:00:00.000Z"},{series:"Government",year:2009,month:6,count:991,rate:4.4,date:"2009-06-01T07:00:00.000Z"},{series:"Government",year:2009,month:7,count:1129,rate:5.1,date:"2009-07-01T07:00:00.000Z"},{series:"Government",year:2009,month:8,count:1118,rate:5.1,date:"2009-08-01T07:00:00.000Z"},{series:"Government",year:2009,month:9,count:928,rate:4.2,date:"2009-09-01T07:00:00.000Z"},{series:"Government",year:2009,month:10,count:785,rate:3.5,date:"2009-10-01T07:00:00.000Z"},{series:"Government",year:2009,month:11,count:748,rate:3.4,date:"2009-11-01T07:00:00.000Z"},{series:"Government",year:2009,month:12,count:797,rate:3.6,date:"2009-12-01T08:00:00.000Z"},{series:"Government",year:2010,month:1,count:948,rate:4.3,date:"2010-01-01T08:00:00.000Z"},{series:"Government",year:2010,month:2,count:880,rate:4,date:"2010-02-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2e3,month:1,count:19,rate:3.9,date:"2000-01-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2e3,month:2,count:25,rate:5.5,date:"2000-02-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2e3,month:3,count:17,rate:3.7,date:"2000-03-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2e3,month:4,count:20,rate:4.1,date:"2000-04-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2e3,month:5,count:27,rate:5.3,date:"2000-05-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2e3,month:6,count:13,rate:2.6,date:"2000-06-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2e3,month:7,count:16,rate:3.6,date:"2000-07-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2e3,month:8,count:23,rate:5.1,date:"2000-08-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2e3,month:9,count:25,rate:5.8,date:"2000-09-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2e3,month:10,count:39,rate:7.8,date:"2000-10-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2e3,month:11,count:11,rate:2,date:"2000-11-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2e3,month:12,count:20,rate:3.8,date:"2000-12-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2001,month:1,count:11,rate:2.3,date:"2001-01-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2001,month:2,count:27,rate:5.3,date:"2001-02-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2001,month:3,count:14,rate:3,date:"2001-03-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2001,month:4,count:24,rate:4.7,date:"2001-04-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2001,month:5,count:34,rate:5.9,date:"2001-05-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2001,month:6,count:26,rate:4.7,date:"2001-06-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2001,month:7,count:17,rate:3.1,date:"2001-07-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2001,month:8,count:18,rate:3.3,date:"2001-08-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2001,month:9,count:23,rate:4.2,date:"2001-09-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2001,month:10,count:32,rate:5.4,date:"2001-10-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2001,month:11,count:20,rate:3.6,date:"2001-11-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2001,month:12,count:27,rate:5.3,date:"2001-12-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2002,month:1,count:33,rate:7,date:"2002-01-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2002,month:2,count:35,rate:7.5,date:"2002-02-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2002,month:3,count:28,rate:5.3,date:"2002-03-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2002,month:4,count:33,rate:6.1,date:"2002-04-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2002,month:5,count:25,rate:4.9,date:"2002-05-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2002,month:6,count:35,rate:7.1,date:"2002-06-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2002,month:7,count:19,rate:3.9,date:"2002-07-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2002,month:8,count:32,rate:6.3,date:"2002-08-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2002,month:9,count:42,rate:7.9,date:"2002-09-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2002,month:10,count:36,rate:6.4,date:"2002-10-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2002,month:11,count:32,rate:5.4,date:"2002-11-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2002,month:12,count:45,rate:7.8,date:"2002-12-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2003,month:1,count:54,rate:9,date:"2003-01-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2003,month:2,count:41,rate:7.1,date:"2003-02-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2003,month:3,count:46,rate:8.2,date:"2003-03-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2003,month:4,count:41,rate:7.7,date:"2003-04-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2003,month:5,count:40,rate:7.5,date:"2003-05-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2003,month:6,count:36,rate:6.8,date:"2003-06-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2003,month:7,count:43,rate:7.9,date:"2003-07-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2003,month:8,count:20,rate:3.8,date:"2003-08-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2003,month:9,count:25,rate:4.6,date:"2003-09-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2003,month:10,count:31,rate:5.6,date:"2003-10-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2003,month:11,count:34,rate:5.9,date:"2003-11-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2003,month:12,count:32,rate:5.6,date:"2003-12-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2004,month:1,count:31,rate:5.8,date:"2004-01-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2004,month:2,count:24,rate:5,date:"2004-02-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2004,month:3,count:22,rate:4.4,date:"2004-03-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2004,month:4,count:34,rate:6.4,date:"2004-04-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2004,month:5,count:22,rate:4.3,date:"2004-05-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2004,month:6,count:27,rate:5,date:"2004-06-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2004,month:7,count:28,rate:5.4,date:"2004-07-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2004,month:8,count:10,rate:1.9,date:"2004-08-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2004,month:9,count:8,rate:1.5,date:"2004-09-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2004,month:10,count:15,rate:2.6,date:"2004-10-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2004,month:11,count:20,rate:3.3,date:"2004-11-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2004,month:12,count:16,rate:2.5,date:"2004-12-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2005,month:1,count:29,rate:4.9,date:"2005-01-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2005,month:2,count:25,rate:4,date:"2005-02-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2005,month:3,count:32,rate:5.2,date:"2005-03-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2005,month:4,count:19,rate:2.9,date:"2005-04-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2005,month:5,count:16,rate:2.4,date:"2005-05-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2005,month:6,count:25,rate:4,date:"2005-06-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2005,month:7,count:22,rate:3.7,date:"2005-07-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2005,month:8,count:12,rate:2,date:"2005-08-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2005,month:9,count:12,rate:2,date:"2005-09-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2005,month:10,count:2,rate:.3,date:"2005-10-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2005,month:11,count:18,rate:2.9,date:"2005-11-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2005,month:12,count:23,rate:3.5,date:"2005-12-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2006,month:1,count:26,rate:3.9,date:"2006-01-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2006,month:2,count:25,rate:3.8,date:"2006-02-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2006,month:3,count:14,rate:2.1,date:"2006-03-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2006,month:4,count:17,rate:2.5,date:"2006-04-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2006,month:5,count:20,rate:2.8,date:"2006-05-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2006,month:6,count:31,rate:4.3,date:"2006-06-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2006,month:7,count:25,rate:3.5,date:"2006-07-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2006,month:8,count:32,rate:4.3,date:"2006-08-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2006,month:9,count:14,rate:2.1,date:"2006-09-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2006,month:10,count:15,rate:2.2,date:"2006-10-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2006,month:11,count:22,rate:2.9,date:"2006-11-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2006,month:12,count:25,rate:3.4,date:"2006-12-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2007,month:1,count:35,rate:4.7,date:"2007-01-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2007,month:2,count:33,rate:4.5,date:"2007-02-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2007,month:3,count:24,rate:3.2,date:"2007-03-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2007,month:4,count:17,rate:2.3,date:"2007-04-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2007,month:5,count:22,rate:3,date:"2007-05-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2007,month:6,count:33,rate:4.3,date:"2007-06-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2007,month:7,count:33,rate:4.3,date:"2007-07-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2007,month:8,count:33,rate:4.6,date:"2007-08-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2007,month:9,count:25,rate:3.2,date:"2007-09-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2007,month:10,count:9,rate:1.3,date:"2007-10-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2007,month:11,count:16,rate:2.3,date:"2007-11-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2007,month:12,count:24,rate:3.4,date:"2007-12-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2008,month:1,count:28,rate:4,date:"2008-01-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2008,month:2,count:16,rate:2.2,date:"2008-02-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2008,month:3,count:28,rate:3.7,date:"2008-03-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2008,month:4,count:28,rate:3.6,date:"2008-04-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2008,month:5,count:28,rate:3.4,date:"2008-05-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2008,month:6,count:28,rate:3.3,date:"2008-06-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2008,month:7,count:13,rate:1.5,date:"2008-07-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2008,month:8,count:17,rate:1.9,date:"2008-08-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2008,month:9,count:25,rate:2.8,date:"2008-09-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2008,month:10,count:15,rate:1.7,date:"2008-10-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2008,month:11,count:32,rate:3.7,date:"2008-11-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2008,month:12,count:46,rate:5.2,date:"2008-12-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2009,month:1,count:59,rate:7,date:"2009-01-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2009,month:2,count:63,rate:7.6,date:"2009-02-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2009,month:3,count:105,rate:12.6,date:"2009-03-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2009,month:4,count:125,rate:16.1,date:"2009-04-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2009,month:5,count:98,rate:13.3,date:"2009-05-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2009,month:6,count:100,rate:13.6,date:"2009-06-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2009,month:7,count:95,rate:12.6,date:"2009-07-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2009,month:8,count:93,rate:11.8,date:"2009-08-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2009,month:9,count:76,rate:10.7,date:"2009-09-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2009,month:10,count:84,rate:10.8,date:"2009-10-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2009,month:11,count:96,rate:12,date:"2009-11-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2009,month:12,count:89,rate:11.8,date:"2009-12-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2010,month:1,count:68,rate:9.1,date:"2010-01-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2010,month:2,count:79,rate:10.7,date:"2010-02-01T08:00:00.000Z"},{series:"Construction",year:2e3,month:1,count:745,rate:9.7,date:"2000-01-01T08:00:00.000Z"},{series:"Construction",year:2e3,month:2,count:812,rate:10.6,date:"2000-02-01T08:00:00.000Z"},{series:"Construction",year:2e3,month:3,count:669,rate:8.7,date:"2000-03-01T08:00:00.000Z"},{series:"Construction",year:2e3,month:4,count:447,rate:5.8,date:"2000-04-01T08:00:00.000Z"},{series:"Construction",year:2e3,month:5,count:397,rate:5,date:"2000-05-01T07:00:00.000Z"},{series:"Construction",year:2e3,month:6,count:389,rate:4.6,date:"2000-06-01T07:00:00.000Z"},{series:"Construction",year:2e3,month:7,count:384,rate:4.4,date:"2000-07-01T07:00:00.000Z"},{series:"Construction",year:2e3,month:8,count:446,rate:5.1,date:"2000-08-01T07:00:00.000Z"},{series:"Construction",year:2e3,month:9,count:386,rate:4.6,date:"2000-09-01T07:00:00.000Z"},{series:"Construction",year:2e3,month:10,count:417,rate:4.9,date:"2000-10-01T07:00:00.000Z"},{series:"Construction",year:2e3,month:11,count:482,rate:5.7,date:"2000-11-01T08:00:00.000Z"},{series:"Construction",year:2e3,month:12,count:580,rate:6.8,date:"2000-12-01T08:00:00.000Z"},{series:"Construction",year:2001,month:1,count:836,rate:9.8,date:"2001-01-01T08:00:00.000Z"},{series:"Construction",year:2001,month:2,count:826,rate:9.9,date:"2001-02-01T08:00:00.000Z"},{series:"Construction",year:2001,month:3,count:683,rate:8.4,date:"2001-03-01T08:00:00.000Z"},{series:"Construction",year:2001,month:4,count:596,rate:7.1,date:"2001-04-01T08:00:00.000Z"},{series:"Construction",year:2001,month:5,count:478,rate:5.6,date:"2001-05-01T07:00:00.000Z"},{series:"Construction",year:2001,month:6,count:443,rate:5.1,date:"2001-06-01T07:00:00.000Z"},{series:"Construction",year:2001,month:7,count:447,rate:4.9,date:"2001-07-01T07:00:00.000Z"},{series:"Construction",year:2001,month:8,count:522,rate:5.8,date:"2001-08-01T07:00:00.000Z"},{series:"Construction",year:2001,month:9,count:489,rate:5.5,date:"2001-09-01T07:00:00.000Z"},{series:"Construction",year:2001,month:10,count:535,rate:6.1,date:"2001-10-01T07:00:00.000Z"},{series:"Construction",year:2001,month:11,count:670,rate:7.6,date:"2001-11-01T08:00:00.000Z"},{series:"Construction",year:2001,month:12,count:785,rate:9,date:"2001-12-01T08:00:00.000Z"},{series:"Construction",year:2002,month:1,count:1211,rate:13.6,date:"2002-01-01T08:00:00.000Z"},{series:"Construction",year:2002,month:2,count:1060,rate:12.2,date:"2002-02-01T08:00:00.000Z"},{series:"Construction",year:2002,month:3,count:1009,rate:11.8,date:"2002-03-01T08:00:00.000Z"},{series:"Construction",year:2002,month:4,count:855,rate:10.1,date:"2002-04-01T08:00:00.000Z"},{series:"Construction",year:2002,month:5,count:626,rate:7.4,date:"2002-05-01T07:00:00.000Z"},{series:"Construction",year:2002,month:6,count:593,rate:6.9,date:"2002-06-01T07:00:00.000Z"},{series:"Construction",year:2002,month:7,count:594,rate:6.9,date:"2002-07-01T07:00:00.000Z"},{series:"Construction",year:2002,month:8,count:654,rate:7.4,date:"2002-08-01T07:00:00.000Z"},{series:"Construction",year:2002,month:9,count:615,rate:7,date:"2002-09-01T07:00:00.000Z"},{series:"Construction",year:2002,month:10,count:680,rate:7.7,date:"2002-10-01T07:00:00.000Z"},{series:"Construction",year:2002,month:11,count:758,rate:8.5,date:"2002-11-01T08:00:00.000Z"},{series:"Construction",year:2002,month:12,count:941,rate:10.9,date:"2002-12-01T08:00:00.000Z"},{series:"Construction",year:2003,month:1,count:1196,rate:14,date:"2003-01-01T08:00:00.000Z"},{series:"Construction",year:2003,month:2,count:1173,rate:14,date:"2003-02-01T08:00:00.000Z"},{series:"Construction",year:2003,month:3,count:987,rate:11.8,date:"2003-03-01T08:00:00.000Z"},{series:"Construction",year:2003,month:4,count:772,rate:9.3,date:"2003-04-01T08:00:00.000Z"},{series:"Construction",year:2003,month:5,count:715,rate:8.4,date:"2003-05-01T07:00:00.000Z"},{series:"Construction",year:2003,month:6,count:710,rate:7.9,date:"2003-06-01T07:00:00.000Z"},{series:"Construction",year:2003,month:7,count:677,rate:7.5,date:"2003-07-01T07:00:00.000Z"},{series:"Construction",year:2003,month:8,count:650,rate:7.1,date:"2003-08-01T07:00:00.000Z"},{series:"Construction",year:2003,month:9,count:681,rate:7.6,date:"2003-09-01T07:00:00.000Z"},{series:"Construction",year:2003,month:10,count:651,rate:7.4,date:"2003-10-01T07:00:00.000Z"},{series:"Construction",year:2003,month:11,count:690,rate:7.8,date:"2003-11-01T08:00:00.000Z"},{series:"Construction",year:2003,month:12,count:813,rate:9.3,date:"2003-12-01T08:00:00.000Z"},{series:"Construction",year:2004,month:1,count:994,rate:11.3,date:"2004-01-01T08:00:00.000Z"},{series:"Construction",year:2004,month:2,count:1039,rate:11.6,date:"2004-02-01T08:00:00.000Z"},{series:"Construction",year:2004,month:3,count:1011,rate:11.3,date:"2004-03-01T08:00:00.000Z"},{series:"Construction",year:2004,month:4,count:849,rate:9.5,date:"2004-04-01T08:00:00.000Z"},{series:"Construction",year:2004,month:5,count:665,rate:7.4,date:"2004-05-01T07:00:00.000Z"},{series:"Construction",year:2004,month:6,count:668,rate:7,date:"2004-06-01T07:00:00.000Z"},{series:"Construction",year:2004,month:7,count:610,rate:6.4,date:"2004-07-01T07:00:00.000Z"},{series:"Construction",year:2004,month:8,count:563,rate:6,date:"2004-08-01T07:00:00.000Z"},{series:"Construction",year:2004,month:9,count:629,rate:6.8,date:"2004-09-01T07:00:00.000Z"},{series:"Construction",year:2004,month:10,count:635,rate:6.9,date:"2004-10-01T07:00:00.000Z"},{series:"Construction",year:2004,month:11,count:695,rate:7.4,date:"2004-11-01T08:00:00.000Z"},{series:"Construction",year:2004,month:12,count:870,rate:9.5,date:"2004-12-01T08:00:00.000Z"},{series:"Construction",year:2005,month:1,count:1079,rate:11.8,date:"2005-01-01T08:00:00.000Z"},{series:"Construction",year:2005,month:2,count:1150,rate:12.3,date:"2005-02-01T08:00:00.000Z"},{series:"Construction",year:2005,month:3,count:961,rate:10.3,date:"2005-03-01T08:00:00.000Z"},{series:"Construction",year:2005,month:4,count:693,rate:7.4,date:"2005-04-01T08:00:00.000Z"},{series:"Construction",year:2005,month:5,count:567,rate:6.1,date:"2005-05-01T07:00:00.000Z"},{series:"Construction",year:2005,month:6,count:559,rate:5.7,date:"2005-06-01T07:00:00.000Z"},{series:"Construction",year:2005,month:7,count:509,rate:5.2,date:"2005-07-01T07:00:00.000Z"},{series:"Construction",year:2005,month:8,count:561,rate:5.7,date:"2005-08-01T07:00:00.000Z"},{series:"Construction",year:2005,month:9,count:572,rate:5.7,date:"2005-09-01T07:00:00.000Z"},{series:"Construction",year:2005,month:10,count:519,rate:5.3,date:"2005-10-01T07:00:00.000Z"},{series:"Construction",year:2005,month:11,count:564,rate:5.7,date:"2005-11-01T08:00:00.000Z"},{series:"Construction",year:2005,month:12,count:813,rate:8.2,date:"2005-12-01T08:00:00.000Z"},{series:"Construction",year:2006,month:1,count:868,rate:9,date:"2006-01-01T08:00:00.000Z"},{series:"Construction",year:2006,month:2,count:836,rate:8.6,date:"2006-02-01T08:00:00.000Z"},{series:"Construction",year:2006,month:3,count:820,rate:8.5,date:"2006-03-01T08:00:00.000Z"},{series:"Construction",year:2006,month:4,count:674,rate:6.9,date:"2006-04-01T08:00:00.000Z"},{series:"Construction",year:2006,month:5,count:647,rate:6.6,date:"2006-05-01T07:00:00.000Z"},{series:"Construction",year:2006,month:6,count:569,rate:5.6,date:"2006-06-01T07:00:00.000Z"},{series:"Construction",year:2006,month:7,count:633,rate:6.1,date:"2006-07-01T07:00:00.000Z"},{series:"Construction",year:2006,month:8,count:618,rate:5.9,date:"2006-08-01T07:00:00.000Z"},{series:"Construction",year:2006,month:9,count:586,rate:5.6,date:"2006-09-01T07:00:00.000Z"},{series:"Construction",year:2006,month:10,count:456,rate:4.5,date:"2006-10-01T07:00:00.000Z"},{series:"Construction",year:2006,month:11,count:618,rate:6,date:"2006-11-01T08:00:00.000Z"},{series:"Construction",year:2006,month:12,count:725,rate:6.9,date:"2006-12-01T08:00:00.000Z"},{series:"Construction",year:2007,month:1,count:922,rate:8.9,date:"2007-01-01T08:00:00.000Z"},{series:"Construction",year:2007,month:2,count:1086,rate:10.5,date:"2007-02-01T08:00:00.000Z"},{series:"Construction",year:2007,month:3,count:924,rate:9,date:"2007-03-01T08:00:00.000Z"},{series:"Construction",year:2007,month:4,count:853,rate:8.6,date:"2007-04-01T07:00:00.000Z"},{series:"Construction",year:2007,month:5,count:676,rate:6.9,date:"2007-05-01T07:00:00.000Z"},{series:"Construction",year:2007,month:6,count:600,rate:5.9,date:"2007-06-01T07:00:00.000Z"},{series:"Construction",year:2007,month:7,count:617,rate:5.9,date:"2007-07-01T07:00:00.000Z"},{series:"Construction",year:2007,month:8,count:558,rate:5.3,date:"2007-08-01T07:00:00.000Z"},{series:"Construction",year:2007,month:9,count:596,rate:5.8,date:"2007-09-01T07:00:00.000Z"},{series:"Construction",year:2007,month:10,count:641,rate:6.1,date:"2007-10-01T07:00:00.000Z"},{series:"Construction",year:2007,month:11,count:645,rate:6.2,date:"2007-11-01T07:00:00.000Z"},{series:"Construction",year:2007,month:12,count:968,rate:9.4,date:"2007-12-01T08:00:00.000Z"},{series:"Construction",year:2008,month:1,count:1099,rate:11,date:"2008-01-01T08:00:00.000Z"},{series:"Construction",year:2008,month:2,count:1118,rate:11.4,date:"2008-02-01T08:00:00.000Z"},{series:"Construction",year:2008,month:3,count:1170,rate:12,date:"2008-03-01T08:00:00.000Z"},{series:"Construction",year:2008,month:4,count:1057,rate:11.1,date:"2008-04-01T07:00:00.000Z"},{series:"Construction",year:2008,month:5,count:809,rate:8.6,date:"2008-05-01T07:00:00.000Z"},{series:"Construction",year:2008,month:6,count:785,rate:8.2,date:"2008-06-01T07:00:00.000Z"},{series:"Construction",year:2008,month:7,count:783,rate:8,date:"2008-07-01T07:00:00.000Z"},{series:"Construction",year:2008,month:8,count:814,rate:8.2,date:"2008-08-01T07:00:00.000Z"},{series:"Construction",year:2008,month:9,count:970,rate:9.9,date:"2008-09-01T07:00:00.000Z"},{series:"Construction",year:2008,month:10,count:1078,rate:10.8,date:"2008-10-01T07:00:00.000Z"},{series:"Construction",year:2008,month:11,count:1237,rate:12.7,date:"2008-11-01T07:00:00.000Z"},{series:"Construction",year:2008,month:12,count:1438,rate:15.3,date:"2008-12-01T08:00:00.000Z"},{series:"Construction",year:2009,month:1,count:1744,rate:18.2,date:"2009-01-01T08:00:00.000Z"},{series:"Construction",year:2009,month:2,count:2025,rate:21.4,date:"2009-02-01T08:00:00.000Z"},{series:"Construction",year:2009,month:3,count:1979,rate:21.1,date:"2009-03-01T08:00:00.000Z"},{series:"Construction",year:2009,month:4,count:1737,rate:18.7,date:"2009-04-01T07:00:00.000Z"},{series:"Construction",year:2009,month:5,count:1768,rate:19.2,date:"2009-05-01T07:00:00.000Z"},{series:"Construction",year:2009,month:6,count:1601,rate:17.4,date:"2009-06-01T07:00:00.000Z"},{series:"Construction",year:2009,month:7,count:1687,rate:18.2,date:"2009-07-01T07:00:00.000Z"},{series:"Construction",year:2009,month:8,count:1542,rate:16.5,date:"2009-08-01T07:00:00.000Z"},{series:"Construction",year:2009,month:9,count:1594,rate:17.1,date:"2009-09-01T07:00:00.000Z"},{series:"Construction",year:2009,month:10,count:1744,rate:18.7,date:"2009-10-01T07:00:00.000Z"},{series:"Construction",year:2009,month:11,count:1780,rate:19.4,date:"2009-11-01T07:00:00.000Z"},{series:"Construction",year:2009,month:12,count:2044,rate:22.7,date:"2009-12-01T08:00:00.000Z"},{series:"Construction",year:2010,month:1,count:2194,rate:24.7,date:"2010-01-01T08:00:00.000Z"},{series:"Construction",year:2010,month:2,count:2440,rate:27.1,date:"2010-02-01T08:00:00.000Z"},{series:"Manufacturing",year:2e3,month:1,count:734,rate:3.6,date:"2000-01-01T08:00:00.000Z"},{series:"Manufacturing",year:2e3,month:2,count:694,rate:3.4,date:"2000-02-01T08:00:00.000Z"},{series:"Manufacturing",year:2e3,month:3,count:739,rate:3.6,date:"2000-03-01T08:00:00.000Z"},{series:"Manufacturing",year:2e3,month:4,count:736,rate:3.7,date:"2000-04-01T08:00:00.000Z"},{series:"Manufacturing",year:2e3,month:5,count:685,rate:3.4,date:"2000-05-01T07:00:00.000Z"},{series:"Manufacturing",year:2e3,month:6,count:621,rate:3.1,date:"2000-06-01T07:00:00.000Z"},{series:"Manufacturing",year:2e3,month:7,count:708,rate:3.6,date:"2000-07-01T07:00:00.000Z"},{series:"Manufacturing",year:2e3,month:8,count:685,rate:3.4,date:"2000-08-01T07:00:00.000Z"},{series:"Manufacturing",year:2e3,month:9,count:667,rate:3.4,date:"2000-09-01T07:00:00.000Z"},{series:"Manufacturing",year:2e3,month:10,count:693,rate:3.6,date:"2000-10-01T07:00:00.000Z"},{series:"Manufacturing",year:2e3,month:11,count:672,rate:3.4,date:"2000-11-01T08:00:00.000Z"},{series:"Manufacturing",year:2e3,month:12,count:653,rate:3.3,date:"2000-12-01T08:00:00.000Z"},{series:"Manufacturing",year:2001,month:1,count:911,rate:4.6,date:"2001-01-01T08:00:00.000Z"},{series:"Manufacturing",year:2001,month:2,count:902,rate:4.6,date:"2001-02-01T08:00:00.000Z"},{series:"Manufacturing",year:2001,month:3,count:954,rate:4.9,date:"2001-03-01T08:00:00.000Z"},{series:"Manufacturing",year:2001,month:4,count:855,rate:4.4,date:"2001-04-01T08:00:00.000Z"},{series:"Manufacturing",year:2001,month:5,count:903,rate:4.7,date:"2001-05-01T07:00:00.000Z"},{series:"Manufacturing",year:2001,month:6,count:956,rate:5,date:"2001-06-01T07:00:00.000Z"},{series:"Manufacturing",year:2001,month:7,count:1054,rate:5.6,date:"2001-07-01T07:00:00.000Z"},{series:"Manufacturing",year:2001,month:8,count:1023,rate:5.5,date:"2001-08-01T07:00:00.000Z"},{series:"Manufacturing",year:2001,month:9,count:996,rate:5.4,date:"2001-09-01T07:00:00.000Z"},{series:"Manufacturing",year:2001,month:10,count:1065,rate:5.8,date:"2001-10-01T07:00:00.000Z"},{series:"Manufacturing",year:2001,month:11,count:1108,rate:6,date:"2001-11-01T08:00:00.000Z"},{series:"Manufacturing",year:2001,month:12,count:1172,rate:6.3,date:"2001-12-01T08:00:00.000Z"},{series:"Manufacturing",year:2002,month:1,count:1377,rate:7.4,date:"2002-01-01T08:00:00.000Z"},{series:"Manufacturing",year:2002,month:2,count:1296,rate:7,date:"2002-02-01T08:00:00.000Z"},{series:"Manufacturing",year:2002,month:3,count:1367,rate:7.3,date:"2002-03-01T08:00:00.000Z"},{series:"Manufacturing",year:2002,month:4,count:1322,rate:7.2,date:"2002-04-01T08:00:00.000Z"},{series:"Manufacturing",year:2002,month:5,count:1194,rate:6.6,date:"2002-05-01T07:00:00.000Z"},{series:"Manufacturing",year:2002,month:6,count:1187,rate:6.6,date:"2002-06-01T07:00:00.000Z"},{series:"Manufacturing",year:2002,month:7,count:1185,rate:6.6,date:"2002-07-01T07:00:00.000Z"},{series:"Manufacturing",year:2002,month:8,count:1108,rate:6.2,date:"2002-08-01T07:00:00.000Z"},{series:"Manufacturing",year:2002,month:9,count:1076,rate:6.1,date:"2002-09-01T07:00:00.000Z"},{series:"Manufacturing",year:2002,month:10,count:1046,rate:5.9,date:"2002-10-01T07:00:00.000Z"},{series:"Manufacturing",year:2002,month:11,count:1115,rate:6.3,date:"2002-11-01T08:00:00.000Z"},{series:"Manufacturing",year:2002,month:12,count:1188,rate:6.6,date:"2002-12-01T08:00:00.000Z"},{series:"Manufacturing",year:2003,month:1,count:1302,rate:7.2,date:"2003-01-01T08:00:00.000Z"},{series:"Manufacturing",year:2003,month:2,count:1229,rate:6.7,date:"2003-02-01T08:00:00.000Z"},{series:"Manufacturing",year:2003,month:3,count:1222,rate:6.8,date:"2003-03-01T08:00:00.000Z"},{series:"Manufacturing",year:2003,month:4,count:1199,rate:6.7,date:"2003-04-01T08:00:00.000Z"},{series:"Manufacturing",year:2003,month:5,count:1150,rate:6.5,date:"2003-05-01T07:00:00.000Z"},{series:"Manufacturing",year:2003,month:6,count:1232,rate:7,date:"2003-06-01T07:00:00.000Z"},{series:"Manufacturing",year:2003,month:7,count:1193,rate:6.9,date:"2003-07-01T07:00:00.000Z"},{series:"Manufacturing",year:2003,month:8,count:1186,rate:6.7,date:"2003-08-01T07:00:00.000Z"},{series:"Manufacturing",year:2003,month:9,count:1175,rate:6.8,date:"2003-09-01T07:00:00.000Z"},{series:"Manufacturing",year:2003,month:10,count:1041,rate:6,date:"2003-10-01T07:00:00.000Z"},{series:"Manufacturing",year:2003,month:11,count:1034,rate:5.9,date:"2003-11-01T08:00:00.000Z"},{series:"Manufacturing",year:2003,month:12,count:1025,rate:5.9,date:"2003-12-01T08:00:00.000Z"},{series:"Manufacturing",year:2004,month:1,count:1110,rate:6.4,date:"2004-01-01T08:00:00.000Z"},{series:"Manufacturing",year:2004,month:2,count:1094,rate:6.3,date:"2004-02-01T08:00:00.000Z"},{series:"Manufacturing",year:2004,month:3,count:1083,rate:6.3,date:"2004-03-01T08:00:00.000Z"},{series:"Manufacturing",year:2004,month:4,count:1004,rate:5.8,date:"2004-04-01T08:00:00.000Z"},{series:"Manufacturing",year:2004,month:5,count:966,rate:5.6,date:"2004-05-01T07:00:00.000Z"},{series:"Manufacturing",year:2004,month:6,count:957,rate:5.6,date:"2004-06-01T07:00:00.000Z"},{series:"Manufacturing",year:2004,month:7,count:1019,rate:6,date:"2004-07-01T07:00:00.000Z"},{series:"Manufacturing",year:2004,month:8,count:840,rate:4.9,date:"2004-08-01T07:00:00.000Z"},{series:"Manufacturing",year:2004,month:9,count:852,rate:5,date:"2004-09-01T07:00:00.000Z"},{series:"Manufacturing",year:2004,month:10,count:884,rate:5.3,date:"2004-10-01T07:00:00.000Z"},{series:"Manufacturing",year:2004,month:11,count:905,rate:5.4,date:"2004-11-01T08:00:00.000Z"},{series:"Manufacturing",year:2004,month:12,count:872,rate:5.1,date:"2004-12-01T08:00:00.000Z"},{series:"Manufacturing",year:2005,month:1,count:889,rate:5.3,date:"2005-01-01T08:00:00.000Z"},{series:"Manufacturing",year:2005,month:2,count:889,rate:5.3,date:"2005-02-01T08:00:00.000Z"},{series:"Manufacturing",year:2005,month:3,count:879,rate:5.3,date:"2005-03-01T08:00:00.000Z"},{series:"Manufacturing",year:2005,month:4,count:793,rate:4.8,date:"2005-04-01T08:00:00.000Z"},{series:"Manufacturing",year:2005,month:5,count:743,rate:4.5,date:"2005-05-01T07:00:00.000Z"},{series:"Manufacturing",year:2005,month:6,count:743,rate:4.4,date:"2005-06-01T07:00:00.000Z"},{series:"Manufacturing",year:2005,month:7,count:883,rate:5.3,date:"2005-07-01T07:00:00.000Z"},{series:"Manufacturing",year:2005,month:8,count:767,rate:4.7,date:"2005-08-01T07:00:00.000Z"},{series:"Manufacturing",year:2005,month:9,count:775,rate:4.7,date:"2005-09-01T07:00:00.000Z"},{series:"Manufacturing",year:2005,month:10,count:800,rate:4.8,date:"2005-10-01T07:00:00.000Z"},{series:"Manufacturing",year:2005,month:11,count:823,rate:4.9,date:"2005-11-01T08:00:00.000Z"},{series:"Manufacturing",year:2005,month:12,count:757,rate:4.5,date:"2005-12-01T08:00:00.000Z"},{series:"Manufacturing",year:2006,month:1,count:778,rate:4.6,date:"2006-01-01T08:00:00.000Z"},{series:"Manufacturing",year:2006,month:2,count:821,rate:4.9,date:"2006-02-01T08:00:00.000Z"},{series:"Manufacturing",year:2006,month:3,count:701,rate:4.1,date:"2006-03-01T08:00:00.000Z"},{series:"Manufacturing",year:2006,month:4,count:745,rate:4.5,date:"2006-04-01T08:00:00.000Z"},{series:"Manufacturing",year:2006,month:5,count:680,rate:4.1,date:"2006-05-01T07:00:00.000Z"},{series:"Manufacturing",year:2006,month:6,count:635,rate:3.8,date:"2006-06-01T07:00:00.000Z"},{series:"Manufacturing",year:2006,month:7,count:736,rate:4.4,date:"2006-07-01T07:00:00.000Z"},{series:"Manufacturing",year:2006,month:8,count:680,rate:4.1,date:"2006-08-01T07:00:00.000Z"},{series:"Manufacturing",year:2006,month:9,count:632,rate:3.8,date:"2006-09-01T07:00:00.000Z"},{series:"Manufacturing",year:2006,month:10,count:618,rate:3.7,date:"2006-10-01T07:00:00.000Z"},{series:"Manufacturing",year:2006,month:11,count:702,rate:4.3,date:"2006-11-01T08:00:00.000Z"},{series:"Manufacturing",year:2006,month:12,count:660,rate:4,date:"2006-12-01T08:00:00.000Z"},{series:"Manufacturing",year:2007,month:1,count:752,rate:4.6,date:"2007-01-01T08:00:00.000Z"},{series:"Manufacturing",year:2007,month:2,count:774,rate:4.7,date:"2007-02-01T08:00:00.000Z"},{series:"Manufacturing",year:2007,month:3,count:742,rate:4.5,date:"2007-03-01T08:00:00.000Z"},{series:"Manufacturing",year:2007,month:4,count:749,rate:4.6,date:"2007-04-01T07:00:00.000Z"},{series:"Manufacturing",year:2007,month:5,count:651,rate:3.9,date:"2007-05-01T07:00:00.000Z"},{series:"Manufacturing",year:2007,month:6,count:653,rate:4,date:"2007-06-01T07:00:00.000Z"},{series:"Manufacturing",year:2007,month:7,count:621,rate:3.7,date:"2007-07-01T07:00:00.000Z"},{series:"Manufacturing",year:2007,month:8,count:596,rate:3.6,date:"2007-08-01T07:00:00.000Z"},{series:"Manufacturing",year:2007,month:9,count:673,rate:4.1,date:"2007-09-01T07:00:00.000Z"},{series:"Manufacturing",year:2007,month:10,count:729,rate:4.3,date:"2007-10-01T07:00:00.000Z"},{series:"Manufacturing",year:2007,month:11,count:762,rate:4.5,date:"2007-11-01T07:00:00.000Z"},{series:"Manufacturing",year:2007,month:12,count:772,rate:4.6,date:"2007-12-01T08:00:00.000Z"},{series:"Manufacturing",year:2008,month:1,count:837,rate:5.1,date:"2008-01-01T08:00:00.000Z"},{series:"Manufacturing",year:2008,month:2,count:820,rate:5,date:"2008-02-01T08:00:00.000Z"},{series:"Manufacturing",year:2008,month:3,count:831,rate:5,date:"2008-03-01T08:00:00.000Z"},{series:"Manufacturing",year:2008,month:4,count:796,rate:4.8,date:"2008-04-01T07:00:00.000Z"},{series:"Manufacturing",year:2008,month:5,count:879,rate:5.3,date:"2008-05-01T07:00:00.000Z"},{series:"Manufacturing",year:2008,month:6,count:862,rate:5.2,date:"2008-06-01T07:00:00.000Z"},{series:"Manufacturing",year:2008,month:7,count:908,rate:5.5,date:"2008-07-01T07:00:00.000Z"},{series:"Manufacturing",year:2008,month:8,count:960,rate:5.7,date:"2008-08-01T07:00:00.000Z"},{series:"Manufacturing",year:2008,month:9,count:984,rate:6,date:"2008-09-01T07:00:00.000Z"},{series:"Manufacturing",year:2008,month:10,count:1007,rate:6.2,date:"2008-10-01T07:00:00.000Z"},{series:"Manufacturing",year:2008,month:11,count:1144,rate:7,date:"2008-11-01T07:00:00.000Z"},{series:"Manufacturing",year:2008,month:12,count:1315,rate:8.3,date:"2008-12-01T08:00:00.000Z"},{series:"Manufacturing",year:2009,month:1,count:1711,rate:10.9,date:"2009-01-01T08:00:00.000Z"},{series:"Manufacturing",year:2009,month:2,count:1822,rate:11.5,date:"2009-02-01T08:00:00.000Z"},{series:"Manufacturing",year:2009,month:3,count:1912,rate:12.2,date:"2009-03-01T08:00:00.000Z"},{series:"Manufacturing",year:2009,month:4,count:1968,rate:12.4,date:"2009-04-01T07:00:00.000Z"},{series:"Manufacturing",year:2009,month:5,count:2010,rate:12.6,date:"2009-05-01T07:00:00.000Z"},{series:"Manufacturing",year:2009,month:6,count:2010,rate:12.6,date:"2009-06-01T07:00:00.000Z"},{series:"Manufacturing",year:2009,month:7,count:1988,rate:12.4,date:"2009-07-01T07:00:00.000Z"},{series:"Manufacturing",year:2009,month:8,count:1866,rate:11.8,date:"2009-08-01T07:00:00.000Z"},{series:"Manufacturing",year:2009,month:9,count:1876,rate:11.9,date:"2009-09-01T07:00:00.000Z"},{series:"Manufacturing",year:2009,month:10,count:1884,rate:12.2,date:"2009-10-01T07:00:00.000Z"},{series:"Manufacturing",year:2009,month:11,count:1882,rate:12.5,date:"2009-11-01T07:00:00.000Z"},{series:"Manufacturing",year:2009,month:12,count:1747,rate:11.9,date:"2009-12-01T08:00:00.000Z"},{series:"Manufacturing",year:2010,month:1,count:1918,rate:13,date:"2010-01-01T08:00:00.000Z"},{series:"Manufacturing",year:2010,month:2,count:1814,rate:12.1,date:"2010-02-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2e3,month:1,count:1e3,rate:5,date:"2000-01-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2e3,month:2,count:1023,rate:5.2,date:"2000-02-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2e3,month:3,count:983,rate:5.1,date:"2000-03-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2e3,month:4,count:793,rate:4.1,date:"2000-04-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2e3,month:5,count:821,rate:4.3,date:"2000-05-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2e3,month:6,count:837,rate:4.4,date:"2000-06-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2e3,month:7,count:792,rate:4.1,date:"2000-07-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2e3,month:8,count:853,rate:4.3,date:"2000-08-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2e3,month:9,count:791,rate:4.1,date:"2000-09-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2e3,month:10,count:739,rate:3.7,date:"2000-10-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2e3,month:11,count:701,rate:3.6,date:"2000-11-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2e3,month:12,count:715,rate:3.7,date:"2000-12-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2001,month:1,count:908,rate:4.7,date:"2001-01-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2001,month:2,count:990,rate:5.2,date:"2001-02-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2001,month:3,count:1037,rate:5.4,date:"2001-03-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2001,month:4,count:820,rate:4.3,date:"2001-04-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2001,month:5,count:875,rate:4.5,date:"2001-05-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2001,month:6,count:955,rate:4.9,date:"2001-06-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2001,month:7,count:833,rate:4.3,date:"2001-07-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2001,month:8,count:928,rate:4.8,date:"2001-08-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2001,month:9,count:936,rate:4.8,date:"2001-09-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2001,month:10,count:941,rate:4.8,date:"2001-10-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2001,month:11,count:1046,rate:5.3,date:"2001-11-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2001,month:12,count:1074,rate:5.4,date:"2001-12-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2002,month:1,count:1212,rate:6.3,date:"2002-01-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2002,month:2,count:1264,rate:6.6,date:"2002-02-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2002,month:3,count:1269,rate:6.6,date:"2002-03-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2002,month:4,count:1222,rate:6.4,date:"2002-04-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2002,month:5,count:1138,rate:5.8,date:"2002-05-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2002,month:6,count:1240,rate:6.2,date:"2002-06-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2002,month:7,count:1132,rate:5.6,date:"2002-07-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2002,month:8,count:1170,rate:5.8,date:"2002-08-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2002,month:9,count:1171,rate:5.9,date:"2002-09-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2002,month:10,count:1212,rate:6.1,date:"2002-10-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2002,month:11,count:1242,rate:6.2,date:"2002-11-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2002,month:12,count:1150,rate:5.7,date:"2002-12-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2003,month:1,count:1342,rate:6.7,date:"2003-01-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2003,month:2,count:1238,rate:6.1,date:"2003-02-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2003,month:3,count:1179,rate:5.9,date:"2003-03-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2003,month:4,count:1201,rate:6,date:"2003-04-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2003,month:5,count:1247,rate:6.2,date:"2003-05-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2003,month:6,count:1434,rate:6.9,date:"2003-06-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2003,month:7,count:1387,rate:6.6,date:"2003-07-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2003,month:8,count:1161,rate:5.6,date:"2003-08-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2003,month:9,count:1229,rate:5.9,date:"2003-09-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2003,month:10,count:1189,rate:5.7,date:"2003-10-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2003,month:11,count:1156,rate:5.4,date:"2003-11-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2003,month:12,count:1081,rate:5,date:"2003-12-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2004,month:1,count:1389,rate:6.5,date:"2004-01-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2004,month:2,count:1369,rate:6.5,date:"2004-02-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2004,month:3,count:1386,rate:6.8,date:"2004-03-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2004,month:4,count:1248,rate:6.1,date:"2004-04-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2004,month:5,count:1183,rate:5.8,date:"2004-05-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2004,month:6,count:1182,rate:5.8,date:"2004-06-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2004,month:7,count:1163,rate:5.5,date:"2004-07-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2004,month:8,count:1079,rate:5.1,date:"2004-08-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2004,month:9,count:1127,rate:5.5,date:"2004-09-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2004,month:10,count:1138,rate:5.4,date:"2004-10-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2004,month:11,count:1045,rate:5,date:"2004-11-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2004,month:12,count:1058,rate:5,date:"2004-12-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2005,month:1,count:1302,rate:6.3,date:"2005-01-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2005,month:2,count:1301,rate:6.2,date:"2005-02-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2005,month:3,count:1173,rate:5.6,date:"2005-03-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2005,month:4,count:1131,rate:5.4,date:"2005-04-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2005,month:5,count:1145,rate:5.4,date:"2005-05-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2005,month:6,count:1197,rate:5.7,date:"2005-06-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2005,month:7,count:1194,rate:5.6,date:"2005-07-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2005,month:8,count:1130,rate:5.3,date:"2005-08-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2005,month:9,count:1038,rate:4.9,date:"2005-09-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2005,month:10,count:1050,rate:4.9,date:"2005-10-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2005,month:11,count:1013,rate:4.7,date:"2005-11-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2005,month:12,count:968,rate:4.5,date:"2005-12-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2006,month:1,count:1203,rate:5.7,date:"2006-01-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2006,month:2,count:1141,rate:5.4,date:"2006-02-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2006,month:3,count:1022,rate:4.9,date:"2006-03-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2006,month:4,count:972,rate:4.6,date:"2006-04-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2006,month:5,count:1025,rate:4.8,date:"2006-05-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2006,month:6,count:1085,rate:5.1,date:"2006-06-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2006,month:7,count:1083,rate:5.1,date:"2006-07-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2006,month:8,count:977,rate:4.7,date:"2006-08-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2006,month:9,count:1008,rate:4.9,date:"2006-09-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2006,month:10,count:972,rate:4.7,date:"2006-10-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2006,month:11,count:1018,rate:4.8,date:"2006-11-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2006,month:12,count:965,rate:4.5,date:"2006-12-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2007,month:1,count:1166,rate:5.5,date:"2007-01-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2007,month:2,count:1045,rate:5.1,date:"2007-02-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2007,month:3,count:896,rate:4.4,date:"2007-03-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2007,month:4,count:872,rate:4.2,date:"2007-04-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2007,month:5,count:795,rate:3.9,date:"2007-05-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2007,month:6,count:979,rate:4.6,date:"2007-06-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2007,month:7,count:1089,rate:5.2,date:"2007-07-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2007,month:8,count:1028,rate:5.1,date:"2007-08-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2007,month:9,count:1027,rate:5.1,date:"2007-09-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2007,month:10,count:907,rate:4.4,date:"2007-10-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2007,month:11,count:893,rate:4.3,date:"2007-11-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2007,month:12,count:1009,rate:4.8,date:"2007-12-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2008,month:1,count:1120,rate:5.4,date:"2008-01-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2008,month:2,count:1007,rate:4.9,date:"2008-02-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2008,month:3,count:992,rate:4.9,date:"2008-03-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2008,month:4,count:919,rate:4.5,date:"2008-04-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2008,month:5,count:1049,rate:5.2,date:"2008-05-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2008,month:6,count:1160,rate:5.7,date:"2008-06-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2008,month:7,count:1329,rate:6.5,date:"2008-07-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2008,month:8,count:1366,rate:6.6,date:"2008-08-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2008,month:9,count:1277,rate:6.2,date:"2008-09-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2008,month:10,count:1313,rate:6.3,date:"2008-10-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2008,month:11,count:1397,rate:6.7,date:"2008-11-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2008,month:12,count:1535,rate:7.2,date:"2008-12-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2009,month:1,count:1794,rate:8.7,date:"2009-01-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2009,month:2,count:1847,rate:8.9,date:"2009-02-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2009,month:3,count:1852,rate:9,date:"2009-03-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2009,month:4,count:1833,rate:9,date:"2009-04-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2009,month:5,count:1835,rate:9,date:"2009-05-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2009,month:6,count:1863,rate:9.1,date:"2009-06-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2009,month:7,count:1854,rate:9,date:"2009-07-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2009,month:8,count:1794,rate:8.8,date:"2009-08-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2009,month:9,count:1809,rate:9,date:"2009-09-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2009,month:10,count:1919,rate:9.6,date:"2009-10-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2009,month:11,count:1879,rate:9.2,date:"2009-11-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2009,month:12,count:1851,rate:9.1,date:"2009-12-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2010,month:1,count:2154,rate:10.5,date:"2010-01-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2010,month:2,count:2071,rate:10,date:"2010-02-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2e3,month:1,count:236,rate:4.3,date:"2000-01-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2e3,month:2,count:223,rate:4,date:"2000-02-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2e3,month:3,count:192,rate:3.5,date:"2000-03-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2e3,month:4,count:191,rate:3.4,date:"2000-04-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2e3,month:5,count:190,rate:3.4,date:"2000-05-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2e3,month:6,count:183,rate:3.2,date:"2000-06-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2e3,month:7,count:228,rate:3.9,date:"2000-07-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2e3,month:8,count:198,rate:3.4,date:"2000-08-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2e3,month:9,count:231,rate:4,date:"2000-09-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2e3,month:10,count:153,rate:2.8,date:"2000-10-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2e3,month:11,count:129,rate:2.3,date:"2000-11-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2e3,month:12,count:168,rate:3.1,date:"2000-12-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2001,month:1,count:194,rate:3.6,date:"2001-01-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2001,month:2,count:189,rate:3.4,date:"2001-02-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2001,month:3,count:193,rate:3.5,date:"2001-03-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2001,month:4,count:232,rate:4.2,date:"2001-04-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2001,month:5,count:178,rate:3.1,date:"2001-05-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2001,month:6,count:242,rate:4.3,date:"2001-06-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2001,month:7,count:236,rate:4.2,date:"2001-07-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2001,month:8,count:226,rate:3.9,date:"2001-08-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2001,month:9,count:214,rate:3.9,date:"2001-09-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2001,month:10,count:321,rate:5.8,date:"2001-10-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2001,month:11,count:302,rate:5.4,date:"2001-11-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2001,month:12,count:310,rate:5.6,date:"2001-12-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2002,month:1,count:368,rate:6.6,date:"2002-01-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2002,month:2,count:331,rate:5.7,date:"2002-02-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2002,month:3,count:313,rate:5.6,date:"2002-03-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2002,month:4,count:280,rate:5,date:"2002-04-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2002,month:5,count:257,rate:4.5,date:"2002-05-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2002,month:6,count:274,rate:4.9,date:"2002-06-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2002,month:7,count:270,rate:4.9,date:"2002-07-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2002,month:8,count:221,rate:3.9,date:"2002-08-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2002,month:9,count:235,rate:4.2,date:"2002-09-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2002,month:10,count:262,rate:4.7,date:"2002-10-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2002,month:11,count:233,rate:4.2,date:"2002-11-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2002,month:12,count:243,rate:4.6,date:"2002-12-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2003,month:1,count:331,rate:6.3,date:"2003-01-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2003,month:2,count:316,rate:5.8,date:"2003-02-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2003,month:3,count:319,rate:5.9,date:"2003-03-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2003,month:4,count:274,rate:5,date:"2003-04-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2003,month:5,count:260,rate:4.9,date:"2003-05-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2003,month:6,count:300,rate:5.5,date:"2003-06-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2003,month:7,count:289,rate:5.4,date:"2003-07-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2003,month:8,count:255,rate:4.8,date:"2003-08-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2003,month:9,count:255,rate:4.7,date:"2003-09-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2003,month:10,count:260,rate:4.8,date:"2003-10-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2003,month:11,count:275,rate:5.1,date:"2003-11-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2003,month:12,count:267,rate:5,date:"2003-12-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2004,month:1,count:243,rate:4.6,date:"2004-01-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2004,month:2,count:291,rate:5.5,date:"2004-02-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2004,month:3,count:284,rate:5.4,date:"2004-03-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2004,month:4,count:239,rate:4.5,date:"2004-04-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2004,month:5,count:230,rate:4.4,date:"2004-05-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2004,month:6,count:227,rate:4.3,date:"2004-06-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2004,month:7,count:231,rate:4.3,date:"2004-07-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2004,month:8,count:236,rate:4.4,date:"2004-08-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2004,month:9,count:208,rate:3.9,date:"2004-09-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2004,month:10,count:219,rate:4,date:"2004-10-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2004,month:11,count:217,rate:4,date:"2004-11-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2004,month:12,count:204,rate:3.8,date:"2004-12-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2005,month:1,count:276,rate:5,date:"2005-01-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2005,month:2,count:245,rate:4.4,date:"2005-02-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2005,month:3,count:267,rate:4.8,date:"2005-03-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2005,month:4,count:257,rate:4.7,date:"2005-04-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2005,month:5,count:223,rate:4.1,date:"2005-05-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2005,month:6,count:247,rate:4.5,date:"2005-06-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2005,month:7,count:222,rate:3.9,date:"2005-07-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2005,month:8,count:187,rate:3.3,date:"2005-08-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2005,month:9,count:211,rate:3.7,date:"2005-09-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2005,month:10,count:251,rate:4.4,date:"2005-10-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2005,month:11,count:199,rate:3.5,date:"2005-11-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2005,month:12,count:202,rate:3.6,date:"2005-12-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2006,month:1,count:287,rate:5,date:"2006-01-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2006,month:2,count:260,rate:4.6,date:"2006-02-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2006,month:3,count:263,rate:4.7,date:"2006-03-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2006,month:4,count:272,rate:4.8,date:"2006-04-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2006,month:5,count:226,rate:4,date:"2006-05-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2006,month:6,count:225,rate:3.9,date:"2006-06-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2006,month:7,count:237,rate:4.2,date:"2006-07-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2006,month:8,count:217,rate:3.7,date:"2006-08-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2006,month:9,count:183,rate:3.1,date:"2006-09-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2006,month:10,count:206,rate:3.6,date:"2006-10-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2006,month:11,count:183,rate:3.1,date:"2006-11-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2006,month:12,count:190,rate:3.2,date:"2006-12-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2007,month:1,count:248,rate:4.2,date:"2007-01-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2007,month:2,count:251,rate:4.2,date:"2007-02-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2007,month:3,count:249,rate:4.3,date:"2007-03-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2007,month:4,count:188,rate:3.3,date:"2007-04-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2007,month:5,count:216,rate:3.8,date:"2007-05-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2007,month:6,count:242,rate:4.1,date:"2007-06-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2007,month:7,count:309,rate:5.1,date:"2007-07-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2007,month:8,count:205,rate:3.4,date:"2007-08-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2007,month:9,count:224,rate:3.7,date:"2007-09-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2007,month:10,count:218,rate:3.6,date:"2007-10-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2007,month:11,count:242,rate:3.9,date:"2007-11-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2007,month:12,count:210,rate:3.4,date:"2007-12-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2008,month:1,count:271,rate:4.4,date:"2008-01-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2008,month:2,count:289,rate:4.6,date:"2008-02-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2008,month:3,count:267,rate:4.3,date:"2008-03-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2008,month:4,count:245,rate:4,date:"2008-04-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2008,month:5,count:269,rate:4.3,date:"2008-05-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2008,month:6,count:329,rate:5.1,date:"2008-06-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2008,month:7,count:359,rate:5.7,date:"2008-07-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2008,month:8,count:309,rate:5.2,date:"2008-08-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2008,month:9,count:337,rate:5.8,date:"2008-09-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2008,month:10,count:316,rate:5.7,date:"2008-10-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2008,month:11,count:331,rate:5.8,date:"2008-11-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2008,month:12,count:421,rate:6.7,date:"2008-12-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2009,month:1,count:522,rate:8.4,date:"2009-01-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2009,month:2,count:563,rate:9.1,date:"2009-02-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2009,month:3,count:558,rate:9,date:"2009-03-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2009,month:4,count:541,rate:9,date:"2009-04-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2009,month:5,count:506,rate:8.5,date:"2009-05-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2009,month:6,count:499,rate:8.4,date:"2009-06-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2009,month:7,count:511,rate:8.8,date:"2009-07-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2009,month:8,count:547,rate:9.8,date:"2009-08-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2009,month:9,count:538,rate:9.5,date:"2009-09-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2009,month:10,count:480,rate:8.6,date:"2009-10-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2009,month:11,count:493,rate:8.5,date:"2009-11-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2009,month:12,count:539,rate:9,date:"2009-12-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2010,month:1,count:657,rate:11.3,date:"2010-01-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2010,month:2,count:591,rate:10.5,date:"2010-02-01T08:00:00.000Z"},{series:"Information",year:2e3,month:1,count:125,rate:3.4,date:"2000-01-01T08:00:00.000Z"},{series:"Information",year:2e3,month:2,count:112,rate:2.9,date:"2000-02-01T08:00:00.000Z"},{series:"Information",year:2e3,month:3,count:140,rate:3.6,date:"2000-03-01T08:00:00.000Z"},{series:"Information",year:2e3,month:4,count:95,rate:2.4,date:"2000-04-01T08:00:00.000Z"},{series:"Information",year:2e3,month:5,count:131,rate:3.5,date:"2000-05-01T07:00:00.000Z"},{series:"Information",year:2e3,month:6,count:102,rate:2.6,date:"2000-06-01T07:00:00.000Z"},{series:"Information",year:2e3,month:7,count:144,rate:3.6,date:"2000-07-01T07:00:00.000Z"},{series:"Information",year:2e3,month:8,count:143,rate:3.7,date:"2000-08-01T07:00:00.000Z"},{series:"Information",year:2e3,month:9,count:130,rate:3.3,date:"2000-09-01T07:00:00.000Z"},{series:"Information",year:2e3,month:10,count:96,rate:2.4,date:"2000-10-01T07:00:00.000Z"},{series:"Information",year:2e3,month:11,count:117,rate:3,date:"2000-11-01T08:00:00.000Z"},{series:"Information",year:2e3,month:12,count:151,rate:4,date:"2000-12-01T08:00:00.000Z"},{series:"Information",year:2001,month:1,count:161,rate:4.1,date:"2001-01-01T08:00:00.000Z"},{series:"Information",year:2001,month:2,count:109,rate:2.9,date:"2001-02-01T08:00:00.000Z"},{series:"Information",year:2001,month:3,count:148,rate:3.8,date:"2001-03-01T08:00:00.000Z"},{series:"Information",year:2001,month:4,count:148,rate:3.7,date:"2001-04-01T08:00:00.000Z"},{series:"Information",year:2001,month:5,count:164,rate:4.2,date:"2001-05-01T07:00:00.000Z"},{series:"Information",year:2001,month:6,count:163,rate:4.1,date:"2001-06-01T07:00:00.000Z"},{series:"Information",year:2001,month:7,count:206,rate:5.2,date:"2001-07-01T07:00:00.000Z"},{series:"Information",year:2001,month:8,count:210,rate:5.4,date:"2001-08-01T07:00:00.000Z"},{series:"Information",year:2001,month:9,count:219,rate:5.6,date:"2001-09-01T07:00:00.000Z"},{series:"Information",year:2001,month:10,count:233,rate:6,date:"2001-10-01T07:00:00.000Z"},{series:"Information",year:2001,month:11,count:241,rate:6.2,date:"2001-11-01T08:00:00.000Z"},{series:"Information",year:2001,month:12,count:275,rate:7.4,date:"2001-12-01T08:00:00.000Z"},{series:"Information",year:2002,month:1,count:263,rate:7.1,date:"2002-01-01T08:00:00.000Z"},{series:"Information",year:2002,month:2,count:279,rate:7.6,date:"2002-02-01T08:00:00.000Z"},{series:"Information",year:2002,month:3,count:266,rate:7.2,date:"2002-03-01T08:00:00.000Z"},{series:"Information",year:2002,month:4,count:257,rate:6.9,date:"2002-04-01T08:00:00.000Z"},{series:"Information",year:2002,month:5,count:260,rate:7.2,date:"2002-05-01T07:00:00.000Z"},{series:"Information",year:2002,month:6,count:255,rate:6.9,date:"2002-06-01T07:00:00.000Z"},{series:"Information",year:2002,month:7,count:264,rate:7.1,date:"2002-07-01T07:00:00.000Z"},{series:"Information",year:2002,month:8,count:270,rate:7.1,date:"2002-08-01T07:00:00.000Z"},{series:"Information",year:2002,month:9,count:231,rate:6.3,date:"2002-09-01T07:00:00.000Z"},{series:"Information",year:2002,month:10,count:211,rate:6,date:"2002-10-01T07:00:00.000Z"},{series:"Information",year:2002,month:11,count:220,rate:6.5,date:"2002-11-01T08:00:00.000Z"},{series:"Information",year:2002,month:12,count:255,rate:7.2,date:"2002-12-01T08:00:00.000Z"},{series:"Information",year:2003,month:1,count:243,rate:6.7,date:"2003-01-01T08:00:00.000Z"},{series:"Information",year:2003,month:2,count:321,rate:8.6,date:"2003-02-01T08:00:00.000Z"},{series:"Information",year:2003,month:3,count:267,rate:7.4,date:"2003-03-01T08:00:00.000Z"},{series:"Information",year:2003,month:4,count:268,rate:7.3,date:"2003-04-01T08:00:00.000Z"},{series:"Information",year:2003,month:5,count:251,rate:6.9,date:"2003-05-01T07:00:00.000Z"},{series:"Information",year:2003,month:6,count:239,rate:6.4,date:"2003-06-01T07:00:00.000Z"},{series:"Information",year:2003,month:7,count:224,rate:5.9,date:"2003-07-01T07:00:00.000Z"},{series:"Information",year:2003,month:8,count:224,rate:6.1,date:"2003-08-01T07:00:00.000Z"},{series:"Information",year:2003,month:9,count:248,rate:7,date:"2003-09-01T07:00:00.000Z"},{series:"Information",year:2003,month:10,count:182,rate:5.4,date:"2003-10-01T07:00:00.000Z"},{series:"Information",year:2003,month:11,count:257,rate:7.6,date:"2003-11-01T08:00:00.000Z"},{series:"Information",year:2003,month:12,count:224,rate:6.5,date:"2003-12-01T08:00:00.000Z"},{series:"Information",year:2004,month:1,count:236,rate:7,date:"2004-01-01T08:00:00.000Z"},{series:"Information",year:2004,month:2,count:194,rate:5.8,date:"2004-02-01T08:00:00.000Z"},{series:"Information",year:2004,month:3,count:216,rate:6.3,date:"2004-03-01T08:00:00.000Z"},{series:"Information",year:2004,month:4,count:168,rate:5,date:"2004-04-01T08:00:00.000Z"},{series:"Information",year:2004,month:5,count:190,rate:5.7,date:"2004-05-01T07:00:00.000Z"},{series:"Information",year:2004,month:6,count:172,rate:5,date:"2004-06-01T07:00:00.000Z"},{series:"Information",year:2004,month:7,count:174,rate:5.2,date:"2004-07-01T07:00:00.000Z"},{series:"Information",year:2004,month:8,count:191,rate:5.7,date:"2004-08-01T07:00:00.000Z"},{series:"Information",year:2004,month:9,count:178,rate:5.4,date:"2004-09-01T07:00:00.000Z"},{series:"Information",year:2004,month:10,count:185,rate:5.6,date:"2004-10-01T07:00:00.000Z"},{series:"Information",year:2004,month:11,count:187,rate:5.6,date:"2004-11-01T08:00:00.000Z"},{series:"Information",year:2004,month:12,count:173,rate:5.7,date:"2004-12-01T08:00:00.000Z"},{series:"Information",year:2005,month:1,count:168,rate:5.4,date:"2005-01-01T08:00:00.000Z"},{series:"Information",year:2005,month:2,count:204,rate:6.5,date:"2005-02-01T08:00:00.000Z"},{series:"Information",year:2005,month:3,count:177,rate:6,date:"2005-03-01T08:00:00.000Z"},{series:"Information",year:2005,month:4,count:178,rate:5.9,date:"2005-04-01T08:00:00.000Z"},{series:"Information",year:2005,month:5,count:145,rate:4.7,date:"2005-05-01T07:00:00.000Z"},{series:"Information",year:2005,month:6,count:160,rate:5,date:"2005-06-01T07:00:00.000Z"},{series:"Information",year:2005,month:7,count:142,rate:4.2,date:"2005-07-01T07:00:00.000Z"},{series:"Information",year:2005,month:8,count:156,rate:4.6,date:"2005-08-01T07:00:00.000Z"},{series:"Information",year:2005,month:9,count:168,rate:4.9,date:"2005-09-01T07:00:00.000Z"},{series:"Information",year:2005,month:10,count:162,rate:4.8,date:"2005-10-01T07:00:00.000Z"},{series:"Information",year:2005,month:11,count:172,rate:5.1,date:"2005-11-01T08:00:00.000Z"},{series:"Information",year:2005,month:12,count:128,rate:3.7,date:"2005-12-01T08:00:00.000Z"},{series:"Information",year:2006,month:1,count:105,rate:3.3,date:"2006-01-01T08:00:00.000Z"},{series:"Information",year:2006,month:2,count:119,rate:3.7,date:"2006-02-01T08:00:00.000Z"},{series:"Information",year:2006,month:3,count:116,rate:3.5,date:"2006-03-01T08:00:00.000Z"},{series:"Information",year:2006,month:4,count:132,rate:4.2,date:"2006-04-01T08:00:00.000Z"},{series:"Information",year:2006,month:5,count:158,rate:4.8,date:"2006-05-01T07:00:00.000Z"},{series:"Information",year:2006,month:6,count:114,rate:3.4,date:"2006-06-01T07:00:00.000Z"},{series:"Information",year:2006,month:7,count:103,rate:3,date:"2006-07-01T07:00:00.000Z"},{series:"Information",year:2006,month:8,count:132,rate:3.9,date:"2006-08-01T07:00:00.000Z"},{series:"Information",year:2006,month:9,count:170,rate:4.9,date:"2006-09-01T07:00:00.000Z"},{series:"Information",year:2006,month:10,count:116,rate:3.4,date:"2006-10-01T07:00:00.000Z"},{series:"Information",year:2006,month:11,count:137,rate:3.9,date:"2006-11-01T08:00:00.000Z"},{series:"Information",year:2006,month:12,count:108,rate:2.9,date:"2006-12-01T08:00:00.000Z"},{series:"Information",year:2007,month:1,count:143,rate:4,date:"2007-01-01T08:00:00.000Z"},{series:"Information",year:2007,month:2,count:139,rate:4,date:"2007-02-01T08:00:00.000Z"},{series:"Information",year:2007,month:3,count:109,rate:3.2,date:"2007-03-01T08:00:00.000Z"},{series:"Information",year:2007,month:4,count:77,rate:2.4,date:"2007-04-01T07:00:00.000Z"},{series:"Information",year:2007,month:5,count:110,rate:3.3,date:"2007-05-01T07:00:00.000Z"},{series:"Information",year:2007,month:6,count:114,rate:3.4,date:"2007-06-01T07:00:00.000Z"},{series:"Information",year:2007,month:7,count:112,rate:3.4,date:"2007-07-01T07:00:00.000Z"},{series:"Information",year:2007,month:8,count:140,rate:4.1,date:"2007-08-01T07:00:00.000Z"},{series:"Information",year:2007,month:9,count:124,rate:3.7,date:"2007-09-01T07:00:00.000Z"},{series:"Information",year:2007,month:10,count:120,rate:3.7,date:"2007-10-01T07:00:00.000Z"},{series:"Information",year:2007,month:11,count:132,rate:4,date:"2007-11-01T07:00:00.000Z"},{series:"Information",year:2007,month:12,count:125,rate:3.7,date:"2007-12-01T08:00:00.000Z"},{series:"Information",year:2008,month:1,count:169,rate:5.1,date:"2008-01-01T08:00:00.000Z"},{series:"Information",year:2008,month:2,count:193,rate:5.8,date:"2008-02-01T08:00:00.000Z"},{series:"Information",year:2008,month:3,count:155,rate:4.8,date:"2008-03-01T08:00:00.000Z"},{series:"Information",year:2008,month:4,count:143,rate:4.4,date:"2008-04-01T07:00:00.000Z"},{series:"Information",year:2008,month:5,count:170,rate:5,date:"2008-05-01T07:00:00.000Z"},{series:"Information",year:2008,month:6,count:157,rate:4.7,date:"2008-06-01T07:00:00.000Z"},{series:"Information",year:2008,month:7,count:141,rate:4.1,date:"2008-07-01T07:00:00.000Z"},{series:"Information",year:2008,month:8,count:144,rate:4.2,date:"2008-08-01T07:00:00.000Z"},{series:"Information",year:2008,month:9,count:166,rate:5,date:"2008-09-01T07:00:00.000Z"},{series:"Information",year:2008,month:10,count:168,rate:5,date:"2008-10-01T07:00:00.000Z"},{series:"Information",year:2008,month:11,count:173,rate:5.2,date:"2008-11-01T07:00:00.000Z"},{series:"Information",year:2008,month:12,count:219,rate:6.9,date:"2008-12-01T08:00:00.000Z"},{series:"Information",year:2009,month:1,count:232,rate:7.4,date:"2009-01-01T08:00:00.000Z"},{series:"Information",year:2009,month:2,count:224,rate:7.1,date:"2009-02-01T08:00:00.000Z"},{series:"Information",year:2009,month:3,count:252,rate:7.8,date:"2009-03-01T08:00:00.000Z"},{series:"Information",year:2009,month:4,count:320,rate:10.1,date:"2009-04-01T07:00:00.000Z"},{series:"Information",year:2009,month:5,count:303,rate:9.5,date:"2009-05-01T07:00:00.000Z"},{series:"Information",year:2009,month:6,count:347,rate:11.1,date:"2009-06-01T07:00:00.000Z"},{series:"Information",year:2009,month:7,count:373,rate:11.5,date:"2009-07-01T07:00:00.000Z"},{series:"Information",year:2009,month:8,count:358,rate:10.7,date:"2009-08-01T07:00:00.000Z"},{series:"Information",year:2009,month:9,count:362,rate:11.2,date:"2009-09-01T07:00:00.000Z"},{series:"Information",year:2009,month:10,count:261,rate:8.2,date:"2009-10-01T07:00:00.000Z"},{series:"Information",year:2009,month:11,count:243,rate:7.6,date:"2009-11-01T07:00:00.000Z"},{series:"Information",year:2009,month:12,count:256,rate:8.5,date:"2009-12-01T08:00:00.000Z"},{series:"Information",year:2010,month:1,count:313,rate:10,date:"2010-01-01T08:00:00.000Z"},{series:"Information",year:2010,month:2,count:300,rate:10,date:"2010-02-01T08:00:00.000Z"},{series:"Finance",year:2e3,month:1,count:228,rate:2.7,date:"2000-01-01T08:00:00.000Z"},{series:"Finance",year:2e3,month:2,count:240,rate:2.8,date:"2000-02-01T08:00:00.000Z"},{series:"Finance",year:2e3,month:3,count:226,rate:2.6,date:"2000-03-01T08:00:00.000Z"},{series:"Finance",year:2e3,month:4,count:197,rate:2.3,date:"2000-04-01T08:00:00.000Z"},{series:"Finance",year:2e3,month:5,count:195,rate:2.2,date:"2000-05-01T07:00:00.000Z"},{series:"Finance",year:2e3,month:6,count:216,rate:2.5,date:"2000-06-01T07:00:00.000Z"},{series:"Finance",year:2e3,month:7,count:190,rate:2.2,date:"2000-07-01T07:00:00.000Z"},{series:"Finance",year:2e3,month:8,count:213,rate:2.5,date:"2000-08-01T07:00:00.000Z"},{series:"Finance",year:2e3,month:9,count:187,rate:2.2,date:"2000-09-01T07:00:00.000Z"},{series:"Finance",year:2e3,month:10,count:224,rate:2.6,date:"2000-10-01T07:00:00.000Z"},{series:"Finance",year:2e3,month:11,count:184,rate:2.1,date:"2000-11-01T08:00:00.000Z"},{series:"Finance",year:2e3,month:12,count:200,rate:2.3,date:"2000-12-01T08:00:00.000Z"},{series:"Finance",year:2001,month:1,count:232,rate:2.6,date:"2001-01-01T08:00:00.000Z"},{series:"Finance",year:2001,month:2,count:235,rate:2.6,date:"2001-02-01T08:00:00.000Z"},{series:"Finance",year:2001,month:3,count:211,rate:2.4,date:"2001-03-01T08:00:00.000Z"},{series:"Finance",year:2001,month:4,count:232,rate:2.6,date:"2001-04-01T08:00:00.000Z"},{series:"Finance",year:2001,month:5,count:191,rate:2.2,date:"2001-05-01T07:00:00.000Z"},{series:"Finance",year:2001,month:6,count:249,rate:2.8,date:"2001-06-01T07:00:00.000Z"},{series:"Finance",year:2001,month:7,count:289,rate:3.3,date:"2001-07-01T07:00:00.000Z"},{series:"Finance",year:2001,month:8,count:256,rate:2.9,date:"2001-08-01T07:00:00.000Z"},{series:"Finance",year:2001,month:9,count:268,rate:3.1,date:"2001-09-01T07:00:00.000Z"},{series:"Finance",year:2001,month:10,count:281,rate:3.3,date:"2001-10-01T07:00:00.000Z"},{series:"Finance",year:2001,month:11,count:320,rate:3.6,date:"2001-11-01T08:00:00.000Z"},{series:"Finance",year:2001,month:12,count:258,rate:3,date:"2001-12-01T08:00:00.000Z"},{series:"Finance",year:2002,month:1,count:267,rate:3,date:"2002-01-01T08:00:00.000Z"},{series:"Finance",year:2002,month:2,count:318,rate:3.5,date:"2002-02-01T08:00:00.000Z"},{series:"Finance",year:2002,month:3,count:287,rate:3.2,date:"2002-03-01T08:00:00.000Z"},{series:"Finance",year:2002,month:4,count:292,rate:3.3,date:"2002-04-01T08:00:00.000Z"},{series:"Finance",year:2002,month:5,count:340,rate:3.8,date:"2002-05-01T07:00:00.000Z"},{series:"Finance",year:2002,month:6,count:373,rate:4.1,date:"2002-06-01T07:00:00.000Z"},{series:"Finance",year:2002,month:7,count:345,rate:3.8,date:"2002-07-01T07:00:00.000Z"},{series:"Finance",year:2002,month:8,count:343,rate:3.8,date:"2002-08-01T07:00:00.000Z"},{series:"Finance",year:2002,month:9,count:299,rate:3.3,date:"2002-09-01T07:00:00.000Z"},{series:"Finance",year:2002,month:10,count:312,rate:3.5,date:"2002-10-01T07:00:00.000Z"},{series:"Finance",year:2002,month:11,count:337,rate:3.7,date:"2002-11-01T08:00:00.000Z"},{series:"Finance",year:2002,month:12,count:322,rate:3.6,date:"2002-12-01T08:00:00.000Z"},{series:"Finance",year:2003,month:1,count:327,rate:3.6,date:"2003-01-01T08:00:00.000Z"},{series:"Finance",year:2003,month:2,count:310,rate:3.4,date:"2003-02-01T08:00:00.000Z"},{series:"Finance",year:2003,month:3,count:357,rate:4,date:"2003-03-01T08:00:00.000Z"},{series:"Finance",year:2003,month:4,count:323,rate:3.6,date:"2003-04-01T08:00:00.000Z"},{series:"Finance",year:2003,month:5,count:320,rate:3.6,date:"2003-05-01T07:00:00.000Z"},{series:"Finance",year:2003,month:6,count:358,rate:4,date:"2003-06-01T07:00:00.000Z"},{series:"Finance",year:2003,month:7,count:284,rate:3.1,date:"2003-07-01T07:00:00.000Z"},{series:"Finance",year:2003,month:8,count:342,rate:3.7,date:"2003-08-01T07:00:00.000Z"},{series:"Finance",year:2003,month:9,count:305,rate:3.3,date:"2003-09-01T07:00:00.000Z"},{series:"Finance",year:2003,month:10,count:303,rate:3.3,date:"2003-10-01T07:00:00.000Z"},{series:"Finance",year:2003,month:11,count:311,rate:3.3,date:"2003-11-01T08:00:00.000Z"},{series:"Finance",year:2003,month:12,count:283,rate:3,date:"2003-12-01T08:00:00.000Z"},{series:"Finance",year:2004,month:1,count:403,rate:4.3,date:"2004-01-01T08:00:00.000Z"},{series:"Finance",year:2004,month:2,count:363,rate:3.8,date:"2004-02-01T08:00:00.000Z"},{series:"Finance",year:2004,month:3,count:343,rate:3.7,date:"2004-03-01T08:00:00.000Z"},{series:"Finance",year:2004,month:4,count:312,rate:3.4,date:"2004-04-01T08:00:00.000Z"},{series:"Finance",year:2004,month:5,count:302,rate:3.3,date:"2004-05-01T07:00:00.000Z"},{series:"Finance",year:2004,month:6,count:335,rate:3.6,date:"2004-06-01T07:00:00.000Z"},{series:"Finance",year:2004,month:7,count:307,rate:3.3,date:"2004-07-01T07:00:00.000Z"},{series:"Finance",year:2004,month:8,count:312,rate:3.4,date:"2004-08-01T07:00:00.000Z"},{series:"Finance",year:2004,month:9,count:374,rate:4,date:"2004-09-01T07:00:00.000Z"},{series:"Finance",year:2004,month:10,count:358,rate:3.8,date:"2004-10-01T07:00:00.000Z"},{series:"Finance",year:2004,month:11,count:290,rate:3.1,date:"2004-11-01T08:00:00.000Z"},{series:"Finance",year:2004,month:12,count:290,rate:3.1,date:"2004-12-01T08:00:00.000Z"},{series:"Finance",year:2005,month:1,count:252,rate:2.7,date:"2005-01-01T08:00:00.000Z"},{series:"Finance",year:2005,month:2,count:301,rate:3.2,date:"2005-02-01T08:00:00.000Z"},{series:"Finance",year:2005,month:3,count:261,rate:2.7,date:"2005-03-01T08:00:00.000Z"},{series:"Finance",year:2005,month:4,count:255,rate:2.7,date:"2005-04-01T08:00:00.000Z"},{series:"Finance",year:2005,month:5,count:288,rate:3.1,date:"2005-05-01T07:00:00.000Z"},{series:"Finance",year:2005,month:6,count:307,rate:3.3,date:"2005-06-01T07:00:00.000Z"},{series:"Finance",year:2005,month:7,count:309,rate:3.3,date:"2005-07-01T07:00:00.000Z"},{series:"Finance",year:2005,month:8,count:300,rate:3.2,date:"2005-08-01T07:00:00.000Z"},{series:"Finance",year:2005,month:9,count:260,rate:2.7,date:"2005-09-01T07:00:00.000Z"},{series:"Finance",year:2005,month:10,count:255,rate:2.7,date:"2005-10-01T07:00:00.000Z"},{series:"Finance",year:2005,month:11,count:268,rate:2.8,date:"2005-11-01T08:00:00.000Z"},{series:"Finance",year:2005,month:12,count:204,rate:2.1,date:"2005-12-01T08:00:00.000Z"},{series:"Finance",year:2006,month:1,count:233,rate:2.4,date:"2006-01-01T08:00:00.000Z"},{series:"Finance",year:2006,month:2,count:268,rate:2.8,date:"2006-02-01T08:00:00.000Z"},{series:"Finance",year:2006,month:3,count:298,rate:3.1,date:"2006-03-01T08:00:00.000Z"},{series:"Finance",year:2006,month:4,count:293,rate:3.1,date:"2006-04-01T08:00:00.000Z"},{series:"Finance",year:2006,month:5,count:289,rate:3,date:"2006-05-01T07:00:00.000Z"},{series:"Finance",year:2006,month:6,count:299,rate:3.1,date:"2006-06-01T07:00:00.000Z"},{series:"Finance",year:2006,month:7,count:329,rate:3.4,date:"2006-07-01T07:00:00.000Z"},{series:"Finance",year:2006,month:8,count:263,rate:2.7,date:"2006-08-01T07:00:00.000Z"},{series:"Finance",year:2006,month:9,count:235,rate:2.4,date:"2006-09-01T07:00:00.000Z"},{series:"Finance",year:2006,month:10,count:211,rate:2.1,date:"2006-10-01T07:00:00.000Z"},{series:"Finance",year:2006,month:11,count:229,rate:2.3,date:"2006-11-01T08:00:00.000Z"},{series:"Finance",year:2006,month:12,count:227,rate:2.3,date:"2006-12-01T08:00:00.000Z"},{series:"Finance",year:2007,month:1,count:233,rate:2.4,date:"2007-01-01T08:00:00.000Z"},{series:"Finance",year:2007,month:2,count:295,rate:3.1,date:"2007-02-01T08:00:00.000Z"},{series:"Finance",year:2007,month:3,count:252,rate:2.6,date:"2007-03-01T08:00:00.000Z"},{series:"Finance",year:2007,month:4,count:231,rate:2.4,date:"2007-04-01T07:00:00.000Z"},{series:"Finance",year:2007,month:5,count:281,rate:2.9,date:"2007-05-01T07:00:00.000Z"},{series:"Finance",year:2007,month:6,count:303,rate:3.1,date:"2007-06-01T07:00:00.000Z"},{series:"Finance",year:2007,month:7,count:307,rate:3.1,date:"2007-07-01T07:00:00.000Z"},{series:"Finance",year:2007,month:8,count:371,rate:3.7,date:"2007-08-01T07:00:00.000Z"},{series:"Finance",year:2007,month:9,count:316,rate:3.3,date:"2007-09-01T07:00:00.000Z"},{series:"Finance",year:2007,month:10,count:307,rate:3.2,date:"2007-10-01T07:00:00.000Z"},{series:"Finance",year:2007,month:11,count:261,rate:2.7,date:"2007-11-01T07:00:00.000Z"},{series:"Finance",year:2007,month:12,count:315,rate:3.2,date:"2007-12-01T08:00:00.000Z"},{series:"Finance",year:2008,month:1,count:285,rate:3,date:"2008-01-01T08:00:00.000Z"},{series:"Finance",year:2008,month:2,count:323,rate:3.4,date:"2008-02-01T08:00:00.000Z"},{series:"Finance",year:2008,month:3,count:323,rate:3.4,date:"2008-03-01T08:00:00.000Z"},{series:"Finance",year:2008,month:4,count:324,rate:3.4,date:"2008-04-01T07:00:00.000Z"},{series:"Finance",year:2008,month:5,count:361,rate:3.7,date:"2008-05-01T07:00:00.000Z"},{series:"Finance",year:2008,month:6,count:337,rate:3.4,date:"2008-06-01T07:00:00.000Z"},{series:"Finance",year:2008,month:7,count:350,rate:3.6,date:"2008-07-01T07:00:00.000Z"},{series:"Finance",year:2008,month:8,count:409,rate:4.2,date:"2008-08-01T07:00:00.000Z"},{series:"Finance",year:2008,month:9,count:380,rate:4,date:"2008-09-01T07:00:00.000Z"},{series:"Finance",year:2008,month:10,count:434,rate:4.5,date:"2008-10-01T07:00:00.000Z"},{series:"Finance",year:2008,month:11,count:494,rate:5.2,date:"2008-11-01T07:00:00.000Z"},{series:"Finance",year:2008,month:12,count:540,rate:5.6,date:"2008-12-01T08:00:00.000Z"},{series:"Finance",year:2009,month:1,count:571,rate:6,date:"2009-01-01T08:00:00.000Z"},{series:"Finance",year:2009,month:2,count:637,rate:6.7,date:"2009-02-01T08:00:00.000Z"},{series:"Finance",year:2009,month:3,count:639,rate:6.8,date:"2009-03-01T08:00:00.000Z"},{series:"Finance",year:2009,month:4,count:561,rate:6,date:"2009-04-01T07:00:00.000Z"},{series:"Finance",year:2009,month:5,count:536,rate:5.7,date:"2009-05-01T07:00:00.000Z"},{series:"Finance",year:2009,month:6,count:513,rate:5.5,date:"2009-06-01T07:00:00.000Z"},{series:"Finance",year:2009,month:7,count:570,rate:6.1,date:"2009-07-01T07:00:00.000Z"},{series:"Finance",year:2009,month:8,count:566,rate:6,date:"2009-08-01T07:00:00.000Z"},{series:"Finance",year:2009,month:9,count:657,rate:7.1,date:"2009-09-01T07:00:00.000Z"},{series:"Finance",year:2009,month:10,count:646,rate:7,date:"2009-10-01T07:00:00.000Z"},{series:"Finance",year:2009,month:11,count:619,rate:6.7,date:"2009-11-01T07:00:00.000Z"},{series:"Finance",year:2009,month:12,count:665,rate:7.2,date:"2009-12-01T08:00:00.000Z"},{series:"Finance",year:2010,month:1,count:623,rate:6.6,date:"2010-01-01T08:00:00.000Z"},{series:"Finance",year:2010,month:2,count:708,rate:7.5,date:"2010-02-01T08:00:00.000Z"},{series:"Business services",year:2e3,month:1,count:655,rate:5.7,date:"2000-01-01T08:00:00.000Z"},{series:"Business services",year:2e3,month:2,count:587,rate:5.2,date:"2000-02-01T08:00:00.000Z"},{series:"Business services",year:2e3,month:3,count:623,rate:5.4,date:"2000-03-01T08:00:00.000Z"},{series:"Business services",year:2e3,month:4,count:517,rate:4.5,date:"2000-04-01T08:00:00.000Z"},{series:"Business services",year:2e3,month:5,count:561,rate:4.7,date:"2000-05-01T07:00:00.000Z"},{series:"Business services",year:2e3,month:6,count:545,rate:4.4,date:"2000-06-01T07:00:00.000Z"},{series:"Business services",year:2e3,month:7,count:636,rate:5.1,date:"2000-07-01T07:00:00.000Z"},{series:"Business services",year:2e3,month:8,count:584,rate:4.8,date:"2000-08-01T07:00:00.000Z"},{series:"Business services",year:2e3,month:9,count:559,rate:4.6,date:"2000-09-01T07:00:00.000Z"},{series:"Business services",year:2e3,month:10,count:504,rate:4.1,date:"2000-10-01T07:00:00.000Z"},{series:"Business services",year:2e3,month:11,count:547,rate:4.4,date:"2000-11-01T08:00:00.000Z"},{series:"Business services",year:2e3,month:12,count:564,rate:4.5,date:"2000-12-01T08:00:00.000Z"},{series:"Business services",year:2001,month:1,count:734,rate:5.8,date:"2001-01-01T08:00:00.000Z"},{series:"Business services",year:2001,month:2,count:724,rate:5.9,date:"2001-02-01T08:00:00.000Z"},{series:"Business services",year:2001,month:3,count:652,rate:5.3,date:"2001-03-01T08:00:00.000Z"},{series:"Business services",year:2001,month:4,count:655,rate:5.3,date:"2001-04-01T08:00:00.000Z"},{series:"Business services",year:2001,month:5,count:652,rate:5.3,date:"2001-05-01T07:00:00.000Z"},{series:"Business services",year:2001,month:6,count:694,rate:5.4,date:"2001-06-01T07:00:00.000Z"},{series:"Business services",year:2001,month:7,count:731,rate:5.7,date:"2001-07-01T07:00:00.000Z"},{series:"Business services",year:2001,month:8,count:790,rate:6.2,date:"2001-08-01T07:00:00.000Z"},{series:"Business services",year:2001,month:9,count:810,rate:6.4,date:"2001-09-01T07:00:00.000Z"},{series:"Business services",year:2001,month:10,count:910,rate:7.2,date:"2001-10-01T07:00:00.000Z"},{series:"Business services",year:2001,month:11,count:946,rate:7.6,date:"2001-11-01T08:00:00.000Z"},{series:"Business services",year:2001,month:12,count:921,rate:7.4,date:"2001-12-01T08:00:00.000Z"},{series:"Business services",year:2002,month:1,count:1120,rate:8.9,date:"2002-01-01T08:00:00.000Z"},{series:"Business services",year:2002,month:2,count:973,rate:7.7,date:"2002-02-01T08:00:00.000Z"},{series:"Business services",year:2002,month:3,count:964,rate:7.5,date:"2002-03-01T08:00:00.000Z"},{series:"Business services",year:2002,month:4,count:951,rate:7.3,date:"2002-04-01T08:00:00.000Z"},{series:"Business services",year:2002,month:5,count:983,rate:7.7,date:"2002-05-01T07:00:00.000Z"},{series:"Business services",year:2002,month:6,count:1079,rate:8.2,date:"2002-06-01T07:00:00.000Z"},{series:"Business services",year:2002,month:7,count:1075,rate:8.2,date:"2002-07-01T07:00:00.000Z"},{series:"Business services",year:2002,month:8,count:926,rate:7.2,date:"2002-08-01T07:00:00.000Z"},{series:"Business services",year:2002,month:9,count:1007,rate:7.8,date:"2002-09-01T07:00:00.000Z"},{series:"Business services",year:2002,month:10,count:962,rate:7.5,date:"2002-10-01T07:00:00.000Z"},{series:"Business services",year:2002,month:11,count:1029,rate:8.2,date:"2002-11-01T08:00:00.000Z"},{series:"Business services",year:2002,month:12,count:1038,rate:8.3,date:"2002-12-01T08:00:00.000Z"},{series:"Business services",year:2003,month:1,count:1112,rate:8.9,date:"2003-01-01T08:00:00.000Z"},{series:"Business services",year:2003,month:2,count:1140,rate:8.9,date:"2003-02-01T08:00:00.000Z"},{series:"Business services",year:2003,month:3,count:1190,rate:9.1,date:"2003-03-01T08:00:00.000Z"},{series:"Business services",year:2003,month:4,count:1076,rate:8.3,date:"2003-04-01T08:00:00.000Z"},{series:"Business services",year:2003,month:5,count:1105,rate:8.4,date:"2003-05-01T07:00:00.000Z"},{series:"Business services",year:2003,month:6,count:1092,rate:8.5,date:"2003-06-01T07:00:00.000Z"},{series:"Business services",year:2003,month:7,count:1021,rate:8.2,date:"2003-07-01T07:00:00.000Z"},{series:"Business services",year:2003,month:8,count:881,rate:7.2,date:"2003-08-01T07:00:00.000Z"},{series:"Business services",year:2003,month:9,count:975,rate:8,date:"2003-09-01T07:00:00.000Z"},{series:"Business services",year:2003,month:10,count:1014,rate:8.1,date:"2003-10-01T07:00:00.000Z"},{series:"Business services",year:2003,month:11,count:948,rate:7.7,date:"2003-11-01T08:00:00.000Z"},{series:"Business services",year:2003,month:12,count:948,rate:7.6,date:"2003-12-01T08:00:00.000Z"},{series:"Business services",year:2004,month:1,count:1070,rate:8.7,date:"2004-01-01T08:00:00.000Z"},{series:"Business services",year:2004,month:2,count:964,rate:7.7,date:"2004-02-01T08:00:00.000Z"},{series:"Business services",year:2004,month:3,count:999,rate:7.9,date:"2004-03-01T08:00:00.000Z"},{series:"Business services",year:2004,month:4,count:752,rate:6,date:"2004-04-01T08:00:00.000Z"},{series:"Business services",year:2004,month:5,count:819,rate:6.5,date:"2004-05-01T07:00:00.000Z"},{series:"Business services",year:2004,month:6,count:814,rate:6.5,date:"2004-06-01T07:00:00.000Z"},{series:"Business services",year:2004,month:7,count:790,rate:6.2,date:"2004-07-01T07:00:00.000Z"},{series:"Business services",year:2004,month:8,count:845,rate:6.7,date:"2004-08-01T07:00:00.000Z"},{series:"Business services",year:2004,month:9,count:750,rate:5.9,date:"2004-09-01T07:00:00.000Z"},{series:"Business services",year:2004,month:10,count:781,rate:6.2,date:"2004-10-01T07:00:00.000Z"},{series:"Business services",year:2004,month:11,count:872,rate:6.8,date:"2004-11-01T08:00:00.000Z"},{series:"Business services",year:2004,month:12,count:875,rate:6.9,date:"2004-12-01T08:00:00.000Z"},{series:"Business services",year:2005,month:1,count:958,rate:7.6,date:"2005-01-01T08:00:00.000Z"},{series:"Business services",year:2005,month:2,count:916,rate:7.2,date:"2005-02-01T08:00:00.000Z"},{series:"Business services",year:2005,month:3,count:807,rate:6.5,date:"2005-03-01T08:00:00.000Z"},{series:"Business services",year:2005,month:4,count:714,rate:5.7,date:"2005-04-01T08:00:00.000Z"},{series:"Business services",year:2005,month:5,count:730,rate:5.9,date:"2005-05-01T07:00:00.000Z"},{series:"Business services",year:2005,month:6,count:743,rate:5.8,date:"2005-06-01T07:00:00.000Z"},{series:"Business services",year:2005,month:7,count:804,rate:6.3,date:"2005-07-01T07:00:00.000Z"},{series:"Business services",year:2005,month:8,count:728,rate:5.7,date:"2005-08-01T07:00:00.000Z"},{series:"Business services",year:2005,month:9,count:862,rate:6.7,date:"2005-09-01T07:00:00.000Z"},{series:"Business services",year:2005,month:10,count:748,rate:5.8,date:"2005-10-01T07:00:00.000Z"},{series:"Business services",year:2005,month:11,count:711,rate:5.5,date:"2005-11-01T08:00:00.000Z"},{series:"Business services",year:2005,month:12,count:788,rate:6.1,date:"2005-12-01T08:00:00.000Z"},{series:"Business services",year:2006,month:1,count:825,rate:6.5,date:"2006-01-01T08:00:00.000Z"},{series:"Business services",year:2006,month:2,count:841,rate:6.5,date:"2006-02-01T08:00:00.000Z"},{series:"Business services",year:2006,month:3,count:824,rate:6.3,date:"2006-03-01T08:00:00.000Z"},{series:"Business services",year:2006,month:4,count:644,rate:4.9,date:"2006-04-01T08:00:00.000Z"},{series:"Business services",year:2006,month:5,count:695,rate:5.3,date:"2006-05-01T07:00:00.000Z"},{series:"Business services",year:2006,month:6,count:753,rate:5.7,date:"2006-06-01T07:00:00.000Z"},{series:"Business services",year:2006,month:7,count:735,rate:5.5,date:"2006-07-01T07:00:00.000Z"},{series:"Business services",year:2006,month:8,count:681,rate:5.1,date:"2006-08-01T07:00:00.000Z"},{series:"Business services",year:2006,month:9,count:736,rate:5.6,date:"2006-09-01T07:00:00.000Z"},{series:"Business services",year:2006,month:10,count:768,rate:5.6,date:"2006-10-01T07:00:00.000Z"},{series:"Business services",year:2006,month:11,count:658,rate:4.9,date:"2006-11-01T08:00:00.000Z"},{series:"Business services",year:2006,month:12,count:791,rate:5.9,date:"2006-12-01T08:00:00.000Z"},{series:"Business services",year:2007,month:1,count:885,rate:6.5,date:"2007-01-01T08:00:00.000Z"},{series:"Business services",year:2007,month:2,count:825,rate:6,date:"2007-02-01T08:00:00.000Z"},{series:"Business services",year:2007,month:3,count:775,rate:5.7,date:"2007-03-01T08:00:00.000Z"},{series:"Business services",year:2007,month:4,count:689,rate:5,date:"2007-04-01T07:00:00.000Z"},{series:"Business services",year:2007,month:5,count:743,rate:5.4,date:"2007-05-01T07:00:00.000Z"},{series:"Business services",year:2007,month:6,count:722,rate:5.2,date:"2007-06-01T07:00:00.000Z"},{series:"Business services",year:2007,month:7,count:743,rate:5.2,date:"2007-07-01T07:00:00.000Z"},{series:"Business services",year:2007,month:8,count:683,rate:4.9,date:"2007-08-01T07:00:00.000Z"},{series:"Business services",year:2007,month:9,count:655,rate:4.7,date:"2007-09-01T07:00:00.000Z"},{series:"Business services",year:2007,month:10,count:675,rate:4.8,date:"2007-10-01T07:00:00.000Z"},{series:"Business services",year:2007,month:11,count:679,rate:4.8,date:"2007-11-01T07:00:00.000Z"},{series:"Business services",year:2007,month:12,count:803,rate:5.7,date:"2007-12-01T08:00:00.000Z"},{series:"Business services",year:2008,month:1,count:893,rate:6.4,date:"2008-01-01T08:00:00.000Z"},{series:"Business services",year:2008,month:2,count:866,rate:6.2,date:"2008-02-01T08:00:00.000Z"},{series:"Business services",year:2008,month:3,count:876,rate:6.2,date:"2008-03-01T08:00:00.000Z"},{series:"Business services",year:2008,month:4,count:736,rate:5.3,date:"2008-04-01T07:00:00.000Z"},{series:"Business services",year:2008,month:5,count:829,rate:5.9,date:"2008-05-01T07:00:00.000Z"},{series:"Business services",year:2008,month:6,count:890,rate:6.2,date:"2008-06-01T07:00:00.000Z"},{series:"Business services",year:2008,month:7,count:866,rate:6.1,date:"2008-07-01T07:00:00.000Z"},{series:"Business services",year:2008,month:8,count:961,rate:6.9,date:"2008-08-01T07:00:00.000Z"},{series:"Business services",year:2008,month:9,count:951,rate:6.9,date:"2008-09-01T07:00:00.000Z"},{series:"Business services",year:2008,month:10,count:1052,rate:7.5,date:"2008-10-01T07:00:00.000Z"},{series:"Business services",year:2008,month:11,count:992,rate:7,date:"2008-11-01T07:00:00.000Z"},{series:"Business services",year:2008,month:12,count:1147,rate:8.1,date:"2008-12-01T08:00:00.000Z"},{series:"Business services",year:2009,month:1,count:1445,rate:10.4,date:"2009-01-01T08:00:00.000Z"},{series:"Business services",year:2009,month:2,count:1512,rate:10.8,date:"2009-02-01T08:00:00.000Z"},{series:"Business services",year:2009,month:3,count:1597,rate:11.4,date:"2009-03-01T08:00:00.000Z"},{series:"Business services",year:2009,month:4,count:1448,rate:10.4,date:"2009-04-01T07:00:00.000Z"},{series:"Business services",year:2009,month:5,count:1514,rate:10.9,date:"2009-05-01T07:00:00.000Z"},{series:"Business services",year:2009,month:6,count:1580,rate:11.3,date:"2009-06-01T07:00:00.000Z"},{series:"Business services",year:2009,month:7,count:1531,rate:10.9,date:"2009-07-01T07:00:00.000Z"},{series:"Business services",year:2009,month:8,count:1560,rate:11,date:"2009-08-01T07:00:00.000Z"},{series:"Business services",year:2009,month:9,count:1596,rate:11.3,date:"2009-09-01T07:00:00.000Z"},{series:"Business services",year:2009,month:10,count:1488,rate:10.3,date:"2009-10-01T07:00:00.000Z"},{series:"Business services",year:2009,month:11,count:1514,rate:10.6,date:"2009-11-01T07:00:00.000Z"},{series:"Business services",year:2009,month:12,count:1486,rate:10.3,date:"2009-12-01T08:00:00.000Z"},{series:"Business services",year:2010,month:1,count:1614,rate:11.1,date:"2010-01-01T08:00:00.000Z"},{series:"Business services",year:2010,month:2,count:1740,rate:12,date:"2010-02-01T08:00:00.000Z"},{series:"Education and Health",year:2e3,month:1,count:353,rate:2.3,date:"2000-01-01T08:00:00.000Z"},{series:"Education and Health",year:2e3,month:2,count:349,rate:2.2,date:"2000-02-01T08:00:00.000Z"},{series:"Education and Health",year:2e3,month:3,count:381,rate:2.5,date:"2000-03-01T08:00:00.000Z"},{series:"Education and Health",year:2e3,month:4,count:329,rate:2.1,date:"2000-04-01T08:00:00.000Z"},{series:"Education and Health",year:2e3,month:5,count:423,rate:2.7,date:"2000-05-01T07:00:00.000Z"},{series:"Education and Health",year:2e3,month:6,count:452,rate:2.9,date:"2000-06-01T07:00:00.000Z"},{series:"Education and Health",year:2e3,month:7,count:478,rate:3.1,date:"2000-07-01T07:00:00.000Z"},{series:"Education and Health",year:2e3,month:8,count:450,rate:2.9,date:"2000-08-01T07:00:00.000Z"},{series:"Education and Health",year:2e3,month:9,count:398,rate:2.6,date:"2000-09-01T07:00:00.000Z"},{series:"Education and Health",year:2e3,month:10,count:339,rate:2.1,date:"2000-10-01T07:00:00.000Z"},{series:"Education and Health",year:2e3,month:11,count:351,rate:2.2,date:"2000-11-01T08:00:00.000Z"},{series:"Education and Health",year:2e3,month:12,count:293,rate:1.8,date:"2000-12-01T08:00:00.000Z"},{series:"Education and Health",year:2001,month:1,count:428,rate:2.6,date:"2001-01-01T08:00:00.000Z"},{series:"Education and Health",year:2001,month:2,count:423,rate:2.6,date:"2001-02-01T08:00:00.000Z"},{series:"Education and Health",year:2001,month:3,count:456,rate:2.8,date:"2001-03-01T08:00:00.000Z"},{series:"Education and Health",year:2001,month:4,count:341,rate:2.1,date:"2001-04-01T08:00:00.000Z"},{series:"Education and Health",year:2001,month:5,count:390,rate:2.4,date:"2001-05-01T07:00:00.000Z"},{series:"Education and Health",year:2001,month:6,count:476,rate:3,date:"2001-06-01T07:00:00.000Z"},{series:"Education and Health",year:2001,month:7,count:513,rate:3.1,date:"2001-07-01T07:00:00.000Z"},{series:"Education and Health",year:2001,month:8,count:595,rate:3.7,date:"2001-08-01T07:00:00.000Z"},{series:"Education and Health",year:2001,month:9,count:455,rate:2.8,date:"2001-09-01T07:00:00.000Z"},{series:"Education and Health",year:2001,month:10,count:486,rate:2.9,date:"2001-10-01T07:00:00.000Z"},{series:"Education and Health",year:2001,month:11,count:516,rate:3.1,date:"2001-11-01T08:00:00.000Z"},{series:"Education and Health",year:2001,month:12,count:483,rate:2.9,date:"2001-12-01T08:00:00.000Z"},{series:"Education and Health",year:2002,month:1,count:586,rate:3.5,date:"2002-01-01T08:00:00.000Z"},{series:"Education and Health",year:2002,month:2,count:590,rate:3.5,date:"2002-02-01T08:00:00.000Z"},{series:"Education and Health",year:2002,month:3,count:540,rate:3.2,date:"2002-03-01T08:00:00.000Z"},{series:"Education and Health",year:2002,month:4,count:493,rate:2.9,date:"2002-04-01T08:00:00.000Z"},{series:"Education and Health",year:2002,month:5,count:533,rate:3.2,date:"2002-05-01T07:00:00.000Z"},{series:"Education and Health",year:2002,month:6,count:638,rate:3.9,date:"2002-06-01T07:00:00.000Z"},{series:"Education and Health",year:2002,month:7,count:671,rate:4,date:"2002-07-01T07:00:00.000Z"},{series:"Education and Health",year:2002,month:8,count:660,rate:3.9,date:"2002-08-01T07:00:00.000Z"},{series:"Education and Health",year:2002,month:9,count:562,rate:3.2,date:"2002-09-01T07:00:00.000Z"},{series:"Education and Health",year:2002,month:10,count:517,rate:3,date:"2002-10-01T07:00:00.000Z"},{series:"Education and Health",year:2002,month:11,count:493,rate:2.8,date:"2002-11-01T08:00:00.000Z"},{series:"Education and Health",year:2002,month:12,count:558,rate:3.2,date:"2002-12-01T08:00:00.000Z"},{series:"Education and Health",year:2003,month:1,count:559,rate:3.2,date:"2003-01-01T08:00:00.000Z"},{series:"Education and Health",year:2003,month:2,count:576,rate:3.2,date:"2003-02-01T08:00:00.000Z"},{series:"Education and Health",year:2003,month:3,count:518,rate:2.9,date:"2003-03-01T08:00:00.000Z"},{series:"Education and Health",year:2003,month:4,count:611,rate:3.4,date:"2003-04-01T08:00:00.000Z"},{series:"Education and Health",year:2003,month:5,count:618,rate:3.5,date:"2003-05-01T07:00:00.000Z"},{series:"Education and Health",year:2003,month:6,count:769,rate:4.4,date:"2003-06-01T07:00:00.000Z"},{series:"Education and Health",year:2003,month:7,count:697,rate:4,date:"2003-07-01T07:00:00.000Z"},{series:"Education and Health",year:2003,month:8,count:760,rate:4.3,date:"2003-08-01T07:00:00.000Z"},{series:"Education and Health",year:2003,month:9,count:649,rate:3.7,date:"2003-09-01T07:00:00.000Z"},{series:"Education and Health",year:2003,month:10,count:639,rate:3.6,date:"2003-10-01T07:00:00.000Z"},{series:"Education and Health",year:2003,month:11,count:662,rate:3.8,date:"2003-11-01T08:00:00.000Z"},{series:"Education and Health",year:2003,month:12,count:620,rate:3.5,date:"2003-12-01T08:00:00.000Z"},{series:"Education and Health",year:2004,month:1,count:662,rate:3.7,date:"2004-01-01T08:00:00.000Z"},{series:"Education and Health",year:2004,month:2,count:608,rate:3.4,date:"2004-02-01T08:00:00.000Z"},{series:"Education and Health",year:2004,month:3,count:584,rate:3.2,date:"2004-03-01T08:00:00.000Z"},{series:"Education and Health",year:2004,month:4,count:589,rate:3.3,date:"2004-04-01T08:00:00.000Z"},{series:"Education and Health",year:2004,month:5,count:570,rate:3.2,date:"2004-05-01T07:00:00.000Z"},{series:"Education and Health",year:2004,month:6,count:769,rate:4.2,date:"2004-06-01T07:00:00.000Z"},{series:"Education and Health",year:2004,month:7,count:725,rate:4,date:"2004-07-01T07:00:00.000Z"},{series:"Education and Health",year:2004,month:8,count:647,rate:3.7,date:"2004-08-01T07:00:00.000Z"},{series:"Education and Health",year:2004,month:9,count:593,rate:3.3,date:"2004-09-01T07:00:00.000Z"},{series:"Education and Health",year:2004,month:10,count:526,rate:2.9,date:"2004-10-01T07:00:00.000Z"},{series:"Education and Health",year:2004,month:11,count:570,rate:3.2,date:"2004-11-01T08:00:00.000Z"},{series:"Education and Health",year:2004,month:12,count:562,rate:3.1,date:"2004-12-01T08:00:00.000Z"},{series:"Education and Health",year:2005,month:1,count:613,rate:3.4,date:"2005-01-01T08:00:00.000Z"},{series:"Education and Health",year:2005,month:2,count:619,rate:3.4,date:"2005-02-01T08:00:00.000Z"},{series:"Education and Health",year:2005,month:3,count:614,rate:3.4,date:"2005-03-01T08:00:00.000Z"},{series:"Education and Health",year:2005,month:4,count:591,rate:3.3,date:"2005-04-01T08:00:00.000Z"},{series:"Education and Health",year:2005,month:5,count:648,rate:3.6,date:"2005-05-01T07:00:00.000Z"},{series:"Education and Health",year:2005,month:6,count:667,rate:3.6,date:"2005-06-01T07:00:00.000Z"},{series:"Education and Health",year:2005,month:7,count:635,rate:3.5,date:"2005-07-01T07:00:00.000Z"},{series:"Education and Health",year:2005,month:8,count:644,rate:3.5,date:"2005-08-01T07:00:00.000Z"},{series:"Education and Health",year:2005,month:9,count:658,rate:3.5,date:"2005-09-01T07:00:00.000Z"},{series:"Education and Health",year:2005,month:10,count:628,rate:3.4,date:"2005-10-01T07:00:00.000Z"},{series:"Education and Health",year:2005,month:11,count:677,rate:3.6,date:"2005-11-01T08:00:00.000Z"},{series:"Education and Health",year:2005,month:12,count:529,rate:2.8,date:"2005-12-01T08:00:00.000Z"},{series:"Education and Health",year:2006,month:1,count:593,rate:3.2,date:"2006-01-01T08:00:00.000Z"},{series:"Education and Health",year:2006,month:2,count:528,rate:2.8,date:"2006-02-01T08:00:00.000Z"},{series:"Education and Health",year:2006,month:3,count:563,rate:3,date:"2006-03-01T08:00:00.000Z"},{series:"Education and Health",year:2006,month:4,count:558,rate:3,date:"2006-04-01T08:00:00.000Z"},{series:"Education and Health",year:2006,month:5,count:543,rate:2.9,date:"2006-05-01T07:00:00.000Z"},{series:"Education and Health",year:2006,month:6,count:617,rate:3.3,date:"2006-06-01T07:00:00.000Z"},{series:"Education and Health",year:2006,month:7,count:659,rate:3.5,date:"2006-07-01T07:00:00.000Z"},{series:"Education and Health",year:2006,month:8,count:611,rate:3.2,date:"2006-08-01T07:00:00.000Z"},{series:"Education and Health",year:2006,month:9,count:576,rate:3,date:"2006-09-01T07:00:00.000Z"},{series:"Education and Health",year:2006,month:10,count:531,rate:2.8,date:"2006-10-01T07:00:00.000Z"},{series:"Education and Health",year:2006,month:11,count:536,rate:2.8,date:"2006-11-01T08:00:00.000Z"},{series:"Education and Health",year:2006,month:12,count:502,rate:2.6,date:"2006-12-01T08:00:00.000Z"},{series:"Education and Health",year:2007,month:1,count:563,rate:2.9,date:"2007-01-01T08:00:00.000Z"},{series:"Education and Health",year:2007,month:2,count:489,rate:2.5,date:"2007-02-01T08:00:00.000Z"},{series:"Education and Health",year:2007,month:3,count:495,rate:2.5,date:"2007-03-01T08:00:00.000Z"},{series:"Education and Health",year:2007,month:4,count:555,rate:2.9,date:"2007-04-01T07:00:00.000Z"},{series:"Education and Health",year:2007,month:5,count:622,rate:3.3,date:"2007-05-01T07:00:00.000Z"},{series:"Education and Health",year:2007,month:6,count:653,rate:3.4,date:"2007-06-01T07:00:00.000Z"},{series:"Education and Health",year:2007,month:7,count:665,rate:3.5,date:"2007-07-01T07:00:00.000Z"},{series:"Education and Health",year:2007,month:8,count:648,rate:3.4,date:"2007-08-01T07:00:00.000Z"},{series:"Education and Health",year:2007,month:9,count:630,rate:3.2,date:"2007-09-01T07:00:00.000Z"},{series:"Education and Health",year:2007,month:10,count:534,rate:2.7,date:"2007-10-01T07:00:00.000Z"},{series:"Education and Health",year:2007,month:11,count:526,rate:2.7,date:"2007-11-01T07:00:00.000Z"},{series:"Education and Health",year:2007,month:12,count:521,rate:2.6,date:"2007-12-01T08:00:00.000Z"},{series:"Education and Health",year:2008,month:1,count:576,rate:2.9,date:"2008-01-01T08:00:00.000Z"},{series:"Education and Health",year:2008,month:2,count:562,rate:2.9,date:"2008-02-01T08:00:00.000Z"},{series:"Education and Health",year:2008,month:3,count:609,rate:3.1,date:"2008-03-01T08:00:00.000Z"},{series:"Education and Health",year:2008,month:4,count:551,rate:2.8,date:"2008-04-01T07:00:00.000Z"},{series:"Education and Health",year:2008,month:5,count:619,rate:3.2,date:"2008-05-01T07:00:00.000Z"},{series:"Education and Health",year:2008,month:6,count:669,rate:3.4,date:"2008-06-01T07:00:00.000Z"},{series:"Education and Health",year:2008,month:7,count:776,rate:3.9,date:"2008-07-01T07:00:00.000Z"},{series:"Education and Health",year:2008,month:8,count:844,rate:4.3,date:"2008-08-01T07:00:00.000Z"},{series:"Education and Health",year:2008,month:9,count:835,rate:4.1,date:"2008-09-01T07:00:00.000Z"},{series:"Education and Health",year:2008,month:10,count:797,rate:3.9,date:"2008-10-01T07:00:00.000Z"},{series:"Education and Health",year:2008,month:11,count:748,rate:3.6,date:"2008-11-01T07:00:00.000Z"},{series:"Education and Health",year:2008,month:12,count:791,rate:3.8,date:"2008-12-01T08:00:00.000Z"},{series:"Education and Health",year:2009,month:1,count:792,rate:3.8,date:"2009-01-01T08:00:00.000Z"},{series:"Education and Health",year:2009,month:2,count:847,rate:4.1,date:"2009-02-01T08:00:00.000Z"},{series:"Education and Health",year:2009,month:3,count:931,rate:4.5,date:"2009-03-01T08:00:00.000Z"},{series:"Education and Health",year:2009,month:4,count:964,rate:4.6,date:"2009-04-01T07:00:00.000Z"},{series:"Education and Health",year:2009,month:5,count:1005,rate:4.9,date:"2009-05-01T07:00:00.000Z"},{series:"Education and Health",year:2009,month:6,count:1267,rate:6.1,date:"2009-06-01T07:00:00.000Z"},{series:"Education and Health",year:2009,month:7,count:1269,rate:6.1,date:"2009-07-01T07:00:00.000Z"},{series:"Education and Health",year:2009,month:8,count:1239,rate:6,date:"2009-08-01T07:00:00.000Z"},{series:"Education and Health",year:2009,month:9,count:1257,rate:6,date:"2009-09-01T07:00:00.000Z"},{series:"Education and Health",year:2009,month:10,count:1280,rate:6,date:"2009-10-01T07:00:00.000Z"},{series:"Education and Health",year:2009,month:11,count:1168,rate:5.5,date:"2009-11-01T07:00:00.000Z"},{series:"Education and Health",year:2009,month:12,count:1183,rate:5.6,date:"2009-12-01T08:00:00.000Z"},{series:"Education and Health",year:2010,month:1,count:1175,rate:5.5,date:"2010-01-01T08:00:00.000Z"},{series:"Education and Health",year:2010,month:2,count:1200,rate:5.6,date:"2010-02-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2e3,month:1,count:782,rate:7.5,date:"2000-01-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2e3,month:2,count:779,rate:7.5,date:"2000-02-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2e3,month:3,count:789,rate:7.4,date:"2000-03-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2e3,month:4,count:658,rate:6.1,date:"2000-04-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2e3,month:5,count:675,rate:6.2,date:"2000-05-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2e3,month:6,count:833,rate:7.3,date:"2000-06-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2e3,month:7,count:786,rate:6.8,date:"2000-07-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2e3,month:8,count:675,rate:6,date:"2000-08-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2e3,month:9,count:636,rate:5.9,date:"2000-09-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2e3,month:10,count:691,rate:6.5,date:"2000-10-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2e3,month:11,count:694,rate:6.5,date:"2000-11-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2e3,month:12,count:639,rate:5.9,date:"2000-12-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2001,month:1,count:806,rate:7.7,date:"2001-01-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2001,month:2,count:821,rate:7.5,date:"2001-02-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2001,month:3,count:817,rate:7.4,date:"2001-03-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2001,month:4,count:744,rate:6.8,date:"2001-04-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2001,month:5,count:731,rate:6.7,date:"2001-05-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2001,month:6,count:821,rate:7,date:"2001-06-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2001,month:7,count:813,rate:6.8,date:"2001-07-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2001,month:8,count:767,rate:6.8,date:"2001-08-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2001,month:9,count:900,rate:8,date:"2001-09-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2001,month:10,count:903,rate:8.3,date:"2001-10-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2001,month:11,count:935,rate:8.5,date:"2001-11-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2001,month:12,count:938,rate:8.5,date:"2001-12-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2002,month:1,count:947,rate:8.6,date:"2002-01-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2002,month:2,count:973,rate:8.7,date:"2002-02-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2002,month:3,count:976,rate:8.5,date:"2002-03-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2002,month:4,count:953,rate:8.4,date:"2002-04-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2002,month:5,count:1022,rate:8.6,date:"2002-05-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2002,month:6,count:1034,rate:8.5,date:"2002-06-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2002,month:7,count:999,rate:8.2,date:"2002-07-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2002,month:8,count:884,rate:7.5,date:"2002-08-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2002,month:9,count:885,rate:7.9,date:"2002-09-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2002,month:10,count:956,rate:8.5,date:"2002-10-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2002,month:11,count:978,rate:8.9,date:"2002-11-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2002,month:12,count:922,rate:8.2,date:"2002-12-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2003,month:1,count:1049,rate:9.3,date:"2003-01-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2003,month:2,count:1145,rate:10,date:"2003-02-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2003,month:3,count:1035,rate:8.9,date:"2003-03-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2003,month:4,count:986,rate:8.5,date:"2003-04-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2003,month:5,count:955,rate:7.9,date:"2003-05-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2003,month:6,count:1048,rate:8.6,date:"2003-06-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2003,month:7,count:1020,rate:8.4,date:"2003-07-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2003,month:8,count:1050,rate:9,date:"2003-08-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2003,month:9,count:978,rate:8.8,date:"2003-09-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2003,month:10,count:933,rate:8.3,date:"2003-10-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2003,month:11,count:990,rate:9,date:"2003-11-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2003,month:12,count:885,rate:8.2,date:"2003-12-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2004,month:1,count:1097,rate:10,date:"2004-01-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2004,month:2,count:987,rate:8.9,date:"2004-02-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2004,month:3,count:1039,rate:9,date:"2004-03-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2004,month:4,count:925,rate:7.9,date:"2004-04-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2004,month:5,count:977,rate:8.1,date:"2004-05-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2004,month:6,count:1189,rate:9.6,date:"2004-06-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2004,month:7,count:965,rate:7.8,date:"2004-07-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2004,month:8,count:1010,rate:8.4,date:"2004-08-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2004,month:9,count:854,rate:7.5,date:"2004-09-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2004,month:10,count:853,rate:7.3,date:"2004-10-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2004,month:11,count:916,rate:7.9,date:"2004-11-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2004,month:12,count:850,rate:7.4,date:"2004-12-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2005,month:1,count:993,rate:8.7,date:"2005-01-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2005,month:2,count:1008,rate:8.8,date:"2005-02-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2005,month:3,count:967,rate:8.3,date:"2005-03-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2005,month:4,count:882,rate:7.7,date:"2005-04-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2005,month:5,count:944,rate:7.7,date:"2005-05-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2005,month:6,count:950,rate:7.6,date:"2005-06-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2005,month:7,count:929,rate:7.4,date:"2005-07-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2005,month:8,count:844,rate:6.8,date:"2005-08-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2005,month:9,count:842,rate:7.3,date:"2005-09-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2005,month:10,count:796,rate:6.8,date:"2005-10-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2005,month:11,count:966,rate:8.1,date:"2005-11-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2005,month:12,count:930,rate:7.9,date:"2005-12-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2006,month:1,count:910,rate:8.1,date:"2006-01-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2006,month:2,count:1040,rate:9.1,date:"2006-02-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2006,month:3,count:917,rate:8,date:"2006-03-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2006,month:4,count:882,rate:7.6,date:"2006-04-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2006,month:5,count:830,rate:7,date:"2006-05-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2006,month:6,count:942,rate:7.4,date:"2006-06-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2006,month:7,count:867,rate:6.8,date:"2006-07-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2006,month:8,count:855,rate:6.9,date:"2006-08-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2006,month:9,count:810,rate:6.9,date:"2006-09-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2006,month:10,count:795,rate:6.6,date:"2006-10-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2006,month:11,count:836,rate:7.1,date:"2006-11-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2006,month:12,count:701,rate:5.9,date:"2006-12-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2007,month:1,count:911,rate:7.8,date:"2007-01-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2007,month:2,count:879,rate:7.4,date:"2007-02-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2007,month:3,count:845,rate:7,date:"2007-03-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2007,month:4,count:822,rate:6.9,date:"2007-04-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2007,month:5,count:831,rate:6.8,date:"2007-05-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2007,month:6,count:917,rate:7.2,date:"2007-06-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2007,month:7,count:920,rate:7.3,date:"2007-07-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2007,month:8,count:877,rate:7.1,date:"2007-08-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2007,month:9,count:892,rate:7.4,date:"2007-09-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2007,month:10,count:911,rate:7.5,date:"2007-10-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2007,month:11,count:986,rate:8.1,date:"2007-11-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2007,month:12,count:961,rate:7.9,date:"2007-12-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2008,month:1,count:1176,rate:9.4,date:"2008-01-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2008,month:2,count:1056,rate:8.5,date:"2008-02-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2008,month:3,count:944,rate:7.6,date:"2008-03-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2008,month:4,count:874,rate:6.9,date:"2008-04-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2008,month:5,count:1074,rate:8.4,date:"2008-05-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2008,month:6,count:1154,rate:8.9,date:"2008-06-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2008,month:7,count:1172,rate:8.8,date:"2008-07-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2008,month:8,count:1122,rate:8.7,date:"2008-08-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2008,month:9,count:1029,rate:8.2,date:"2008-09-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2008,month:10,count:1126,rate:8.9,date:"2008-10-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2008,month:11,count:1283,rate:9.9,date:"2008-11-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2008,month:12,count:1210,rate:9.5,date:"2008-12-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2009,month:1,count:1487,rate:11.5,date:"2009-01-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2009,month:2,count:1477,rate:11.4,date:"2009-02-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2009,month:3,count:1484,rate:11.6,date:"2009-03-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2009,month:4,count:1322,rate:10.2,date:"2009-04-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2009,month:5,count:1599,rate:11.9,date:"2009-05-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2009,month:6,count:1688,rate:12.1,date:"2009-06-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2009,month:7,count:1600,rate:11.2,date:"2009-07-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2009,month:8,count:1636,rate:12,date:"2009-08-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2009,month:9,count:1469,rate:11.4,date:"2009-09-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2009,month:10,count:1604,rate:12.4,date:"2009-10-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2009,month:11,count:1524,rate:11.9,date:"2009-11-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2009,month:12,count:1624,rate:12.6,date:"2009-12-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2010,month:1,count:1804,rate:14.2,date:"2010-01-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2010,month:2,count:1597,rate:12.7,date:"2010-02-01T08:00:00.000Z"},{series:"Other",year:2e3,month:1,count:274,rate:4.9,date:"2000-01-01T08:00:00.000Z"},{series:"Other",year:2e3,month:2,count:232,rate:4.1,date:"2000-02-01T08:00:00.000Z"},{series:"Other",year:2e3,month:3,count:247,rate:4.3,date:"2000-03-01T08:00:00.000Z"},{series:"Other",year:2e3,month:4,count:240,rate:4.2,date:"2000-04-01T08:00:00.000Z"},{series:"Other",year:2e3,month:5,count:254,rate:4.5,date:"2000-05-01T07:00:00.000Z"},{series:"Other",year:2e3,month:6,count:225,rate:3.9,date:"2000-06-01T07:00:00.000Z"},{series:"Other",year:2e3,month:7,count:202,rate:3.7,date:"2000-07-01T07:00:00.000Z"},{series:"Other",year:2e3,month:8,count:187,rate:3.5,date:"2000-08-01T07:00:00.000Z"},{series:"Other",year:2e3,month:9,count:220,rate:4,date:"2000-09-01T07:00:00.000Z"},{series:"Other",year:2e3,month:10,count:161,rate:2.9,date:"2000-10-01T07:00:00.000Z"},{series:"Other",year:2e3,month:11,count:217,rate:3.8,date:"2000-11-01T08:00:00.000Z"},{series:"Other",year:2e3,month:12,count:167,rate:2.9,date:"2000-12-01T08:00:00.000Z"},{series:"Other",year:2001,month:1,count:197,rate:3.4,date:"2001-01-01T08:00:00.000Z"},{series:"Other",year:2001,month:2,count:243,rate:4.2,date:"2001-02-01T08:00:00.000Z"},{series:"Other",year:2001,month:3,count:200,rate:3.4,date:"2001-03-01T08:00:00.000Z"},{series:"Other",year:2001,month:4,count:220,rate:3.8,date:"2001-04-01T08:00:00.000Z"},{series:"Other",year:2001,month:5,count:172,rate:3.2,date:"2001-05-01T07:00:00.000Z"},{series:"Other",year:2001,month:6,count:246,rate:4.6,date:"2001-06-01T07:00:00.000Z"},{series:"Other",year:2001,month:7,count:228,rate:4.1,date:"2001-07-01T07:00:00.000Z"},{series:"Other",year:2001,month:8,count:241,rate:4.5,date:"2001-08-01T07:00:00.000Z"},{series:"Other",year:2001,month:9,count:225,rate:4,date:"2001-09-01T07:00:00.000Z"},{series:"Other",year:2001,month:10,count:239,rate:4.1,date:"2001-10-01T07:00:00.000Z"},{series:"Other",year:2001,month:11,count:256,rate:4.2,date:"2001-11-01T08:00:00.000Z"},{series:"Other",year:2001,month:12,count:277,rate:4.5,date:"2001-12-01T08:00:00.000Z"},{series:"Other",year:2002,month:1,count:304,rate:5.1,date:"2002-01-01T08:00:00.000Z"},{series:"Other",year:2002,month:2,count:339,rate:5.6,date:"2002-02-01T08:00:00.000Z"},{series:"Other",year:2002,month:3,count:314,rate:5.5,date:"2002-03-01T08:00:00.000Z"},{series:"Other",year:2002,month:4,count:268,rate:4.6,date:"2002-04-01T08:00:00.000Z"},{series:"Other",year:2002,month:5,count:264,rate:4.6,date:"2002-05-01T07:00:00.000Z"},{series:"Other",year:2002,month:6,count:335,rate:5.5,date:"2002-06-01T07:00:00.000Z"},{series:"Other",year:2002,month:7,count:356,rate:5.8,date:"2002-07-01T07:00:00.000Z"},{series:"Other",year:2002,month:8,count:353,rate:6,date:"2002-08-01T07:00:00.000Z"},{series:"Other",year:2002,month:9,count:281,rate:4.8,date:"2002-09-01T07:00:00.000Z"},{series:"Other",year:2002,month:10,count:272,rate:4.6,date:"2002-10-01T07:00:00.000Z"},{series:"Other",year:2002,month:11,count:284,rate:4.9,date:"2002-11-01T08:00:00.000Z"},{series:"Other",year:2002,month:12,count:241,rate:4.2,date:"2002-12-01T08:00:00.000Z"},{series:"Other",year:2003,month:1,count:304,rate:5.3,date:"2003-01-01T08:00:00.000Z"},{series:"Other",year:2003,month:2,count:331,rate:5.7,date:"2003-02-01T08:00:00.000Z"},{series:"Other",year:2003,month:3,count:370,rate:6.1,date:"2003-03-01T08:00:00.000Z"},{series:"Other",year:2003,month:4,count:331,rate:5.5,date:"2003-04-01T08:00:00.000Z"},{series:"Other",year:2003,month:5,count:339,rate:5.7,date:"2003-05-01T07:00:00.000Z"},{series:"Other",year:2003,month:6,count:359,rate:5.9,date:"2003-06-01T07:00:00.000Z"},{series:"Other",year:2003,month:7,count:405,rate:6.6,date:"2003-07-01T07:00:00.000Z"},{series:"Other",year:2003,month:8,count:373,rate:6.1,date:"2003-08-01T07:00:00.000Z"},{series:"Other",year:2003,month:9,count:338,rate:5.5,date:"2003-09-01T07:00:00.000Z"},{series:"Other",year:2003,month:10,count:378,rate:6.1,date:"2003-10-01T07:00:00.000Z"},{series:"Other",year:2003,month:11,count:357,rate:5.8,date:"2003-11-01T08:00:00.000Z"},{series:"Other",year:2003,month:12,count:278,rate:4.5,date:"2003-12-01T08:00:00.000Z"},{series:"Other",year:2004,month:1,count:322,rate:5.3,date:"2004-01-01T08:00:00.000Z"},{series:"Other",year:2004,month:2,count:366,rate:5.9,date:"2004-02-01T08:00:00.000Z"},{series:"Other",year:2004,month:3,count:366,rate:5.9,date:"2004-03-01T08:00:00.000Z"},{series:"Other",year:2004,month:4,count:347,rate:5.6,date:"2004-04-01T08:00:00.000Z"},{series:"Other",year:2004,month:5,count:310,rate:5.1,date:"2004-05-01T07:00:00.000Z"},{series:"Other",year:2004,month:6,count:326,rate:5.4,date:"2004-06-01T07:00:00.000Z"},{series:"Other",year:2004,month:7,count:346,rate:5.6,date:"2004-07-01T07:00:00.000Z"},{series:"Other",year:2004,month:8,count:341,rate:5.6,date:"2004-08-01T07:00:00.000Z"},{series:"Other",year:2004,month:9,count:301,rate:4.9,date:"2004-09-01T07:00:00.000Z"},{series:"Other",year:2004,month:10,count:300,rate:4.8,date:"2004-10-01T07:00:00.000Z"},{series:"Other",year:2004,month:11,count:294,rate:4.8,date:"2004-11-01T08:00:00.000Z"},{series:"Other",year:2004,month:12,count:276,rate:4.3,date:"2004-12-01T08:00:00.000Z"},{series:"Other",year:2005,month:1,count:290,rate:4.7,date:"2005-01-01T08:00:00.000Z"},{series:"Other",year:2005,month:2,count:325,rate:5.3,date:"2005-02-01T08:00:00.000Z"},{series:"Other",year:2005,month:3,count:308,rate:5,date:"2005-03-01T08:00:00.000Z"},{series:"Other",year:2005,month:4,count:306,rate:4.9,date:"2005-04-01T08:00:00.000Z"},{series:"Other",year:2005,month:5,count:314,rate:5,date:"2005-05-01T07:00:00.000Z"},{series:"Other",year:2005,month:6,count:291,rate:4.6,date:"2005-06-01T07:00:00.000Z"},{series:"Other",year:2005,month:7,count:274,rate:4.2,date:"2005-07-01T07:00:00.000Z"},{series:"Other",year:2005,month:8,count:306,rate:4.8,date:"2005-08-01T07:00:00.000Z"},{series:"Other",year:2005,month:9,count:307,rate:4.9,date:"2005-09-01T07:00:00.000Z"},{series:"Other",year:2005,month:10,count:319,rate:5,date:"2005-10-01T07:00:00.000Z"},{series:"Other",year:2005,month:11,count:300,rate:4.9,date:"2005-11-01T08:00:00.000Z"},{series:"Other",year:2005,month:12,count:269,rate:4.3,date:"2005-12-01T08:00:00.000Z"},{series:"Other",year:2006,month:1,count:308,rate:4.9,date:"2006-01-01T08:00:00.000Z"},{series:"Other",year:2006,month:2,count:281,rate:4.4,date:"2006-02-01T08:00:00.000Z"},{series:"Other",year:2006,month:3,count:292,rate:4.6,date:"2006-03-01T08:00:00.000Z"},{series:"Other",year:2006,month:4,count:266,rate:4.1,date:"2006-04-01T08:00:00.000Z"},{series:"Other",year:2006,month:5,count:265,rate:4.2,date:"2006-05-01T07:00:00.000Z"},{series:"Other",year:2006,month:6,count:265,rate:4.3,date:"2006-06-01T07:00:00.000Z"},{series:"Other",year:2006,month:7,count:305,rate:4.7,date:"2006-07-01T07:00:00.000Z"},{series:"Other",year:2006,month:8,count:341,rate:5.3,date:"2006-08-01T07:00:00.000Z"},{series:"Other",year:2006,month:9,count:310,rate:5,date:"2006-09-01T07:00:00.000Z"},{series:"Other",year:2006,month:10,count:268,rate:4.4,date:"2006-10-01T07:00:00.000Z"},{series:"Other",year:2006,month:11,count:306,rate:5,date:"2006-11-01T08:00:00.000Z"},{series:"Other",year:2006,month:12,count:306,rate:5.2,date:"2006-12-01T08:00:00.000Z"},{series:"Other",year:2007,month:1,count:275,rate:4.7,date:"2007-01-01T08:00:00.000Z"},{series:"Other",year:2007,month:2,count:257,rate:4.3,date:"2007-02-01T08:00:00.000Z"},{series:"Other",year:2007,month:3,count:222,rate:3.7,date:"2007-03-01T08:00:00.000Z"},{series:"Other",year:2007,month:4,count:224,rate:3.6,date:"2007-04-01T07:00:00.000Z"},{series:"Other",year:2007,month:5,count:242,rate:3.9,date:"2007-05-01T07:00:00.000Z"},{series:"Other",year:2007,month:6,count:256,rate:4,date:"2007-06-01T07:00:00.000Z"},{series:"Other",year:2007,month:7,count:243,rate:3.8,date:"2007-07-01T07:00:00.000Z"},{series:"Other",year:2007,month:8,count:239,rate:3.8,date:"2007-08-01T07:00:00.000Z"},{series:"Other",year:2007,month:9,count:257,rate:4.2,date:"2007-09-01T07:00:00.000Z"},{series:"Other",year:2007,month:10,count:182,rate:3,date:"2007-10-01T07:00:00.000Z"},{series:"Other",year:2007,month:11,count:255,rate:4.1,date:"2007-11-01T07:00:00.000Z"},{series:"Other",year:2007,month:12,count:235,rate:3.9,date:"2007-12-01T08:00:00.000Z"},{series:"Other",year:2008,month:1,count:264,rate:4.4,date:"2008-01-01T08:00:00.000Z"},{series:"Other",year:2008,month:2,count:313,rate:5.1,date:"2008-02-01T08:00:00.000Z"},{series:"Other",year:2008,month:3,count:283,rate:4.6,date:"2008-03-01T08:00:00.000Z"},{series:"Other",year:2008,month:4,count:251,rate:4,date:"2008-04-01T07:00:00.000Z"},{series:"Other",year:2008,month:5,count:275,rate:4.4,date:"2008-05-01T07:00:00.000Z"},{series:"Other",year:2008,month:6,count:322,rate:5,date:"2008-06-01T07:00:00.000Z"},{series:"Other",year:2008,month:7,count:352,rate:5.2,date:"2008-07-01T07:00:00.000Z"},{series:"Other",year:2008,month:8,count:412,rate:6.3,date:"2008-08-01T07:00:00.000Z"},{series:"Other",year:2008,month:9,count:374,rate:5.8,date:"2008-09-01T07:00:00.000Z"},{series:"Other",year:2008,month:10,count:334,rate:5.3,date:"2008-10-01T07:00:00.000Z"},{series:"Other",year:2008,month:11,count:434,rate:7,date:"2008-11-01T07:00:00.000Z"},{series:"Other",year:2008,month:12,count:367,rate:6.1,date:"2008-12-01T08:00:00.000Z"},{series:"Other",year:2009,month:1,count:431,rate:7.1,date:"2009-01-01T08:00:00.000Z"},{series:"Other",year:2009,month:2,count:453,rate:7.3,date:"2009-02-01T08:00:00.000Z"},{series:"Other",year:2009,month:3,count:377,rate:6,date:"2009-03-01T08:00:00.000Z"},{series:"Other",year:2009,month:4,count:403,rate:6.4,date:"2009-04-01T07:00:00.000Z"},{series:"Other",year:2009,month:5,count:476,rate:7.5,date:"2009-05-01T07:00:00.000Z"},{series:"Other",year:2009,month:6,count:557,rate:8.4,date:"2009-06-01T07:00:00.000Z"},{series:"Other",year:2009,month:7,count:490,rate:7.4,date:"2009-07-01T07:00:00.000Z"},{series:"Other",year:2009,month:8,count:528,rate:8.2,date:"2009-08-01T07:00:00.000Z"},{series:"Other",year:2009,month:9,count:462,rate:7.1,date:"2009-09-01T07:00:00.000Z"},{series:"Other",year:2009,month:10,count:541,rate:8.5,date:"2009-10-01T07:00:00.000Z"},{series:"Other",year:2009,month:11,count:491,rate:8,date:"2009-11-01T07:00:00.000Z"},{series:"Other",year:2009,month:12,count:513,rate:8.2,date:"2009-12-01T08:00:00.000Z"},{series:"Other",year:2010,month:1,count:609,rate:10,date:"2010-01-01T08:00:00.000Z"},{series:"Other",year:2010,month:2,count:603,rate:9.9,date:"2010-02-01T08:00:00.000Z"},{series:"Agriculture",year:2e3,month:1,count:154,rate:10.3,date:"2000-01-01T08:00:00.000Z"},{series:"Agriculture",year:2e3,month:2,count:173,rate:11.5,date:"2000-02-01T08:00:00.000Z"},{series:"Agriculture",year:2e3,month:3,count:152,rate:10.4,date:"2000-03-01T08:00:00.000Z"},{series:"Agriculture",year:2e3,month:4,count:135,rate:8.9,date:"2000-04-01T08:00:00.000Z"},{series:"Agriculture",year:2e3,month:5,count:73,rate:5.1,date:"2000-05-01T07:00:00.000Z"},{series:"Agriculture",year:2e3,month:6,count:109,rate:6.7,date:"2000-06-01T07:00:00.000Z"},{series:"Agriculture",year:2e3,month:7,count:77,rate:5,date:"2000-07-01T07:00:00.000Z"},{series:"Agriculture",year:2e3,month:8,count:110,rate:7,date:"2000-08-01T07:00:00.000Z"},{series:"Agriculture",year:2e3,month:9,count:124,rate:8.2,date:"2000-09-01T07:00:00.000Z"},{series:"Agriculture",year:2e3,month:10,count:113,rate:8,date:"2000-10-01T07:00:00.000Z"},{series:"Agriculture",year:2e3,month:11,count:192,rate:13.3,date:"2000-11-01T08:00:00.000Z"},{series:"Agriculture",year:2e3,month:12,count:196,rate:13.9,date:"2000-12-01T08:00:00.000Z"},{series:"Agriculture",year:2001,month:1,count:188,rate:13.8,date:"2001-01-01T08:00:00.000Z"},{series:"Agriculture",year:2001,month:2,count:193,rate:15.1,date:"2001-02-01T08:00:00.000Z"},{series:"Agriculture",year:2001,month:3,count:267,rate:19.2,date:"2001-03-01T08:00:00.000Z"},{series:"Agriculture",year:2001,month:4,count:140,rate:10.4,date:"2001-04-01T08:00:00.000Z"},{series:"Agriculture",year:2001,month:5,count:109,rate:7.7,date:"2001-05-01T07:00:00.000Z"},{series:"Agriculture",year:2001,month:6,count:130,rate:9.7,date:"2001-06-01T07:00:00.000Z"},{series:"Agriculture",year:2001,month:7,count:113,rate:7.6,date:"2001-07-01T07:00:00.000Z"},{series:"Agriculture",year:2001,month:8,count:141,rate:9.3,date:"2001-08-01T07:00:00.000Z"},{series:"Agriculture",year:2001,month:9,count:101,rate:7.2,date:"2001-09-01T07:00:00.000Z"},{series:"Agriculture",year:2001,month:10,count:118,rate:8.7,date:"2001-10-01T07:00:00.000Z"},{series:"Agriculture",year:2001,month:11,count:145,rate:11.6,date:"2001-11-01T08:00:00.000Z"},{series:"Agriculture",year:2001,month:12,count:192,rate:15.1,date:"2001-12-01T08:00:00.000Z"},{series:"Agriculture",year:2002,month:1,count:195,rate:14.8,date:"2002-01-01T08:00:00.000Z"},{series:"Agriculture",year:2002,month:2,count:187,rate:14.8,date:"2002-02-01T08:00:00.000Z"},{series:"Agriculture",year:2002,month:3,count:269,rate:19.6,date:"2002-03-01T08:00:00.000Z"},{series:"Agriculture",year:2002,month:4,count:151,rate:10.8,date:"2002-04-01T08:00:00.000Z"},{series:"Agriculture",year:2002,month:5,count:89,rate:6.8,date:"2002-05-01T07:00:00.000Z"},{series:"Agriculture",year:2002,month:6,count:89,rate:6.3,date:"2002-06-01T07:00:00.000Z"},{series:"Agriculture",year:2002,month:7,count:114,rate:7.3,date:"2002-07-01T07:00:00.000Z"},{series:"Agriculture",year:2002,month:8,count:125,rate:9,date:"2002-08-01T07:00:00.000Z"},{series:"Agriculture",year:2002,month:9,count:92,rate:6.3,date:"2002-09-01T07:00:00.000Z"},{series:"Agriculture",year:2002,month:10,count:97,rate:6.6,date:"2002-10-01T07:00:00.000Z"},{series:"Agriculture",year:2002,month:11,count:137,rate:11.1,date:"2002-11-01T08:00:00.000Z"},{series:"Agriculture",year:2002,month:12,count:120,rate:9.8,date:"2002-12-01T08:00:00.000Z"},{series:"Agriculture",year:2003,month:1,count:159,rate:13.2,date:"2003-01-01T08:00:00.000Z"},{series:"Agriculture",year:2003,month:2,count:172,rate:14.7,date:"2003-02-01T08:00:00.000Z"},{series:"Agriculture",year:2003,month:3,count:161,rate:12.9,date:"2003-03-01T08:00:00.000Z"},{series:"Agriculture",year:2003,month:4,count:154,rate:12,date:"2003-04-01T08:00:00.000Z"},{series:"Agriculture",year:2003,month:5,count:133,rate:10.2,date:"2003-05-01T07:00:00.000Z"},{series:"Agriculture",year:2003,month:6,count:94,rate:6.9,date:"2003-06-01T07:00:00.000Z"},{series:"Agriculture",year:2003,month:7,count:113,rate:8.2,date:"2003-07-01T07:00:00.000Z"},{series:"Agriculture",year:2003,month:8,count:173,rate:10.7,date:"2003-08-01T07:00:00.000Z"},{series:"Agriculture",year:2003,month:9,count:98,rate:6.2,date:"2003-09-01T07:00:00.000Z"},{series:"Agriculture",year:2003,month:10,count:136,rate:8.5,date:"2003-10-01T07:00:00.000Z"},{series:"Agriculture",year:2003,month:11,count:148,rate:10.3,date:"2003-11-01T08:00:00.000Z"},{series:"Agriculture",year:2003,month:12,count:137,rate:10.9,date:"2003-12-01T08:00:00.000Z"},{series:"Agriculture",year:2004,month:1,count:184,rate:15.1,date:"2004-01-01T08:00:00.000Z"},{series:"Agriculture",year:2004,month:2,count:168,rate:14.2,date:"2004-02-01T08:00:00.000Z"},{series:"Agriculture",year:2004,month:3,count:153,rate:12.7,date:"2004-03-01T08:00:00.000Z"},{series:"Agriculture",year:2004,month:4,count:107,rate:8.3,date:"2004-04-01T08:00:00.000Z"},{series:"Agriculture",year:2004,month:5,count:99,rate:7.4,date:"2004-05-01T07:00:00.000Z"},{series:"Agriculture",year:2004,month:6,count:106,rate:7.6,date:"2004-06-01T07:00:00.000Z"},{series:"Agriculture",year:2004,month:7,count:140,rate:10,date:"2004-07-01T07:00:00.000Z"},{series:"Agriculture",year:2004,month:8,count:103,rate:7,date:"2004-08-01T07:00:00.000Z"},{series:"Agriculture",year:2004,month:9,count:88,rate:6.4,date:"2004-09-01T07:00:00.000Z"},{series:"Agriculture",year:2004,month:10,count:102,rate:7.7,date:"2004-10-01T07:00:00.000Z"},{series:"Agriculture",year:2004,month:11,count:131,rate:10.5,date:"2004-11-01T08:00:00.000Z"},{series:"Agriculture",year:2004,month:12,count:165,rate:14,date:"2004-12-01T08:00:00.000Z"},{series:"Agriculture",year:2005,month:1,count:153,rate:13.2,date:"2005-01-01T08:00:00.000Z"},{series:"Agriculture",year:2005,month:2,count:107,rate:9.9,date:"2005-02-01T08:00:00.000Z"},{series:"Agriculture",year:2005,month:3,count:139,rate:11.8,date:"2005-03-01T08:00:00.000Z"},{series:"Agriculture",year:2005,month:4,count:84,rate:6.9,date:"2005-04-01T08:00:00.000Z"},{series:"Agriculture",year:2005,month:5,count:66,rate:5.3,date:"2005-05-01T07:00:00.000Z"},{series:"Agriculture",year:2005,month:6,count:76,rate:5.2,date:"2005-06-01T07:00:00.000Z"},{series:"Agriculture",year:2005,month:7,count:69,rate:4.7,date:"2005-07-01T07:00:00.000Z"},{series:"Agriculture",year:2005,month:8,count:100,rate:7.1,date:"2005-08-01T07:00:00.000Z"},{series:"Agriculture",year:2005,month:9,count:127,rate:9.5,date:"2005-09-01T07:00:00.000Z"},{series:"Agriculture",year:2005,month:10,count:85,rate:6.7,date:"2005-10-01T07:00:00.000Z"},{series:"Agriculture",year:2005,month:11,count:118,rate:9.6,date:"2005-11-01T08:00:00.000Z"},{series:"Agriculture",year:2005,month:12,count:127,rate:11.1,date:"2005-12-01T08:00:00.000Z"},{series:"Agriculture",year:2006,month:1,count:140,rate:11.5,date:"2006-01-01T08:00:00.000Z"},{series:"Agriculture",year:2006,month:2,count:139,rate:11.8,date:"2006-02-01T08:00:00.000Z"},{series:"Agriculture",year:2006,month:3,count:117,rate:9.8,date:"2006-03-01T08:00:00.000Z"},{series:"Agriculture",year:2006,month:4,count:81,rate:6.2,date:"2006-04-01T08:00:00.000Z"},{series:"Agriculture",year:2006,month:5,count:79,rate:6,date:"2006-05-01T07:00:00.000Z"},{series:"Agriculture",year:2006,month:6,count:35,rate:2.4,date:"2006-06-01T07:00:00.000Z"},{series:"Agriculture",year:2006,month:7,count:55,rate:3.6,date:"2006-07-01T07:00:00.000Z"},{series:"Agriculture",year:2006,month:8,count:76,rate:5.3,date:"2006-08-01T07:00:00.000Z"},{series:"Agriculture",year:2006,month:9,count:78,rate:5.9,date:"2006-09-01T07:00:00.000Z"},{series:"Agriculture",year:2006,month:10,count:77,rate:5.8,date:"2006-10-01T07:00:00.000Z"},{series:"Agriculture",year:2006,month:11,count:125,rate:9.6,date:"2006-11-01T08:00:00.000Z"},{series:"Agriculture",year:2006,month:12,count:139,rate:10.4,date:"2006-12-01T08:00:00.000Z"},{series:"Agriculture",year:2007,month:1,count:128,rate:10,date:"2007-01-01T08:00:00.000Z"},{series:"Agriculture",year:2007,month:2,count:127,rate:9.6,date:"2007-02-01T08:00:00.000Z"},{series:"Agriculture",year:2007,month:3,count:123,rate:9.7,date:"2007-03-01T08:00:00.000Z"},{series:"Agriculture",year:2007,month:4,count:67,rate:5.7,date:"2007-04-01T07:00:00.000Z"},{series:"Agriculture",year:2007,month:5,count:64,rate:5.1,date:"2007-05-01T07:00:00.000Z"},{series:"Agriculture",year:2007,month:6,count:59,rate:4.5,date:"2007-06-01T07:00:00.000Z"},{series:"Agriculture",year:2007,month:7,count:40,rate:3.1,date:"2007-07-01T07:00:00.000Z"},{series:"Agriculture",year:2007,month:8,count:54,rate:4.7,date:"2007-08-01T07:00:00.000Z"},{series:"Agriculture",year:2007,month:9,count:53,rate:4.3,date:"2007-09-01T07:00:00.000Z"},{series:"Agriculture",year:2007,month:10,count:47,rate:4,date:"2007-10-01T07:00:00.000Z"},{series:"Agriculture",year:2007,month:11,count:80,rate:6.6,date:"2007-11-01T07:00:00.000Z"},{series:"Agriculture",year:2007,month:12,count:96,rate:7.5,date:"2007-12-01T08:00:00.000Z"},{series:"Agriculture",year:2008,month:1,count:113,rate:9.5,date:"2008-01-01T08:00:00.000Z"},{series:"Agriculture",year:2008,month:2,count:135,rate:10.9,date:"2008-02-01T08:00:00.000Z"},{series:"Agriculture",year:2008,month:3,count:175,rate:13.2,date:"2008-03-01T08:00:00.000Z"},{series:"Agriculture",year:2008,month:4,count:108,rate:8.6,date:"2008-04-01T07:00:00.000Z"},{series:"Agriculture",year:2008,month:5,count:94,rate:7.4,date:"2008-05-01T07:00:00.000Z"},{series:"Agriculture",year:2008,month:6,count:86,rate:6.1,date:"2008-06-01T07:00:00.000Z"},{series:"Agriculture",year:2008,month:7,count:125,rate:8.5,date:"2008-07-01T07:00:00.000Z"},{series:"Agriculture",year:2008,month:8,count:111,rate:7.6,date:"2008-08-01T07:00:00.000Z"},{series:"Agriculture",year:2008,month:9,count:84,rate:5.8,date:"2008-09-01T07:00:00.000Z"},{series:"Agriculture",year:2008,month:10,count:97,rate:7.1,date:"2008-10-01T07:00:00.000Z"},{series:"Agriculture",year:2008,month:11,count:119,rate:9.5,date:"2008-11-01T07:00:00.000Z"},{series:"Agriculture",year:2008,month:12,count:229,rate:17,date:"2008-12-01T08:00:00.000Z"},{series:"Agriculture",year:2009,month:1,count:245,rate:18.7,date:"2009-01-01T08:00:00.000Z"},{series:"Agriculture",year:2009,month:2,count:251,rate:18.8,date:"2009-02-01T08:00:00.000Z"},{series:"Agriculture",year:2009,month:3,count:241,rate:19,date:"2009-03-01T08:00:00.000Z"},{series:"Agriculture",year:2009,month:4,count:176,rate:13.5,date:"2009-04-01T07:00:00.000Z"},{series:"Agriculture",year:2009,month:5,count:136,rate:10,date:"2009-05-01T07:00:00.000Z"},{series:"Agriculture",year:2009,month:6,count:182,rate:12.3,date:"2009-06-01T07:00:00.000Z"},{series:"Agriculture",year:2009,month:7,count:180,rate:12.1,date:"2009-07-01T07:00:00.000Z"},{series:"Agriculture",year:2009,month:8,count:195,rate:13.1,date:"2009-08-01T07:00:00.000Z"},{series:"Agriculture",year:2009,month:9,count:150,rate:11.1,date:"2009-09-01T07:00:00.000Z"},{series:"Agriculture",year:2009,month:10,count:166,rate:11.8,date:"2009-10-01T07:00:00.000Z"},{series:"Agriculture",year:2009,month:11,count:180,rate:12.6,date:"2009-11-01T07:00:00.000Z"},{series:"Agriculture",year:2009,month:12,count:292,rate:19.7,date:"2009-12-01T08:00:00.000Z"},{series:"Agriculture",year:2010,month:1,count:318,rate:21.3,date:"2010-01-01T08:00:00.000Z"},{series:"Agriculture",year:2010,month:2,count:285,rate:18.8,date:"2010-02-01T08:00:00.000Z"},{series:"Self-employed",year:2e3,month:1,count:239,rate:2.3,date:"2000-01-01T08:00:00.000Z"},{series:"Self-employed",year:2e3,month:2,count:262,rate:2.5,date:"2000-02-01T08:00:00.000Z"},{series:"Self-employed",year:2e3,month:3,count:213,rate:2,date:"2000-03-01T08:00:00.000Z"},{series:"Self-employed",year:2e3,month:4,count:218,rate:2,date:"2000-04-01T08:00:00.000Z"},{series:"Self-employed",year:2e3,month:5,count:206,rate:1.9,date:"2000-05-01T07:00:00.000Z"},{series:"Self-employed",year:2e3,month:6,count:188,rate:1.8,date:"2000-06-01T07:00:00.000Z"},{series:"Self-employed",year:2e3,month:7,count:222,rate:2.1,date:"2000-07-01T07:00:00.000Z"},{series:"Self-employed",year:2e3,month:8,count:186,rate:1.7,date:"2000-08-01T07:00:00.000Z"},{series:"Self-employed",year:2e3,month:9,count:213,rate:2,date:"2000-09-01T07:00:00.000Z"},{series:"Self-employed",year:2e3,month:10,count:226,rate:2.2,date:"2000-10-01T07:00:00.000Z"},{series:"Self-employed",year:2e3,month:11,count:273,rate:2.7,date:"2000-11-01T08:00:00.000Z"},{series:"Self-employed",year:2e3,month:12,count:178,rate:1.8,date:"2000-12-01T08:00:00.000Z"},{series:"Self-employed",year:2001,month:1,count:194,rate:1.9,date:"2001-01-01T08:00:00.000Z"},{series:"Self-employed",year:2001,month:2,count:209,rate:2,date:"2001-02-01T08:00:00.000Z"},{series:"Self-employed",year:2001,month:3,count:181,rate:1.7,date:"2001-03-01T08:00:00.000Z"},{series:"Self-employed",year:2001,month:4,count:216,rate:2.1,date:"2001-04-01T08:00:00.000Z"},{series:"Self-employed",year:2001,month:5,count:206,rate:2,date:"2001-05-01T07:00:00.000Z"},{series:"Self-employed",year:2001,month:6,count:187,rate:1.7,date:"2001-06-01T07:00:00.000Z"},{series:"Self-employed",year:2001,month:7,count:191,rate:1.8,date:"2001-07-01T07:00:00.000Z"},{series:"Self-employed",year:2001,month:8,count:243,rate:2.3,date:"2001-08-01T07:00:00.000Z"},{series:"Self-employed",year:2001,month:9,count:256,rate:2.4,date:"2001-09-01T07:00:00.000Z"},{series:"Self-employed",year:2001,month:10,count:247,rate:2.3,date:"2001-10-01T07:00:00.000Z"},{series:"Self-employed",year:2001,month:11,count:234,rate:2.3,date:"2001-11-01T08:00:00.000Z"},{series:"Self-employed",year:2001,month:12,count:249,rate:2.5,date:"2001-12-01T08:00:00.000Z"},{series:"Self-employed",year:2002,month:1,count:263,rate:2.7,date:"2002-01-01T08:00:00.000Z"},{series:"Self-employed",year:2002,month:2,count:250,rate:2.6,date:"2002-02-01T08:00:00.000Z"},{series:"Self-employed",year:2002,month:3,count:217,rate:2.2,date:"2002-03-01T08:00:00.000Z"},{series:"Self-employed",year:2002,month:4,count:255,rate:2.5,date:"2002-04-01T08:00:00.000Z"},{series:"Self-employed",year:2002,month:5,count:264,rate:2.6,date:"2002-05-01T07:00:00.000Z"},{series:"Self-employed",year:2002,month:6,count:246,rate:2.4,date:"2002-06-01T07:00:00.000Z"},{series:"Self-employed",year:2002,month:7,count:249,rate:2.4,date:"2002-07-01T07:00:00.000Z"},{series:"Self-employed",year:2002,month:8,count:271,rate:2.6,date:"2002-08-01T07:00:00.000Z"},{series:"Self-employed",year:2002,month:9,count:266,rate:2.5,date:"2002-09-01T07:00:00.000Z"},{series:"Self-employed",year:2002,month:10,count:275,rate:2.6,date:"2002-10-01T07:00:00.000Z"},{series:"Self-employed",year:2002,month:11,count:297,rate:2.8,date:"2002-11-01T08:00:00.000Z"},{series:"Self-employed",year:2002,month:12,count:327,rate:3.1,date:"2002-12-01T08:00:00.000Z"},{series:"Self-employed",year:2003,month:1,count:324,rate:3,date:"2003-01-01T08:00:00.000Z"},{series:"Self-employed",year:2003,month:2,count:304,rate:3,date:"2003-02-01T08:00:00.000Z"},{series:"Self-employed",year:2003,month:3,count:279,rate:2.7,date:"2003-03-01T08:00:00.000Z"},{series:"Self-employed",year:2003,month:4,count:248,rate:2.4,date:"2003-04-01T08:00:00.000Z"},{series:"Self-employed",year:2003,month:5,count:271,rate:2.6,date:"2003-05-01T07:00:00.000Z"},{series:"Self-employed",year:2003,month:6,count:295,rate:2.7,date:"2003-06-01T07:00:00.000Z"},{series:"Self-employed",year:2003,month:7,count:270,rate:2.5,date:"2003-07-01T07:00:00.000Z"},{series:"Self-employed",year:2003,month:8,count:302,rate:2.7,date:"2003-08-01T07:00:00.000Z"},{series:"Self-employed",year:2003,month:9,count:287,rate:2.6,date:"2003-09-01T07:00:00.000Z"},{series:"Self-employed",year:2003,month:10,count:338,rate:3.1,date:"2003-10-01T07:00:00.000Z"},{series:"Self-employed",year:2003,month:11,count:308,rate:2.8,date:"2003-11-01T08:00:00.000Z"},{series:"Self-employed",year:2003,month:12,count:299,rate:2.8,date:"2003-12-01T08:00:00.000Z"},{series:"Self-employed",year:2004,month:1,count:302,rate:2.8,date:"2004-01-01T08:00:00.000Z"},{series:"Self-employed",year:2004,month:2,count:260,rate:2.5,date:"2004-02-01T08:00:00.000Z"},{series:"Self-employed",year:2004,month:3,count:260,rate:2.5,date:"2004-03-01T08:00:00.000Z"},{series:"Self-employed",year:2004,month:4,count:242,rate:2.3,date:"2004-04-01T08:00:00.000Z"},{series:"Self-employed",year:2004,month:5,count:287,rate:2.7,date:"2004-05-01T07:00:00.000Z"},{series:"Self-employed",year:2004,month:6,count:306,rate:2.8,date:"2004-06-01T07:00:00.000Z"},{series:"Self-employed",year:2004,month:7,count:291,rate:2.6,date:"2004-07-01T07:00:00.000Z"},{series:"Self-employed",year:2004,month:8,count:324,rate:2.9,date:"2004-08-01T07:00:00.000Z"},{series:"Self-employed",year:2004,month:9,count:362,rate:3.3,date:"2004-09-01T07:00:00.000Z"},{series:"Self-employed",year:2004,month:10,count:301,rate:2.7,date:"2004-10-01T07:00:00.000Z"},{series:"Self-employed",year:2004,month:11,count:353,rate:3.2,date:"2004-11-01T08:00:00.000Z"},{series:"Self-employed",year:2004,month:12,count:341,rate:3.2,date:"2004-12-01T08:00:00.000Z"},{series:"Self-employed",year:2005,month:1,count:346,rate:3.2,date:"2005-01-01T08:00:00.000Z"},{series:"Self-employed",year:2005,month:2,count:363,rate:3.4,date:"2005-02-01T08:00:00.000Z"},{series:"Self-employed",year:2005,month:3,count:312,rate:2.9,date:"2005-03-01T08:00:00.000Z"},{series:"Self-employed",year:2005,month:4,count:273,rate:2.4,date:"2005-04-01T08:00:00.000Z"},{series:"Self-employed",year:2005,month:5,count:299,rate:2.7,date:"2005-05-01T07:00:00.000Z"},{series:"Self-employed",year:2005,month:6,count:268,rate:2.4,date:"2005-06-01T07:00:00.000Z"},{series:"Self-employed",year:2005,month:7,count:282,rate:2.5,date:"2005-07-01T07:00:00.000Z"},{series:"Self-employed",year:2005,month:8,count:249,rate:2.3,date:"2005-08-01T07:00:00.000Z"},{series:"Self-employed",year:2005,month:9,count:282,rate:2.6,date:"2005-09-01T07:00:00.000Z"},{series:"Self-employed",year:2005,month:10,count:255,rate:2.3,date:"2005-10-01T07:00:00.000Z"},{series:"Self-employed",year:2005,month:11,count:319,rate:3,date:"2005-11-01T08:00:00.000Z"},{series:"Self-employed",year:2005,month:12,count:327,rate:3.1,date:"2005-12-01T08:00:00.000Z"},{series:"Self-employed",year:2006,month:1,count:341,rate:3.2,date:"2006-01-01T08:00:00.000Z"},{series:"Self-employed",year:2006,month:2,count:332,rate:3.1,date:"2006-02-01T08:00:00.000Z"},{series:"Self-employed",year:2006,month:3,count:300,rate:2.8,date:"2006-03-01T08:00:00.000Z"},{series:"Self-employed",year:2006,month:4,count:334,rate:3.1,date:"2006-04-01T08:00:00.000Z"},{series:"Self-employed",year:2006,month:5,count:251,rate:2.3,date:"2006-05-01T07:00:00.000Z"},{series:"Self-employed",year:2006,month:6,count:245,rate:2.2,date:"2006-06-01T07:00:00.000Z"},{series:"Self-employed",year:2006,month:7,count:291,rate:2.6,date:"2006-07-01T07:00:00.000Z"},{series:"Self-employed",year:2006,month:8,count:306,rate:2.7,date:"2006-08-01T07:00:00.000Z"},{series:"Self-employed",year:2006,month:9,count:299,rate:2.7,date:"2006-09-01T07:00:00.000Z"},{series:"Self-employed",year:2006,month:10,count:275,rate:2.5,date:"2006-10-01T07:00:00.000Z"},{series:"Self-employed",year:2006,month:11,count:257,rate:2.3,date:"2006-11-01T08:00:00.000Z"},{series:"Self-employed",year:2006,month:12,count:287,rate:2.6,date:"2006-12-01T08:00:00.000Z"},{series:"Self-employed",year:2007,month:1,count:376,rate:3.5,date:"2007-01-01T08:00:00.000Z"},{series:"Self-employed",year:2007,month:2,count:300,rate:2.8,date:"2007-02-01T08:00:00.000Z"},{series:"Self-employed",year:2007,month:3,count:311,rate:2.8,date:"2007-03-01T08:00:00.000Z"},{series:"Self-employed",year:2007,month:4,count:240,rate:2.2,date:"2007-04-01T07:00:00.000Z"},{series:"Self-employed",year:2007,month:5,count:276,rate:2.5,date:"2007-05-01T07:00:00.000Z"},{series:"Self-employed",year:2007,month:6,count:258,rate:2.3,date:"2007-06-01T07:00:00.000Z"},{series:"Self-employed",year:2007,month:7,count:324,rate:2.9,date:"2007-07-01T07:00:00.000Z"},{series:"Self-employed",year:2007,month:8,count:315,rate:2.9,date:"2007-08-01T07:00:00.000Z"},{series:"Self-employed",year:2007,month:9,count:304,rate:2.8,date:"2007-09-01T07:00:00.000Z"},{series:"Self-employed",year:2007,month:10,count:338,rate:3.1,date:"2007-10-01T07:00:00.000Z"},{series:"Self-employed",year:2007,month:11,count:336,rate:3.2,date:"2007-11-01T07:00:00.000Z"},{series:"Self-employed",year:2007,month:12,count:326,rate:3.2,date:"2007-12-01T08:00:00.000Z"},{series:"Self-employed",year:2008,month:1,count:338,rate:3.3,date:"2008-01-01T08:00:00.000Z"},{series:"Self-employed",year:2008,month:2,count:340,rate:3.2,date:"2008-02-01T08:00:00.000Z"},{series:"Self-employed",year:2008,month:3,count:346,rate:3.3,date:"2008-03-01T08:00:00.000Z"},{series:"Self-employed",year:2008,month:4,count:338,rate:3.2,date:"2008-04-01T07:00:00.000Z"},{series:"Self-employed",year:2008,month:5,count:366,rate:3.4,date:"2008-05-01T07:00:00.000Z"},{series:"Self-employed",year:2008,month:6,count:364,rate:3.3,date:"2008-06-01T07:00:00.000Z"},{series:"Self-employed",year:2008,month:7,count:345,rate:3.1,date:"2008-07-01T07:00:00.000Z"},{series:"Self-employed",year:2008,month:8,count:378,rate:3.5,date:"2008-08-01T07:00:00.000Z"},{series:"Self-employed",year:2008,month:9,count:414,rate:3.9,date:"2008-09-01T07:00:00.000Z"},{series:"Self-employed",year:2008,month:10,count:396,rate:3.9,date:"2008-10-01T07:00:00.000Z"},{series:"Self-employed",year:2008,month:11,count:411,rate:4.1,date:"2008-11-01T07:00:00.000Z"},{series:"Self-employed",year:2008,month:12,count:559,rate:5.5,date:"2008-12-01T08:00:00.000Z"},{series:"Self-employed",year:2009,month:1,count:659,rate:6.5,date:"2009-01-01T08:00:00.000Z"},{series:"Self-employed",year:2009,month:2,count:586,rate:5.7,date:"2009-02-01T08:00:00.000Z"},{series:"Self-employed",year:2009,month:3,count:625,rate:5.9,date:"2009-03-01T08:00:00.000Z"},{series:"Self-employed",year:2009,month:4,count:488,rate:4.6,date:"2009-04-01T07:00:00.000Z"},{series:"Self-employed",year:2009,month:5,count:530,rate:5,date:"2009-05-01T07:00:00.000Z"},{series:"Self-employed",year:2009,month:6,count:472,rate:4.4,date:"2009-06-01T07:00:00.000Z"},{series:"Self-employed",year:2009,month:7,count:552,rate:5.2,date:"2009-07-01T07:00:00.000Z"},{series:"Self-employed",year:2009,month:8,count:569,rate:5.3,date:"2009-08-01T07:00:00.000Z"},{series:"Self-employed",year:2009,month:9,count:636,rate:5.9,date:"2009-09-01T07:00:00.000Z"},{series:"Self-employed",year:2009,month:10,count:610,rate:5.9,date:"2009-10-01T07:00:00.000Z"},{series:"Self-employed",year:2009,month:11,count:592,rate:5.7,date:"2009-11-01T07:00:00.000Z"},{series:"Self-employed",year:2009,month:12,count:609,rate:5.9,date:"2009-12-01T08:00:00.000Z"},{series:"Self-employed",year:2010,month:1,count:730,rate:7.2,date:"2010-01-01T08:00:00.000Z"},{series:"Self-employed",year:2010,month:2,count:680,rate:6.5,date:"2010-02-01T08:00:00.000Z"}],rAe=e=>{Dt({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Verticl Line"},data:{values:wG},mark:"area",encoding:{x:{timeUnit:"yearmonth",field:"date",axis:{domain:!1,format:"%Y",tickSize:0}},y:{field:"count",axis:null,stack:"center"}}},{x:500,y:500})(ie(e))},iAe=e=>{Ft(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",width:300,height:200,data:{values:wG},mark:"area",encoding:{x:{timeUnit:"yearmonth",field:"date",axis:{domain:!1,format:"%Y",tickSize:0}},y:{aggregate:"sum",field:"count",axis:null,stack:"center"},color:{field:"series",scale:{scheme:"category20b"}}}})},aAe=e=>{Dt({$schema:"https://vega.github.io/schema/vega-lite/v5.json",title:{text:"Surplus Deficit"},data:{values:[{a:"A",b:-28},{a:"B",b:55},{a:"C",b:-33},{a:"D",b:91},{a:"E",b:81},{a:"F",b:53},{a:"G",b:-19},{a:"H",b:87},{a:"I",b:52}]},width:300,height:200,mark:"area",encoding:{x:{field:"a",type:"nominal",axis:{domain:!1,ticks:!1,labelAngle:0,labelPadding:4}},y:{field:"b",type:"quantitative",axis:{gridColor:{condition:{test:"datum.value === 0",value:"black"},value:"#ddd"}}}}},{x:500,y:500})(ie(e))},oAe=e=>{Ft(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:[{a:"A",b:-28},{a:"B",b:55},{a:"C",b:-33},{a:"D",b:91},{a:"E",b:81},{a:"F",b:53},{a:"G",b:-19},{a:"H",b:87},{a:"I",b:52}]},width:300,height:200,mark:"area",encoding:{x:{field:"a",type:"nominal",axis:{domain:!1,ticks:!1,labelAngle:0,labelPadding:4}},y:{field:"b",type:"quantitative",axis:{gridColor:{condition:{test:"datum.value === 0",value:"black"},value:"#ddd"}}}}})},sAe=e=>{Dt({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Verticl Line"},data:{values:[{year:1990,value:8},{year:1991,value:5},{year:1992,value:2},{year:1993,value:4},{year:1994,value:1},{year:1995,value:10}]},mark:"line",encoding:{y:{field:"year",type:"ordinal"},x:{field:"value",type:"quantitative",axis:{grid:!0}}}},{x:500,y:500})(ie(e))},lAe=e=>{Ft(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:[{year:1990,value:8},{year:1991,value:5},{year:1992,value:2},{year:1993,value:4},{year:1994,value:1},{year:1995,value:10}]},mark:"line",encoding:{y:{field:"year",type:"ordinal"},x:{field:"value",type:"quantitative"}}})},cAe=e=>{Dt({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Waterfall"},data:{values:[{label:"Begin",amount:4e3},{label:"Jan",amount:1707},{label:"Feb",amount:-1425},{label:"Mar",amount:-1030},{label:"Apr",amount:1812},{label:"May",amount:-1067},{label:"Jun",amount:-1481},{label:"Jul",amount:1228},{label:"Aug",amount:1176},{label:"Sep",amount:1146},{label:"Oct",amount:1205},{label:"Nov",amount:-1388},{label:"Dec",amount:1492},{label:"End",amount:0}]},width:800,height:450,transform:[{window:[{op:"sum",field:"amount",as:"sum"}]},{window:[{op:"lead",field:"label",as:"lead"}]},{calculate:"datum.lead === null ? datum.label : datum.lead",as:"lead"},{calculate:"datum.label === 'End' ? 0 : datum.sum - datum.amount",as:"previous_sum"},{calculate:"datum.label === 'End' ? datum.sum : datum.amount",as:"amount"},{calculate:"(datum.label !== 'Begin' && datum.label !== 'End' && datum.amount > 0 ? '+' : '') + datum.amount",as:"text_amount"},{calculate:"(datum.sum + datum.previous_sum) / 2",as:"center"},{calculate:"datum.sum < datum.previous_sum ? datum.sum : ''",as:"sum_dec"},{calculate:"datum.sum > datum.previous_sum ? datum.sum : ''",as:"sum_inc"}],encoding:{x:{field:"label",type:"ordinal",sort:null,axis:{labelAngle:0,title:"Months"}}},layer:[{mark:{type:"bar",size:45},encoding:{y:{field:"previous_sum",type:"quantitative",title:"Amount"},y2:{field:"sum"},color:{condition:[{test:"datum.label === 'Begin' || datum.label === 'End'",value:"#f7e0b6"},{test:"datum.sum < datum.previous_sum",value:"#f78a64"}],value:"#93c4aa"}}},{mark:{type:"rule",color:"#404040",opacity:1,strokeWidth:2,xOffset:-22.5,x2Offset:22.5},encoding:{x2:{field:"lead"},y:{field:"sum",type:"quantitative"}}},{mark:{type:"text",dy:-4,baseline:"bottom"},encoding:{y:{field:"sum_inc",type:"quantitative"},text:{field:"sum_inc",type:"nominal"}}},{mark:{type:"text",dy:4,baseline:"top"},encoding:{y:{field:"sum_dec",type:"quantitative"},text:{field:"sum_dec",type:"nominal"}}},{mark:{type:"text",fontWeight:"bold",baseline:"middle"},encoding:{y:{field:"center",type:"quantitative"},text:{field:"text_amount",type:"nominal"},color:{condition:[{test:"datum.label === 'Begin' || datum.label === 'End'",value:"#725a30"}],value:"white"}}}],config:{text:{fontWeight:"bold",color:"#404040"}}},{x:500,y:500})(ie(e))},uAe=e=>{Ft(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:[{label:"Begin",amount:4e3},{label:"Jan",amount:1707},{label:"Feb",amount:-1425},{label:"Mar",amount:-1030},{label:"Apr",amount:1812},{label:"May",amount:-1067},{label:"Jun",amount:-1481},{label:"Jul",amount:1228},{label:"Aug",amount:1176},{label:"Sep",amount:1146},{label:"Oct",amount:1205},{label:"Nov",amount:-1388},{label:"Dec",amount:1492},{label:"End",amount:0}]},width:800,height:450,transform:[{window:[{op:"sum",field:"amount",as:"sum"}]},{window:[{op:"lead",field:"label",as:"lead"}]},{calculate:"datum.lead === null ? datum.label : datum.lead",as:"lead"},{calculate:"datum.label === 'End' ? 0 : datum.sum - datum.amount",as:"previous_sum"},{calculate:"datum.label === 'End' ? datum.sum : datum.amount",as:"amount"},{calculate:"(datum.label !== 'Begin' && datum.label !== 'End' && datum.amount > 0 ? '+' : '') + datum.amount",as:"text_amount"},{calculate:"(datum.sum + datum.previous_sum) / 2",as:"center"},{calculate:"datum.sum < datum.previous_sum ? datum.sum : ''",as:"sum_dec"},{calculate:"datum.sum > datum.previous_sum ? datum.sum : ''",as:"sum_inc"}],encoding:{x:{field:"label",type:"ordinal",sort:null,axis:{labelAngle:0,title:"Months"}}},layer:[{mark:{type:"bar",size:45},encoding:{y:{field:"previous_sum",type:"quantitative",title:"Amount"},y2:{field:"sum"},color:{condition:[{test:"datum.label === 'Begin' || datum.label === 'End'",value:"#f7e0b6"},{test:"datum.sum < datum.previous_sum",value:"#f78a64"}],value:"#93c4aa"}}},{mark:{type:"rule",color:"#404040",opacity:1,strokeWidth:2,xOffset:-22.5,x2Offset:22.5},encoding:{x2:{field:"lead"},y:{field:"sum",type:"quantitative"}}},{mark:{type:"text",dy:-4,baseline:"bottom"},encoding:{y:{field:"sum_inc",type:"quantitative"},text:{field:"sum_inc",type:"nominal"}}},{mark:{type:"text",dy:4,baseline:"top"},encoding:{y:{field:"sum_dec",type:"quantitative"},text:{field:"sum_dec",type:"nominal"}}},{mark:{type:"text",fontWeight:"bold",baseline:"middle"},encoding:{y:{field:"center",type:"quantitative"},text:{field:"text_amount",type:"nominal"},color:{condition:[{test:"datum.label === 'Begin' || datum.label === 'End'",value:"#725a30"}],value:"white"}}}],config:{text:{fontWeight:"bold",color:"#404040"}}})},Te=document.getElementById("app");if(!Te)throw new Error("Missing #app");const bm=document.location.hash.substring(1);document.title=bm||"chart-types";switch(bm){case"diverging-bar-vl":UTe(Te);break;case"diverging-bar-b":GTe(Te);break;case"surplus-deficit-vl":oAe(Te);break;case"surplus-deficit-b":aAe(Te);break;case"column-line-vl":zTe(Te);break;case"column-line-b":jTe(Te);break;case"bubble-vl":LTe(Te);break;case"bubble-b":DTe(Te);break;case"lollipop-vl":HTe(Te);break;case"lollipop-b":WTe(Te);break;case"bump-vl":NTe(Te);break;case"bump-b":$Te(Te);break;case"barcode-vl":MTe(Te);break;case"barcode-b":Bae(Te);break;case"box-vl":CTe(Te);break;case"box-b":OTe(Te);break;case"candlestick-vl":ZTe(Te);break;case"candlestick-b":ITe(Te);break;case"projection-vl":nAe(Te);break;case"projection-b":tAe(Te);break;case"priestely-vl":eAe(Te);break;case"priestely-b":QTe(Te);break;case"circle-timeline-vl":PTe(Te);break;case"circle-timeline-b":RTe(Te);break;case"vertical-line-vl":lAe(Te);break;case"vertical-line-b":sAe(Te);break;case"streamgraph-vl":iAe(Te);break;case"streamgraph-b":rAe(Te);break;case"paired-bar-vl":XTe(Te);break;case"paired-bar-b":VTe(Te);break;case"mosaic-vl":qTe(Te);break;case"mosaic-b":YTe(Te);break;case"pictogram-vl":KTe(Te);break;case"pictogram-b":JTe(Te);break;case"bullet-vl":BTe(Te);break;case"bullet-b":FTe(Te);break;case"waterfall-vl":uAe(Te);break;case"waterfall-b":cAe(Te);break;default:bm.length&&(Te.innerHTML=`No switch case for #${bm}`)}});export default fAe();
