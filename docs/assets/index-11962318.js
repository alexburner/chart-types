var MG=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var hAe=MG((bAe,q6)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();const o7="wrapper",Oy=2,zs=10,kG=3;function Je(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function s7(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zc(e){let t,n,r;e.length!==2?(t=Je,n=(s,l)=>Je(e(s),l),r=(s,l)=>e(s)-l):(t=e===Je||e===s7?e:OG,n=e,r=e);function i(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;n(s[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;n(s[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function o(s,l,c=0,u=s.length){const f=i(s,l,c,u-1);return f>c&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function OG(){return 0}function Mk(e){return e===null?NaN:+e}function*kk(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const Ok=zc(Je),Pf=Ok.right,Ck=Ok.left,CG=zc(Mk).center,us=Pf;function DG(e,t){if(!((t=+t)>=0))throw new RangeError("invalid r");let n=e.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!t)return e;const r=l7(t),i=e.slice();return r(e,i,0,n,1),r(i,e,0,n,1),r(e,i,0,n,1),e}const Dk=Lk(l7),LG=Lk(FG);function Lk(e){return function(t,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:a,height:o}=t;if(!((a=Math.floor(a))>=0))throw new RangeError("invalid width");if(!((o=Math.floor(o!==void 0?o:i.length/a))>=0))throw new RangeError("invalid height");if(!a||!o||!n&&!r)return t;const s=n&&e(n),l=r&&e(r),c=i.slice();return s&&l?(cl(s,c,i,a,o),cl(s,i,c,a,o),cl(s,c,i,a,o),ul(l,i,c,a,o),ul(l,c,i,a,o),ul(l,i,c,a,o)):s?(cl(s,i,c,a,o),cl(s,c,i,a,o),cl(s,i,c,a,o)):l&&(ul(l,i,c,a,o),ul(l,c,i,a,o),ul(l,i,c,a,o)),t}}function cl(e,t,n,r,i){for(let a=0,o=r*i;a<o;)e(t,n,a,a+=r,1)}function ul(e,t,n,r,i){for(let a=0,o=r*i;a<r;++a)e(t,n,a,a+o,r)}function FG(e){const t=l7(e);return(n,r,i,a,o)=>{i<<=2,a<<=2,o<<=2,t(n,r,i+0,a+0,o),t(n,r,i+1,a+1,o),t(n,r,i+2,a+2,o),t(n,r,i+3,a+3,o)}}function l7(e){const t=Math.floor(e);if(t===e)return BG(e);const n=e-t,r=2*e+1;return(i,a,o,s,l)=>{if(!((s-=l)>=o))return;let c=t*a[o];const u=l*t,f=u+l;for(let d=o,h=o+u;d<h;d+=l)c+=a[Math.min(s,d)];for(let d=o,h=s;d<=h;d+=l)c+=a[Math.min(s,d+u)],i[d]=(c+n*(a[Math.max(o,d-f)]+a[Math.min(s,d+f)]))/r,c-=a[Math.max(o,d-u)]}}function BG(e){const t=2*e+1;return(n,r,i,a,o)=>{if(!((a-=o)>=i))return;let s=e*r[i];const l=o*e;for(let c=i,u=i+l;c<u;c+=o)s+=r[Math.min(a,c)];for(let c=i,u=a;c<=u;c+=o)s+=r[Math.min(a,c+l)],n[c]=s/t,s-=r[Math.max(i,c-l)]}}function ng(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(i=+i)>=i&&++n}return n}function $G(e){return e.length|0}function NG(e){return!(e>0)}function IG(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function ZG(e){return t=>e(...t)}function RG(...e){const t=typeof e[e.length-1]=="function"&&ZG(e.pop());e=e.map(IG);const n=e.map($G),r=e.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(NG))return a;for(;;){a.push(i.map((s,l)=>e[l][s]));let o=r;for(;++i[o]===n[o];){if(o===0)return t?a.map(t):a;i[o--]=0}}}function PG(e,t){var n=0,r=0;return Float64Array.from(e,t===void 0?i=>n+=+i||0:i=>n+=+t(i,r++,e)||0)}function Fk(e,t){let n=0,r,i=0,a=0;if(t===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,a+=r*(o-i));else{let o=-1;for(let s of e)(s=t(s,++o,e))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i))}if(n>1)return a/(n-1)}function c7(e,t){const n=Fk(e,t);return n&&Math.sqrt(n)}function li(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class kt{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],o=t+a,s=Math.abs(t)<Math.abs(a)?t-(o-a):a-(o-t);s&&(n[r++]=s),t=o}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,a,o=0;if(n>0){for(o=t[--n];n>0&&(r=o,i=t[--n],o=r+i,a=i-(o-r),!a););n>0&&(a<0&&t[n-1]<0||a>0&&t[n-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}function jG(e,t){const n=new kt;if(t===void 0)for(let r of e)(r=+r)&&n.add(r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&n.add(i)}return+n}function zG(e,t){const n=new kt;let r=-1;return Float64Array.from(e,t===void 0?i=>n.add(+i||0):i=>n.add(+t(i,++r,e)||0))}class jf extends Map{constructor(t,n=Nk){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(vv(this,t))}has(t){return super.has(vv(this,t))}set(t,n){return super.set(Bk(this,t),n)}delete(t){return super.delete($k(this,t))}}class u0 extends Set{constructor(t,n=Nk){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(vv(this,t))}add(t){return super.add(Bk(this,t))}delete(t){return super.delete($k(this,t))}}function vv({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Bk({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function $k({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(n),e.delete(r)),n}function Nk(e){return e!==null&&typeof e=="object"?e.valueOf():e}function tc(e){return e}function rg(e,...t){return Gc(e,tc,tc,t)}function Ik(e,...t){return Gc(e,Array.from,tc,t)}function Zk(e,t){for(let n=1,r=t.length;n<r;++n)e=e.flatMap(i=>i.pop().map(([a,o])=>[...i,a,o]));return e}function GG(e,...t){return Zk(Ik(e,...t),t)}function UG(e,t,...n){return Zk(Pk(e,t,...n),n)}function Rk(e,t,...n){return Gc(e,tc,t,n)}function Pk(e,t,...n){return Gc(e,Array.from,t,n)}function WG(e,...t){return Gc(e,tc,jk,t)}function HG(e,...t){return Gc(e,Array.from,jk,t)}function jk(e){if(e.length!==1)throw new Error("duplicate key");return e[0]}function Gc(e,t,n,r){return function i(a,o){if(o>=r.length)return n(a);const s=new jf,l=r[o++];let c=-1;for(const u of a){const f=l(u,++c,a),d=s.get(f);d?d.push(u):s.set(f,[u])}for(const[u,f]of s)s.set(u,i(f,o));return t(s)}(e,0)}function u7(e,t){return Array.from(t,n=>e[n])}function xv(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,a)=>a);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,a)=>{for(const o of t){const s=nc(o[i],o[a]);if(s)return s}})):(n=e.map(n),r.sort((i,a)=>nc(n[i],n[a]))),u7(e,r)}return e.sort(f7(n))}function f7(e=Je){if(e===Je)return nc;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function nc(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function YG(e,t,n){return(t.length!==2?xv(Rk(e,t,n),([r,i],[a,o])=>Je(i,o)||Je(r,a)):xv(rg(e,n),([r,i],[a,o])=>t(i,o)||Je(r,a))).map(([r])=>r)}var qG=Array.prototype,VG=qG.slice;function Cy(e){return()=>e}const XG=Math.sqrt(50),JG=Math.sqrt(10),KG=Math.sqrt(2);function bm(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=XG?10:a>=JG?5:a>=KG?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?bm(e,t,n*2):[s,l,c]}function f0(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?bm(t,e,n):bm(e,t,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function d0(e,t,n){return t=+t,e=+e,n=+n,bm(e,t,n)[2]}function Ya(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?d0(t,e,n):d0(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function d7(e,t,n){let r;for(;;){const i=d0(e,t,n);if(i===r||i===0||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function h7(e){return Math.ceil(Math.log(ng(e))/Math.LN2)+1}function aw(){var e=tc,t=li,n=h7;function r(i){Array.isArray(i)||(i=Array.from(i));var a,o=i.length,s,l,c=new Array(o);for(a=0;a<o;++a)c[a]=e(i[a],a,i);var u=t(c),f=u[0],d=u[1],h=n(c,f,d);if(!Array.isArray(h)){const v=d,x=+h;if(t===li&&([f,d]=d7(f,d,x)),h=f0(f,d,x),h[0]<=f&&(l=d0(f,d,x)),h[h.length-1]>=d)if(v>=d&&t===li){const _=d0(f,d,x);isFinite(_)&&(_>0?d=(Math.floor(d/_)+1)*_:_<0&&(d=(Math.ceil(d*-_)+1)/-_))}else h.pop()}for(var m=h.length,g=0,p=m;h[g]<=f;)++g;for(;h[p-1]>d;)--p;(g||p<m)&&(h=h.slice(g,p),m=p-g);var y=new Array(m+1),b;for(a=0;a<=m;++a)b=y[a]=[],b.x0=a>0?h[a-1]:f,b.x1=a<m?h[a]:d;if(isFinite(l)){if(l>0)for(a=0;a<o;++a)(s=c[a])!=null&&f<=s&&s<=d&&y[Math.min(m,Math.floor((s-f)/l))].push(i[a]);else if(l<0){for(a=0;a<o;++a)if((s=c[a])!=null&&f<=s&&s<=d){const v=Math.floor((f-s)*l);y[Math.min(m,v+(h[v]<=s))].push(i[a])}}}else for(a=0;a<o;++a)(s=c[a])!=null&&f<=s&&s<=d&&y[us(h,s,0,m)].push(i[a]);return y}return r.value=function(i){return arguments.length?(e=typeof i=="function"?i:Cy(i),r):e},r.domain=function(i){return arguments.length?(t=typeof i=="function"?i:Cy([i[0],i[1]]),r):t},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:Cy(Array.isArray(i)?VG.call(i):i),r):n},r}function Cn(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function m7(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function qa(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function p7(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function ig(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?nc:f7(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,u=Math.log(l),f=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(n,Math.floor(t-c*f/l+d)),m=Math.min(r,Math.floor(t+(l-c)*f/l+d));ig(e,t,h,m,i)}const a=e[t];let o=n,s=r;for(wu(e,n,t),i(e[r],a)>0&&wu(e,n,r);o<s;){for(wu(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[n],a)===0?wu(e,n,s):(++s,wu(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function wu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function zk(e,t=Je){let n,r=!1;if(t.length===1){let i;for(const a of e){const o=t(a);(r?Je(o,i)>0:Je(o,o)===0)&&(n=a,i=o,r=!0)}}else for(const i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function h0(e,t,n){if(e=Float64Array.from(kk(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return qa(e);if(t>=1)return Cn(e);var r,i=(r-1)*t,a=Math.floor(i),o=Cn(ig(e,a).subarray(0,a+1)),s=qa(e.subarray(a+1));return o+(s-o)*(i-a)}}function g7(e,t,n=Mk){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),s=+n(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function Gk(e,t,n){if(e=Float64Array.from(kk(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return p7(e);if(t>=1)return m7(e);var r,i=Math.floor((r-1)*t),a=(s,l)=>nc(e[s],e[l]),o=ig(Uint32Array.from(e,(s,l)=>l),i,0,r-1,a);return zk(o.subarray(0,i+1),s=>e[s])}}function QG(e,t,n){return Math.ceil((n-t)/(2*(h0(e,.75)-h0(e,.25))*Math.pow(ng(e),-1/3)))}function eU(e,t,n){return Math.ceil((n-t)*Math.cbrt(ng(e))/(3.49*c7(e)))}function Uk(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function y7(e,t){return h0(e,.5,t)}function tU(e,t){return Gk(e,.5,t)}function*nU(e){for(const t of e)yield*t}function b7(e){return Array.from(nU(e))}function rU(e,t){const n=new jf;if(t===void 0)for(let a of e)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let o of e)(o=t(o,++a,e))!=null&&o>=o&&n.set(o,(n.get(o)||0)+1)}let r,i=0;for(const[a,o]of n)o>i&&(i=o,r=a);return r}function iU(e,t=aU){const n=[];let r,i=!1;for(const a of e)i&&n.push(t(r,a)),r=a,i=!0;return n}function aU(e,t){return[e,t]}function sn(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function oU(e,t=Je){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let n=Array.from(e);const r=new Float64Array(n.length);t.length!==2&&(n=n.map(t),t=Je);const i=(s,l)=>t(n[s],n[l]);let a,o;return Uint32Array.from(n,(s,l)=>l).sort(t===Je?(s,l)=>nc(n[s],n[l]):f7(i)).forEach((s,l)=>{const c=i(s,a===void 0?s:a);c>=0?((a===void 0||c>0)&&(a=s,o=l),r[s]=o):r[s]=NaN}),r}function sU(e,t=Je){let n,r=!1;if(t.length===1){let i;for(const a of e){const o=t(a);(r?Je(o,i)<0:Je(o,o)===0)&&(n=a,i=o,r=!0)}}else for(const i of e)(r?t(i,n)<0:t(i,i)===0)&&(n=i,r=!0);return n}function Wk(e,t=Je){if(t.length===1)return p7(e,t);let n,r=-1,i=-1;for(const a of e)++i,(r<0?t(a,a)===0:t(a,n)<0)&&(n=a,r=i);return r}function lU(e,t=Je){if(t.length===1)return m7(e,t);let n,r=-1,i=-1;for(const a of e)++i,(r<0?t(a,a)===0:t(a,n)>0)&&(n=a,r=i);return r}function cU(e,t){const n=Wk(e,t);return n<0?void 0:n}const uU=Hk(Math.random);function Hk(e){return function(n,r=0,i=n.length){let a=i-(r=+r);for(;a;){const o=e()*a--|0,s=n[a+r];n[a+r]=n[o+r],n[o+r]=s}return n}}function j0(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function Yk(e){if(!(a=e.length))return[];for(var t=-1,n=qa(e,fU),r=new Array(n);++t<n;)for(var i=-1,a,o=r[t]=new Array(a);++i<a;)o[i]=e[i][t];return r}function fU(e){return e.length}function v7(){return Yk(arguments)}function dU(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let n=-1;for(const r of e)if(!t(r,++n,e))return!1;return!0}function hU(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let n=-1;for(const r of e)if(t(r,++n,e))return!0;return!1}function mU(e,t){if(typeof t!="function")throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of e)t(i,++r,e)&&n.push(i);return n}function pU(e,t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof t!="function")throw new TypeError("mapper is not a function");return Array.from(e,(n,r)=>t(n,r,e))}function gU(e,t,n){if(typeof t!="function")throw new TypeError("reducer is not a function");const r=e[Symbol.iterator]();let i,a,o=-1;if(arguments.length<3){if({done:i,value:n}=r.next(),i)return;++o}for(;{done:i,value:a}=r.next(),!i;)n=t(n,a,++o,e);return n}function yU(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function bU(e,...t){e=new u0(e);for(const n of t)for(const r of n)e.delete(r);return e}function vU(e,t){const n=t[Symbol.iterator](),r=new u0;for(const i of e){if(r.has(i))return!1;let a,o;for(;({value:a,done:o}=n.next())&&!o;){if(Object.is(i,a))return!1;r.add(a)}}return!0}function xU(e,...t){e=new u0(e),t=t.map(_U);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function _U(e){return e instanceof u0?e:new u0(e)}function qk(e,t){const n=e[Symbol.iterator](),r=new Set;for(const i of t){const a=ow(i);if(r.has(a))continue;let o,s;for(;{value:o,done:s}=n.next();){if(s)return!1;const l=ow(o);if(r.add(l),Object.is(a,l))break}}return!0}function ow(e){return e!==null&&typeof e=="object"?e.valueOf():e}function wU(e,t){return qk(t,e)}function TU(...e){const t=new u0;for(const n of e)for(const r of n)t.add(r);return t}function AU(e){return e}var I1=1,Z1=2,_v=3,Ju=4,sw=1e-6;function SU(e){return"translate("+e+",0)"}function EU(e){return"translate(0,"+e+")"}function MU(e){return t=>+e(t)}function kU(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function OU(){return!this.__axis}function ag(e,t){var n=[],r=null,i=null,a=6,o=6,s=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=e===I1||e===Ju?-1:1,u=e===Ju||e===Z1?"x":"y",f=e===I1||e===_v?SU:EU;function d(h){var m=r??(t.ticks?t.ticks.apply(t,n):t.domain()),g=i??(t.tickFormat?t.tickFormat.apply(t,n):AU),p=Math.max(a,0)+s,y=t.range(),b=+y[0]+l,v=+y[y.length-1]+l,x=(t.bandwidth?kU:MU)(t.copy(),l),_=h.selection?h.selection():h,T=_.selectAll(".domain").data([null]),w=_.selectAll(".tick").data(m,t).order(),S=w.exit(),C=w.enter().append("g").attr("class","tick"),M=w.select("line"),A=w.select("text");T=T.merge(T.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(C),M=M.merge(C.append("line").attr("stroke","currentColor").attr(u+"2",c*a)),A=A.merge(C.append("text").attr("fill","currentColor").attr(u,c*p).attr("dy",e===I1?"0em":e===_v?"0.71em":"0.32em")),h!==_&&(T=T.transition(h),w=w.transition(h),M=M.transition(h),A=A.transition(h),S=S.transition(h).attr("opacity",sw).attr("transform",function(L){return isFinite(L=x(L))?f(L+l):this.getAttribute("transform")}),C.attr("opacity",sw).attr("transform",function(L){var D=this.parentNode.__axis;return f((D&&isFinite(D=D(L))?D:x(L))+l)})),S.remove(),T.attr("d",e===Ju||e===Z1?o?"M"+c*o+","+b+"H"+l+"V"+v+"H"+c*o:"M"+l+","+b+"V"+v:o?"M"+b+","+c*o+"V"+l+"H"+v+"V"+c*o:"M"+b+","+l+"H"+v),w.attr("opacity",1).attr("transform",function(L){return f(x(L)+l)}),M.attr(u+"2",c*a),A.attr(u,c*p).text(g),_.filter(OU).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Z1?"start":e===Ju?"end":"middle"),_.each(function(){this.__axis=x})}return d.scale=function(h){return arguments.length?(t=h,d):t},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),d):n.slice()},d.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),d):r&&r.slice()},d.tickFormat=function(h){return arguments.length?(i=h,d):i},d.tickSize=function(h){return arguments.length?(a=o=+h,d):a},d.tickSizeInner=function(h){return arguments.length?(a=+h,d):a},d.tickSizeOuter=function(h){return arguments.length?(o=+h,d):o},d.tickPadding=function(h){return arguments.length?(s=+h,d):s},d.offset=function(h){return arguments.length?(l=+h,d):l},d}function CU(e){return ag(I1,e)}function DU(e){return ag(Z1,e)}function Vk(e){return ag(_v,e)}function Xk(e){return ag(Ju,e)}var LU={value:()=>{}};function Uc(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new R1(n)}function R1(e){this._=e}function FU(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}R1.prototype=Uc.prototype={constructor:R1,on:function(e,t){var n=this._,r=FU(e+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=BU(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(e=r[a]).type)n[i]=lw(n[i],e.name,t);else if(t==null)for(i in n)n[i]=lw(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new R1(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function BU(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function lw(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=LU,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var wv="http://www.w3.org/1999/xhtml";const Tv={svg:"http://www.w3.org/2000/svg",xhtml:wv,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Cd(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Tv.hasOwnProperty(t)?{space:Tv[t],local:e}:e}function $U(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===wv&&t.documentElement.namespaceURI===wv?t.createElement(e):t.createElementNS(n,e)}}function NU(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function og(e){var t=Cd(e);return(t.local?NU:$U)(t)}function IU(){}function sg(e){return e==null?IU:function(){return this.querySelector(e)}}function ZU(e){typeof e!="function"&&(e=sg(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,s=r[i]=new Array(o),l,c,u=0;u<o;++u)(l=a[u])&&(c=e.call(l,l.__data__,u,a))&&("__data__"in l&&(c.__data__=l.__data__),s[u]=c);return new Ln(r,this._parents)}function Jk(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function RU(){return[]}function x7(e){return e==null?RU:function(){return this.querySelectorAll(e)}}function PU(e){return function(){return Jk(e.apply(this,arguments))}}function jU(e){typeof e=="function"?e=PU(e):e=x7(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o=t[a],s=o.length,l,c=0;c<s;++c)(l=o[c])&&(r.push(e.call(l,l.__data__,c,o)),i.push(l));return new Ln(r,i)}function _7(e){return function(){return this.matches(e)}}function Kk(e){return function(t){return t.matches(e)}}var zU=Array.prototype.find;function GU(e){return function(){return zU.call(this.children,e)}}function UU(){return this.firstElementChild}function WU(e){return this.select(e==null?UU:GU(typeof e=="function"?e:Kk(e)))}var HU=Array.prototype.filter;function YU(){return Array.from(this.children)}function qU(e){return function(){return HU.call(this.children,e)}}function VU(e){return this.selectAll(e==null?YU:qU(typeof e=="function"?e:Kk(e)))}function XU(e){typeof e!="function"&&(e=_7(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,s=r[i]=[],l,c=0;c<o;++c)(l=a[c])&&e.call(l,l.__data__,c,a)&&s.push(l);return new Ln(r,this._parents)}function Qk(e){return new Array(e.length)}function JU(){return new Ln(this._enter||this._groups.map(Qk),this._parents)}function vm(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}vm.prototype={constructor:vm,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function KU(e){return function(){return e}}function QU(e,t,n,r,i,a){for(var o=0,s,l=t.length,c=a.length;o<c;++o)(s=t[o])?(s.__data__=a[o],r[o]=s):n[o]=new vm(e,a[o]);for(;o<l;++o)(s=t[o])&&(i[o]=s)}function eW(e,t,n,r,i,a,o){var s,l,c=new Map,u=t.length,f=a.length,d=new Array(u),h;for(s=0;s<u;++s)(l=t[s])&&(d[s]=h=o.call(l,l.__data__,s,t)+"",c.has(h)?i[s]=l:c.set(h,l));for(s=0;s<f;++s)h=o.call(e,a[s],s,a)+"",(l=c.get(h))?(r[s]=l,l.__data__=a[s],c.delete(h)):n[s]=new vm(e,a[s]);for(s=0;s<u;++s)(l=t[s])&&c.get(d[s])===l&&(i[s]=l)}function tW(e){return e.__data__}function nW(e,t){if(!arguments.length)return Array.from(this,tW);var n=t?eW:QU,r=this._parents,i=this._groups;typeof e!="function"&&(e=KU(e));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var u=r[c],f=i[c],d=f.length,h=rW(e.call(u,u&&u.__data__,c,r)),m=h.length,g=s[c]=new Array(m),p=o[c]=new Array(m),y=l[c]=new Array(d);n(u,f,g,p,y,h,t);for(var b=0,v=0,x,_;b<m;++b)if(x=g[b]){for(b>=v&&(v=b+1);!(_=p[v])&&++v<m;);x._next=_||null}}return o=new Ln(o,r),o._enter=s,o._exit=l,o}function rW(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function iW(){return new Ln(this._exit||this._groups.map(Qk),this._parents)}function aW(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function oW(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),l=0;l<o;++l)for(var c=n[l],u=r[l],f=c.length,d=s[l]=new Array(f),h,m=0;m<f;++m)(h=c[m]||u[m])&&(d[m]=h);for(;l<i;++l)s[l]=n[l];return new Ln(s,this._parents)}function sW(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function lW(e){e||(e=cW);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,l=i[a]=new Array(s),c,u=0;u<s;++u)(c=o[u])&&(l[u]=c);l.sort(t)}return new Ln(i,this._parents).order()}function cW(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function uW(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function fW(){return Array.from(this)}function dW(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function hW(){let e=0;for(const t of this)++e;return e}function mW(){return!this.node()}function pW(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&e.call(s,s.__data__,a,i);return this}function gW(e){return function(){this.removeAttribute(e)}}function yW(e){return function(){this.removeAttributeNS(e.space,e.local)}}function bW(e,t){return function(){this.setAttribute(e,t)}}function vW(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function xW(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function _W(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function wW(e,t){var n=Cd(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?yW:gW:typeof t=="function"?n.local?_W:xW:n.local?vW:bW)(n,t))}function w7(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function TW(e){return function(){this.style.removeProperty(e)}}function AW(e,t,n){return function(){this.style.setProperty(e,t,n)}}function SW(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function EW(e,t,n){return arguments.length>1?this.each((t==null?TW:typeof t=="function"?SW:AW)(e,t,n??"")):m0(this.node(),e)}function m0(e,t){return e.style.getPropertyValue(t)||w7(e).getComputedStyle(e,null).getPropertyValue(t)}function MW(e){return function(){delete this[e]}}function kW(e,t){return function(){this[e]=t}}function OW(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function CW(e,t){return arguments.length>1?this.each((t==null?MW:typeof t=="function"?OW:kW)(e,t)):this.node()[e]}function eO(e){return e.trim().split(/^|\s+/)}function T7(e){return e.classList||new tO(e)}function tO(e){this._node=e,this._names=eO(e.getAttribute("class")||"")}tO.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function nO(e,t){for(var n=T7(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function rO(e,t){for(var n=T7(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function DW(e){return function(){nO(this,e)}}function LW(e){return function(){rO(this,e)}}function FW(e,t){return function(){(t.apply(this,arguments)?nO:rO)(this,e)}}function BW(e,t){var n=eO(e+"");if(arguments.length<2){for(var r=T7(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?FW:t?DW:LW)(n,t))}function $W(){this.textContent=""}function NW(e){return function(){this.textContent=e}}function IW(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function ZW(e){return arguments.length?this.each(e==null?$W:(typeof e=="function"?IW:NW)(e)):this.node().textContent}function RW(){this.innerHTML=""}function PW(e){return function(){this.innerHTML=e}}function jW(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function zW(e){return arguments.length?this.each(e==null?RW:(typeof e=="function"?jW:PW)(e)):this.node().innerHTML}function GW(){this.nextSibling&&this.parentNode.appendChild(this)}function UW(){return this.each(GW)}function WW(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function HW(){return this.each(WW)}function YW(e){var t=typeof e=="function"?e:og(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function qW(){return null}function VW(e,t){var n=typeof e=="function"?e:og(e),r=t==null?qW:typeof t=="function"?t:sg(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function XW(){var e=this.parentNode;e&&e.removeChild(this)}function JW(){return this.each(XW)}function KW(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function QW(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function eH(e){return this.select(e?QW:KW)}function tH(e){return arguments.length?this.property("__data__",e):this.node().__data__}function nH(e){return function(t){e.call(this,t,this.__data__)}}function rH(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function iH(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function aH(e,t,n){return function(){var r=this.__on,i,a=nH(t);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function oH(e,t,n){var r=rH(e+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,u;l<c;++l)for(i=0,u=s[l];i<a;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(s=t?aH:iH,i=0;i<a;++i)this.each(s(r[i],t,n));return this}function iO(e,t,n){var r=w7(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function sH(e,t){return function(){return iO(this,e,t)}}function lH(e,t){return function(){return iO(this,e,t.apply(this,arguments))}}function cH(e,t){return this.each((typeof t=="function"?lH:sH)(e,t))}function*uH(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var A7=[null];function Ln(e,t){this._groups=e,this._parents=t}function z0(){return new Ln([[document.documentElement]],A7)}function fH(){return this}Ln.prototype=z0.prototype={constructor:Ln,select:ZU,selectAll:jU,selectChild:WU,selectChildren:VU,filter:XU,data:nW,enter:JU,exit:iW,join:aW,merge:oW,selection:fH,order:sW,sort:lW,call:uW,nodes:fW,node:dW,size:hW,empty:mW,each:pW,attr:wW,style:EW,property:CW,classed:BW,text:ZW,html:zW,raise:UW,lower:HW,append:YW,insert:VW,remove:JW,clone:eH,datum:tH,on:oH,dispatch:cH,[Symbol.iterator]:uH};function ie(e){return typeof e=="string"?new Ln([[document.querySelector(e)]],[document.documentElement]):new Ln([[e]],A7)}function Rl(e){return ie(og(e).call(document.documentElement))}var dH=0;function Dd(){return new Av}function Av(){this._="@"+(++dH).toString(36)}Av.prototype=Dd.prototype={constructor:Av,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};function aO(e){let t;for(;t=e.sourceEvent;)e=t;return e}function sr(e,t){if(e=aO(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function hH(e,t){return e.target&&(e=aO(e),t===void 0&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,n=>sr(n,t))}function mH(e){return typeof e=="string"?new Ln([document.querySelectorAll(e)],[document.documentElement]):new Ln([Jk(e)],A7)}const pH={passive:!1},zf={capture:!0,passive:!1};function Dy(e){e.stopImmediatePropagation()}function Pl(e){e.preventDefault(),e.stopImmediatePropagation()}function lg(e){var t=e.document.documentElement,n=ie(e).on("dragstart.drag",Pl,zf);"onselectstart"in t?n.on("selectstart.drag",Pl,zf):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function cg(e,t){var n=e.document.documentElement,r=ie(e).on("dragstart.drag",null);t&&(r.on("click.drag",Pl,zf),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ph=e=>()=>e;function Sv(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:a,x:o,y:s,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}Sv.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function gH(e){return!e.ctrlKey&&!e.button}function yH(){return this.parentNode}function bH(e,t){return t??{x:e.x,y:e.y}}function vH(){return navigator.maxTouchPoints||"ontouchstart"in this}function xH(){var e=gH,t=yH,n=bH,r=vH,i={},a=Uc("start","drag","end"),o=0,s,l,c,u,f=0;function d(x){x.on("mousedown.drag",h).filter(r).on("touchstart.drag",p).on("touchmove.drag",y,pH).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(x,_){if(!(u||!e.call(this,x,_))){var T=v(this,t.call(this,x,_),x,_,"mouse");T&&(ie(x.view).on("mousemove.drag",m,zf).on("mouseup.drag",g,zf),lg(x.view),Dy(x),c=!1,s=x.clientX,l=x.clientY,T("start",x))}}function m(x){if(Pl(x),!c){var _=x.clientX-s,T=x.clientY-l;c=_*_+T*T>f}i.mouse("drag",x)}function g(x){ie(x.view).on("mousemove.drag mouseup.drag",null),cg(x.view,c),Pl(x),i.mouse("end",x)}function p(x,_){if(e.call(this,x,_)){var T=x.changedTouches,w=t.call(this,x,_),S=T.length,C,M;for(C=0;C<S;++C)(M=v(this,w,x,_,T[C].identifier,T[C]))&&(Dy(x),M("start",x,T[C]))}}function y(x){var _=x.changedTouches,T=_.length,w,S;for(w=0;w<T;++w)(S=i[_[w].identifier])&&(Pl(x),S("drag",x,_[w]))}function b(x){var _=x.changedTouches,T=_.length,w,S;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),w=0;w<T;++w)(S=i[_[w].identifier])&&(Dy(x),S("end",x,_[w]))}function v(x,_,T,w,S,C){var M=a.copy(),A=sr(C||T,_),L,D,E;if((E=n.call(x,new Sv("beforestart",{sourceEvent:T,target:d,identifier:S,active:o,x:A[0],y:A[1],dx:0,dy:0,dispatch:M}),w))!=null)return L=E.x-A[0]||0,D=E.y-A[1]||0,function O(k,F,$){var N=A,R;switch(k){case"start":i[S]=O,R=o++;break;case"end":delete i[S],--o;case"drag":A=sr($||F,_),R=o;break}M.call(k,x,new Sv(k,{sourceEvent:F,subject:E,target:d,identifier:S,active:R,x:A[0]+L,y:A[1]+D,dx:A[0]-N[0],dy:A[1]-N[1],dispatch:M}),w)}}return d.filter=function(x){return arguments.length?(e=typeof x=="function"?x:Ph(!!x),d):e},d.container=function(x){return arguments.length?(t=typeof x=="function"?x:Ph(x),d):t},d.subject=function(x){return arguments.length?(n=typeof x=="function"?x:Ph(x),d):n},d.touchable=function(x){return arguments.length?(r=typeof x=="function"?x:Ph(!!x),d):r},d.on=function(){var x=a.on.apply(a,arguments);return x===a?d:x},d.clickDistance=function(x){return arguments.length?(f=(x=+x)*x,d):Math.sqrt(f)},d}function Wc(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ld(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function fs(){}var p0=.7,rc=1/p0,jl="\\s*([+-]?\\d+)\\s*",Gf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_H=/^#([0-9a-f]{3,8})$/,wH=new RegExp(`^rgb\\(${jl},${jl},${jl}\\)$`),TH=new RegExp(`^rgb\\(${Hi},${Hi},${Hi}\\)$`),AH=new RegExp(`^rgba\\(${jl},${jl},${jl},${Gf}\\)$`),SH=new RegExp(`^rgba\\(${Hi},${Hi},${Hi},${Gf}\\)$`),EH=new RegExp(`^hsl\\(${Gf},${Hi},${Hi}\\)$`),MH=new RegExp(`^hsla\\(${Gf},${Hi},${Hi},${Gf}\\)$`),cw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wc(fs,jo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:uw,formatHex:uw,formatHex8:kH,formatHsl:OH,formatRgb:fw,toString:fw});function uw(){return this.rgb().formatHex()}function kH(){return this.rgb().formatHex8()}function OH(){return oO(this).formatHsl()}function fw(){return this.rgb().formatRgb()}function jo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=_H.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?dw(t):n===3?new $t(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?jh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?jh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=wH.exec(e))?new $t(t[1],t[2],t[3],1):(t=TH.exec(e))?new $t(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=AH.exec(e))?jh(t[1],t[2],t[3],t[4]):(t=SH.exec(e))?jh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=EH.exec(e))?pw(t[1],t[2]/100,t[3]/100,1):(t=MH.exec(e))?pw(t[1],t[2]/100,t[3]/100,t[4]):cw.hasOwnProperty(e)?dw(cw[e]):e==="transparent"?new $t(NaN,NaN,NaN,0):null}function dw(e){return new $t(e>>16&255,e>>8&255,e&255,1)}function jh(e,t,n,r){return r<=0&&(e=t=n=NaN),new $t(e,t,n,r)}function S7(e){return e instanceof fs||(e=jo(e)),e?(e=e.rgb(),new $t(e.r,e.g,e.b,e.opacity)):new $t}function Ki(e,t,n,r){return arguments.length===1?S7(e):new $t(e,t,n,r??1)}function $t(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Wc($t,Ki,Ld(fs,{brighter(e){return e=e==null?rc:Math.pow(rc,e),new $t(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?p0:Math.pow(p0,e),new $t(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new $t(e0(this.r),e0(this.g),e0(this.b),xm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hw,formatHex:hw,formatHex8:CH,formatRgb:mw,toString:mw}));function hw(){return`#${Vs(this.r)}${Vs(this.g)}${Vs(this.b)}`}function CH(){return`#${Vs(this.r)}${Vs(this.g)}${Vs(this.b)}${Vs((isNaN(this.opacity)?1:this.opacity)*255)}`}function mw(){const e=xm(this.opacity);return`${e===1?"rgb(":"rgba("}${e0(this.r)}, ${e0(this.g)}, ${e0(this.b)}${e===1?")":`, ${e})`}`}function xm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function e0(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Vs(e){return e=e0(e),(e<16?"0":"")+e.toString(16)}function pw(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Xr(e,t,n,r)}function oO(e){if(e instanceof Xr)return new Xr(e.h,e.s,e.l,e.opacity);if(e instanceof fs||(e=jo(e)),!e)return new Xr;if(e instanceof Xr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Xr(o,s,l,e.opacity)}function ic(e,t,n,r){return arguments.length===1?oO(e):new Xr(e,t,n,r??1)}function Xr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Wc(Xr,ic,Ld(fs,{brighter(e){return e=e==null?rc:Math.pow(rc,e),new Xr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?p0:Math.pow(p0,e),new Xr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new $t(Ly(e>=240?e-240:e+120,i,r),Ly(e,i,r),Ly(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Xr(gw(this.h),zh(this.s),zh(this.l),xm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=xm(this.opacity);return`${e===1?"hsl(":"hsla("}${gw(this.h)}, ${zh(this.s)*100}%, ${zh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function gw(e){return e=(e||0)%360,e<0?e+360:e}function zh(e){return Math.max(0,Math.min(1,e||0))}function Ly(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const sO=Math.PI/180,lO=180/Math.PI,_m=18,cO=.96422,uO=1,fO=.82521,dO=4/29,zl=6/29,hO=3*zl*zl,DH=zl*zl*zl;function mO(e){if(e instanceof ci)return new ci(e.l,e.a,e.b,e.opacity);if(e instanceof Pi)return gO(e);e instanceof $t||(e=S7(e));var t=Ny(e.r),n=Ny(e.g),r=Ny(e.b),i=Fy((.2225045*t+.7168786*n+.0606169*r)/uO),a,o;return t===n&&n===r?a=o=i:(a=Fy((.4360747*t+.3850649*n+.1430804*r)/cO),o=Fy((.0139322*t+.0971045*n+.7141733*r)/fO)),new ci(116*i-16,500*(a-i),200*(i-o),e.opacity)}function LH(e,t){return new ci(e,0,0,t??1)}function Uf(e,t,n,r){return arguments.length===1?mO(e):new ci(e,t,n,r??1)}function ci(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}Wc(ci,Uf,Ld(fs,{brighter(e){return new ci(this.l+_m*(e??1),this.a,this.b,this.opacity)},darker(e){return new ci(this.l-_m*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=cO*By(t),e=uO*By(e),n=fO*By(n),new $t($y(3.1338561*t-1.6168667*e-.4906146*n),$y(-.9787684*t+1.9161415*e+.033454*n),$y(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function Fy(e){return e>DH?Math.pow(e,1/3):e/hO+dO}function By(e){return e>zl?e*e*e:hO*(e-dO)}function $y(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Ny(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function pO(e){if(e instanceof Pi)return new Pi(e.h,e.c,e.l,e.opacity);if(e instanceof ci||(e=mO(e)),e.a===0&&e.b===0)return new Pi(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*lO;return new Pi(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function FH(e,t,n,r){return arguments.length===1?pO(e):new Pi(n,t,e,r??1)}function ac(e,t,n,r){return arguments.length===1?pO(e):new Pi(e,t,n,r??1)}function Pi(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function gO(e){if(isNaN(e.h))return new ci(e.l,0,0,e.opacity);var t=e.h*sO;return new ci(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Wc(Pi,ac,Ld(fs,{brighter(e){return new Pi(this.h,this.c,this.l+_m*(e??1),this.opacity)},darker(e){return new Pi(this.h,this.c,this.l-_m*(e??1),this.opacity)},rgb(){return gO(this).rgb()}}));var yO=-.14861,E7=1.78277,M7=-.29227,ug=-.90649,Wf=1.97294,yw=Wf*ug,bw=Wf*E7,vw=E7*M7-ug*yO;function BH(e){if(e instanceof t0)return new t0(e.h,e.s,e.l,e.opacity);e instanceof $t||(e=S7(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(vw*r+yw*t-bw*n)/(vw+yw-bw),a=r-i,o=(Wf*(n-i)-M7*a)/ug,s=Math.sqrt(o*o+a*a)/(Wf*i*(1-i)),l=s?Math.atan2(o,a)*lO-120:NaN;return new t0(l<0?l+360:l,s,i,e.opacity)}function mi(e,t,n,r){return arguments.length===1?BH(e):new t0(e,t,n,r??1)}function t0(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Wc(t0,mi,Ld(fs,{brighter(e){return e=e==null?rc:Math.pow(rc,e),new t0(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?p0:Math.pow(p0,e),new t0(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*sO,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new $t(255*(t+n*(yO*r+E7*i)),255*(t+n*(M7*r+ug*i)),255*(t+n*(Wf*r)),this.opacity)}}));function bO(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}function k7(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return bO((n-r/t)*t,o,i,a,s)}}function O7(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return bO((n-r/t)*t,i,a,o,s)}}const fg=e=>()=>e;function vO(e,t){return function(n){return e+n*t}}function $H(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function dg(e,t){var n=t-e;return n?vO(e,n>180||n<-180?n-360*Math.round(n/360):n):fg(isNaN(e)?t:e)}function NH(e){return(e=+e)==1?Nt:function(t,n){return n-t?$H(t,n,e):fg(isNaN(t)?n:t)}}function Nt(e,t){var n=t-e;return n?vO(e,n):fg(isNaN(e)?t:e)}const g0=function e(t){var n=NH(t);function r(i,a){var o=n((i=Ki(i)).r,(a=Ki(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),c=Nt(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=e,r}(1);function xO(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),a=new Array(n),o,s;for(o=0;o<n;++o)s=Ki(t[o]),r[o]=s.r||0,i[o]=s.g||0,a[o]=s.b||0;return r=e(r),i=e(i),a=e(a),s.opacity=1,function(l){return s.r=r(l),s.g=i(l),s.b=a(l),s+""}}}var C7=xO(k7),_O=xO(O7);function hg(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function wO(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function TO(e,t){return(wO(t)?hg:AO)(e,t)}function AO(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=ca(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function D7(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function lr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function L7(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ca(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Ev=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Iy=new RegExp(Ev.source,"g");function IH(e){return function(){return e}}function ZH(e){return function(t){return e(t)+""}}function mg(e,t){var n=Ev.lastIndex=Iy.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Ev.exec(e))&&(i=Iy.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:lr(r,i)})),n=Iy.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?ZH(l[0].x):IH(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}function ca(e,t){var n=typeof t,r;return t==null||n==="boolean"?fg(t):(n==="number"?lr:n==="string"?(r=jo(t))?(t=r,g0):mg:t instanceof jo?g0:t instanceof Date?D7:wO(t)?hg:Array.isArray(t)?AO:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?L7:lr)(e,t)}function SO(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function EO(e,t){var n=dg(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function Hc(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var xw=180/Math.PI,Mv={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function MO(e,t,n,r,i,a){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*xw,skewX:Math.atan(l)*xw,scaleX:o,scaleY:s}}var Gh;function RH(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Mv:MO(t.a,t.b,t.c,t.d,t.e,t.f)}function PH(e){return e==null||(Gh||(Gh=document.createElementNS("http://www.w3.org/2000/svg","g")),Gh.setAttribute("transform",e),!(e=Gh.transform.baseVal.consolidate()))?Mv:(e=e.matrix,MO(e.a,e.b,e.c,e.d,e.e,e.f))}function kO(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function a(c,u,f,d,h,m){if(c!==f||u!==d){var g=h.push("translate(",null,t,null,n);m.push({i:g-4,x:lr(c,f)},{i:g-2,x:lr(u,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function o(c,u,f,d){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:lr(c,u)})):u&&f.push(i(f)+"rotate("+u+r)}function s(c,u,f,d){c!==u?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:lr(c,u)}):u&&f.push(i(f)+"skewX("+u+r)}function l(c,u,f,d,h,m){if(c!==f||u!==d){var g=h.push(i(h)+"scale(",null,",",null,")");m.push({i:g-4,x:lr(c,f)},{i:g-2,x:lr(u,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(c,u){var f=[],d=[];return c=e(c),u=e(u),a(c.translateX,c.translateY,u.translateX,u.translateY,f,d),o(c.rotate,u.rotate,f,d),s(c.skewX,u.skewX,f,d),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,f,d),c=u=null,function(h){for(var m=-1,g=d.length,p;++m<g;)f[(p=d[m]).i]=p.x(h);return f.join("")}}}var F7=kO(RH,"px, ","px)","deg)"),B7=kO(PH,", ",")",")"),jH=1e-12;function _w(e){return((e=Math.exp(e))+1/e)/2}function zH(e){return((e=Math.exp(e))-1/e)/2}function GH(e){return((e=Math.exp(2*e))-1)/(e+1)}const $7=function e(t,n,r){function i(a,o){var s=a[0],l=a[1],c=a[2],u=o[0],f=o[1],d=o[2],h=u-s,m=f-l,g=h*h+m*m,p,y;if(g<jH)y=Math.log(d/c)/t,p=function(w){return[s+w*h,l+w*m,c*Math.exp(t*w*y)]};else{var b=Math.sqrt(g),v=(d*d-c*c+r*g)/(2*c*n*b),x=(d*d-c*c-r*g)/(2*d*n*b),_=Math.log(Math.sqrt(v*v+1)-v),T=Math.log(Math.sqrt(x*x+1)-x);y=(T-_)/t,p=function(w){var S=w*y,C=_w(_),M=c/(n*b)*(C*GH(t*S+_)-zH(_));return[s+M*h,l+M*m,c*C/_w(t*S+_)]}}return p.duration=y*1e3*t/Math.SQRT2,p}return i.rho=function(a){var o=Math.max(.001,+a),s=o*o,l=s*s;return e(o,s,l)},i}(Math.SQRT2,2,4);function OO(e){return function(t,n){var r=e((t=ic(t)).h,(n=ic(n)).h),i=Nt(t.s,n.s),a=Nt(t.l,n.l),o=Nt(t.opacity,n.opacity);return function(s){return t.h=r(s),t.s=i(s),t.l=a(s),t.opacity=o(s),t+""}}}const CO=OO(dg);var DO=OO(Nt);function LO(e,t){var n=Nt((e=Uf(e)).l,(t=Uf(t)).l),r=Nt(e.a,t.a),i=Nt(e.b,t.b),a=Nt(e.opacity,t.opacity);return function(o){return e.l=n(o),e.a=r(o),e.b=i(o),e.opacity=a(o),e+""}}function FO(e){return function(t,n){var r=e((t=ac(t)).h,(n=ac(n)).h),i=Nt(t.c,n.c),a=Nt(t.l,n.l),o=Nt(t.opacity,n.opacity);return function(s){return t.h=r(s),t.c=i(s),t.l=a(s),t.opacity=o(s),t+""}}}const BO=FO(dg);var $O=FO(Nt);function NO(e){return function t(n){n=+n;function r(i,a){var o=e((i=mi(i)).h,(a=mi(a)).h),s=Nt(i.s,a.s),l=Nt(i.l,a.l),c=Nt(i.opacity,a.opacity);return function(u){return i.h=o(u),i.s=s(u),i.l=l(Math.pow(u,n)),i.opacity=c(u),i+""}}return r.gamma=t,r}(1)}const IO=NO(dg);var Fd=NO(Nt);function Bd(e,t){t===void 0&&(t=e,e=ca);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function ZO(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const UH=Object.freeze(Object.defineProperty({__proto__:null,interpolate:ca,interpolateArray:TO,interpolateBasis:k7,interpolateBasisClosed:O7,interpolateCubehelix:IO,interpolateCubehelixLong:Fd,interpolateDate:D7,interpolateDiscrete:SO,interpolateHcl:BO,interpolateHclLong:$O,interpolateHsl:CO,interpolateHslLong:DO,interpolateHue:EO,interpolateLab:LO,interpolateNumber:lr,interpolateNumberArray:hg,interpolateObject:L7,interpolateRgb:g0,interpolateRgbBasis:C7,interpolateRgbBasisClosed:_O,interpolateRound:Hc,interpolateString:mg,interpolateTransformCss:F7,interpolateTransformSvg:B7,interpolateZoom:$7,piecewise:Bd,quantize:ZO},Symbol.toStringTag,{value:"Module"}));var oc=0,Ku=0,Tu=0,RO=1e3,wm,Qu,Tm=0,y0=0,pg=0,Hf=typeof performance=="object"&&performance.now?performance:Date,PO=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function $d(){return y0||(PO(WH),y0=Hf.now()+pg)}function WH(){y0=0}function Yf(){this._call=this._time=this._next=null}Yf.prototype=gg.prototype={constructor:Yf,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?$d():+n)+(t==null?0:+t),!this._next&&Qu!==this&&(Qu?Qu._next=this:wm=this,Qu=this),this._call=e,this._time=n,kv()},stop:function(){this._call&&(this._call=null,this._time=1/0,kv())}};function gg(e,t,n){var r=new Yf;return r.restart(e,t,n),r}function jO(){$d(),++oc;for(var e=wm,t;e;)(t=y0-e._time)>=0&&e._call.call(void 0,t),e=e._next;--oc}function ww(){y0=(Tm=Hf.now())+pg,oc=Ku=0;try{jO()}finally{oc=0,YH(),y0=0}}function HH(){var e=Hf.now(),t=e-Tm;t>RO&&(pg-=t,Tm=e)}function YH(){for(var e,t=wm,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:wm=n);Qu=e,kv(r)}function kv(e){if(!oc){Ku&&(Ku=clearTimeout(Ku));var t=e-y0;t>24?(e<1/0&&(Ku=setTimeout(ww,e-Hf.now()-pg)),Tu&&(Tu=clearInterval(Tu))):(Tu||(Tm=Hf.now(),Tu=setInterval(HH,RO)),oc=1,PO(ww))}}function Ov(e,t,n){var r=new Yf;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}function zO(e,t,n){var r=new Yf,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(a,o,s){o=+o,s=s==null?$d():+s,r._restart(function l(c){c+=i,r._restart(l,i+=o,s),a(c)},o,s)},r.restart(e,t,n),r)}var qH=Uc("start","end","cancel","interrupt"),VH=[],GO=0,Cv=1,Dv=2,P1=3,Tw=4,Lv=5,j1=6;function yg(e,t,n,r,i,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;XH(e,n,{name:t,index:r,group:i,on:qH,tween:VH,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:GO})}function N7(e,t){var n=wi(e,t);if(n.state>GO)throw new Error("too late; already scheduled");return n}function ua(e,t){var n=wi(e,t);if(n.state>P1)throw new Error("too late; already running");return n}function wi(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function XH(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=gg(a,0,n.time);function a(c){n.state=Cv,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,f,d,h;if(n.state!==Cv)return l();for(u in r)if(h=r[u],h.name===n.name){if(h.state===P1)return Ov(o);h.state===Tw?(h.state=j1,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[u]):+u<t&&(h.state=j1,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[u])}if(Ov(function(){n.state===P1&&(n.state=Tw,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=Dv,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Dv){for(n.state=P1,i=new Array(d=n.tween.length),u=0,f=-1;u<d;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function s(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=Lv,1),f=-1,d=i.length;++f<d;)i[f].call(e,u);n.state===Lv&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=j1,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function n0(e,t){var n=e.__transition,r,i,a=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){a=!1;continue}i=r.state>Dv&&r.state<Lv,r.state=j1,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}a&&delete e.__transition}}function JH(e){return this.each(function(){n0(this,e)})}function KH(e,t){var n,r;return function(){var i=ua(this,e),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function QH(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=ua(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=s;break}l===c&&i.push(s)}a.tween=i}}function eY(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=wi(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?KH:QH)(n,e,t))}function I7(e,t,n){var r=e._id;return e.each(function(){var i=ua(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return wi(i,r).value[t]}}function UO(e,t){var n;return(typeof t=="number"?lr:t instanceof jo?g0:(n=jo(t))?(t=n,g0):mg)(e,t)}function tY(e){return function(){this.removeAttribute(e)}}function nY(e){return function(){this.removeAttributeNS(e.space,e.local)}}function rY(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttribute(e);return o===i?null:o===r?a:a=t(r=o,n)}}function iY(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?a:a=t(r=o,n)}}function aY(e,t,n){var r,i,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=t(r=o,s)))}}function oY(e,t,n){var r,i,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=t(r=o,s)))}}function sY(e,t){var n=Cd(e),r=n==="transform"?B7:UO;return this.attrTween(e,typeof t=="function"?(n.local?oY:aY)(n,r,I7(this,"attr."+e,t)):t==null?(n.local?nY:tY)(n):(n.local?iY:rY)(n,r,t))}function lY(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function cY(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function uY(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&cY(e,a)),n}return i._value=t,i}function fY(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&lY(e,a)),n}return i._value=t,i}function dY(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Cd(e);return this.tween(n,(r.local?uY:fY)(r,t))}function hY(e,t){return function(){N7(this,e).delay=+t.apply(this,arguments)}}function mY(e,t){return t=+t,function(){N7(this,e).delay=t}}function pY(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?hY:mY)(t,e)):wi(this.node(),t).delay}function gY(e,t){return function(){ua(this,e).duration=+t.apply(this,arguments)}}function yY(e,t){return t=+t,function(){ua(this,e).duration=t}}function bY(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?gY:yY)(t,e)):wi(this.node(),t).duration}function vY(e,t){if(typeof t!="function")throw new Error;return function(){ua(this,e).ease=t}}function xY(e){var t=this._id;return arguments.length?this.each(vY(t,e)):wi(this.node(),t).ease}function _Y(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;ua(this,e).ease=n}}function wY(e){if(typeof e!="function")throw new Error;return this.each(_Y(this._id,e))}function TY(e){typeof e!="function"&&(e=_7(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,s=r[i]=[],l,c=0;c<o;++c)(l=a[c])&&e.call(l,l.__data__,c,a)&&s.push(l);return new Qi(r,this._parents,this._name,this._id)}function AY(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l=t[s],c=n[s],u=l.length,f=o[s]=new Array(u),d,h=0;h<u;++h)(d=l[h]||c[h])&&(f[h]=d);for(;s<r;++s)o[s]=t[s];return new Qi(o,this._parents,this._name,this._id)}function SY(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function EY(e,t,n){var r,i,a=SY(t)?N7:ua;return function(){var o=a(this,e),s=o.on;s!==r&&(i=(r=s).copy()).on(t,n),o.on=i}}function MY(e,t){var n=this._id;return arguments.length<2?wi(this.node(),n).on.on(e):this.each(EY(n,e,t))}function kY(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function OY(){return this.on("end.remove",kY(this._id))}function CY(e){var t=this._name,n=this._id;typeof e!="function"&&(e=sg(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],l=s.length,c=a[o]=new Array(l),u,f,d=0;d<l;++d)(u=s[d])&&(f=e.call(u,u.__data__,d,s))&&("__data__"in u&&(f.__data__=u.__data__),c[d]=f,yg(c[d],t,n,d,c,wi(u,n)));return new Qi(a,this._parents,t,n)}function DY(e){var t=this._name,n=this._id;typeof e!="function"&&(e=x7(e));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var l=r[s],c=l.length,u,f=0;f<c;++f)if(u=l[f]){for(var d=e.call(u,u.__data__,f,l),h,m=wi(u,n),g=0,p=d.length;g<p;++g)(h=d[g])&&yg(h,t,n,g,d,m);a.push(d),o.push(u)}return new Qi(a,o,t,n)}var LY=z0.prototype.constructor;function FY(){return new LY(this._groups,this._parents)}function BY(e,t){var n,r,i;return function(){var a=m0(this,e),o=(this.style.removeProperty(e),m0(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}function WO(e){return function(){this.style.removeProperty(e)}}function $Y(e,t,n){var r,i=n+"",a;return function(){var o=m0(this,e);return o===i?null:o===r?a:a=t(r=o,n)}}function NY(e,t,n){var r,i,a;return function(){var o=m0(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),m0(this,e))),o===l?null:o===r&&l===i?a:(i=l,a=t(r=o,s))}}function IY(e,t){var n,r,i,a="style."+t,o="end."+a,s;return function(){var l=ua(this,e),c=l.on,u=l.value[a]==null?s||(s=WO(t)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(o,i=u),l.on=r}}function ZY(e,t,n){var r=(e+="")=="transform"?F7:UO;return t==null?this.styleTween(e,BY(e,r)).on("end.style."+e,WO(e)):typeof t=="function"?this.styleTween(e,NY(e,r,I7(this,"style."+e,t))).each(IY(this._id,e)):this.styleTween(e,$Y(e,r,t),n).on("end.style."+e,null)}function RY(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function PY(e,t,n){var r,i;function a(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&RY(e,o,n)),r}return a._value=t,a}function jY(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,PY(e,t,n??""))}function zY(e){return function(){this.textContent=e}}function GY(e){return function(){var t=e(this);this.textContent=t??""}}function UY(e){return this.tween("text",typeof e=="function"?GY(I7(this,"text",e)):zY(e==null?"":e+""))}function WY(e){return function(t){this.textContent=e.call(this,t)}}function HY(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&WY(i)),t}return r._value=e,r}function YY(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,HY(e))}function qY(){for(var e=this._name,t=this._id,n=YO(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,c=0;c<s;++c)if(l=o[c]){var u=wi(l,t);yg(l,e,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Qi(r,this._parents,e,n)}function VY(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},l={value:function(){--i===0&&a()}};n.each(function(){var c=ua(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),c.on=t}),i===0&&a()})}var XY=0;function Qi(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function HO(e){return z0().transition(e)}function YO(){return++XY}var Ta=z0.prototype;Qi.prototype=HO.prototype={constructor:Qi,select:CY,selectAll:DY,selectChild:Ta.selectChild,selectChildren:Ta.selectChildren,filter:TY,merge:AY,selection:FY,transition:qY,call:Ta.call,nodes:Ta.nodes,node:Ta.node,size:Ta.size,empty:Ta.empty,each:Ta.each,on:MY,attr:sY,attrTween:dY,style:ZY,styleTween:jY,text:UY,textTween:YY,remove:OY,tween:eY,delay:pY,duration:bY,ease:xY,easeVarying:wY,end:VY,[Symbol.iterator]:Ta[Symbol.iterator]};const JY=e=>+e;function KY(e){return e*e}function QY(e){return e*(2-e)}function Aw(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function eq(e){return e*e*e}function tq(e){return--e*e*e+1}function Fv(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Z7=3,nq=function e(t){t=+t;function n(r){return Math.pow(r,t)}return n.exponent=e,n}(Z7),rq=function e(t){t=+t;function n(r){return 1-Math.pow(1-r,t)}return n.exponent=e,n}(Z7),Sw=function e(t){t=+t;function n(r){return((r*=2)<=1?Math.pow(r,t):2-Math.pow(2-r,t))/2}return n.exponent=e,n}(Z7),qO=Math.PI,VO=qO/2;function iq(e){return+e==1?1:1-Math.cos(e*VO)}function aq(e){return Math.sin(e*VO)}function Ew(e){return(1-Math.cos(qO*e))/2}function zo(e){return(Math.pow(2,-10*e)-.0009765625)*1.0009775171065494}function oq(e){return zo(1-+e)}function sq(e){return 1-zo(e)}function Mw(e){return((e*=2)<=1?zo(1-e):2-zo(e-1))/2}function lq(e){return 1-Math.sqrt(1-e*e)}function cq(e){return Math.sqrt(1- --e*e)}function kw(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var Bv=4/11,uq=6/11,fq=8/11,dq=3/4,hq=9/11,mq=10/11,pq=15/16,gq=21/22,yq=63/64,Uh=1/Bv/Bv;function bq(e){return 1-qf(1-e)}function qf(e){return(e=+e)<Bv?Uh*e*e:e<fq?Uh*(e-=uq)*e+dq:e<mq?Uh*(e-=hq)*e+pq:Uh*(e-=gq)*e+yq}function vq(e){return((e*=2)<=1?1-qf(1-e):qf(e-1)+1)/2}var R7=1.70158,xq=function e(t){t=+t;function n(r){return(r=+r)*r*(t*(r-1)+r)}return n.overshoot=e,n}(R7),_q=function e(t){t=+t;function n(r){return--r*r*((r+1)*t+r)+1}return n.overshoot=e,n}(R7),Ow=function e(t){t=+t;function n(r){return((r*=2)<1?r*r*((t+1)*r-t):(r-=2)*r*((t+1)*r+t)+2)/2}return n.overshoot=e,n}(R7),sc=2*Math.PI,P7=1,j7=.3,wq=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=sc);function i(a){return t*zo(- --a)*Math.sin((r-a)/n)}return i.amplitude=function(a){return e(a,n*sc)},i.period=function(a){return e(t,a)},i}(P7,j7),Cw=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=sc);function i(a){return 1-t*zo(a=+a)*Math.sin((a+r)/n)}return i.amplitude=function(a){return e(a,n*sc)},i.period=function(a){return e(t,a)},i}(P7,j7),Tq=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=sc);function i(a){return((a=a*2-1)<0?t*zo(-a)*Math.sin((r-a)/n):2-t*zo(a)*Math.sin((r+a)/n))/2}return i.amplitude=function(a){return e(a,n*sc)},i.period=function(a){return e(t,a)},i}(P7,j7),Aq={time:null,delay:0,duration:250,ease:Fv};function Sq(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Eq(e){var t,n;e instanceof Qi?(t=e._id,e=e._name):(t=YO(),(n=Aq).time=$d(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,c=0;c<s;++c)(l=o[c])&&yg(l,e,t,c,o,n||Sq(l,t));return new Qi(r,this._parents,e,t)}z0.prototype.interrupt=JH;z0.prototype.transition=Eq;var Mq=[null];function kq(e,t){var n=e.__transition,r,i;if(n){t=t==null?null:t+"";for(i in n)if((r=n[i]).state>Cv&&r.name===t)return new Qi([[e]],Mq,t,+i)}return null}const Zy=e=>()=>e;function Oq(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function Cq(e){e.stopImmediatePropagation()}function Ry(e){e.preventDefault(),e.stopImmediatePropagation()}var Dw={name:"drag"},Py={name:"space"},fl={name:"handle"},dl={name:"center"};const{abs:Lw,max:Jt,min:Kt}=Math;function Fw(e){return[+e[0],+e[1]]}function $v(e){return[Fw(e[0]),Fw(e[1])]}var z1={name:"x",handles:["w","e"].map(Vf),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},G1={name:"y",handles:["n","s"].map(Vf),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Dq={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Vf),input:function(e){return e==null?null:$v(e)},output:function(e){return e}},Aa={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Bw={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},$w={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Lq={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Fq={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Vf(e){return{type:e}}function Bq(e){return!e.ctrlKey&&!e.button}function $q(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function Nq(){return navigator.maxTouchPoints||"ontouchstart"in this}function jy(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function Iq(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function Zq(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function Rq(){return z7(z1)}function Pq(){return z7(G1)}function jq(){return z7(Dq)}function z7(e){var t=$q,n=Bq,r=Nq,i=!0,a=Uc("start","brush","end"),o=6,s;function l(p){var y=p.property("__brush",g).selectAll(".overlay").data([Vf("overlay")]);y.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Aa.overlay).merge(y).each(function(){var v=jy(this).extent;ie(this).attr("x",v[0][0]).attr("y",v[0][1]).attr("width",v[1][0]-v[0][0]).attr("height",v[1][1]-v[0][1])}),p.selectAll(".selection").data([Vf("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Aa.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var b=p.selectAll(".handle").data(e.handles,function(v){return v.type});b.exit().remove(),b.enter().append("rect").attr("class",function(v){return"handle handle--"+v.type}).attr("cursor",function(v){return Aa[v.type]}),p.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(r).on("touchstart.brush",d).on("touchmove.brush",h).on("touchend.brush touchcancel.brush",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(p,y,b){p.tween?p.on("start.brush",function(v){u(this,arguments).beforestart().start(v)}).on("interrupt.brush end.brush",function(v){u(this,arguments).end(v)}).tween("brush",function(){var v=this,x=v.__brush,_=u(v,arguments),T=x.selection,w=e.input(typeof y=="function"?y.apply(this,arguments):y,x.extent),S=ca(T,w);function C(M){x.selection=M===1&&w===null?null:S(M),c.call(v),_.brush()}return T!==null&&w!==null?C:C(1)}):p.each(function(){var v=this,x=arguments,_=v.__brush,T=e.input(typeof y=="function"?y.apply(v,x):y,_.extent),w=u(v,x).beforestart();n0(v),_.selection=T===null?null:T,c.call(v),w.start(b).brush(b).end(b)})},l.clear=function(p,y){l.move(p,null,y)};function c(){var p=ie(this),y=jy(this).selection;y?(p.selectAll(".selection").style("display",null).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1]),p.selectAll(".handle").style("display",null).attr("x",function(b){return b.type[b.type.length-1]==="e"?y[1][0]-o/2:y[0][0]-o/2}).attr("y",function(b){return b.type[0]==="s"?y[1][1]-o/2:y[0][1]-o/2}).attr("width",function(b){return b.type==="n"||b.type==="s"?y[1][0]-y[0][0]+o:o}).attr("height",function(b){return b.type==="e"||b.type==="w"?y[1][1]-y[0][1]+o:o})):p.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(p,y,b){var v=p.__brush.emitter;return v&&(!b||!v.clean)?v:new f(p,y,b)}function f(p,y,b){this.that=p,this.args=y,this.state=p.__brush,this.active=0,this.clean=b}f.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(p,y){return this.starting?(this.starting=!1,this.emit("start",p,y)):this.emit("brush",p),this},brush:function(p,y){return this.emit("brush",p,y),this},end:function(p,y){return--this.active===0&&(delete this.state.emitter,this.emit("end",p,y)),this},emit:function(p,y,b){var v=ie(this.that).datum();a.call(p,this.that,new Oq(p,{sourceEvent:y,target:l,selection:e.output(this.state.selection),mode:b,dispatch:a}),v)}};function d(p){if(s&&!p.touches||!n.apply(this,arguments))return;var y=this,b=p.target.__data__.type,v=(i&&p.metaKey?b="overlay":b)==="selection"?Dw:i&&p.altKey?dl:fl,x=e===G1?null:Lq[b],_=e===z1?null:Fq[b],T=jy(y),w=T.extent,S=T.selection,C=w[0][0],M,A,L=w[0][1],D,E,O=w[1][0],k,F,$=w[1][1],N,R,Y=0,K=0,me,pe=x&&_&&i&&p.shiftKey,fe,Le,Te=Array.from(p.touches||[p],ce=>{const Ue=ce.identifier;return ce=sr(ce,y),ce.point0=ce.slice(),ce.identifier=Ue,ce});n0(y);var Be=u(y,arguments,!0).beforestart();if(b==="overlay"){S&&(me=!0);const ce=[Te[0],Te[1]||Te[0]];T.selection=S=[[M=e===G1?C:Kt(ce[0][0],ce[1][0]),D=e===z1?L:Kt(ce[0][1],ce[1][1])],[k=e===G1?O:Jt(ce[0][0],ce[1][0]),N=e===z1?$:Jt(ce[0][1],ce[1][1])]],Te.length>1&&Re(p)}else M=S[0][0],D=S[0][1],k=S[1][0],N=S[1][1];A=M,E=D,F=k,R=N;var X=ie(y).attr("pointer-events","none"),he=X.selectAll(".overlay").attr("cursor",Aa[b]);if(p.touches)Be.moved=z,Be.ended=Se;else{var ye=ie(p.view).on("mousemove.brush",z,!0).on("mouseup.brush",Se,!0);i&&ye.on("keydown.brush",lt,!0).on("keyup.brush",at,!0),lg(p.view)}c.call(y),Be.start(p,v.name);function z(ce){for(const Ue of ce.changedTouches||[ce])for(const sl of Te)sl.identifier===Ue.identifier&&(sl.cur=sr(Ue,y));if(pe&&!fe&&!Le&&Te.length===1){const Ue=Te[0];Lw(Ue.cur[0]-Ue[0])>Lw(Ue.cur[1]-Ue[1])?Le=!0:fe=!0}for(const Ue of Te)Ue.cur&&(Ue[0]=Ue.cur[0],Ue[1]=Ue.cur[1]);me=!0,Ry(ce),Re(ce)}function Re(ce){const Ue=Te[0],sl=Ue.point0;var xn;switch(Y=Ue[0]-sl[0],K=Ue[1]-sl[1],v){case Py:case Dw:{x&&(Y=Jt(C-M,Kt(O-k,Y)),A=M+Y,F=k+Y),_&&(K=Jt(L-D,Kt($-N,K)),E=D+K,R=N+K);break}case fl:{Te[1]?(x&&(A=Jt(C,Kt(O,Te[0][0])),F=Jt(C,Kt(O,Te[1][0])),x=1),_&&(E=Jt(L,Kt($,Te[0][1])),R=Jt(L,Kt($,Te[1][1])),_=1)):(x<0?(Y=Jt(C-M,Kt(O-M,Y)),A=M+Y,F=k):x>0&&(Y=Jt(C-k,Kt(O-k,Y)),A=M,F=k+Y),_<0?(K=Jt(L-D,Kt($-D,K)),E=D+K,R=N):_>0&&(K=Jt(L-N,Kt($-N,K)),E=D,R=N+K));break}case dl:{x&&(A=Jt(C,Kt(O,M-Y*x)),F=Jt(C,Kt(O,k+Y*x))),_&&(E=Jt(L,Kt($,D-K*_)),R=Jt(L,Kt($,N+K*_)));break}}F<A&&(x*=-1,xn=M,M=k,k=xn,xn=A,A=F,F=xn,b in Bw&&he.attr("cursor",Aa[b=Bw[b]])),R<E&&(_*=-1,xn=D,D=N,N=xn,xn=E,E=R,R=xn,b in $w&&he.attr("cursor",Aa[b=$w[b]])),T.selection&&(S=T.selection),fe&&(A=S[0][0],F=S[1][0]),Le&&(E=S[0][1],R=S[1][1]),(S[0][0]!==A||S[0][1]!==E||S[1][0]!==F||S[1][1]!==R)&&(T.selection=[[A,E],[F,R]],c.call(y),Be.brush(ce,v.name))}function Se(ce){if(Cq(ce),ce.touches){if(ce.touches.length)return;s&&clearTimeout(s),s=setTimeout(function(){s=null},500)}else cg(ce.view,me),ye.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);X.attr("pointer-events","all"),he.attr("cursor",Aa.overlay),T.selection&&(S=T.selection),Iq(S)&&(T.selection=null,c.call(y)),Be.end(ce,v.name)}function lt(ce){switch(ce.keyCode){case 16:{pe=x&&_;break}case 18:{v===fl&&(x&&(k=F-Y*x,M=A+Y*x),_&&(N=R-K*_,D=E+K*_),v=dl,Re(ce));break}case 32:{(v===fl||v===dl)&&(x<0?k=F-Y:x>0&&(M=A-Y),_<0?N=R-K:_>0&&(D=E-K),v=Py,he.attr("cursor",Aa.selection),Re(ce));break}default:return}Ry(ce)}function at(ce){switch(ce.keyCode){case 16:{pe&&(fe=Le=pe=!1,Re(ce));break}case 18:{v===dl&&(x<0?k=F:x>0&&(M=A),_<0?N=R:_>0&&(D=E),v=fl,Re(ce));break}case 32:{v===Py&&(ce.altKey?(x&&(k=F-Y*x,M=A+Y*x),_&&(N=R-K*_,D=E+K*_),v=dl):(x<0?k=F:x>0&&(M=A),_<0?N=R:_>0&&(D=E),v=fl),he.attr("cursor",Aa[b]),Re(ce));break}default:return}Ry(ce)}}function h(p){u(this,arguments).moved(p)}function m(p){u(this,arguments).ended(p)}function g(){var p=this.__brush||{selection:null};return p.extent=$v(t.apply(this,arguments)),p.dim=e,p}return l.extent=function(p){return arguments.length?(t=typeof p=="function"?p:Zy($v(p)),l):t},l.filter=function(p){return arguments.length?(n=typeof p=="function"?p:Zy(!!p),l):n},l.touchable=function(p){return arguments.length?(r=typeof p=="function"?p:Zy(!!p),l):r},l.handleSize=function(p){return arguments.length?(o=+p,l):o},l.keyModifiers=function(p){return arguments.length?(i=!!p,l):i},l.on=function(){var p=a.on.apply(a,arguments);return p===a?l:p},l}var Nw=Math.abs,hl=Math.cos,ml=Math.sin,XO=Math.PI,Wh=XO/2,Iw=XO*2,Zw=Math.max,zy=1e-12;function Gy(e,t){return Array.from({length:t-e},(n,r)=>e+r)}function zq(e){return function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)}}function Gq(){return G7(!1,!1)}function Uq(){return G7(!1,!0)}function Wq(){return G7(!0,!1)}function G7(e,t){var n=0,r=null,i=null,a=null;function o(s){var l=s.length,c=new Array(l),u=Gy(0,l),f=new Array(l*l),d=new Array(l),h=0,m;s=Float64Array.from({length:l*l},t?(g,p)=>s[p%l][p/l|0]:(g,p)=>s[p/l|0][p%l]);for(let g=0;g<l;++g){let p=0;for(let y=0;y<l;++y)p+=s[g*l+y]+e*s[y*l+g];h+=c[g]=p}h=Zw(0,Iw-n*l)/h,m=h?n:Iw/l;{let g=0;r&&u.sort((p,y)=>r(c[p],c[y]));for(const p of u){const y=g;if(e){const b=Gy(~l+1,l).filter(v=>v<0?s[~v*l+p]:s[p*l+v]);i&&b.sort((v,x)=>i(v<0?-s[~v*l+p]:s[p*l+v],x<0?-s[~x*l+p]:s[p*l+x]));for(const v of b)if(v<0){const x=f[~v*l+p]||(f[~v*l+p]={source:null,target:null});x.target={index:p,startAngle:g,endAngle:g+=s[~v*l+p]*h,value:s[~v*l+p]}}else{const x=f[p*l+v]||(f[p*l+v]={source:null,target:null});x.source={index:p,startAngle:g,endAngle:g+=s[p*l+v]*h,value:s[p*l+v]}}d[p]={index:p,startAngle:y,endAngle:g,value:c[p]}}else{const b=Gy(0,l).filter(v=>s[p*l+v]||s[v*l+p]);i&&b.sort((v,x)=>i(s[p*l+v],s[p*l+x]));for(const v of b){let x;if(p<v?(x=f[p*l+v]||(f[p*l+v]={source:null,target:null}),x.source={index:p,startAngle:g,endAngle:g+=s[p*l+v]*h,value:s[p*l+v]}):(x=f[v*l+p]||(f[v*l+p]={source:null,target:null}),x.target={index:p,startAngle:g,endAngle:g+=s[p*l+v]*h,value:s[p*l+v]},p===v&&(x.source=x.target)),x.source&&x.target&&x.source.value<x.target.value){const _=x.source;x.source=x.target,x.target=_}}d[p]={index:p,startAngle:y,endAngle:g,value:c[p]}}g+=m}}return f=Object.values(f),f.groups=d,a?f.sort(a):f}return o.padAngle=function(s){return arguments.length?(n=Zw(0,s),o):n},o.sortGroups=function(s){return arguments.length?(r=s,o):r},o.sortSubgroups=function(s){return arguments.length?(i=s,o):i},o.sortChords=function(s){return arguments.length?(s==null?a=null:(a=zq(s))._=s,o):a&&a._},o}const Nv=Math.PI,Iv=2*Nv,Rs=1e-6,Hq=Iv-Rs;function JO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Yq(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return JO;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let Nd=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?JO:Yq(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-t,c=i-n,u=o-t,f=s-n,d=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Rs)if(!(Math.abs(f*l-c*u)>Rs)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,m=i-s,g=l*l+c*c,p=h*h+m*m,y=Math.sqrt(g),b=Math.sqrt(d),v=a*Math.tan((Nv-Math.acos((g+d-p)/(2*y*b)))/2),x=v/b,_=v/y;Math.abs(x-1)>Rs&&this._append`L${t+x*u},${n+x*f}`,this._append`A${a},${a},0,0,${+(f*h>u*m)},${this._x1=t+_*l},${this._y1=n+_*c}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=t+s,u=n+l,f=1^o,d=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Rs||Math.abs(this._y1-u)>Rs)&&this._append`L${c},${u}`,r&&(d<0&&(d=d%Iv+Iv),d>Hq?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:d>Rs&&this._append`A${r},${r},0,${+(d>=Nv)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function Yc(){return new Nd}Yc.prototype=Nd.prototype;function qq(e=3){return new Nd(+e)}var Vq=Array.prototype.slice;function Es(e){return function(){return e}}function Xq(e){return e.source}function Jq(e){return e.target}function Rw(e){return e.radius}function Kq(e){return e.startAngle}function Qq(e){return e.endAngle}function eV(){return 0}function tV(){return 10}function KO(e){var t=Xq,n=Jq,r=Rw,i=Rw,a=Kq,o=Qq,s=eV,l=null;function c(){var u,f=t.apply(this,arguments),d=n.apply(this,arguments),h=s.apply(this,arguments)/2,m=Vq.call(arguments),g=+r.apply(this,(m[0]=f,m)),p=a.apply(this,m)-Wh,y=o.apply(this,m)-Wh,b=+i.apply(this,(m[0]=d,m)),v=a.apply(this,m)-Wh,x=o.apply(this,m)-Wh;if(l||(l=u=Yc()),h>zy&&(Nw(y-p)>h*2+zy?y>p?(p+=h,y-=h):(p-=h,y+=h):p=y=(p+y)/2,Nw(x-v)>h*2+zy?x>v?(v+=h,x-=h):(v-=h,x+=h):v=x=(v+x)/2),l.moveTo(g*hl(p),g*ml(p)),l.arc(0,0,g,p,y),p!==v||y!==x)if(e){var _=+e.apply(this,arguments),T=b-_,w=(v+x)/2;l.quadraticCurveTo(0,0,T*hl(v),T*ml(v)),l.lineTo(b*hl(w),b*ml(w)),l.lineTo(T*hl(x),T*ml(x))}else l.quadraticCurveTo(0,0,b*hl(v),b*ml(v)),l.arc(0,0,b,v,x);if(l.quadraticCurveTo(0,0,g*hl(p),g*ml(p)),l.closePath(),u)return l=null,u+""||null}return e&&(c.headRadius=function(u){return arguments.length?(e=typeof u=="function"?u:Es(+u),c):e}),c.radius=function(u){return arguments.length?(r=i=typeof u=="function"?u:Es(+u),c):r},c.sourceRadius=function(u){return arguments.length?(r=typeof u=="function"?u:Es(+u),c):r},c.targetRadius=function(u){return arguments.length?(i=typeof u=="function"?u:Es(+u),c):i},c.startAngle=function(u){return arguments.length?(a=typeof u=="function"?u:Es(+u),c):a},c.endAngle=function(u){return arguments.length?(o=typeof u=="function"?u:Es(+u),c):o},c.padAngle=function(u){return arguments.length?(s=typeof u=="function"?u:Es(+u),c):s},c.source=function(u){return arguments.length?(t=u,c):t},c.target=function(u){return arguments.length?(n=u,c):n},c.context=function(u){return arguments.length?(l=u??null,c):l},c}function nV(){return KO()}function rV(){return KO(tV)}var iV=Array.prototype,QO=iV.slice;function aV(e,t){return e-t}function oV(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}const yo=e=>()=>e;function sV(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=lV(e,t[n]))return i;return 0}function lV(e,t){for(var n=t[0],r=t[1],i=-1,a=0,o=e.length,s=o-1;a<o;s=a++){var l=e[a],c=l[0],u=l[1],f=e[s],d=f[0],h=f[1];if(cV(l,f,t))return 0;u>r!=h>r&&n<(d-c)*(r-u)/(h-u)+c&&(i=-i)}return i}function cV(e,t,n){var r;return uV(e,t,n)&&fV(e[r=+(e[0]===t[0])],n[r],t[r])}function uV(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function fV(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function dV(){}var Sa=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Zv(){var e=1,t=1,n=h7,r=l;function i(c){var u=n(c);if(Array.isArray(u))u=u.slice().sort(aV);else{const f=li(c,hV);for(u=f0(...d7(f[0],f[1],u),u);u[u.length-1]>=f[1];)u.pop();for(;u[1]<f[0];)u.shift()}return u.map(f=>a(c,f))}function a(c,u){const f=u==null?NaN:+u;if(isNaN(f))throw new Error(`invalid value: ${u}`);var d=[],h=[];return o(c,f,function(m){r(m,c,f),oV(m)>0?d.push([m]):h.push(m)}),h.forEach(function(m){for(var g=0,p=d.length,y;g<p;++g)if(sV((y=d[g])[0],m)!==-1){y.push(m);return}}),{type:"MultiPolygon",value:u,coordinates:d}}function o(c,u,f){var d=new Array,h=new Array,m,g,p,y,b,v;for(m=g=-1,y=Ms(c[0],u),Sa[y<<1].forEach(x);++m<e-1;)p=y,y=Ms(c[m+1],u),Sa[p|y<<1].forEach(x);for(Sa[y<<0].forEach(x);++g<t-1;){for(m=-1,y=Ms(c[g*e+e],u),b=Ms(c[g*e],u),Sa[y<<1|b<<2].forEach(x);++m<e-1;)p=y,y=Ms(c[g*e+e+m+1],u),v=b,b=Ms(c[g*e+m+1],u),Sa[p|y<<1|b<<2|v<<3].forEach(x);Sa[y|b<<3].forEach(x)}for(m=-1,b=c[g*e]>=u,Sa[b<<2].forEach(x);++m<e-1;)v=b,b=Ms(c[g*e+m+1],u),Sa[b<<2|v<<3].forEach(x);Sa[b<<3].forEach(x);function x(_){var T=[_[0][0]+m,_[0][1]+g],w=[_[1][0]+m,_[1][1]+g],S=s(T),C=s(w),M,A;(M=h[S])?(A=d[C])?(delete h[M.end],delete d[A.start],M===A?(M.ring.push(w),f(M.ring)):d[M.start]=h[A.end]={start:M.start,end:A.end,ring:M.ring.concat(A.ring)}):(delete h[M.end],M.ring.push(w),h[M.end=C]=M):(M=d[C])?(A=h[S])?(delete d[M.start],delete h[A.end],M===A?(M.ring.push(w),f(M.ring)):d[A.start]=h[M.end]={start:A.start,end:M.end,ring:A.ring.concat(M.ring)}):(delete d[M.start],M.ring.unshift(T),d[M.start=S]=M):d[S]=h[C]={start:S,end:C,ring:[T,w]}}}function s(c){return c[0]*2+c[1]*(e+1)*4}function l(c,u,f){c.forEach(function(d){var h=d[0],m=d[1],g=h|0,p=m|0,y=Uy(u[p*e+g]);h>0&&h<e&&g===h&&(d[0]=Pw(h,Uy(u[p*e+g-1]),y,f)),m>0&&m<t&&p===m&&(d[1]=Pw(m,Uy(u[(p-1)*e+g]),y,f))})}return i.contour=a,i.size=function(c){if(!arguments.length)return[e,t];var u=Math.floor(c[0]),f=Math.floor(c[1]);if(!(u>=0&&f>=0))throw new Error("invalid size");return e=u,t=f,i},i.thresholds=function(c){return arguments.length?(n=typeof c=="function"?c:Array.isArray(c)?yo(QO.call(c)):yo(c),i):n},i.smooth=function(c){return arguments.length?(r=c?l:dV,i):r===l},i}function hV(e){return isFinite(e)?e:NaN}function Ms(e,t){return e==null?!1:+e>=t}function Uy(e){return e==null||isNaN(e=+e)?-1/0:e}function Pw(e,t,n,r){const i=r-t,a=n-t,o=isFinite(i)||isFinite(a)?i/a:Math.sign(i)/Math.sign(a);return isNaN(o)?e:e+o-.5}function mV(e){return e[0]}function pV(e){return e[1]}function gV(){return 1}function yV(){var e=mV,t=pV,n=gV,r=960,i=500,a=20,o=2,s=a*3,l=r+s*2>>o,c=i+s*2>>o,u=yo(20);function f(b){var v=new Float32Array(l*c),x=Math.pow(2,-o),_=-1;for(const D of b){var T=(e(D,++_,b)+s)*x,w=(t(D,_,b)+s)*x,S=+n(D,_,b);if(S&&T>=0&&T<l&&w>=0&&w<c){var C=Math.floor(T),M=Math.floor(w),A=T-C-.5,L=w-M-.5;v[C+M*l]+=(1-A)*(1-L)*S,v[C+1+M*l]+=A*(1-L)*S,v[C+1+(M+1)*l]+=A*L*S,v[C+(M+1)*l]+=(1-A)*L*S}}return Dk({data:v,width:l,height:c},a*x),v}function d(b){var v=f(b),x=u(v),_=Math.pow(2,2*o);return Array.isArray(x)||(x=f0(Number.MIN_VALUE,Cn(v)/_,x)),Zv().size([l,c]).thresholds(x.map(T=>T*_))(v).map((T,w)=>(T.value=+x[w],h(T)))}d.contours=function(b){var v=f(b),x=Zv().size([l,c]),_=Math.pow(2,2*o),T=w=>{w=+w;var S=h(x.contour(v,w*_));return S.value=w,S};return Object.defineProperty(T,"max",{get:()=>Cn(v)/_}),T};function h(b){return b.coordinates.forEach(m),b}function m(b){b.forEach(g)}function g(b){b.forEach(p)}function p(b){b[0]=b[0]*Math.pow(2,o)-s,b[1]=b[1]*Math.pow(2,o)-s}function y(){return s=a*3,l=r+s*2>>o,c=i+s*2>>o,d}return d.x=function(b){return arguments.length?(e=typeof b=="function"?b:yo(+b),d):e},d.y=function(b){return arguments.length?(t=typeof b=="function"?b:yo(+b),d):t},d.weight=function(b){return arguments.length?(n=typeof b=="function"?b:yo(+b),d):n},d.size=function(b){if(!arguments.length)return[r,i];var v=+b[0],x=+b[1];if(!(v>=0&&x>=0))throw new Error("invalid size");return r=v,i=x,y()},d.cellSize=function(b){if(!arguments.length)return 1<<o;if(!((b=+b)>=1))throw new Error("invalid cell size");return o=Math.floor(Math.log(b)/Math.LN2),y()},d.thresholds=function(b){return arguments.length?(u=typeof b=="function"?b:Array.isArray(b)?yo(QO.call(b)):yo(b),d):u},d.bandwidth=function(b){if(!arguments.length)return Math.sqrt(a*(a+1));if(!((b=+b)>=0))throw new Error("invalid bandwidth");return a=(Math.sqrt(4*b*b+1)-1)/2,y()},d}const Pa=11102230246251565e-32,Qt=134217729,bV=(3+8*Pa)*Pa;function Wy(e,t,n,r,i){let a,o,s,l,c=t[0],u=r[0],f=0,d=0;u>c==u>-c?(a=c,c=t[++f]):(a=u,u=r[++d]);let h=0;if(f<e&&d<n)for(u>c==u>-c?(o=c+a,s=a-(o-c),c=t[++f]):(o=u+a,s=a-(o-u),u=r[++d]),a=o,s!==0&&(i[h++]=s);f<e&&d<n;)u>c==u>-c?(o=a+c,l=o-a,s=a-(o-l)+(c-l),c=t[++f]):(o=a+u,l=o-a,s=a-(o-l)+(u-l),u=r[++d]),a=o,s!==0&&(i[h++]=s);for(;f<e;)o=a+c,l=o-a,s=a-(o-l)+(c-l),c=t[++f],a=o,s!==0&&(i[h++]=s);for(;d<n;)o=a+u,l=o-a,s=a-(o-l)+(u-l),u=r[++d],a=o,s!==0&&(i[h++]=s);return(a!==0||h===0)&&(i[h++]=a),h}function vV(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function Id(e){return new Float64Array(e)}const xV=(3+16*Pa)*Pa,_V=(2+12*Pa)*Pa,wV=(9+64*Pa)*Pa*Pa,pl=Id(4),jw=Id(8),zw=Id(12),Gw=Id(16),_n=Id(4);function TV(e,t,n,r,i,a,o){let s,l,c,u,f,d,h,m,g,p,y,b,v,x,_,T,w,S;const C=e-i,M=n-i,A=t-a,L=r-a;x=C*L,d=Qt*C,h=d-(d-C),m=C-h,d=Qt*L,g=d-(d-L),p=L-g,_=m*p-(x-h*g-m*g-h*p),T=A*M,d=Qt*A,h=d-(d-A),m=A-h,d=Qt*M,g=d-(d-M),p=M-g,w=m*p-(T-h*g-m*g-h*p),y=_-w,f=_-y,pl[0]=_-(y+f)+(f-w),b=x+y,f=b-x,v=x-(b-f)+(y-f),y=v-T,f=v-y,pl[1]=v-(y+f)+(f-T),S=b+y,f=S-b,pl[2]=b-(S-f)+(y-f),pl[3]=S;let D=vV(4,pl),E=_V*o;if(D>=E||-D>=E||(f=e-C,s=e-(C+f)+(f-i),f=n-M,c=n-(M+f)+(f-i),f=t-A,l=t-(A+f)+(f-a),f=r-L,u=r-(L+f)+(f-a),s===0&&l===0&&c===0&&u===0)||(E=wV*o+bV*Math.abs(D),D+=C*u+L*s-(A*c+M*l),D>=E||-D>=E))return D;x=s*L,d=Qt*s,h=d-(d-s),m=s-h,d=Qt*L,g=d-(d-L),p=L-g,_=m*p-(x-h*g-m*g-h*p),T=l*M,d=Qt*l,h=d-(d-l),m=l-h,d=Qt*M,g=d-(d-M),p=M-g,w=m*p-(T-h*g-m*g-h*p),y=_-w,f=_-y,_n[0]=_-(y+f)+(f-w),b=x+y,f=b-x,v=x-(b-f)+(y-f),y=v-T,f=v-y,_n[1]=v-(y+f)+(f-T),S=b+y,f=S-b,_n[2]=b-(S-f)+(y-f),_n[3]=S;const O=Wy(4,pl,4,_n,jw);x=C*u,d=Qt*C,h=d-(d-C),m=C-h,d=Qt*u,g=d-(d-u),p=u-g,_=m*p-(x-h*g-m*g-h*p),T=A*c,d=Qt*A,h=d-(d-A),m=A-h,d=Qt*c,g=d-(d-c),p=c-g,w=m*p-(T-h*g-m*g-h*p),y=_-w,f=_-y,_n[0]=_-(y+f)+(f-w),b=x+y,f=b-x,v=x-(b-f)+(y-f),y=v-T,f=v-y,_n[1]=v-(y+f)+(f-T),S=b+y,f=S-b,_n[2]=b-(S-f)+(y-f),_n[3]=S;const k=Wy(O,jw,4,_n,zw);x=s*u,d=Qt*s,h=d-(d-s),m=s-h,d=Qt*u,g=d-(d-u),p=u-g,_=m*p-(x-h*g-m*g-h*p),T=l*c,d=Qt*l,h=d-(d-l),m=l-h,d=Qt*c,g=d-(d-c),p=c-g,w=m*p-(T-h*g-m*g-h*p),y=_-w,f=_-y,_n[0]=_-(y+f)+(f-w),b=x+y,f=b-x,v=x-(b-f)+(y-f),y=v-T,f=v-y,_n[1]=v-(y+f)+(f-T),S=b+y,f=S-b,_n[2]=b-(S-f)+(y-f),_n[3]=S;const F=Wy(k,zw,4,_n,Gw);return Gw[F-1]}function Hh(e,t,n,r,i,a){const o=(t-a)*(n-i),s=(e-i)*(r-a),l=o-s;if(o===0||s===0||o>0!=s>0)return l;const c=Math.abs(o+s);return Math.abs(l)>=xV*c?l:-TV(e,t,n,r,i,a,c)}const Uw=Math.pow(2,-52),Yh=new Uint32Array(512);class Am{static from(t,n=kV,r=OV){const i=t.length,a=new Float64Array(i*2);for(let o=0;o<i;o++){const s=t[o];a[2*o]=n(s),a[2*o+1]=r(s)}return new Am(a)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:a}=this,o=t.length>>1;let s=1/0,l=1/0,c=-1/0,u=-1/0;for(let M=0;M<o;M++){const A=t[2*M],L=t[2*M+1];A<s&&(s=A),L<l&&(l=L),A>c&&(c=A),L>u&&(u=L),this._ids[M]=M}const f=(s+c)/2,d=(l+u)/2;let h=1/0,m,g,p;for(let M=0;M<o;M++){const A=Hy(f,d,t[2*M],t[2*M+1]);A<h&&(m=M,h=A)}const y=t[2*m],b=t[2*m+1];h=1/0;for(let M=0;M<o;M++){if(M===m)continue;const A=Hy(y,b,t[2*M],t[2*M+1]);A<h&&A>0&&(g=M,h=A)}let v=t[2*g],x=t[2*g+1],_=1/0;for(let M=0;M<o;M++){if(M===m||M===g)continue;const A=EV(y,b,v,x,t[2*M],t[2*M+1]);A<_&&(p=M,_=A)}let T=t[2*p],w=t[2*p+1];if(_===1/0){for(let L=0;L<o;L++)this._dists[L]=t[2*L]-t[0]||t[2*L+1]-t[1];Ll(this._ids,this._dists,0,o-1);const M=new Uint32Array(o);let A=0;for(let L=0,D=-1/0;L<o;L++){const E=this._ids[L];this._dists[E]>D&&(M[A++]=E,D=this._dists[E])}this.hull=M.subarray(0,A),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Hh(y,b,v,x,T,w)<0){const M=g,A=v,L=x;g=p,v=T,x=w,p=M,T=A,w=L}const S=MV(y,b,v,x,T,w);this._cx=S.x,this._cy=S.y;for(let M=0;M<o;M++)this._dists[M]=Hy(t[2*M],t[2*M+1],S.x,S.y);Ll(this._ids,this._dists,0,o-1),this._hullStart=m;let C=3;r[m]=n[p]=g,r[g]=n[m]=p,r[p]=n[g]=m,i[m]=0,i[g]=1,i[p]=2,a.fill(-1),a[this._hashKey(y,b)]=m,a[this._hashKey(v,x)]=g,a[this._hashKey(T,w)]=p,this.trianglesLen=0,this._addTriangle(m,g,p,-1,-1,-1);for(let M=0,A,L;M<this._ids.length;M++){const D=this._ids[M],E=t[2*D],O=t[2*D+1];if(M>0&&Math.abs(E-A)<=Uw&&Math.abs(O-L)<=Uw||(A=E,L=O,D===m||D===g||D===p))continue;let k=0;for(let Y=0,K=this._hashKey(E,O);Y<this._hashSize&&(k=a[(K+Y)%this._hashSize],!(k!==-1&&k!==r[k]));Y++);k=n[k];let F=k,$;for(;$=r[F],Hh(E,O,t[2*F],t[2*F+1],t[2*$],t[2*$+1])>=0;)if(F=$,F===k){F=-1;break}if(F===-1)continue;let N=this._addTriangle(F,D,r[F],-1,-1,i[F]);i[D]=this._legalize(N+2),i[F]=N,C++;let R=r[F];for(;$=r[R],Hh(E,O,t[2*R],t[2*R+1],t[2*$],t[2*$+1])<0;)N=this._addTriangle(R,D,$,i[D],-1,i[R]),i[D]=this._legalize(N+2),r[R]=R,C--,R=$;if(F===k)for(;$=n[F],Hh(E,O,t[2*$],t[2*$+1],t[2*F],t[2*F+1])<0;)N=this._addTriangle($,D,F,-1,i[F],i[$]),this._legalize(N+2),i[$]=N,r[F]=F,C--,F=$;this._hullStart=n[D]=F,r[F]=n[R]=D,r[D]=R,a[this._hashKey(E,O)]=D,a[this._hashKey(t[2*F],t[2*F+1])]=F}this.hull=new Uint32Array(C);for(let M=0,A=this._hullStart;M<C;M++)this.hull[M]=A,A=r[A];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(AV(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let a=0,o=0;for(;;){const s=r[t],l=t-t%3;if(o=l+(t+2)%3,s===-1){if(a===0)break;t=Yh[--a];continue}const c=s-s%3,u=l+(t+1)%3,f=c+(s+2)%3,d=n[o],h=n[t],m=n[u],g=n[f];if(SV(i[2*d],i[2*d+1],i[2*h],i[2*h+1],i[2*m],i[2*m+1],i[2*g],i[2*g+1])){n[t]=g,n[s]=d;const y=r[f];if(y===-1){let v=this._hullStart;do{if(this._hullTri[v]===f){this._hullTri[v]=t;break}v=this._hullPrev[v]}while(v!==this._hullStart)}this._link(t,y),this._link(s,r[o]),this._link(o,f);const b=c+(s+1)%3;a<Yh.length&&(Yh[a++]=b)}else{if(a===0)break;t=Yh[--a]}}return o}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,a,o){const s=this.trianglesLen;return this._triangles[s]=t,this._triangles[s+1]=n,this._triangles[s+2]=r,this._link(s,i),this._link(s+1,a),this._link(s+2,o),this.trianglesLen+=3,s}}function AV(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function Hy(e,t,n,r){const i=e-n,a=t-r;return i*i+a*a}function SV(e,t,n,r,i,a,o,s){const l=e-o,c=t-s,u=n-o,f=r-s,d=i-o,h=a-s,m=l*l+c*c,g=u*u+f*f,p=d*d+h*h;return l*(f*p-g*h)-c*(u*p-g*d)+m*(u*h-f*d)<0}function EV(e,t,n,r,i,a){const o=n-e,s=r-t,l=i-e,c=a-t,u=o*o+s*s,f=l*l+c*c,d=.5/(o*c-s*l),h=(c*u-s*f)*d,m=(o*f-l*u)*d;return h*h+m*m}function MV(e,t,n,r,i,a){const o=n-e,s=r-t,l=i-e,c=a-t,u=o*o+s*s,f=l*l+c*c,d=.5/(o*c-s*l),h=e+(c*u-s*f)*d,m=t+(o*f-l*u)*d;return{x:h,y:m}}function Ll(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const a=e[i],o=t[a];let s=i-1;for(;s>=n&&t[e[s]]>o;)e[s+1]=e[s--];e[s+1]=a}else{const i=n+r>>1;let a=n+1,o=r;Au(e,i,a),t[e[n]]>t[e[r]]&&Au(e,n,r),t[e[a]]>t[e[r]]&&Au(e,a,r),t[e[n]]>t[e[a]]&&Au(e,n,a);const s=e[a],l=t[s];for(;;){do a++;while(t[e[a]]<l);do o--;while(t[e[o]]>l);if(o<a)break;Au(e,a,o)}e[n+1]=e[o],e[o]=s,r-a+1>=o-n?(Ll(e,t,a,r),Ll(e,t,n,o-1)):(Ll(e,t,n,o-1),Ll(e,t,a,r))}}function Au(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function kV(e){return e[0]}function OV(e){return e[1]}const Ww=1e-6;class Xs{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,a=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${a}`:(Math.abs(this._x1-i)>Ww||Math.abs(this._y1-a)>Ww)&&(this._+="L"+i+","+a),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=a}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class Rv{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let eC=class{constructor(t,[n,r,i,a]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((a=+a)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=a,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this,a=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let h=0,m=0,g=r.length,p,y;h<g;h+=3,m+=2){const b=r[h]*2,v=r[h+1]*2,x=r[h+2]*2,_=t[b],T=t[b+1],w=t[v],S=t[v+1],C=t[x],M=t[x+1],A=w-_,L=S-T,D=C-_,E=M-T,O=(A*E-L*D)*2;if(Math.abs(O)<1e-9){let k=1e9;const F=r[0]*2;k*=Math.sign((t[F]-_)*E-(t[F+1]-T)*D),p=(_+C)/2-k*E,y=(T+M)/2+k*D}else{const k=1/O,F=A*A+L*L,$=D*D+E*E;p=_+(E*F-L*$)*k,y=T+(A*$-D*F)*k}a[m]=p,a[m+1]=y}let o=n[n.length-1],s,l=o*4,c,u=t[2*o],f,d=t[2*o+1];i.fill(0);for(let h=0;h<n.length;++h)o=n[h],s=l,c=u,f=d,l=o*4,u=t[2*o],d=t[2*o+1],i[s+2]=i[l]=f-d,i[s+3]=i[l+1]=u-c}render(t){const n=t==null?t=new Xs:void 0,{delaunay:{halfedges:r,inedges:i,hull:a},circumcenters:o,vectors:s}=this;if(a.length<=1)return null;for(let u=0,f=r.length;u<f;++u){const d=r[u];if(d<u)continue;const h=Math.floor(u/3)*2,m=Math.floor(d/3)*2,g=o[h],p=o[h+1],y=o[m],b=o[m+1];this._renderSegment(g,p,y,b,t)}let l,c=a[a.length-1];for(let u=0;u<a.length;++u){l=c,c=a[u];const f=Math.floor(i[c]/3)*2,d=o[f],h=o[f+1],m=l*4,g=this._project(d,h,s[m+2],s[m+3]);g&&this._renderSegment(d,h,g[0],g[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new Xs:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new Xs:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let a=i.length;for(;i[0]===i[a-2]&&i[1]===i[a-1]&&a>1;)a-=2;for(let o=2;o<a;o+=2)(i[o]!==i[o-2]||i[o+1]!==i[o-1])&&n.lineTo(i[o],i[o+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new Rv;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,a){let o;const s=this._regioncode(t,n),l=this._regioncode(r,i);s===0&&l===0?(a.moveTo(t,n),a.lineTo(r,i)):(o=this._clipSegment(t,n,r,i,s,l))&&(a.moveTo(o[0],o[1]),a.lineTo(o[2],o[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let a=0,o=n.length;a<o;a+=2)for(let s=0,l=i.length;s<l;s+=2)if(n[a]==i[s]&&n[a+1]==i[s+1]&&n[(a+2)%o]==i[(s+l-2)%l]&&n[(a+3)%o]==i[(s+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:a}}=this,o=r[t];if(o===-1)return null;const s=[];let l=o;do{const c=Math.floor(l/3);if(s.push(n[c*2],n[c*2+1]),l=l%3===2?l-2:l+1,a[l]!==t)break;l=i[l]}while(l!==o&&l!==-1);return s}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n)}_clipFinite(t,n){const r=n.length;let i=null,a,o,s=n[r-2],l=n[r-1],c,u=this._regioncode(s,l),f,d=0;for(let h=0;h<r;h+=2)if(a=s,o=l,s=n[h],l=n[h+1],c=u,u=this._regioncode(s,l),c===0&&u===0)f=d,d=0,i?i.push(s,l):i=[s,l];else{let m,g,p,y,b;if(c===0){if((m=this._clipSegment(a,o,s,l,c,u))===null)continue;[g,p,y,b]=m}else{if((m=this._clipSegment(s,l,a,o,u,c))===null)continue;[y,b,g,p]=m,f=d,d=this._edgecode(g,p),f&&d&&this._edge(t,f,d,i,i.length),i?i.push(g,p):i=[g,p]}f=d,d=this._edgecode(y,b),f&&d&&this._edge(t,f,d,i,i.length),i?i.push(y,b):i=[y,b]}if(i)f=d,d=this._edgecode(i[0],i[1]),f&&d&&this._edge(t,f,d,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,a,o){for(;;){if(a===0&&o===0)return[t,n,r,i];if(a&o)return null;let s,l,c=a||o;c&8?(s=t+(r-t)*(this.ymax-n)/(i-n),l=this.ymax):c&4?(s=t+(r-t)*(this.ymin-n)/(i-n),l=this.ymin):c&2?(l=n+(i-n)*(this.xmax-t)/(r-t),s=this.xmax):(l=n+(i-n)*(this.xmin-t)/(r-t),s=this.xmin),a?(t=s,n=l,a=this._regioncode(t,n)):(r=s,i=l,o=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,a,o){let s=Array.from(n),l;if((l=this._project(s[0],s[1],r,i))&&s.unshift(l[0],l[1]),(l=this._project(s[s.length-2],s[s.length-1],a,o))&&s.push(l[0],l[1]),s=this._clipFinite(t,s))for(let c=0,u=s.length,f,d=this._edgecode(s[u-2],s[u-1]);c<u;c+=2)f=d,d=this._edgecode(s[c],s[c+1]),f&&d&&(c=this._edge(t,f,d,s,c),u=s.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(t,n,r,i,a){for(;n!==r;){let o,s;switch(n){case 5:n=4;continue;case 4:n=6,o=this.xmax,s=this.ymin;break;case 6:n=2;continue;case 2:n=10,o=this.xmax,s=this.ymax;break;case 10:n=8;continue;case 8:n=9,o=this.xmin,s=this.ymax;break;case 9:n=1;continue;case 1:n=5,o=this.xmin,s=this.ymin;break}(i[a]!==o||i[a+1]!==s)&&this.contains(t,o,s)&&(i.splice(a,0,o,s),a+=2)}if(i.length>4)for(let o=0;o<i.length;o+=2){const s=(o+2)%i.length,l=(o+4)%i.length;(i[o]===i[s]&&i[s]===i[l]||i[o+1]===i[s+1]&&i[s+1]===i[l+1])&&(i.splice(s,2),o-=2)}return a}_project(t,n,r,i){let a=1/0,o,s,l;if(i<0){if(n<=this.ymin)return null;(o=(this.ymin-n)/i)<a&&(l=this.ymin,s=t+(a=o)*r)}else if(i>0){if(n>=this.ymax)return null;(o=(this.ymax-n)/i)<a&&(l=this.ymax,s=t+(a=o)*r)}if(r>0){if(t>=this.xmax)return null;(o=(this.xmax-t)/r)<a&&(s=this.xmax,l=n+(a=o)*i)}else if(r<0){if(t<=this.xmin)return null;(o=(this.xmin-t)/r)<a&&(s=this.xmin,l=n+(a=o)*i)}return[s,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}};const CV=2*Math.PI,gl=Math.pow;function DV(e){return e[0]}function LV(e){return e[1]}function FV(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],a=2*t[r+1],o=2*t[r+2];if((n[o]-n[i])*(n[a+1]-n[i+1])-(n[a]-n[i])*(n[o+1]-n[i+1])>1e-10)return!1}return!0}function BV(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class bg{static from(t,n=DV,r=LV,i){return new bg("length"in t?$V(t,n,r,i):Float64Array.from(NV(t,n,r,i)))}constructor(t){this._delaunator=new Am(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&FV(t)){this.collinear=Int32Array.from({length:n.length/2},(d,h)=>h).sort((d,h)=>n[2*d]-n[2*h]||n[2*d+1]-n[2*h+1]);const l=this.collinear[0],c=this.collinear[this.collinear.length-1],u=[n[2*l],n[2*l+1],n[2*c],n[2*c+1]],f=1e-8*Math.hypot(u[3]-u[1],u[2]-u[0]);for(let d=0,h=n.length/2;d<h;++d){const m=BV(n[2*d],n[2*d+1],f);n[2*d]=m[0],n[2*d+1]=m[1]}this._delaunator=new Am(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,a=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let l=0,c=r.length;l<c;++l){const u=a[l%3===2?l-2:l+1];(r[l]===-1||o[u]===-1)&&(o[u]=l)}for(let l=0,c=i.length;l<c;++l)s[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],o[i[0]]=1,i.length===2&&(o[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new eC(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:a,triangles:o,collinear:s}=this;if(s){const f=s.indexOf(t);f>0&&(yield s[f-1]),f<s.length-1&&(yield s[f+1]);return}const l=n[t];if(l===-1)return;let c=l,u=-1;do{if(yield u=o[c],c=c%3===2?c-2:c+1,o[c]!==t)return;if(c=a[c],c===-1){const f=r[(i[t]+1)%r.length];f!==u&&(yield f);return}}while(c!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let a;for(;(a=this._step(r,t,n))>=0&&a!==r&&a!==i;)r=a;return a}_step(t,n,r){const{inedges:i,hull:a,_hullIndex:o,halfedges:s,triangles:l,points:c}=this;if(i[t]===-1||!c.length)return(t+1)%(c.length>>1);let u=t,f=gl(n-c[t*2],2)+gl(r-c[t*2+1],2);const d=i[t];let h=d;do{let m=l[h];const g=gl(n-c[m*2],2)+gl(r-c[m*2+1],2);if(g<f&&(f=g,u=m),h=h%3===2?h-2:h+1,l[h]!==t)break;if(h=s[h],h===-1){if(h=a[(o[t]+1)%a.length],h!==m&&gl(n-c[h*2],2)+gl(r-c[h*2+1],2)<f)return h;break}}while(h!==d);return u}render(t){const n=t==null?t=new Xs:void 0,{points:r,halfedges:i,triangles:a}=this;for(let o=0,s=i.length;o<s;++o){const l=i[o];if(l<o)continue;const c=a[o]*2,u=a[l]*2;t.moveTo(r[c],r[c+1]),t.lineTo(r[u],r[u+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new Xs:void 0,{points:i}=this;for(let a=0,o=i.length;a<o;a+=2){const s=i[a],l=i[a+1];t.moveTo(s+n,l),t.arc(s,l,n,0,CV)}return r&&r.value()}renderHull(t){const n=t==null?t=new Xs:void 0,{hull:r,points:i}=this,a=r[0]*2,o=r.length;t.moveTo(i[a],i[a+1]);for(let s=1;s<o;++s){const l=2*r[s];t.lineTo(i[l],i[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new Rv;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new Xs:void 0,{points:i,triangles:a}=this,o=a[t*=3]*2,s=a[t+1]*2,l=a[t+2]*2;return n.moveTo(i[o],i[o+1]),n.lineTo(i[s],i[s+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new Rv;return this.renderTriangle(t,n),n.value()}}function $V(e,t,n,r){const i=e.length,a=new Float64Array(i*2);for(let o=0;o<i;++o){const s=e[o];a[o*2]=t.call(r,s,o,e),a[o*2+1]=n.call(r,s,o,e)}return a}function*NV(e,t,n,r){let i=0;for(const a of e)yield t.call(r,a,i,e),yield n.call(r,a,i,e),++i}var IV={value:()=>{}};function U7(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new U1(n)}function U1(e){this._=e}function ZV(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}U1.prototype=U7.prototype={constructor:U1,on:function(e,t){var n=this._,r=ZV(e+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=RV(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(e=r[a]).type)n[i]=Hw(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Hw(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new U1(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function RV(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Hw(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=IV,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Yw={},Yy={},qy=34,Su=10,Vy=13;function tC(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function PV(e,t){var n=tC(e);return function(r,i){return t(n(r),i,e)}}function qw(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Rn(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function jV(e){return e<0?"-"+Rn(-e,6):e>9999?"+"+Rn(e,6):Rn(e,4)}function zV(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":jV(e.getUTCFullYear())+"-"+Rn(e.getUTCMonth()+1,2)+"-"+Rn(e.getUTCDate(),2)+(i?"T"+Rn(t,2)+":"+Rn(n,2)+":"+Rn(r,2)+"."+Rn(i,3)+"Z":r?"T"+Rn(t,2)+":"+Rn(n,2)+":"+Rn(r,2)+"Z":n||t?"T"+Rn(t,2)+":"+Rn(n,2)+"Z":"")}function Zd(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,m,g=i(f,function(p,y){if(h)return h(p,y-1);m=p,h=d?PV(p,d):tC(p)});return g.columns=m||[],g}function i(f,d){var h=[],m=f.length,g=0,p=0,y,b=m<=0,v=!1;f.charCodeAt(m-1)===Su&&--m,f.charCodeAt(m-1)===Vy&&--m;function x(){if(b)return Yy;if(v)return v=!1,Yw;var T,w=g,S;if(f.charCodeAt(w)===qy){for(;g++<m&&f.charCodeAt(g)!==qy||f.charCodeAt(++g)===qy;);return(T=g)>=m?b=!0:(S=f.charCodeAt(g++))===Su?v=!0:S===Vy&&(v=!0,f.charCodeAt(g)===Su&&++g),f.slice(w+1,T-1).replace(/""/g,'"')}for(;g<m;){if((S=f.charCodeAt(T=g++))===Su)v=!0;else if(S===Vy)v=!0,f.charCodeAt(g)===Su&&++g;else if(S!==n)continue;return f.slice(w,T)}return b=!0,f.slice(w,m)}for(;(y=x())!==Yy;){for(var _=[];y!==Yw&&y!==Yy;)_.push(y),y=x();d&&(_=d(_,p++))==null||h.push(_)}return h}function a(f,d){return f.map(function(h){return d.map(function(m){return u(h[m])}).join(e)})}function o(f,d){return d==null&&(d=qw(f)),[d.map(u).join(e)].concat(a(f,d)).join(`
`)}function s(f,d){return d==null&&(d=qw(f)),a(f,d).join(`
`)}function l(f){return f.map(c).join(`
`)}function c(f){return f.map(u).join(e)}function u(f){return f==null?"":f instanceof Date?zV(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:o,formatBody:s,formatRows:l,formatRow:c,formatValue:u}}var G0=Zd(","),nC=G0.parse,GV=G0.parseRows,UV=G0.format,WV=G0.formatBody,HV=G0.formatRows,YV=G0.formatRow,qV=G0.formatValue,U0=Zd("	"),rC=U0.parse,VV=U0.parseRows,XV=U0.format,JV=U0.formatBody,KV=U0.formatRows,QV=U0.formatRow,eX=U0.formatValue;function tX(e){for(var t in e){var n=e[t].trim(),r,i;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))nX&&i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;e[t]=n}return e}const nX=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function rX(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function iX(e,t){return fetch(e,t).then(rX)}function aX(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function oX(e,t){return fetch(e,t).then(aX)}function sX(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function vg(e,t){return fetch(e,t).then(sX)}function iC(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),vg(t,n).then(function(i){return e(i,r)})}}function lX(e,t,n,r){arguments.length===3&&typeof n=="function"&&(r=n,n=void 0);var i=Zd(e);return vg(t,n).then(function(a){return i.parse(a,r)})}var cX=iC(nC),uX=iC(rC);function fX(e,t){return new Promise(function(n,r){var i=new Image;for(var a in t)i[a]=t[a];i.onerror=r,i.onload=function(){n(i)},i.src=e})}function dX(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function hX(e,t){return fetch(e,t).then(dX)}function W7(e){return(t,n)=>vg(t,n).then(r=>new DOMParser().parseFromString(r,e))}const mX=W7("application/xml");var pX=W7("text/html"),gX=W7("image/svg+xml");function aC(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var a,o=n.length,s,l=0,c=0;for(a=0;a<o;++a)s=n[a],l+=s.x,c+=s.y;for(l=(l/o-e)*r,c=(c/o-t)*r,a=0;a<o;++a)s=n[a],s.x-=l,s.y-=c}return i.initialize=function(a){n=a},i.x=function(a){return arguments.length?(e=+a,i):e},i.y=function(a){return arguments.length?(t=+a,i):t},i.strength=function(a){return arguments.length?(r=+a,i):r},i}function yX(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return oC(this.cover(t,n),t,n,e)}function oC(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a=e._root,o={data:r},s=e._x0,l=e._y0,c=e._x1,u=e._y1,f,d,h,m,g,p,y,b;if(!a)return e._root=o,e;for(;a.length;)if((g=t>=(f=(s+c)/2))?s=f:c=f,(p=n>=(d=(l+u)/2))?l=d:u=d,i=a,!(a=a[y=p<<1|g]))return i[y]=o,e;if(h=+e._x.call(null,a.data),m=+e._y.call(null,a.data),t===h&&n===m)return o.next=a,i?i[y]=o:e._root=o,e;do i=i?i[y]=new Array(4):e._root=new Array(4),(g=t>=(f=(s+c)/2))?s=f:c=f,(p=n>=(d=(l+u)/2))?l=d:u=d;while((y=p<<1|g)===(b=(m>=d)<<1|h>=f));return i[b]=a,i[y]=o,e}function bX(e){var t,n,r=e.length,i,a,o=new Array(r),s=new Array(r),l=1/0,c=1/0,u=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(a=+this._y.call(null,t))||(o[n]=i,s[n]=a,i<l&&(l=i),i>u&&(u=i),a<c&&(c=a),a>f&&(f=a));if(l>u||c>f)return this;for(this.cover(l,c).cover(u,f),n=0;n<r;++n)oC(this,o[n],s[n],e[n]);return this}function vX(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{for(var o=i-n||1,s=this._root,l,c;n>e||e>=i||r>t||t>=a;)switch(c=(t<r)<<1|e<n,l=new Array(4),l[c]=s,s=l,o*=2,c){case 0:i=n+o,a=r+o;break;case 1:n=i-o,a=r+o;break;case 2:i=n+o,r=a-o;break;case 3:n=i-o,r=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this}function xX(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function _X(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function kn(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function wX(e,t,n){var r,i=this._x0,a=this._y0,o,s,l,c,u=this._x1,f=this._y1,d=[],h=this._root,m,g;for(h&&d.push(new kn(h,i,a,u,f)),n==null?n=1/0:(i=e-n,a=t-n,u=e+n,f=t+n,n*=n);m=d.pop();)if(!(!(h=m.node)||(o=m.x0)>u||(s=m.y0)>f||(l=m.x1)<i||(c=m.y1)<a))if(h.length){var p=(o+l)/2,y=(s+c)/2;d.push(new kn(h[3],p,y,l,c),new kn(h[2],o,y,p,c),new kn(h[1],p,s,l,y),new kn(h[0],o,s,p,y)),(g=(t>=y)<<1|e>=p)&&(m=d[d.length-1],d[d.length-1]=d[d.length-1-g],d[d.length-1-g]=m)}else{var b=e-+this._x.call(null,h.data),v=t-+this._y.call(null,h.data),x=b*b+v*v;if(x<n){var _=Math.sqrt(n=x);i=e-_,a=t-_,u=e+_,f=t+_,r=h.data}}return r}function TX(e){if(isNaN(u=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,n=this._root,r,i,a,o=this._x0,s=this._y0,l=this._x1,c=this._y1,u,f,d,h,m,g,p,y;if(!n)return this;if(n.length)for(;;){if((m=u>=(d=(o+l)/2))?o=d:l=d,(g=f>=(h=(s+c)/2))?s=h:c=h,t=n,!(n=n[p=g<<1|m]))return this;if(!n.length)break;(t[p+1&3]||t[p+2&3]||t[p+3&3])&&(r=t,y=p)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):t?(a?t[p]=a:delete t[p],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=a,this)}function AX(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function SX(){return this._root}function EX(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function MX(e){var t=[],n,r=this._root,i,a,o,s,l;for(r&&t.push(new kn(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,a=n.x0,o=n.y0,s=n.x1,l=n.y1)&&r.length){var c=(a+s)/2,u=(o+l)/2;(i=r[3])&&t.push(new kn(i,c,u,s,l)),(i=r[2])&&t.push(new kn(i,a,u,c,l)),(i=r[1])&&t.push(new kn(i,c,o,s,u)),(i=r[0])&&t.push(new kn(i,a,o,c,u))}return this}function kX(e){var t=[],n=[],r;for(this._root&&t.push(new kn(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var a,o=r.x0,s=r.y0,l=r.x1,c=r.y1,u=(o+l)/2,f=(s+c)/2;(a=i[0])&&t.push(new kn(a,o,s,u,f)),(a=i[1])&&t.push(new kn(a,u,s,l,f)),(a=i[2])&&t.push(new kn(a,o,f,u,c)),(a=i[3])&&t.push(new kn(a,u,f,l,c))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function OX(e){return e[0]}function CX(e){return arguments.length?(this._x=e,this):this._x}function DX(e){return e[1]}function LX(e){return arguments.length?(this._y=e,this):this._y}function xg(e,t,n){var r=new H7(t??OX,n??DX,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function H7(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function Vw(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Nn=xg.prototype=H7.prototype;Nn.copy=function(){var e=new H7(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=Vw(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=Vw(r));return e};Nn.add=yX;Nn.addAll=bX;Nn.cover=vX;Nn.data=xX;Nn.extent=_X;Nn.find=wX;Nn.remove=TX;Nn.removeAll=AX;Nn.root=SX;Nn.size=EX;Nn.visit=MX;Nn.visitAfter=kX;Nn.x=CX;Nn.y=LX;function St(e){return function(){return e}}function So(e){return(e()-.5)*1e-6}function FX(e){return e.x+e.vx}function BX(e){return e.y+e.vy}function sC(e){var t,n,r,i=1,a=1;typeof e!="function"&&(e=St(e==null?1:+e));function o(){for(var c,u=t.length,f,d,h,m,g,p,y=0;y<a;++y)for(f=xg(t,FX,BX).visitAfter(s),c=0;c<u;++c)d=t[c],g=n[d.index],p=g*g,h=d.x+d.vx,m=d.y+d.vy,f.visit(b);function b(v,x,_,T,w){var S=v.data,C=v.r,M=g+C;if(S){if(S.index>d.index){var A=h-S.x-S.vx,L=m-S.y-S.vy,D=A*A+L*L;D<M*M&&(A===0&&(A=So(r),D+=A*A),L===0&&(L=So(r),D+=L*L),D=(M-(D=Math.sqrt(D)))/D*i,d.vx+=(A*=D)*(M=(C*=C)/(p+C)),d.vy+=(L*=D)*M,S.vx-=A*(M=1-M),S.vy-=L*M)}return}return x>h+M||T<h-M||_>m+M||w<m-M}}function s(c){if(c.data)return c.r=n[c.data.index];for(var u=c.r=0;u<4;++u)c[u]&&c[u].r>c.r&&(c.r=c[u].r)}function l(){if(t){var c,u=t.length,f;for(n=new Array(u),c=0;c<u;++c)f=t[c],n[f.index]=+e(f,c,t)}}return o.initialize=function(c,u){t=c,r=u,l()},o.iterations=function(c){return arguments.length?(a=+c,o):a},o.strength=function(c){return arguments.length?(i=+c,o):i},o.radius=function(c){return arguments.length?(e=typeof c=="function"?c:St(+c),l(),o):e},o}function $X(e){return e.index}function Xw(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function lC(e){var t=$X,n=f,r,i=St(30),a,o,s,l,c,u=1;e==null&&(e=[]);function f(p){return 1/Math.min(s[p.source.index],s[p.target.index])}function d(p){for(var y=0,b=e.length;y<u;++y)for(var v=0,x,_,T,w,S,C,M;v<b;++v)x=e[v],_=x.source,T=x.target,w=T.x+T.vx-_.x-_.vx||So(c),S=T.y+T.vy-_.y-_.vy||So(c),C=Math.sqrt(w*w+S*S),C=(C-a[v])/C*p*r[v],w*=C,S*=C,T.vx-=w*(M=l[v]),T.vy-=S*M,_.vx+=w*(M=1-M),_.vy+=S*M}function h(){if(o){var p,y=o.length,b=e.length,v=new Map(o.map((_,T)=>[t(_,T,o),_])),x;for(p=0,s=new Array(y);p<b;++p)x=e[p],x.index=p,typeof x.source!="object"&&(x.source=Xw(v,x.source)),typeof x.target!="object"&&(x.target=Xw(v,x.target)),s[x.source.index]=(s[x.source.index]||0)+1,s[x.target.index]=(s[x.target.index]||0)+1;for(p=0,l=new Array(b);p<b;++p)x=e[p],l[p]=s[x.source.index]/(s[x.source.index]+s[x.target.index]);r=new Array(b),m(),a=new Array(b),g()}}function m(){if(o)for(var p=0,y=e.length;p<y;++p)r[p]=+n(e[p],p,e)}function g(){if(o)for(var p=0,y=e.length;p<y;++p)a[p]=+i(e[p],p,e)}return d.initialize=function(p,y){o=p,c=y,h()},d.links=function(p){return arguments.length?(e=p,h(),d):e},d.id=function(p){return arguments.length?(t=p,d):t},d.iterations=function(p){return arguments.length?(u=+p,d):u},d.strength=function(p){return arguments.length?(n=typeof p=="function"?p:St(+p),m(),d):n},d.distance=function(p){return arguments.length?(i=typeof p=="function"?p:St(+p),g(),d):i},d}const NX=1664525,IX=1013904223,Jw=4294967296;function ZX(){let e=1;return()=>(e=(NX*e+IX)%Jw)/Jw}function RX(e){return e.x}function PX(e){return e.y}var jX=10,zX=Math.PI*(3-Math.sqrt(5));function cC(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=new Map,l=gg(f),c=Uc("tick","end"),u=ZX();e==null&&(e=[]);function f(){d(),c.call("tick",t),n<r&&(l.stop(),c.call("end",t))}function d(g){var p,y=e.length,b;g===void 0&&(g=1);for(var v=0;v<g;++v)for(n+=(a-n)*i,s.forEach(function(x){x(n)}),p=0;p<y;++p)b=e[p],b.fx==null?b.x+=b.vx*=o:(b.x=b.fx,b.vx=0),b.fy==null?b.y+=b.vy*=o:(b.y=b.fy,b.vy=0);return t}function h(){for(var g=0,p=e.length,y;g<p;++g){if(y=e[g],y.index=g,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var b=jX*Math.sqrt(.5+g),v=g*zX;y.x=b*Math.cos(v),y.y=b*Math.sin(v)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function m(g){return g.initialize&&g.initialize(e,u),g}return h(),t={tick:d,restart:function(){return l.restart(f),t},stop:function(){return l.stop(),t},nodes:function(g){return arguments.length?(e=g,h(),s.forEach(m),t):e},alpha:function(g){return arguments.length?(n=+g,t):n},alphaMin:function(g){return arguments.length?(r=+g,t):r},alphaDecay:function(g){return arguments.length?(i=+g,t):+i},alphaTarget:function(g){return arguments.length?(a=+g,t):a},velocityDecay:function(g){return arguments.length?(o=1-g,t):1-o},randomSource:function(g){return arguments.length?(u=g,s.forEach(m),t):u},force:function(g,p){return arguments.length>1?(p==null?s.delete(g):s.set(g,m(p)),t):s.get(g)},find:function(g,p,y){var b=0,v=e.length,x,_,T,w,S;for(y==null?y=1/0:y*=y,b=0;b<v;++b)w=e[b],x=g-w.x,_=p-w.y,T=x*x+_*_,T<y&&(S=w,y=T);return S},on:function(g,p){return arguments.length>1?(c.on(g,p),t):c.on(g)}}}function uC(){var e,t,n,r,i=St(-30),a,o=1,s=1/0,l=.81;function c(h){var m,g=e.length,p=xg(e,RX,PX).visitAfter(f);for(r=h,m=0;m<g;++m)t=e[m],p.visit(d)}function u(){if(e){var h,m=e.length,g;for(a=new Array(m),h=0;h<m;++h)g=e[h],a[g.index]=+i(g,h,e)}}function f(h){var m=0,g,p,y=0,b,v,x;if(h.length){for(b=v=x=0;x<4;++x)(g=h[x])&&(p=Math.abs(g.value))&&(m+=g.value,y+=p,b+=p*g.x,v+=p*g.y);h.x=b/y,h.y=v/y}else{g=h,g.x=g.data.x,g.y=g.data.y;do m+=a[g.data.index];while(g=g.next)}h.value=m}function d(h,m,g,p){if(!h.value)return!0;var y=h.x-t.x,b=h.y-t.y,v=p-m,x=y*y+b*b;if(v*v/l<x)return x<s&&(y===0&&(y=So(n),x+=y*y),b===0&&(b=So(n),x+=b*b),x<o&&(x=Math.sqrt(o*x)),t.vx+=y*h.value*r/x,t.vy+=b*h.value*r/x),!0;if(h.length||x>=s)return;(h.data!==t||h.next)&&(y===0&&(y=So(n),x+=y*y),b===0&&(b=So(n),x+=b*b),x<o&&(x=Math.sqrt(o*x)));do h.data!==t&&(v=a[h.data.index]*r/x,t.vx+=y*v,t.vy+=b*v);while(h=h.next)}return c.initialize=function(h,m){e=h,n=m,u()},c.strength=function(h){return arguments.length?(i=typeof h=="function"?h:St(+h),u(),c):i},c.distanceMin=function(h){return arguments.length?(o=h*h,c):Math.sqrt(o)},c.distanceMax=function(h){return arguments.length?(s=h*h,c):Math.sqrt(s)},c.theta=function(h){return arguments.length?(l=h*h,c):Math.sqrt(l)},c}function GX(e,t,n){var r,i=St(.1),a,o;typeof e!="function"&&(e=St(+e)),t==null&&(t=0),n==null&&(n=0);function s(c){for(var u=0,f=r.length;u<f;++u){var d=r[u],h=d.x-t||1e-6,m=d.y-n||1e-6,g=Math.sqrt(h*h+m*m),p=(o[u]-g)*a[u]*c/g;d.vx+=h*p,d.vy+=m*p}}function l(){if(r){var c,u=r.length;for(a=new Array(u),o=new Array(u),c=0;c<u;++c)o[c]=+e(r[c],c,r),a[c]=isNaN(o[c])?0:+i(r[c],c,r)}}return s.initialize=function(c){r=c,l()},s.strength=function(c){return arguments.length?(i=typeof c=="function"?c:St(+c),l(),s):i},s.radius=function(c){return arguments.length?(e=typeof c=="function"?c:St(+c),l(),s):e},s.x=function(c){return arguments.length?(t=+c,s):t},s.y=function(c){return arguments.length?(n=+c,s):n},s}function fC(e){var t=St(.1),n,r,i;typeof e!="function"&&(e=St(e==null?0:+e));function a(s){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vx+=(i[l]-u.x)*r[l]*s}function o(){if(n){var s,l=n.length;for(r=new Array(l),i=new Array(l),s=0;s<l;++s)r[s]=isNaN(i[s]=+e(n[s],s,n))?0:+t(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(t=typeof s=="function"?s:St(+s),o(),a):t},a.x=function(s){return arguments.length?(e=typeof s=="function"?s:St(+s),o(),a):e},a}function dC(e){var t=St(.1),n,r,i;typeof e!="function"&&(e=St(e==null?0:+e));function a(s){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vy+=(i[l]-u.y)*r[l]*s}function o(){if(n){var s,l=n.length;for(r=new Array(l),i=new Array(l),s=0;s<l;++s)r[s]=isNaN(i[s]=+e(n[s],s,n))?0:+t(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(t=typeof s=="function"?s:St(+s),o(),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:St(+s),o(),a):e},a}function UX(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Sm(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function lc(e){return e=Sm(Math.abs(e)),e?e[1]:NaN}function WX(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function HX(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var YX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Go(e){if(!(t=YX.exec(e)))throw new Error("invalid format: "+e);var t;return new _g({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Go.prototype=_g.prototype;function _g(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}_g.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qX(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var hC;function VX(e,t){var n=Sm(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(hC=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Sm(e,Math.max(0,t+a-1))[0]}function Kw(e,t){var n=Sm(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Qw={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:UX,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Kw(e*100,t),r:Kw,s:VX,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function eT(e){return e}var tT=Array.prototype.map,nT=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Y7(e){var t=e.grouping===void 0||e.thousands===void 0?eT:WX(tT.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?eT:HX(tT.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=Go(f);var d=f.fill,h=f.align,m=f.sign,g=f.symbol,p=f.zero,y=f.width,b=f.comma,v=f.precision,x=f.trim,_=f.type;_==="n"?(b=!0,_="g"):Qw[_]||(v===void 0&&(v=12),x=!0,_="g"),(p||d==="0"&&h==="=")&&(p=!0,d="0",h="=");var T=g==="$"?n:g==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",w=g==="$"?r:/[%p]/.test(_)?o:"",S=Qw[_],C=/[defgprs%]/.test(_);v=v===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function M(A){var L=T,D=w,E,O,k;if(_==="c")D=S(A)+D,A="";else{A=+A;var F=A<0||1/A<0;if(A=isNaN(A)?l:S(Math.abs(A),v),x&&(A=qX(A)),F&&+A==0&&m!=="+"&&(F=!1),L=(F?m==="("?m:s:m==="-"||m==="("?"":m)+L,D=(_==="s"?nT[8+hC/3]:"")+D+(F&&m==="("?")":""),C){for(E=-1,O=A.length;++E<O;)if(k=A.charCodeAt(E),48>k||k>57){D=(k===46?i+A.slice(E+1):A.slice(E))+D,A=A.slice(0,E);break}}}b&&!p&&(A=t(A,1/0));var $=L.length+A.length+D.length,N=$<y?new Array(y-$+1).join(d):"";switch(b&&p&&(A=t(N+A,N.length?y-D.length:1/0),N=""),h){case"<":A=L+A+D+N;break;case"=":A=L+N+A+D;break;case"^":A=N.slice(0,$=N.length>>1)+L+A+D+N.slice($);break;default:A=N+L+A+D;break}return a(A)}return M.toString=function(){return f+""},M}function u(f,d){var h=c((f=Go(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(lc(d)/3)))*3,g=Math.pow(10,-m),p=nT[8+m/3];return function(y){return h(g*y)+p}}return{format:c,formatPrefix:u}}var qh,Rd,wg;mC({thousands:",",grouping:[3],currency:["$",""]});function mC(e){return qh=Y7(e),Rd=qh.format,wg=qh.formatPrefix,qh}function q7(e){return Math.max(0,-lc(Math.abs(e)))}function V7(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lc(t)/3)))*3-lc(Math.abs(e)))}function X7(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,lc(t)-lc(e))+1}var ue=1e-6,Xf=1e-12,Ae=Math.PI,pt=Ae/2,Em=Ae/4,Fn=Ae*2,Ve=180/Ae,de=Ae/180,Ee=Math.abs,qc=Math.atan,Bn=Math.atan2,re=Math.cos,Vh=Math.ceil,pC=Math.exp,Pv=Math.hypot,Mm=Math.log,Xy=Math.pow,te=Math.sin,Sr=Math.sign||function(e){return e>0?1:e<0?-1:0},Pt=Math.sqrt,J7=Math.tan;function gC(e){return e>1?0:e<-1?Ae:Math.acos(e)}function $n(e){return e>1?pt:e<-1?-pt:Math.asin(e)}function rT(e){return(e=te(e/2))*e}function ut(){}function km(e,t){e&&aT.hasOwnProperty(e.type)&&aT[e.type](e,t)}var iT={Feature:function(e,t){km(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)km(n[r].geometry,t)}},aT={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){jv(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)jv(n[r],t,0)},Polygon:function(e,t){oT(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)oT(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)km(n[r],t)}};function jv(e,t,n){var r=-1,i=e.length-n,a;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function oT(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)jv(e[n],t,1);t.polygonEnd()}function Jr(e,t){e&&iT.hasOwnProperty(e.type)?iT[e.type](e,t):km(e,t)}var Om=new kt,Cm=new kt,yC,bC,zv,Gv,Uv,ea={point:ut,lineStart:ut,lineEnd:ut,polygonStart:function(){Om=new kt,ea.lineStart=XX,ea.lineEnd=JX},polygonEnd:function(){var e=+Om;Cm.add(e<0?Fn+e:e),this.lineStart=this.lineEnd=this.point=ut},sphere:function(){Cm.add(Fn)}};function XX(){ea.point=KX}function JX(){vC(yC,bC)}function KX(e,t){ea.point=vC,yC=e,bC=t,e*=de,t*=de,zv=e,Gv=re(t=t/2+Em),Uv=te(t)}function vC(e,t){e*=de,t*=de,t=t/2+Em;var n=e-zv,r=n>=0?1:-1,i=r*n,a=re(t),o=te(t),s=Uv*o,l=Gv*a+s*re(i),c=s*r*te(i);Om.add(Bn(c,l)),zv=e,Gv=a,Uv=o}function xC(e){return Cm=new kt,Jr(e,ea),Cm*2}function Dm(e){return[Bn(e[1],e[0]),$n(e[2])]}function b0(e){var t=e[0],n=e[1],r=re(n);return[r*re(t),r*te(t),te(n)]}function Xh(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function cc(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Jy(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Jh(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Lm(e){var t=Pt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var ct,zn,dt,cr,Ps,_C,wC,Gl,Af,bo,Va,Fa={point:Wv,lineStart:sT,lineEnd:lT,polygonStart:function(){Fa.point=AC,Fa.lineStart=QX,Fa.lineEnd=eJ,Af=new kt,ea.polygonStart()},polygonEnd:function(){ea.polygonEnd(),Fa.point=Wv,Fa.lineStart=sT,Fa.lineEnd=lT,Om<0?(ct=-(dt=180),zn=-(cr=90)):Af>ue?cr=90:Af<-ue&&(zn=-90),Va[0]=ct,Va[1]=dt},sphere:function(){ct=-(dt=180),zn=-(cr=90)}};function Wv(e,t){bo.push(Va=[ct=e,dt=e]),t<zn&&(zn=t),t>cr&&(cr=t)}function TC(e,t){var n=b0([e*de,t*de]);if(Gl){var r=cc(Gl,n),i=[r[1],-r[0],0],a=cc(i,r);Lm(a),a=Dm(a);var o=e-Ps,s=o>0?1:-1,l=a[0]*Ve*s,c,u=Ee(o)>180;u^(s*Ps<l&&l<s*e)?(c=a[1]*Ve,c>cr&&(cr=c)):(l=(l+360)%360-180,u^(s*Ps<l&&l<s*e)?(c=-a[1]*Ve,c<zn&&(zn=c)):(t<zn&&(zn=t),t>cr&&(cr=t))),u?e<Ps?or(ct,e)>or(ct,dt)&&(dt=e):or(e,dt)>or(ct,dt)&&(ct=e):dt>=ct?(e<ct&&(ct=e),e>dt&&(dt=e)):e>Ps?or(ct,e)>or(ct,dt)&&(dt=e):or(e,dt)>or(ct,dt)&&(ct=e)}else bo.push(Va=[ct=e,dt=e]);t<zn&&(zn=t),t>cr&&(cr=t),Gl=n,Ps=e}function sT(){Fa.point=TC}function lT(){Va[0]=ct,Va[1]=dt,Fa.point=Wv,Gl=null}function AC(e,t){if(Gl){var n=e-Ps;Af.add(Ee(n)>180?n+(n>0?360:-360):n)}else _C=e,wC=t;ea.point(e,t),TC(e,t)}function QX(){ea.lineStart()}function eJ(){AC(_C,wC),ea.lineEnd(),Ee(Af)>ue&&(ct=-(dt=180)),Va[0]=ct,Va[1]=dt,Gl=null}function or(e,t){return(t-=e)<0?t+360:t}function tJ(e,t){return e[0]-t[0]}function cT(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function SC(e){var t,n,r,i,a,o,s;if(cr=dt=-(ct=zn=1/0),bo=[],Jr(e,Fa),n=bo.length){for(bo.sort(tJ),t=1,r=bo[0],a=[r];t<n;++t)i=bo[t],cT(r,i[0])||cT(r,i[1])?(or(r[0],i[1])>or(r[0],r[1])&&(r[1]=i[1]),or(i[0],r[1])>or(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,n=a.length-1,t=0,r=a[n];t<=n;r=i,++t)i=a[t],(s=or(r[1],i[0]))>o&&(o=s,ct=i[0],dt=r[1])}return bo=Va=null,ct===1/0||zn===1/0?[[NaN,NaN],[NaN,NaN]]:[[ct,zn],[dt,cr]]}var ef,Fm,Bm,$m,Nm,Im,Zm,Rm,Hv,Yv,qv,EC,MC,Sn,En,Mn,ri={sphere:ut,point:K7,lineStart:uT,lineEnd:fT,polygonStart:function(){ri.lineStart=iJ,ri.lineEnd=aJ},polygonEnd:function(){ri.lineStart=uT,ri.lineEnd=fT}};function K7(e,t){e*=de,t*=de;var n=re(t);Pd(n*re(e),n*te(e),te(t))}function Pd(e,t,n){++ef,Bm+=(e-Bm)/ef,$m+=(t-$m)/ef,Nm+=(n-Nm)/ef}function uT(){ri.point=nJ}function nJ(e,t){e*=de,t*=de;var n=re(t);Sn=n*re(e),En=n*te(e),Mn=te(t),ri.point=rJ,Pd(Sn,En,Mn)}function rJ(e,t){e*=de,t*=de;var n=re(t),r=n*re(e),i=n*te(e),a=te(t),o=Bn(Pt((o=En*a-Mn*i)*o+(o=Mn*r-Sn*a)*o+(o=Sn*i-En*r)*o),Sn*r+En*i+Mn*a);Fm+=o,Im+=o*(Sn+(Sn=r)),Zm+=o*(En+(En=i)),Rm+=o*(Mn+(Mn=a)),Pd(Sn,En,Mn)}function fT(){ri.point=K7}function iJ(){ri.point=oJ}function aJ(){kC(EC,MC),ri.point=K7}function oJ(e,t){EC=e,MC=t,e*=de,t*=de,ri.point=kC;var n=re(t);Sn=n*re(e),En=n*te(e),Mn=te(t),Pd(Sn,En,Mn)}function kC(e,t){e*=de,t*=de;var n=re(t),r=n*re(e),i=n*te(e),a=te(t),o=En*a-Mn*i,s=Mn*r-Sn*a,l=Sn*i-En*r,c=Pv(o,s,l),u=$n(c),f=c&&-u/c;Hv.add(f*o),Yv.add(f*s),qv.add(f*l),Fm+=u,Im+=u*(Sn+(Sn=r)),Zm+=u*(En+(En=i)),Rm+=u*(Mn+(Mn=a)),Pd(Sn,En,Mn)}function OC(e){ef=Fm=Bm=$m=Nm=Im=Zm=Rm=0,Hv=new kt,Yv=new kt,qv=new kt,Jr(e,ri);var t=+Hv,n=+Yv,r=+qv,i=Pv(t,n,r);return i<Xf&&(t=Im,n=Zm,r=Rm,Fm<ue&&(t=Bm,n=$m,r=Nm),i=Pv(t,n,r),i<Xf)?[NaN,NaN]:[Bn(n,t)*Ve,$n(r/i)*Ve]}function yl(e){return function(){return e}}function Vv(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function Xv(e,t){return Ee(e)>Ae&&(e-=Math.round(e/Fn)*Fn),[e,t]}Xv.invert=Xv;function Q7(e,t,n){return(e%=Fn)?t||n?Vv(hT(e),mT(t,n)):hT(e):t||n?mT(t,n):Xv}function dT(e){return function(t,n){return t+=e,Ee(t)>Ae&&(t-=Math.round(t/Fn)*Fn),[t,n]}}function hT(e){var t=dT(e);return t.invert=dT(-e),t}function mT(e,t){var n=re(e),r=te(e),i=re(t),a=te(t);function o(s,l){var c=re(l),u=re(s)*c,f=te(s)*c,d=te(l),h=d*n+u*r;return[Bn(f*i-h*a,u*n-d*r),$n(h*i+f*a)]}return o.invert=function(s,l){var c=re(l),u=re(s)*c,f=te(s)*c,d=te(l),h=d*i-f*a;return[Bn(f*i+d*a,u*n+h*r),$n(h*n-u*r)]},o}function CC(e){e=Q7(e[0]*de,e[1]*de,e.length>2?e[2]*de:0);function t(n){return n=e(n[0]*de,n[1]*de),n[0]*=Ve,n[1]*=Ve,n}return t.invert=function(n){return n=e.invert(n[0]*de,n[1]*de),n[0]*=Ve,n[1]*=Ve,n},t}function DC(e,t,n,r,i,a){if(n){var o=re(t),s=te(t),l=r*n;i==null?(i=t+r*Fn,a=t-l/2):(i=pT(o,i),a=pT(o,a),(r>0?i<a:i>a)&&(i+=r*Fn));for(var c,u=i;r>0?u>a:u<a;u-=l)c=Dm([o,-s*re(u),-s*te(u)]),e.point(c[0],c[1])}}function pT(e,t){t=b0(t),t[0]-=e,Lm(t);var n=gC(-t[1]);return((-t[2]<0?-n:n)+Fn-ue)%Fn}function sJ(){var e=yl([0,0]),t=yl(90),n=yl(6),r,i,a={point:o};function o(l,c){r.push(l=i(l,c)),l[0]*=Ve,l[1]*=Ve}function s(){var l=e.apply(this,arguments),c=t.apply(this,arguments)*de,u=n.apply(this,arguments)*de;return r=[],i=Q7(-l[0]*de,-l[1]*de,0).invert,DC(a,c,u,1),l={type:"Polygon",coordinates:[r]},r=i=null,l}return s.center=function(l){return arguments.length?(e=typeof l=="function"?l:yl([+l[0],+l[1]]),s):e},s.radius=function(l){return arguments.length?(t=typeof l=="function"?l:yl(+l),s):t},s.precision=function(l){return arguments.length?(n=typeof l=="function"?l:yl(+l),s):n},s}function LC(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:ut,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function W1(e,t){return Ee(e[0]-t[0])<ue&&Ee(e[1]-t[1])<ue}function Kh(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function FC(e,t,n,r,i){var a=[],o=[],s,l;if(e.forEach(function(m){if(!((g=m.length-1)<=0)){var g,p=m[0],y=m[g],b;if(W1(p,y)){if(!p[2]&&!y[2]){for(i.lineStart(),s=0;s<g;++s)i.point((p=m[s])[0],p[1]);i.lineEnd();return}y[0]+=2*ue}a.push(b=new Kh(p,m,null,!0)),o.push(b.o=new Kh(p,null,b,!1)),a.push(b=new Kh(y,m,null,!1)),o.push(b.o=new Kh(y,null,b,!0))}}),!!a.length){for(o.sort(t),gT(a),gT(o),s=0,l=o.length;s<l;++s)o[s].e=n=!n;for(var c=a[0],u,f;;){for(var d=c,h=!0;d.v;)if((d=d.n)===c)return;u=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(s=0,l=u.length;s<l;++s)i.point((f=u[s])[0],f[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(u=d.p.z,s=u.length-1;s>=0;--s)i.point((f=u[s])[0],f[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,u=d.z,h=!h}while(!d.v);i.lineEnd()}}}function gT(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function Ky(e){return Ee(e[0])<=Ae?e[0]:Sr(e[0])*((Ee(e[0])+Ae)%Fn-Ae)}function BC(e,t){var n=Ky(t),r=t[1],i=te(r),a=[te(n),-re(n),0],o=0,s=0,l=new kt;i===1?r=pt+ue:i===-1&&(r=-pt-ue);for(var c=0,u=e.length;c<u;++c)if(d=(f=e[c]).length)for(var f,d,h=f[d-1],m=Ky(h),g=h[1]/2+Em,p=te(g),y=re(g),b=0;b<d;++b,m=x,p=T,y=w,h=v){var v=f[b],x=Ky(v),_=v[1]/2+Em,T=te(_),w=re(_),S=x-m,C=S>=0?1:-1,M=C*S,A=M>Ae,L=p*T;if(l.add(Bn(L*C*te(M),y*w+L*re(M))),o+=A?S+C*Fn:S,A^m>=n^x>=n){var D=cc(b0(h),b0(v));Lm(D);var E=cc(a,D);Lm(E);var O=(A^S>=0?-1:1)*$n(E[2]);(r>O||r===O&&(D[0]||D[1]))&&(s+=A^S>=0?1:-1)}}return(o<-ue||o<ue&&l<-Xf)^s&1}function $C(e,t,n,r){return function(i){var a=t(i),o=LC(),s=t(o),l=!1,c,u,f,d={point:h,lineStart:g,lineEnd:p,polygonStart:function(){d.point=y,d.lineStart=b,d.lineEnd=v,u=[],c=[]},polygonEnd:function(){d.point=h,d.lineStart=g,d.lineEnd=p,u=b7(u);var x=BC(c,r);u.length?(l||(i.polygonStart(),l=!0),FC(u,cJ,x,n,i)):x&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(x,_){e(x,_)&&i.point(x,_)}function m(x,_){a.point(x,_)}function g(){d.point=m,a.lineStart()}function p(){d.point=h,a.lineEnd()}function y(x,_){f.push([x,_]),s.point(x,_)}function b(){s.lineStart(),f=[]}function v(){y(f[0][0],f[0][1]),s.lineEnd();var x=s.clean(),_=o.result(),T,w=_.length,S,C,M;if(f.pop(),c.push(f),f=null,!!w){if(x&1){if(C=_[0],(S=C.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),T=0;T<S;++T)i.point((M=C[T])[0],M[1]);i.lineEnd()}return}w>1&&x&2&&_.push(_.pop().concat(_.shift())),u.push(_.filter(lJ))}}return d}}function lJ(e){return e.length>1}function cJ(e,t){return((e=e.x)[0]<0?e[1]-pt-ue:pt-e[1])-((t=t.x)[0]<0?t[1]-pt-ue:pt-t[1])}const Jv=$C(function(){return!0},uJ,dJ,[-Ae,-pt]);function uJ(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,o){var s=a>0?Ae:-Ae,l=Ee(a-t);Ee(l-Ae)<ue?(e.point(t,n=(n+o)/2>0?pt:-pt),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),e.point(a,n),i=0):r!==s&&l>=Ae&&(Ee(t-r)<ue&&(t-=r*ue),Ee(a-s)<ue&&(a-=s*ue),n=fJ(t,n,a,o),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),i=0),e.point(t=a,n=o),r=s},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function fJ(e,t,n,r){var i,a,o=te(e-n);return Ee(o)>ue?qc((te(t)*(a=re(r))*te(n)-te(r)*(i=re(t))*te(e))/(i*a*o)):(t+r)/2}function dJ(e,t,n,r){var i;if(e==null)i=n*pt,r.point(-Ae,i),r.point(0,i),r.point(Ae,i),r.point(Ae,0),r.point(Ae,-i),r.point(0,-i),r.point(-Ae,-i),r.point(-Ae,0),r.point(-Ae,i);else if(Ee(e[0]-t[0])>ue){var a=e[0]<t[0]?Ae:-Ae;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function NC(e){var t=re(e),n=6*de,r=t>0,i=Ee(t)>ue;function a(u,f,d,h){DC(h,e,n,d,u,f)}function o(u,f){return re(u)*re(f)>t}function s(u){var f,d,h,m,g;return{lineStart:function(){m=h=!1,g=1},point:function(p,y){var b=[p,y],v,x=o(p,y),_=r?x?0:c(p,y):x?c(p+(p<0?Ae:-Ae),y):0;if(!f&&(m=h=x)&&u.lineStart(),x!==h&&(v=l(f,b),(!v||W1(f,v)||W1(b,v))&&(b[2]=1)),x!==h)g=0,x?(u.lineStart(),v=l(b,f),u.point(v[0],v[1])):(v=l(f,b),u.point(v[0],v[1],2),u.lineEnd()),f=v;else if(i&&f&&r^x){var T;!(_&d)&&(T=l(b,f,!0))&&(g=0,r?(u.lineStart(),u.point(T[0][0],T[0][1]),u.point(T[1][0],T[1][1]),u.lineEnd()):(u.point(T[1][0],T[1][1]),u.lineEnd(),u.lineStart(),u.point(T[0][0],T[0][1],3)))}x&&(!f||!W1(f,b))&&u.point(b[0],b[1]),f=b,h=x,d=_},lineEnd:function(){h&&u.lineEnd(),f=null},clean:function(){return g|(m&&h)<<1}}}function l(u,f,d){var h=b0(u),m=b0(f),g=[1,0,0],p=cc(h,m),y=Xh(p,p),b=p[0],v=y-b*b;if(!v)return!d&&u;var x=t*y/v,_=-t*b/v,T=cc(g,p),w=Jh(g,x),S=Jh(p,_);Jy(w,S);var C=T,M=Xh(w,C),A=Xh(C,C),L=M*M-A*(Xh(w,w)-1);if(!(L<0)){var D=Pt(L),E=Jh(C,(-M-D)/A);if(Jy(E,w),E=Dm(E),!d)return E;var O=u[0],k=f[0],F=u[1],$=f[1],N;k<O&&(N=O,O=k,k=N);var R=k-O,Y=Ee(R-Ae)<ue,K=Y||R<ue;if(!Y&&$<F&&(N=F,F=$,$=N),K?Y?F+$>0^E[1]<(Ee(E[0]-O)<ue?F:$):F<=E[1]&&E[1]<=$:R>Ae^(O<=E[0]&&E[0]<=k)){var me=Jh(C,(-M+D)/A);return Jy(me,w),[E,Dm(me)]}}}function c(u,f){var d=r?e:Ae-e,h=0;return u<-d?h|=1:u>d&&(h|=2),f<-d?h|=4:f>d&&(h|=8),h}return $C(o,s,a,r?[0,-e]:[-Ae,e-Ae])}function hJ(e,t,n,r,i,a){var o=e[0],s=e[1],l=t[0],c=t[1],u=0,f=1,d=l-o,h=c-s,m;if(m=n-o,!(!d&&m>0)){if(m/=d,d<0){if(m<u)return;m<f&&(f=m)}else if(d>0){if(m>f)return;m>u&&(u=m)}if(m=i-o,!(!d&&m<0)){if(m/=d,d<0){if(m>f)return;m>u&&(u=m)}else if(d>0){if(m<u)return;m<f&&(f=m)}if(m=r-s,!(!h&&m>0)){if(m/=h,h<0){if(m<u)return;m<f&&(f=m)}else if(h>0){if(m>f)return;m>u&&(u=m)}if(m=a-s,!(!h&&m<0)){if(m/=h,h<0){if(m>f)return;m>u&&(u=m)}else if(h>0){if(m<u)return;m<f&&(f=m)}return u>0&&(e[0]=o+u*d,e[1]=s+u*h),f<1&&(t[0]=o+f*d,t[1]=s+f*h),!0}}}}}var tf=1e9,Qh=-tf;function Tg(e,t,n,r){function i(c,u){return e<=c&&c<=n&&t<=u&&u<=r}function a(c,u,f,d){var h=0,m=0;if(c==null||(h=o(c,f))!==(m=o(u,f))||l(c,u)<0^f>0)do d.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+f+4)%4)!==m);else d.point(u[0],u[1])}function o(c,u){return Ee(c[0]-e)<ue?u>0?0:3:Ee(c[0]-n)<ue?u>0?2:1:Ee(c[1]-t)<ue?u>0?1:0:u>0?3:2}function s(c,u){return l(c.x,u.x)}function l(c,u){var f=o(c,1),d=o(u,1);return f!==d?f-d:f===0?u[1]-c[1]:f===1?c[0]-u[0]:f===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,f=LC(),d,h,m,g,p,y,b,v,x,_,T,w={point:S,lineStart:L,lineEnd:D,polygonStart:M,polygonEnd:A};function S(O,k){i(O,k)&&u.point(O,k)}function C(){for(var O=0,k=0,F=h.length;k<F;++k)for(var $=h[k],N=1,R=$.length,Y=$[0],K,me,pe=Y[0],fe=Y[1];N<R;++N)K=pe,me=fe,Y=$[N],pe=Y[0],fe=Y[1],me<=r?fe>r&&(pe-K)*(r-me)>(fe-me)*(e-K)&&++O:fe<=r&&(pe-K)*(r-me)<(fe-me)*(e-K)&&--O;return O}function M(){u=f,d=[],h=[],T=!0}function A(){var O=C(),k=T&&O,F=(d=b7(d)).length;(k||F)&&(c.polygonStart(),k&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),F&&FC(d,s,O,a,c),c.polygonEnd()),u=c,d=h=m=null}function L(){w.point=E,h&&h.push(m=[]),_=!0,x=!1,b=v=NaN}function D(){d&&(E(g,p),y&&x&&f.rejoin(),d.push(f.result())),w.point=S,x&&u.lineEnd()}function E(O,k){var F=i(O,k);if(h&&m.push([O,k]),_)g=O,p=k,y=F,_=!1,F&&(u.lineStart(),u.point(O,k));else if(F&&x)u.point(O,k);else{var $=[b=Math.max(Qh,Math.min(tf,b)),v=Math.max(Qh,Math.min(tf,v))],N=[O=Math.max(Qh,Math.min(tf,O)),k=Math.max(Qh,Math.min(tf,k))];hJ($,N,e,t,n,r)?(x||(u.lineStart(),u.point($[0],$[1])),u.point(N[0],N[1]),F||u.lineEnd(),T=!1):F&&(u.lineStart(),u.point(O,k),T=!1)}b=O,v=k,x=F}return w}}function mJ(){var e=0,t=0,n=960,r=500,i,a,o;return o={stream:function(s){return i&&a===s?i:i=Tg(e,t,n,r)(a=s)},extent:function(s){return arguments.length?(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1],i=a=null,o):[[e,t],[n,r]]}}}var Kv,Qv,H1,Y1,uc={sphere:ut,point:ut,lineStart:pJ,lineEnd:ut,polygonStart:ut,polygonEnd:ut};function pJ(){uc.point=yJ,uc.lineEnd=gJ}function gJ(){uc.point=uc.lineEnd=ut}function yJ(e,t){e*=de,t*=de,Qv=e,H1=te(t),Y1=re(t),uc.point=bJ}function bJ(e,t){e*=de,t*=de;var n=te(t),r=re(t),i=Ee(e-Qv),a=re(i),o=te(i),s=r*o,l=Y1*n-H1*r*a,c=H1*n+Y1*r*a;Kv.add(Bn(Pt(s*s+l*l),c)),Qv=e,H1=n,Y1=r}function IC(e){return Kv=new kt,Jr(e,uc),+Kv}var e3=[null,null],vJ={type:"LineString",coordinates:e3};function Pm(e,t){return e3[0]=e,e3[1]=t,IC(vJ)}var yT={Feature:function(e,t){return jm(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(jm(n[r].geometry,t))return!0;return!1}},bT={Sphere:function(){return!0},Point:function(e,t){return vT(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(vT(n[r],t))return!0;return!1},LineString:function(e,t){return xT(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(xT(n[r],t))return!0;return!1},Polygon:function(e,t){return _T(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(_T(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(jm(n[r],t))return!0;return!1}};function jm(e,t){return e&&bT.hasOwnProperty(e.type)?bT[e.type](e,t):!1}function vT(e,t){return Pm(e,t)===0}function xT(e,t){for(var n,r,i,a=0,o=e.length;a<o;a++){if(r=Pm(e[a],t),r===0||a>0&&(i=Pm(e[a],e[a-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Xf*i))return!0;n=r}return!1}function _T(e,t){return!!BC(e.map(xJ),ZC(t))}function xJ(e){return e=e.map(ZC),e.pop(),e}function ZC(e){return[e[0]*de,e[1]*de]}function _J(e,t){return(e&&yT.hasOwnProperty(e.type)?yT[e.type]:jm)(e,t)}function wT(e,t,n){var r=sn(e,t-ue,n).concat(t);return function(i){return r.map(function(a){return[i,a]})}}function TT(e,t,n){var r=sn(e,t-ue,n).concat(t);return function(i){return r.map(function(a){return[a,i]})}}function e8(){var e,t,n,r,i,a,o,s,l=10,c=l,u=90,f=360,d,h,m,g,p=2.5;function y(){return{type:"MultiLineString",coordinates:b()}}function b(){return sn(Vh(r/u)*u,n,u).map(m).concat(sn(Vh(s/f)*f,o,f).map(g)).concat(sn(Vh(t/l)*l,e,l).filter(function(v){return Ee(v%u)>ue}).map(d)).concat(sn(Vh(a/c)*c,i,c).filter(function(v){return Ee(v%f)>ue}).map(h))}return y.lines=function(){return b().map(function(v){return{type:"LineString",coordinates:v}})},y.outline=function(){return{type:"Polygon",coordinates:[m(r).concat(g(o).slice(1),m(n).reverse().slice(1),g(s).reverse().slice(1))]}},y.extent=function(v){return arguments.length?y.extentMajor(v).extentMinor(v):y.extentMinor()},y.extentMajor=function(v){return arguments.length?(r=+v[0][0],n=+v[1][0],s=+v[0][1],o=+v[1][1],r>n&&(v=r,r=n,n=v),s>o&&(v=s,s=o,o=v),y.precision(p)):[[r,s],[n,o]]},y.extentMinor=function(v){return arguments.length?(t=+v[0][0],e=+v[1][0],a=+v[0][1],i=+v[1][1],t>e&&(v=t,t=e,e=v),a>i&&(v=a,a=i,i=v),y.precision(p)):[[t,a],[e,i]]},y.step=function(v){return arguments.length?y.stepMajor(v).stepMinor(v):y.stepMinor()},y.stepMajor=function(v){return arguments.length?(u=+v[0],f=+v[1],y):[u,f]},y.stepMinor=function(v){return arguments.length?(l=+v[0],c=+v[1],y):[l,c]},y.precision=function(v){return arguments.length?(p=+v,d=wT(a,i,90),h=TT(t,e,p),m=wT(s,o,90),g=TT(r,n,p),y):p},y.extentMajor([[-180,-90+ue],[180,90-ue]]).extentMinor([[-180,-80-ue],[180,80+ue]])}function wJ(){return e8()()}function TJ(e,t){var n=e[0]*de,r=e[1]*de,i=t[0]*de,a=t[1]*de,o=re(r),s=te(r),l=re(a),c=te(a),u=o*re(n),f=o*te(n),d=l*re(i),h=l*te(i),m=2*$n(Pt(rT(a-r)+o*l*rT(i-n))),g=te(m),p=m?function(y){var b=te(y*=m)/g,v=te(m-y)/g,x=v*u+b*d,_=v*f+b*h,T=v*s+b*c;return[Bn(_,x)*Ve,Bn(T,Pt(x*x+_*_))*Ve]}:function(){return[n*Ve,r*Ve]};return p.distance=m,p}const Jf=e=>e;var Qy=new kt,t3=new kt,RC,PC,n3,r3,To={point:ut,lineStart:ut,lineEnd:ut,polygonStart:function(){To.lineStart=AJ,To.lineEnd=EJ},polygonEnd:function(){To.lineStart=To.lineEnd=To.point=ut,Qy.add(Ee(t3)),t3=new kt},result:function(){var e=Qy/2;return Qy=new kt,e}};function AJ(){To.point=SJ}function SJ(e,t){To.point=jC,RC=n3=e,PC=r3=t}function jC(e,t){t3.add(r3*e-n3*t),n3=e,r3=t}function EJ(){jC(RC,PC)}const AT=To;var fc=1/0,zm=fc,Kf=-fc,Gm=Kf,MJ={point:kJ,lineStart:ut,lineEnd:ut,polygonStart:ut,polygonEnd:ut,result:function(){var e=[[fc,zm],[Kf,Gm]];return Kf=Gm=-(zm=fc=1/0),e}};function kJ(e,t){e<fc&&(fc=e),e>Kf&&(Kf=e),t<zm&&(zm=t),t>Gm&&(Gm=t)}const Um=MJ;var i3=0,a3=0,nf=0,Wm=0,Hm=0,Fl=0,o3=0,s3=0,rf=0,zC,GC,Ni,Ii,Kr={point:v0,lineStart:ST,lineEnd:ET,polygonStart:function(){Kr.lineStart=DJ,Kr.lineEnd=LJ},polygonEnd:function(){Kr.point=v0,Kr.lineStart=ST,Kr.lineEnd=ET},result:function(){var e=rf?[o3/rf,s3/rf]:Fl?[Wm/Fl,Hm/Fl]:nf?[i3/nf,a3/nf]:[NaN,NaN];return i3=a3=nf=Wm=Hm=Fl=o3=s3=rf=0,e}};function v0(e,t){i3+=e,a3+=t,++nf}function ST(){Kr.point=OJ}function OJ(e,t){Kr.point=CJ,v0(Ni=e,Ii=t)}function CJ(e,t){var n=e-Ni,r=t-Ii,i=Pt(n*n+r*r);Wm+=i*(Ni+e)/2,Hm+=i*(Ii+t)/2,Fl+=i,v0(Ni=e,Ii=t)}function ET(){Kr.point=v0}function DJ(){Kr.point=FJ}function LJ(){UC(zC,GC)}function FJ(e,t){Kr.point=UC,v0(zC=Ni=e,GC=Ii=t)}function UC(e,t){var n=e-Ni,r=t-Ii,i=Pt(n*n+r*r);Wm+=i*(Ni+e)/2,Hm+=i*(Ii+t)/2,Fl+=i,i=Ii*e-Ni*t,o3+=i*(Ni+e),s3+=i*(Ii+t),rf+=i*3,v0(Ni=e,Ii=t)}const MT=Kr;function WC(e){this._context=e}WC.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Fn);break}}},result:ut};var l3=new kt,eb,HC,YC,af,of,Ym={point:ut,lineStart:function(){Ym.point=BJ},lineEnd:function(){eb&&qC(HC,YC),Ym.point=ut},polygonStart:function(){eb=!0},polygonEnd:function(){eb=null},result:function(){var e=+l3;return l3=new kt,e}};function BJ(e,t){Ym.point=qC,HC=af=e,YC=of=t}function qC(e,t){af-=e,of-=t,l3.add(Pt(af*af+of*of)),af=e,of=t}const kT=Ym;let OT,qm,CT,DT;class LT{constructor(t){this._append=t==null?VC:$J(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==CT||this._append!==qm){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,CT=r,qm=this._append,DT=this._,this._=i}this._+=DT;break}}}result(){const t=this._;return this._="",t.length?t:null}}function VC(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function $J(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return VC;if(t!==OT){const n=10**t;OT=t,qm=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return qm}function t8(e,t){let n=3,r=4.5,i,a;function o(s){return s&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),Jr(s,i(a))),a.result()}return o.area=function(s){return Jr(s,i(AT)),AT.result()},o.measure=function(s){return Jr(s,i(kT)),kT.result()},o.bounds=function(s){return Jr(s,i(Um)),Um.result()},o.centroid=function(s){return Jr(s,i(MT)),MT.result()},o.projection=function(s){return arguments.length?(i=s==null?(e=null,Jf):(e=s).stream,o):e},o.context=function(s){return arguments.length?(a=s==null?(t=null,new LT(n)):new WC(t=s),typeof r!="function"&&a.pointRadius(r),o):t},o.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(a.pointRadius(+s),+s),o):r},o.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const l=Math.floor(s);if(!(l>=0))throw new RangeError(`invalid digits: ${s}`);n=l}return t===null&&(a=new LT(n)),o},o.projection(e).digits(n).context(t)}function NJ(e){return{stream:jd(e)}}function jd(e){return function(t){var n=new c3;for(var r in e)n[r]=e[r];return n.stream=t,n}}function c3(){}c3.prototype={constructor:c3,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function n8(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Jr(n,e.stream(Um)),t(Um.result()),r!=null&&e.clipExtent(r),e}function Ag(e,t,n){return n8(e,function(r){var i=t[1][0]-t[0][0],a=t[1][1]-t[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),s=+t[0][0]+(i-o*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(a-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,l])},n)}function r8(e,t,n){return Ag(e,[[0,0],t],n)}function i8(e,t,n){return n8(e,function(r){var i=+t,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,s=-a*r[0][1];e.scale(150*a).translate([o,s])},n)}function a8(e,t,n){return n8(e,function(r){var i=+t,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],s=(i-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([o,s])},n)}var FT=16,IJ=re(30*de);function BT(e,t){return+t?RJ(e,t):ZJ(e)}function ZJ(e){return jd({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function RJ(e,t){function n(r,i,a,o,s,l,c,u,f,d,h,m,g,p){var y=c-r,b=u-i,v=y*y+b*b;if(v>4*t&&g--){var x=o+d,_=s+h,T=l+m,w=Pt(x*x+_*_+T*T),S=$n(T/=w),C=Ee(Ee(T)-1)<ue||Ee(a-f)<ue?(a+f)/2:Bn(_,x),M=e(C,S),A=M[0],L=M[1],D=A-r,E=L-i,O=b*D-y*E;(O*O/v>t||Ee((y*D+b*E)/v-.5)>.3||o*d+s*h+l*m<IJ)&&(n(r,i,a,o,s,l,A,L,C,x/=w,_/=w,T,g,p),p.point(A,L),n(A,L,C,x,_,T,c,u,f,d,h,m,g,p))}}return function(r){var i,a,o,s,l,c,u,f,d,h,m,g,p={point:y,lineStart:b,lineEnd:x,polygonStart:function(){r.polygonStart(),p.lineStart=_},polygonEnd:function(){r.polygonEnd(),p.lineStart=b}};function y(S,C){S=e(S,C),r.point(S[0],S[1])}function b(){f=NaN,p.point=v,r.lineStart()}function v(S,C){var M=b0([S,C]),A=e(S,C);n(f,d,u,h,m,g,f=A[0],d=A[1],u=S,h=M[0],m=M[1],g=M[2],FT,r),r.point(f,d)}function x(){p.point=y,r.lineEnd()}function _(){b(),p.point=T,p.lineEnd=w}function T(S,C){v(i=S,C),a=f,o=d,s=h,l=m,c=g,p.point=v}function w(){n(f,d,u,h,m,g,a,o,i,s,l,c,FT,r),p.lineEnd=x,x()}return p}}var PJ=jd({point:function(e,t){this.stream.point(e*de,t*de)}});function jJ(e){return jd({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function zJ(e,t,n,r,i){function a(o,s){return o*=r,s*=i,[t+e*o,n-e*s]}return a.invert=function(o,s){return[(o-t)/e*r,(n-s)/e*i]},a}function $T(e,t,n,r,i,a){if(!a)return zJ(e,t,n,r,i);var o=re(a),s=te(a),l=o*e,c=s*e,u=o/e,f=s/e,d=(s*n-o*t)/e,h=(s*t+o*n)/e;function m(g,p){return g*=r,p*=i,[l*g-c*p+t,n-c*g-l*p]}return m.invert=function(g,p){return[r*(u*g-f*p+d),i*(h-f*g-u*p)]},m}function Ti(e){return o8(function(){return e})()}function o8(e){var t,n=150,r=480,i=250,a=0,o=0,s=0,l=0,c=0,u,f=0,d=1,h=1,m=null,g=Jv,p=null,y,b,v,x=Jf,_=.5,T,w,S,C,M;function A(O){return S(O[0]*de,O[1]*de)}function L(O){return O=S.invert(O[0],O[1]),O&&[O[0]*Ve,O[1]*Ve]}A.stream=function(O){return C&&M===O?C:C=PJ(jJ(u)(g(T(x(M=O)))))},A.preclip=function(O){return arguments.length?(g=O,m=void 0,E()):g},A.postclip=function(O){return arguments.length?(x=O,p=y=b=v=null,E()):x},A.clipAngle=function(O){return arguments.length?(g=+O?NC(m=O*de):(m=null,Jv),E()):m*Ve},A.clipExtent=function(O){return arguments.length?(x=O==null?(p=y=b=v=null,Jf):Tg(p=+O[0][0],y=+O[0][1],b=+O[1][0],v=+O[1][1]),E()):p==null?null:[[p,y],[b,v]]},A.scale=function(O){return arguments.length?(n=+O,D()):n},A.translate=function(O){return arguments.length?(r=+O[0],i=+O[1],D()):[r,i]},A.center=function(O){return arguments.length?(a=O[0]%360*de,o=O[1]%360*de,D()):[a*Ve,o*Ve]},A.rotate=function(O){return arguments.length?(s=O[0]%360*de,l=O[1]%360*de,c=O.length>2?O[2]%360*de:0,D()):[s*Ve,l*Ve,c*Ve]},A.angle=function(O){return arguments.length?(f=O%360*de,D()):f*Ve},A.reflectX=function(O){return arguments.length?(d=O?-1:1,D()):d<0},A.reflectY=function(O){return arguments.length?(h=O?-1:1,D()):h<0},A.precision=function(O){return arguments.length?(T=BT(w,_=O*O),E()):Pt(_)},A.fitExtent=function(O,k){return Ag(A,O,k)},A.fitSize=function(O,k){return r8(A,O,k)},A.fitWidth=function(O,k){return i8(A,O,k)},A.fitHeight=function(O,k){return a8(A,O,k)};function D(){var O=$T(n,0,0,d,h,f).apply(null,t(a,o)),k=$T(n,r-O[0],i-O[1],d,h,f);return u=Q7(s,l,c),w=Vv(t,k),S=Vv(u,w),T=BT(w,_),E()}function E(){return C=M=null,A}return function(){return t=e.apply(this,arguments),A.invert=t.invert&&L,D()}}function s8(e){var t=0,n=Ae/3,r=o8(e),i=r(t,n);return i.parallels=function(a){return arguments.length?r(t=a[0]*de,n=a[1]*de):[t*Ve,n*Ve]},i}function GJ(e){var t=re(e);function n(r,i){return[r*t,te(i)/t]}return n.invert=function(r,i){return[r/t,$n(i*t)]},n}function XC(e,t){var n=te(e),r=(n+te(t))/2;if(Ee(r)<ue)return GJ(e);var i=1+n*(2*r-n),a=Pt(i)/r;function o(s,l){var c=Pt(i-2*r*te(l))/r;return[c*te(s*=r),a-c*re(s)]}return o.invert=function(s,l){var c=a-l,u=Bn(s,Ee(c))*Sr(c);return c*r<0&&(u-=Ae*Sr(s)*Sr(c)),[u/r,$n((i-(s*s+c*c)*r*r)/(2*r))]},o}function Qf(){return s8(XC).scale(155.424).center([0,33.6442])}function l8(){return Qf().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function UJ(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function JC(){var e,t,n=l8(),r,i=Qf().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=Qf().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,l,c={point:function(d,h){l=[d,h]}};function u(d){var h=d[0],m=d[1];return l=null,r.point(h,m),l||(a.point(h,m),l)||(s.point(h,m),l)}u.invert=function(d){var h=n.scale(),m=n.translate(),g=(d[0]-m[0])/h,p=(d[1]-m[1])/h;return(p>=.12&&p<.234&&g>=-.425&&g<-.214?i:p>=.166&&p<.234&&g>=-.214&&g<-.115?o:n).invert(d)},u.stream=function(d){return e&&t===d?e:e=UJ([n.stream(t=d),i.stream(d),o.stream(d)])},u.precision=function(d){return arguments.length?(n.precision(d),i.precision(d),o.precision(d),f()):n.precision()},u.scale=function(d){return arguments.length?(n.scale(d),i.scale(d*.35),o.scale(d),u.translate(n.translate())):n.scale()},u.translate=function(d){if(!arguments.length)return n.translate();var h=n.scale(),m=+d[0],g=+d[1];return r=n.translate(d).clipExtent([[m-.455*h,g-.238*h],[m+.455*h,g+.238*h]]).stream(c),a=i.translate([m-.307*h,g+.201*h]).clipExtent([[m-.425*h+ue,g+.12*h+ue],[m-.214*h-ue,g+.234*h-ue]]).stream(c),s=o.translate([m-.205*h,g+.212*h]).clipExtent([[m-.214*h+ue,g+.166*h+ue],[m-.115*h-ue,g+.234*h-ue]]).stream(c),f()},u.fitExtent=function(d,h){return Ag(u,d,h)},u.fitSize=function(d,h){return r8(u,d,h)},u.fitWidth=function(d,h){return i8(u,d,h)},u.fitHeight=function(d,h){return a8(u,d,h)};function f(){return e=t=null,u}return u.scale(1070)}function KC(e){return function(t,n){var r=re(t),i=re(n),a=e(r*i);return a===1/0?[2,0]:[a*i*te(t),a*te(n)]}}function zd(e){return function(t,n){var r=Pt(t*t+n*n),i=e(r),a=te(i),o=re(i);return[Bn(t*a,r*o),$n(r&&n*a/r)]}}var c8=KC(function(e){return Pt(2/(1+e))});c8.invert=zd(function(e){return 2*$n(e/2)});function QC(){return Ti(c8).scale(124.75).clipAngle(180-.001)}var u8=KC(function(e){return(e=gC(e))&&e/te(e)});u8.invert=zd(function(e){return e});function eD(){return Ti(u8).scale(79.4188).clipAngle(180-.001)}function Gd(e,t){return[e,Mm(J7((pt+t)/2))]}Gd.invert=function(e,t){return[e,2*qc(pC(t))-pt]};function tD(){return nD(Gd).scale(961/Fn)}function nD(e){var t=Ti(e),n=t.center,r=t.scale,i=t.translate,a=t.clipExtent,o=null,s,l,c;t.scale=function(f){return arguments.length?(r(f),u()):r()},t.translate=function(f){return arguments.length?(i(f),u()):i()},t.center=function(f){return arguments.length?(n(f),u()):n()},t.clipExtent=function(f){return arguments.length?(f==null?o=s=l=c=null:(o=+f[0][0],s=+f[0][1],l=+f[1][0],c=+f[1][1]),u()):o==null?null:[[o,s],[l,c]]};function u(){var f=Ae*r(),d=t(CC(t.rotate()).invert([0,0]));return a(o==null?[[d[0]-f,d[1]-f],[d[0]+f,d[1]+f]]:e===Gd?[[Math.max(d[0]-f,o),s],[Math.min(d[0]+f,l),c]]:[[o,Math.max(d[1]-f,s)],[l,Math.min(d[1]+f,c)]])}return u()}function e1(e){return J7((pt+e)/2)}function rD(e,t){var n=re(e),r=e===t?te(e):Mm(n/re(t))/Mm(e1(t)/e1(e)),i=n*Xy(e1(e),r)/r;if(!r)return Gd;function a(o,s){i>0?s<-pt+ue&&(s=-pt+ue):s>pt-ue&&(s=pt-ue);var l=i/Xy(e1(s),r);return[l*te(r*o),i-l*re(r*o)]}return a.invert=function(o,s){var l=i-s,c=Sr(r)*Pt(o*o+l*l),u=Bn(o,Ee(l))*Sr(l);return l*r<0&&(u-=Ae*Sr(o)*Sr(l)),[u/r,2*qc(Xy(i/c,1/r))-pt]},a}function iD(){return s8(rD).scale(109.5).parallels([30,30])}function ed(e,t){return[e,t]}ed.invert=ed;function aD(){return Ti(ed).scale(152.63)}function oD(e,t){var n=re(e),r=e===t?te(e):(n-re(t))/(t-e),i=n/r+e;if(Ee(r)<ue)return ed;function a(o,s){var l=i-s,c=r*o;return[l*te(c),i-l*re(c)]}return a.invert=function(o,s){var l=i-s,c=Bn(o,Ee(l))*Sr(l);return l*r<0&&(c-=Ae*Sr(o)*Sr(l)),[c/r,i-Sr(r)*Pt(o*o+l*l)]},a}function sD(){return s8(oD).scale(131.154).center([0,13.9389])}var Sf=1.340264,Ef=-.081106,Mf=893e-6,kf=.003796,Vm=Pt(3)/2,WJ=12;function f8(e,t){var n=$n(Vm*te(t)),r=n*n,i=r*r*r;return[e*re(n)/(Vm*(Sf+3*Ef*r+i*(7*Mf+9*kf*r))),n*(Sf+Ef*r+i*(Mf+kf*r))]}f8.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,a=0,o,s,l;a<WJ&&(s=n*(Sf+Ef*r+i*(Mf+kf*r))-t,l=Sf+3*Ef*r+i*(7*Mf+9*kf*r),n-=o=s/l,r=n*n,i=r*r*r,!(Ee(o)<Xf));++a);return[Vm*e*(Sf+3*Ef*r+i*(7*Mf+9*kf*r))/re(n),$n(te(n)/Vm)]};function lD(){return Ti(f8).scale(177.158)}function d8(e,t){var n=re(t),r=re(e)*n;return[n*te(e)/r,te(t)/r]}d8.invert=zd(qc);function cD(){return Ti(d8).scale(144.049).clipAngle(60)}function uD(){var e=1,t=0,n=0,r=1,i=1,a=0,o,s,l=null,c,u,f,d=1,h=1,m=jd({point:function(x,_){var T=v([x,_]);this.stream.point(T[0],T[1])}}),g=Jf,p,y;function b(){return d=e*r,h=e*i,p=y=null,v}function v(x){var _=x[0]*d,T=x[1]*h;if(a){var w=T*o-_*s;_=_*o+T*s,T=w}return[_+t,T+n]}return v.invert=function(x){var _=x[0]-t,T=x[1]-n;if(a){var w=T*o+_*s;_=_*o-T*s,T=w}return[_/d,T/h]},v.stream=function(x){return p&&y===x?p:p=m(g(y=x))},v.postclip=function(x){return arguments.length?(g=x,l=c=u=f=null,b()):g},v.clipExtent=function(x){return arguments.length?(g=x==null?(l=c=u=f=null,Jf):Tg(l=+x[0][0],c=+x[0][1],u=+x[1][0],f=+x[1][1]),b()):l==null?null:[[l,c],[u,f]]},v.scale=function(x){return arguments.length?(e=+x,b()):e},v.translate=function(x){return arguments.length?(t=+x[0],n=+x[1],b()):[t,n]},v.angle=function(x){return arguments.length?(a=x%360*de,s=te(a),o=re(a),b()):a*Ve},v.reflectX=function(x){return arguments.length?(r=x?-1:1,b()):r<0},v.reflectY=function(x){return arguments.length?(i=x?-1:1,b()):i<0},v.fitExtent=function(x,_){return Ag(v,x,_)},v.fitSize=function(x,_){return r8(v,x,_)},v.fitWidth=function(x,_){return i8(v,x,_)},v.fitHeight=function(x,_){return a8(v,x,_)},v}function h8(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}h8.invert=function(e,t){var n=t,r=25,i;do{var a=n*n,o=a*a;n-=i=(n*(1.007226+a*(.015085+o*(-.044475+.028874*a-.005916*o)))-t)/(1.007226+a*(.015085*3+o*(-.044475*7+.028874*9*a-.005916*11*o)))}while(Ee(i)>ue&&--r>0);return[e/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function fD(){return Ti(h8).scale(175.295)}function m8(e,t){return[re(t)*te(e),te(t)]}m8.invert=zd($n);function dD(){return Ti(m8).scale(249.5).clipAngle(90+ue)}function p8(e,t){var n=re(t),r=1+re(e)*n;return[n*te(e)/r,te(t)/r]}p8.invert=zd(function(e){return 2*qc(e)});function hD(){return Ti(p8).scale(250).clipAngle(142)}function g8(e,t){return[Mm(J7((pt+t)/2)),-e]}g8.invert=function(e,t){return[-t,2*qc(pC(e))-pt]};function mD(){var e=nD(g8),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function HJ(e,t){return e.parent===t.parent?1:2}function YJ(e){return e.reduce(qJ,0)/e.length}function qJ(e,t){return e+t.x}function VJ(e){return 1+e.reduce(XJ,0)}function XJ(e,t){return Math.max(e,t.y)}function JJ(e){for(var t;t=e.children;)e=t[0];return e}function KJ(e){for(var t;t=e.children;)e=t[t.length-1];return e}function pD(){var e=HJ,t=1,n=1,r=!1;function i(a){var o,s=0;a.eachAfter(function(d){var h=d.children;h?(d.x=YJ(h),d.y=VJ(h)):(d.x=o?s+=e(d,o):0,d.y=0,o=d)});var l=JJ(a),c=KJ(a),u=l.x-e(l,c)/2,f=c.x+e(c,l)/2;return a.eachAfter(r?function(d){d.x=(d.x-a.x)*t,d.y=(a.y-d.y)*n}:function(d){d.x=(d.x-u)/(f-u)*t,d.y=(1-(a.y?d.y/a.y:1))*n})}return i.separation=function(a){return arguments.length?(e=a,i):e},i.size=function(a){return arguments.length?(r=!1,t=+a[0],n=+a[1],i):r?null:[t,n]},i.nodeSize=function(a){return arguments.length?(r=!0,t=+a[0],n=+a[1],i):r?[t,n]:null},i}function QJ(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function eK(){return this.eachAfter(QJ)}function tK(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function nK(e,t){for(var n=this,r=[n],i,a,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function rK(e,t){for(var n=this,r=[n],i=[],a,o,s,l=-1;n=r.pop();)if(i.push(n),a=n.children)for(o=0,s=a.length;o<s;++o)r.push(a[o]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function iK(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function aK(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function oK(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function sK(e){for(var t=this,n=lK(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function lK(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function cK(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function uK(){return Array.from(this)}function fK(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function dK(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*hK(){var e=this,t,n=[e],r,i,a;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);while(n.length)}function Sg(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=gK)):t===void 0&&(t=pK);for(var n=new x0(e),r,i=[n],a,o,s,l;r=i.pop();)if((o=t(r.data))&&(l=(o=Array.from(o)).length))for(r.children=o,s=l-1;s>=0;--s)i.push(a=o[s]=new x0(o[s])),a.parent=r,a.depth=r.depth+1;return n.eachBefore(gD)}function mK(){return Sg(this).eachBefore(yK)}function pK(e){return e.children}function gK(e){return Array.isArray(e)?e[1]:null}function yK(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function gD(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function x0(e){this.data=e,this.depth=this.height=0,this.parent=null}x0.prototype=Sg.prototype={constructor:x0,count:eK,each:tK,eachAfter:rK,eachBefore:nK,find:iK,sum:aK,sort:oK,path:sK,ancestors:cK,descendants:uK,leaves:fK,links:dK,copy:mK,[Symbol.iterator]:hK};function q1(e){return e==null?null:yD(e)}function yD(e){if(typeof e!="function")throw new Error;return e}function Gs(){return 0}function Cl(e){return function(){return e}}const bK=1664525,vK=1013904223,NT=4294967296;function y8(){let e=1;return()=>(e=(bK*e+vK)%NT)/NT}function xK(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function _K(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function wK(e){return bD(e,y8())}function bD(e,t){for(var n=0,r=(e=_K(Array.from(e),t)).length,i=[],a,o;n<r;)a=e[n],o&&vD(o,a)?++n:(o=AK(i=TK(i,a)),n=0);return o}function TK(e,t){var n,r;if(tb(t,e))return[t];for(n=0;n<e.length;++n)if(t1(t,e[n])&&tb(sf(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(t1(sf(e[n],e[r]),t)&&t1(sf(e[n],t),e[r])&&t1(sf(e[r],t),e[n])&&tb(xD(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function t1(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function vD(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function tb(e,t){for(var n=0;n<t.length;++n)if(!vD(e,t[n]))return!1;return!0}function AK(e){switch(e.length){case 1:return SK(e[0]);case 2:return sf(e[0],e[1]);case 3:return xD(e[0],e[1],e[2])}}function SK(e){return{x:e.x,y:e.y,r:e.r}}function sf(e,t){var n=e.x,r=e.y,i=e.r,a=t.x,o=t.y,s=t.r,l=a-n,c=o-r,u=s-i,f=Math.sqrt(l*l+c*c);return{x:(n+a+l/f*u)/2,y:(r+o+c/f*u)/2,r:(f+i+s)/2}}function xD(e,t,n){var r=e.x,i=e.y,a=e.r,o=t.x,s=t.y,l=t.r,c=n.x,u=n.y,f=n.r,d=r-o,h=r-c,m=i-s,g=i-u,p=l-a,y=f-a,b=r*r+i*i-a*a,v=b-o*o-s*s+l*l,x=b-c*c-u*u+f*f,_=h*m-d*g,T=(m*x-g*v)/(_*2)-r,w=(g*p-m*y)/_,S=(h*v-d*x)/(_*2)-i,C=(d*y-h*p)/_,M=w*w+C*C-1,A=2*(a+T*w+S*C),L=T*T+S*S-a*a,D=-(Math.abs(M)>1e-6?(A+Math.sqrt(A*A-4*M*L))/(2*M):L/A);return{x:r+T+w*D,y:i+S+C*D,r:D}}function IT(e,t,n){var r=e.x-t.x,i,a,o=e.y-t.y,s,l,c=r*r+o*o;c?(a=t.r+n.r,a*=a,l=e.r+n.r,l*=l,a>l?(i=(c+l-a)/(2*c),s=Math.sqrt(Math.max(0,l/c-i*i)),n.x=e.x-i*r-s*o,n.y=e.y-i*o+s*r):(i=(c+a-l)/(2*c),s=Math.sqrt(Math.max(0,a/c-i*i)),n.x=t.x+i*r-s*o,n.y=t.y+i*o+s*r)):(n.x=t.x+n.r,n.y=t.y)}function ZT(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function RT(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,a=(t.y*n.r+n.y*t.r)/r;return i*i+a*a}function n1(e){this._=e,this.next=null,this.previous=null}function _D(e,t){if(!(a=(e=xK(e)).length))return 0;var n,r,i,a,o,s,l,c,u,f,d;if(n=e[0],n.x=0,n.y=0,!(a>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(a>2))return n.r+r.r;IT(r,n,i=e[2]),n=new n1(n),r=new n1(r),i=new n1(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<a;++l){IT(n._,r._,i=e[l]),i=new n1(i),c=r.next,u=n.previous,f=r._.r,d=n._.r;do if(f<=d){if(ZT(c._,i._)){r=c,n.next=r,r.previous=n,--l;continue e}f+=c._.r,c=c.next}else{if(ZT(u._,i._)){n=u,n.next=r,r.previous=n,--l;continue e}d+=u._.r,u=u.previous}while(c!==u.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=RT(n);(i=i.next)!==r;)(s=RT(i))<o&&(n=i,o=s);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=bD(n,t),l=0;l<a;++l)n=e[l],n.x-=i.x,n.y-=i.y;return i.r}function EK(e){return _D(e,y8()),e}function MK(e){return Math.sqrt(e.value)}function wD(){var e=null,t=1,n=1,r=Gs;function i(a){const o=y8();return a.x=t/2,a.y=n/2,e?a.eachBefore(PT(e)).eachAfter(nb(r,.5,o)).eachBefore(jT(1)):a.eachBefore(PT(MK)).eachAfter(nb(Gs,1,o)).eachAfter(nb(r,a.r/Math.min(t,n),o)).eachBefore(jT(Math.min(t,n)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(e=q1(a),i):e},i.size=function(a){return arguments.length?(t=+a[0],n=+a[1],i):[t,n]},i.padding=function(a){return arguments.length?(r=typeof a=="function"?a:Cl(+a),i):r},i}function PT(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function nb(e,t,n){return function(r){if(i=r.children){var i,a,o=i.length,s=e(r)*t||0,l;if(s)for(a=0;a<o;++a)i[a].r+=s;if(l=_D(i,n),s)for(a=0;a<o;++a)i[a].r-=s;r.r=l+s}}}function jT(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function TD(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Vc(e,t,n,r,i){for(var a=e.children,o,s=-1,l=a.length,c=e.value&&(r-t)/e.value;++s<l;)o=a[s],o.y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*c}function AD(){var e=1,t=1,n=0,r=!1;function i(o){var s=o.height+1;return o.x0=o.y0=n,o.x1=e,o.y1=t/s,o.eachBefore(a(t,s)),r&&o.eachBefore(TD),o}function a(o,s){return function(l){l.children&&Vc(l,l.x0,o*(l.depth+1)/s,l.x1,o*(l.depth+2)/s);var c=l.x0,u=l.y0,f=l.x1-n,d=l.y1-n;f<c&&(c=f=(c+f)/2),d<u&&(u=d=(u+d)/2),l.x0=c,l.y0=u,l.x1=f,l.y1=d}}return i.round=function(o){return arguments.length?(r=!!o,i):r},i.size=function(o){return arguments.length?(e=+o[0],t=+o[1],i):[e,t]},i.padding=function(o){return arguments.length?(n=+o,i):n},i}var kK={depth:-1},zT={},rb={};function OK(e){return e.id}function CK(e){return e.parentId}function u3(){var e=OK,t=CK,n;function r(i){var a=Array.from(i),o=e,s=t,l,c,u,f,d,h,m,g,p=new Map;if(n!=null){const y=a.map((x,_)=>DK(n(x,_,i))),b=y.map(GT),v=new Set(y).add("");for(const x of b)v.has(x)||(v.add(x),y.push(x),b.push(GT(x)),a.push(rb));o=(x,_)=>y[_],s=(x,_)=>b[_]}for(u=0,l=a.length;u<l;++u)c=a[u],h=a[u]=new x0(c),(m=o(c,u,i))!=null&&(m+="")&&(g=h.id=m,p.set(g,p.has(g)?zT:h)),(m=s(c,u,i))!=null&&(m+="")&&(h.parent=m);for(u=0;u<l;++u)if(h=a[u],m=h.parent){if(d=p.get(m),!d)throw new Error("missing: "+m);if(d===zT)throw new Error("ambiguous: "+m);d.children?d.children.push(h):d.children=[h],h.parent=d}else{if(f)throw new Error("multiple roots");f=h}if(!f)throw new Error("no root");if(n!=null){for(;f.data===rb&&f.children.length===1;)f=f.children[0],--l;for(let y=a.length-1;y>=0&&(h=a[y],h.data===rb);--y)h.data=null}if(f.parent=kK,f.eachBefore(function(y){y.depth=y.parent.depth+1,--l}).eachBefore(gD),f.parent=null,l>0)throw new Error("cycle");return f}return r.id=function(i){return arguments.length?(e=q1(i),r):e},r.parentId=function(i){return arguments.length?(t=q1(i),r):t},r.path=function(i){return arguments.length?(n=q1(i),r):n},r}function DK(e){e=`${e}`;let t=e.length;return f3(e,t-1)&&!f3(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function GT(e){let t=e.length;if(t<2)return"";for(;--t>1&&!f3(e,t););return e.slice(0,t)}function f3(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if(!(n&1))return!0}return!1}function LK(e,t){return e.parent===t.parent?1:2}function ib(e){var t=e.children;return t?t[0]:e.t}function ab(e){var t=e.children;return t?t[t.length-1]:e.t}function FK(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function BK(e){for(var t=0,n=0,r=e.children,i=r.length,a;--i>=0;)a=r[i],a.z+=t,a.m+=t,t+=a.s+(n+=a.c)}function $K(e,t,n){return e.a.parent===t.parent?e.a:n}function V1(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}V1.prototype=Object.create(x0.prototype);function NK(e){for(var t=new V1(e,0),n,r=[t],i,a,o,s;n=r.pop();)if(a=n._.children)for(n.children=new Array(s=a.length),o=s-1;o>=0;--o)r.push(i=n.children[o]=new V1(a[o],o)),i.parent=n;return(t.parent=new V1(null,0)).children=[t],t}function SD(){var e=LK,t=1,n=1,r=null;function i(c){var u=NK(c);if(u.eachAfter(a),u.parent.m=-u.z,u.eachBefore(o),r)c.eachBefore(l);else{var f=c,d=c,h=c;c.eachBefore(function(b){b.x<f.x&&(f=b),b.x>d.x&&(d=b),b.depth>h.depth&&(h=b)});var m=f===d?1:e(f,d)/2,g=m-f.x,p=t/(d.x+m+g),y=n/(h.depth||1);c.eachBefore(function(b){b.x=(b.x+g)*p,b.y=b.depth*y})}return c}function a(c){var u=c.children,f=c.parent.children,d=c.i?f[c.i-1]:null;if(u){BK(c);var h=(u[0].z+u[u.length-1].z)/2;d?(c.z=d.z+e(c._,d._),c.m=c.z-h):c.z=h}else d&&(c.z=d.z+e(c._,d._));c.parent.A=s(c,d,c.parent.A||f[0])}function o(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function s(c,u,f){if(u){for(var d=c,h=c,m=u,g=d.parent.children[0],p=d.m,y=h.m,b=m.m,v=g.m,x;m=ab(m),d=ib(d),m&&d;)g=ib(g),h=ab(h),h.a=c,x=m.z+b-d.z-p+e(m._,d._),x>0&&(FK($K(m,c,f),c,x),p+=x,y+=x),b+=m.m,p+=d.m,v+=g.m,y+=h.m;m&&!ab(h)&&(h.t=m,h.m+=b-y),d&&!ib(g)&&(g.t=d,g.m+=p-v,f=c)}return f}function l(c){c.x*=t,c.y=c.depth*n}return i.separation=function(c){return arguments.length?(e=c,i):e},i.size=function(c){return arguments.length?(r=!1,t=+c[0],n=+c[1],i):r?null:[t,n]},i.nodeSize=function(c){return arguments.length?(r=!0,t=+c[0],n=+c[1],i):r?[t,n]:null},i}function Ud(e,t,n,r,i){for(var a=e.children,o,s=-1,l=a.length,c=e.value&&(i-n)/e.value;++s<l;)o=a[s],o.x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*c}var ED=(1+Math.sqrt(5))/2;function MD(e,t,n,r,i,a){for(var o=[],s=t.children,l,c,u=0,f=0,d=s.length,h,m,g=t.value,p,y,b,v,x,_,T;u<d;){h=i-n,m=a-r;do p=s[f++].value;while(!p&&f<d);for(y=b=p,_=Math.max(m/h,h/m)/(g*e),T=p*p*_,x=Math.max(b/T,T/y);f<d;++f){if(p+=c=s[f].value,c<y&&(y=c),c>b&&(b=c),T=p*p*_,v=Math.max(b/T,T/y),v>x){p-=c;break}x=v}o.push(l={value:p,dice:h<m,children:s.slice(u,f)}),l.dice?Vc(l,n,r,i,g?r+=m*p/g:a):Ud(l,n,r,g?n+=h*p/g:i,a),g-=p,u=f}return o}const b8=function e(t){function n(r,i,a,o,s){MD(t,r,i,a,o,s)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(ED);function kD(){var e=b8,t=!1,n=1,r=1,i=[0],a=Gs,o=Gs,s=Gs,l=Gs,c=Gs;function u(d){return d.x0=d.y0=0,d.x1=n,d.y1=r,d.eachBefore(f),i=[0],t&&d.eachBefore(TD),d}function f(d){var h=i[d.depth],m=d.x0+h,g=d.y0+h,p=d.x1-h,y=d.y1-h;p<m&&(m=p=(m+p)/2),y<g&&(g=y=(g+y)/2),d.x0=m,d.y0=g,d.x1=p,d.y1=y,d.children&&(h=i[d.depth+1]=a(d)/2,m+=c(d)-h,g+=o(d)-h,p-=s(d)-h,y-=l(d)-h,p<m&&(m=p=(m+p)/2),y<g&&(g=y=(g+y)/2),e(d,m,g,p,y))}return u.round=function(d){return arguments.length?(t=!!d,u):t},u.size=function(d){return arguments.length?(n=+d[0],r=+d[1],u):[n,r]},u.tile=function(d){return arguments.length?(e=yD(d),u):e},u.padding=function(d){return arguments.length?u.paddingInner(d).paddingOuter(d):u.paddingInner()},u.paddingInner=function(d){return arguments.length?(a=typeof d=="function"?d:Cl(+d),u):a},u.paddingOuter=function(d){return arguments.length?u.paddingTop(d).paddingRight(d).paddingBottom(d).paddingLeft(d):u.paddingTop()},u.paddingTop=function(d){return arguments.length?(o=typeof d=="function"?d:Cl(+d),u):o},u.paddingRight=function(d){return arguments.length?(s=typeof d=="function"?d:Cl(+d),u):s},u.paddingBottom=function(d){return arguments.length?(l=typeof d=="function"?d:Cl(+d),u):l},u.paddingLeft=function(d){return arguments.length?(c=typeof d=="function"?d:Cl(+d),u):c},u}function OD(e,t,n,r,i){var a=e.children,o,s=a.length,l,c=new Array(s+1);for(c[0]=l=o=0;o<s;++o)c[o+1]=l+=a[o].value;u(0,s,e.value,t,n,r,i);function u(f,d,h,m,g,p,y){if(f>=d-1){var b=a[f];b.x0=m,b.y0=g,b.x1=p,b.y1=y;return}for(var v=c[f],x=h/2+v,_=f+1,T=d-1;_<T;){var w=_+T>>>1;c[w]<x?_=w+1:T=w}x-c[_-1]<c[_]-x&&f+1<_&&--_;var S=c[_]-v,C=h-S;if(p-m>y-g){var M=h?(m*C+p*S)/h:p;u(f,_,S,m,g,M,y),u(_,d,C,M,g,p,y)}else{var A=h?(g*C+y*S)/h:y;u(f,_,S,m,g,p,A),u(_,d,C,m,A,p,y)}}}function CD(e,t,n,r,i){(e.depth&1?Ud:Vc)(e,t,n,r,i)}const DD=function e(t){function n(r,i,a,o,s){if((l=r._squarify)&&l.ratio===t)for(var l,c,u,f,d=-1,h,m=l.length,g=r.value;++d<m;){for(c=l[d],u=c.children,f=c.value=0,h=u.length;f<h;++f)c.value+=u[f].value;c.dice?Vc(c,i,a,o,g?a+=(s-a)*c.value/g:s):Ud(c,i,a,g?i+=(o-i)*c.value/g:o,s),g-=c.value}else r._squarify=l=MD(t,r,i,a,o,s),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(ED);function IK(e){for(var t=-1,n=e.length,r,i=e[n-1],a=0;++t<n;)r=i,i=e[t],a+=r[1]*i[0]-r[0]*i[1];return a/2}function ZK(e){for(var t=-1,n=e.length,r=0,i=0,a,o=e[n-1],s,l=0;++t<n;)a=o,o=e[t],l+=s=a[0]*o[1]-o[0]*a[1],r+=(a[0]+o[0])*s,i+=(a[1]+o[1])*s;return l*=3,[r/l,i/l]}function RK(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function PK(e,t){return e[0]-t[0]||e[1]-t[1]}function UT(e){const t=e.length,n=[0,1];let r=2,i;for(i=2;i<t;++i){for(;r>1&&RK(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function jK(e){if((n=e.length)<3)return null;var t,n,r=new Array(n),i=new Array(n);for(t=0;t<n;++t)r[t]=[+e[t][0],+e[t][1],t];for(r.sort(PK),t=0;t<n;++t)i[t]=[r[t][0],-r[t][1]];var a=UT(r),o=UT(i),s=o[0]===a[0],l=o[o.length-1]===a[a.length-1],c=[];for(t=a.length-1;t>=0;--t)c.push(e[r[a[t]][2]]);for(t=+s;t<o.length-l;++t)c.push(e[r[o[t]][2]]);return c}function zK(e,t){for(var n=e.length,r=e[n-1],i=t[0],a=t[1],o=r[0],s=r[1],l,c,u=!1,f=0;f<n;++f)r=e[f],l=r[0],c=r[1],c>a!=s>a&&i<(o-l)*(a-c)/(s-c)+l&&(u=!u),o=l,s=c;return u}function GK(e){for(var t=-1,n=e.length,r=e[n-1],i,a,o=r[0],s=r[1],l=0;++t<n;)i=o,a=s,r=e[t],o=r[0],s=r[1],i-=o,a-=s,l+=Math.hypot(i,a);return l}const Vt=Math.random,UK=function e(t){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,arguments.length===1?(i=r,r=0):i-=r,function(){return t()*i+r}}return n.source=e,n}(Vt),WK=function e(t){function n(r,i){return arguments.length<2&&(i=r,r=0),r=Math.floor(r),i=Math.floor(i)-r,function(){return Math.floor(t()*i+r)}}return n.source=e,n}(Vt),v8=function e(t){function n(r,i){var a,o;return r=r==null?0:+r,i=i==null?1:+i,function(){var s;if(a!=null)s=a,a=null;else do a=t()*2-1,s=t()*2-1,o=a*a+s*s;while(!o||o>1);return r+i*s*Math.sqrt(-2*Math.log(o)/o)}}return n.source=e,n}(Vt),HK=function e(t){var n=v8.source(t);function r(){var i=n.apply(this,arguments);return function(){return Math.exp(i())}}return r.source=e,r}(Vt),LD=function e(t){function n(r){return(r=+r)<=0?()=>0:function(){for(var i=0,a=r;a>1;--a)i+=t();return i+a*t()}}return n.source=e,n}(Vt),YK=function e(t){var n=LD.source(t);function r(i){if((i=+i)==0)return t;var a=n(i);return function(){return a()/i}}return r.source=e,r}(Vt),qK=function e(t){function n(r){return function(){return-Math.log1p(-t())/r}}return n.source=e,n}(Vt),VK=function e(t){function n(r){if((r=+r)<0)throw new RangeError("invalid alpha");return r=1/-r,function(){return Math.pow(1-t(),r)}}return n.source=e,n}(Vt),XK=function e(t){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+r)}}return n.source=e,n}(Vt),FD=function e(t){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return r===0?()=>1/0:r===1?()=>1:(r=Math.log1p(-r),function(){return 1+Math.floor(Math.log1p(-t())/r)})}return n.source=e,n}(Vt),x8=function e(t){var n=v8.source(t)();function r(i,a){if((i=+i)<0)throw new RangeError("invalid k");if(i===0)return()=>0;if(a=a==null?1:+a,i===1)return()=>-Math.log1p(-t())*a;var o=(i<1?i+1:i)-1/3,s=1/(3*Math.sqrt(o)),l=i<1?()=>Math.pow(t(),1/i):()=>1;return function(){do{do var c=n(),u=1+s*c;while(u<=0);u*=u*u;var f=1-t()}while(f>=1-.0331*c*c*c*c&&Math.log(f)>=.5*c*c+o*(1-u+Math.log(u)));return o*u*l()*a}}return r.source=e,r}(Vt),BD=function e(t){var n=x8.source(t);function r(i,a){var o=n(i),s=n(a);return function(){var l=o();return l===0?0:l/(l+s())}}return r.source=e,r}(Vt),$D=function e(t){var n=FD.source(t),r=BD.source(t);function i(a,o){return a=+a,(o=+o)>=1?()=>a:o<=0?()=>0:function(){for(var s=0,l=a,c=o;l*c>16&&l*(1-c)>16;){var u=Math.floor((l+1)*c),f=r(u,l-u+1)();f<=c?(s+=u,l-=u,c=(c-f)/(1-f)):(l=u-1,c/=f)}for(var d=c<.5,h=d?c:1-c,m=n(h),g=m(),p=0;g<=l;++p)g+=m();return s+(d?p:l-p)}}return i.source=e,i}(Vt),JK=function e(t){function n(r,i,a){var o;return(r=+r)==0?o=s=>-Math.log(s):(r=1/r,o=s=>Math.pow(s,r)),i=i==null?0:+i,a=a==null?1:+a,function(){return i+a*o(-Math.log1p(-t()))}}return n.source=e,n}(Vt),KK=function e(t){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){return r+i*Math.tan(Math.PI*t())}}return n.source=e,n}(Vt),QK=function e(t){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){var a=t();return r+i*Math.log(a/(1-a))}}return n.source=e,n}(Vt),eQ=function e(t){var n=x8.source(t),r=$D.source(t);function i(a){return function(){for(var o=0,s=a;s>16;){var l=Math.floor(.875*s),c=n(l)();if(c>s)return o+r(l-1,s/c)();o+=l,s-=c}for(var u=-Math.log1p(-t()),f=0;u<=s;++f)u-=Math.log1p(-t());return o+f}}return i.source=e,i}(Vt),tQ=1664525,nQ=1013904223,WT=1/4294967296;function rQ(e=Math.random()){let t=(0<=e&&e<1?e/WT:Math.abs(e))|0;return()=>(t=tQ*t+nQ|0,WT*(t>>>0))}function Rr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function to(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Xm=Symbol("implicit");function Wd(){var e=new jf,t=[],n=[],r=Xm;function i(a){let o=e.get(a);if(o===void 0){if(r!==Xm)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new jf;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Wd(t,n).unknown(r)},Rr.apply(i,arguments),i}function _8(){var e=Wd().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,s=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var d=t().length,h=i<r,m=h?i:r,g=h?r:i;a=(g-m)/Math.max(1,d-l+c*2),s&&(a=Math.floor(a)),m+=(g-m-a*(d-l))*u,o=a*(1-l),s&&(m=Math.round(m),o=Math.round(o));var p=sn(d).map(function(y){return m+a*y});return n(h?p.reverse():p)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(d){return arguments.length?(s=!!d,f()):s},e.padding=function(d){return arguments.length?(l=Math.min(1,c=+d),f()):l},e.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},e.paddingOuter=function(d){return arguments.length?(c=+d,f()):c},e.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),f()):u},e.copy=function(){return _8(t(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},Rr.apply(f(),arguments)}function ND(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return ND(t())},e}function iQ(){return ND(_8.apply(null,arguments).paddingInner(1))}function aQ(e){return function(){return e}}function Jm(e){return+e}var HT=[0,1];function On(e){return e}function d3(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:aQ(isNaN(t)?NaN:.5)}function oQ(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function sQ(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=d3(i,r),a=n(o,a)):(r=d3(r,i),a=n(a,o)),function(s){return a(r(s))}}function lQ(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=d3(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(s){var l=us(e,s,1,r)-1;return a[l](i[l](s))}}function Hd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Eg(){var e=HT,t=HT,n=ca,r,i,a,o=On,s,l,c;function u(){var d=Math.min(e.length,t.length);return o!==On&&(o=oQ(e[0],e[d-1])),s=d>2?lQ:sQ,l=c=null,f}function f(d){return d==null||isNaN(d=+d)?a:(l||(l=s(e.map(r),t,n)))(r(o(d)))}return f.invert=function(d){return o(i((c||(c=s(t,e.map(r),lr)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,Jm),u()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),u()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=Hc,u()},f.clamp=function(d){return arguments.length?(o=d?!0:On,u()):o!==On},f.interpolate=function(d){return arguments.length?(n=d,u()):n},f.unknown=function(d){return arguments.length?(a=d,f):a},function(d,h){return r=d,i=h,u()}}function w8(){return Eg()(On,On)}function T8(e,t,n,r){var i=Ya(e,t,n),a;switch(r=Go(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=V7(i,o))&&(r.precision=a),wg(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=X7(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=q7(i))&&(r.precision=a-(r.type==="%")*2);break}}return Rd(r)}function ds(e){var t=e.domain;return e.ticks=function(n){var r=t();return f0(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return T8(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],s=r[a],l,c,u=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);u-- >0;){if(c=d0(o,s,n),c===l)return r[i]=o,r[a]=s,t(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function A8(){var e=w8();return e.copy=function(){return Hd(e,A8())},Rr.apply(e,arguments),ds(e)}function S8(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Jm),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return S8(e).unknown(t)},e=arguments.length?Array.from(e,Jm):[0,1],ds(n)}function ID(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function YT(e){return Math.log(e)}function qT(e){return Math.exp(e)}function cQ(e){return-Math.log(-e)}function uQ(e){return-Math.exp(-e)}function fQ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function dQ(e){return e===10?fQ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function hQ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function VT(e){return(t,n)=>-e(-t,n)}function E8(e){const t=e(YT,qT),n=t.domain;let r=10,i,a;function o(){return i=hQ(r),a=dQ(r),n()[0]<0?(i=VT(i),a=VT(a),e(cQ,uQ)):e(YT,qT),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const l=n();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let d=i(c),h=i(u),m,g;const p=s==null?10:+s;let y=[];if(!(r%1)&&h-d<p){if(d=Math.floor(d),h=Math.ceil(h),c>0){for(;d<=h;++d)for(m=1;m<r;++m)if(g=d<0?m/a(-d):m*a(d),!(g<c)){if(g>u)break;y.push(g)}}else for(;d<=h;++d)for(m=r-1;m>=1;--m)if(g=d>0?m/a(-d):m*a(d),!(g<c)){if(g>u)break;y.push(g)}y.length*2<p&&(y=f0(c,u,p))}else y=f0(d,h,Math.min(h-d,p)).map(a);return f?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Go(l)).precision==null&&(l.trim=!0),l=Rd(l)),s===1/0)return l;const c=Math.max(1,r*s/t.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},t.nice=()=>n(ID(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function M8(){const e=E8(Eg()).domain([1,10]);return e.copy=()=>Hd(e,M8()).base(e.base()),Rr.apply(e,arguments),e}function XT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function JT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function k8(e){var t=1,n=e(XT(t),JT(t));return n.constant=function(r){return arguments.length?e(XT(t=+r),JT(t)):t},ds(n)}function O8(){var e=k8(Eg());return e.copy=function(){return Hd(e,O8()).constant(e.constant())},Rr.apply(e,arguments)}function KT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function mQ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function pQ(e){return e<0?-e*e:e*e}function C8(e){var t=e(On,On),n=1;function r(){return n===1?e(On,On):n===.5?e(mQ,pQ):e(KT(n),KT(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ds(t)}function Mg(){var e=C8(Eg());return e.copy=function(){return Hd(e,Mg()).exponent(e.exponent())},Rr.apply(e,arguments),e}function ZD(){return Mg.apply(null,arguments).exponent(.5)}function QT(e){return Math.sign(e)*e*e}function gQ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function RD(){var e=w8(),t=[0,1],n=!1,r;function i(a){var o=gQ(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(QT(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Jm)).map(QT)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return RD(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Rr.apply(i,arguments),ds(i)}function D8(){var e=[],t=[],n=[],r;function i(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=g7(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:t[us(n,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Je),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return D8().domain(e).range(t).unknown(r)},Rr.apply(a,arguments)}function L8(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[us(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return L8().domain([e,t]).range(i).unknown(a)},Rr.apply(ds(o),arguments)}function kg(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[us(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return kg().domain(e).range(t).unknown(n)},Rr.apply(i,arguments)}const ob=new Date,sb=new Date;function wt(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),t(a,s),e(a);while(c<a&&a<o);return l},i.filter=a=>wt(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(ob.setTime(+a),sb.setTime(+o),e(ob),e(sb),Math.floor(n(ob,sb))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Uo=wt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Uo.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?wt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Uo);const eA=Uo.range,Na=1e3,Er=Na*60,Ia=Er*60,Xa=Ia*24,F8=Xa*7,tA=Xa*30,lb=Xa*365,ii=wt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Na)},(e,t)=>(t-e)/Na,e=>e.getUTCSeconds()),nA=ii.range,Yd=wt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Na)},(e,t)=>{e.setTime(+e+t*Er)},(e,t)=>(t-e)/Er,e=>e.getMinutes()),yQ=Yd.range,qd=wt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Er)},(e,t)=>(t-e)/Er,e=>e.getUTCMinutes()),bQ=qd.range,Vd=wt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Na-e.getMinutes()*Er)},(e,t)=>{e.setTime(+e+t*Ia)},(e,t)=>(t-e)/Ia,e=>e.getHours()),vQ=Vd.range,Xd=wt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ia)},(e,t)=>(t-e)/Ia,e=>e.getUTCHours()),xQ=Xd.range,Yi=wt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Er)/Xa,e=>e.getDate()-1),_Q=Yi.range,ja=wt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xa,e=>e.getUTCDate()-1),wQ=ja.range,B8=wt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xa,e=>Math.floor(e/Xa)),TQ=B8.range;function W0(e){return wt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Er)/F8)}const Wo=W0(0),td=W0(1),PD=W0(2),jD=W0(3),_0=W0(4),zD=W0(5),GD=W0(6),rA=Wo.range,AQ=td.range,SQ=PD.range,EQ=jD.range,MQ=_0.range,kQ=zD.range,OQ=GD.range;function H0(e){return wt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/F8)}const Ho=H0(0),nd=H0(1),UD=H0(2),WD=H0(3),w0=H0(4),HD=H0(5),YD=H0(6),iA=Ho.range,CQ=nd.range,DQ=UD.range,LQ=WD.range,FQ=w0.range,BQ=HD.range,$Q=YD.range,dc=wt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),NQ=dc.range,hc=wt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()),IQ=hc.range,pi=wt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());pi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});const ZQ=pi.range,gi=wt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());gi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});const RQ=gi.range;function qD(e,t,n,r,i,a){const o=[[ii,1,Na],[ii,5,5*Na],[ii,15,15*Na],[ii,30,30*Na],[a,1,Er],[a,5,5*Er],[a,15,15*Er],[a,30,30*Er],[i,1,Ia],[i,3,3*Ia],[i,6,6*Ia],[i,12,12*Ia],[r,1,Xa],[r,2,2*Xa],[n,1,F8],[t,1,tA],[t,3,3*tA],[e,1,lb]];function s(c,u,f){const d=u<c;d&&([c,u]=[u,c]);const h=f&&typeof f.range=="function"?f:l(c,u,f),m=h?h.range(c,+u+1):[];return d?m.reverse():m}function l(c,u,f){const d=Math.abs(u-c)/f,h=zc(([,,p])=>p).right(o,d);if(h===o.length)return e.every(Ya(c/lb,u/lb,f));if(h===0)return Uo.every(Math.max(Ya(c,u,f),1));const[m,g]=o[d/o[h-1][2]<o[h][2]/d?h-1:h];return m.every(g)}return[s,l]}const[VD,XD]=qD(gi,hc,Ho,B8,Xd,qd),[JD,KD]=qD(pi,dc,Wo,Yi,Vd,Yd);function cb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ub(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Eu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function $8(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=Mu(i),u=ku(i),f=Mu(a),d=ku(a),h=Mu(o),m=ku(o),g=Mu(s),p=ku(s),y=Mu(l),b=ku(l),v={a:F,A:$,b:N,B:R,c:null,d:uA,e:uA,f:lee,g:bee,G:xee,H:aee,I:oee,j:see,L:QD,m:cee,M:uee,p:Y,q:K,Q:hA,s:mA,S:fee,u:dee,U:hee,V:mee,w:pee,W:gee,x:null,X:null,y:yee,Y:vee,Z:_ee,"%":dA},x={a:me,A:pe,b:fe,B:Le,c:null,d:fA,e:fA,f:See,g:$ee,G:Iee,H:wee,I:Tee,j:Aee,L:tL,m:Eee,M:Mee,p:Te,q:Be,Q:hA,s:mA,S:kee,u:Oee,U:Cee,V:Dee,w:Lee,W:Fee,x:null,X:null,y:Bee,Y:Nee,Z:Zee,"%":dA},_={a:M,A,b:L,B:D,c:E,d:lA,e:lA,f:tee,g:sA,G:oA,H:cA,I:cA,j:JQ,L:eee,m:XQ,M:KQ,p:C,q:VQ,Q:ree,s:iee,S:QQ,u:UQ,U:WQ,V:HQ,w:GQ,W:YQ,x:O,X:k,y:sA,Y:oA,Z:qQ,"%":nee};v.x=T(n,v),v.X=T(r,v),v.c=T(t,v),x.x=T(n,x),x.X=T(r,x),x.c=T(t,x);function T(X,he){return function(ye){var z=[],Re=-1,Se=0,lt=X.length,at,ce,Ue;for(ye instanceof Date||(ye=new Date(+ye));++Re<lt;)X.charCodeAt(Re)===37&&(z.push(X.slice(Se,Re)),(ce=aA[at=X.charAt(++Re)])!=null?at=X.charAt(++Re):ce=at==="e"?" ":"0",(Ue=he[at])&&(at=Ue(ye,ce)),z.push(at),Se=Re+1);return z.push(X.slice(Se,Re)),z.join("")}}function w(X,he){return function(ye){var z=Eu(1900,void 0,1),Re=S(z,X,ye+="",0),Se,lt;if(Re!=ye.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(he&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(Se=ub(Eu(z.y,0,1)),lt=Se.getUTCDay(),Se=lt>4||lt===0?nd.ceil(Se):nd(Se),Se=ja.offset(Se,(z.V-1)*7),z.y=Se.getUTCFullYear(),z.m=Se.getUTCMonth(),z.d=Se.getUTCDate()+(z.w+6)%7):(Se=cb(Eu(z.y,0,1)),lt=Se.getDay(),Se=lt>4||lt===0?td.ceil(Se):td(Se),Se=Yi.offset(Se,(z.V-1)*7),z.y=Se.getFullYear(),z.m=Se.getMonth(),z.d=Se.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),lt="Z"in z?ub(Eu(z.y,0,1)).getUTCDay():cb(Eu(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(lt+5)%7:z.w+z.U*7-(lt+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,ub(z)):cb(z)}}function S(X,he,ye,z){for(var Re=0,Se=he.length,lt=ye.length,at,ce;Re<Se;){if(z>=lt)return-1;if(at=he.charCodeAt(Re++),at===37){if(at=he.charAt(Re++),ce=_[at in aA?he.charAt(Re++):at],!ce||(z=ce(X,ye,z))<0)return-1}else if(at!=ye.charCodeAt(z++))return-1}return z}function C(X,he,ye){var z=c.exec(he.slice(ye));return z?(X.p=u.get(z[0].toLowerCase()),ye+z[0].length):-1}function M(X,he,ye){var z=h.exec(he.slice(ye));return z?(X.w=m.get(z[0].toLowerCase()),ye+z[0].length):-1}function A(X,he,ye){var z=f.exec(he.slice(ye));return z?(X.w=d.get(z[0].toLowerCase()),ye+z[0].length):-1}function L(X,he,ye){var z=y.exec(he.slice(ye));return z?(X.m=b.get(z[0].toLowerCase()),ye+z[0].length):-1}function D(X,he,ye){var z=g.exec(he.slice(ye));return z?(X.m=p.get(z[0].toLowerCase()),ye+z[0].length):-1}function E(X,he,ye){return S(X,t,he,ye)}function O(X,he,ye){return S(X,n,he,ye)}function k(X,he,ye){return S(X,r,he,ye)}function F(X){return o[X.getDay()]}function $(X){return a[X.getDay()]}function N(X){return l[X.getMonth()]}function R(X){return s[X.getMonth()]}function Y(X){return i[+(X.getHours()>=12)]}function K(X){return 1+~~(X.getMonth()/3)}function me(X){return o[X.getUTCDay()]}function pe(X){return a[X.getUTCDay()]}function fe(X){return l[X.getUTCMonth()]}function Le(X){return s[X.getUTCMonth()]}function Te(X){return i[+(X.getUTCHours()>=12)]}function Be(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var he=T(X+="",v);return he.toString=function(){return X},he},parse:function(X){var he=w(X+="",!1);return he.toString=function(){return X},he},utcFormat:function(X){var he=T(X+="",x);return he.toString=function(){return X},he},utcParse:function(X){var he=w(X+="",!0);return he.toString=function(){return X},he}}}var aA={"-":"",_:" ",0:"0"},Ut=/^\s*\d+/,PQ=/^%/,jQ=/[\\^$*+?|[\]().{}]/g;function Ne(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function zQ(e){return e.replace(jQ,"\\$&")}function Mu(e){return new RegExp("^(?:"+e.map(zQ).join("|")+")","i")}function ku(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function GQ(e,t,n){var r=Ut.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function UQ(e,t,n){var r=Ut.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function WQ(e,t,n){var r=Ut.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function HQ(e,t,n){var r=Ut.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function YQ(e,t,n){var r=Ut.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function oA(e,t,n){var r=Ut.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function sA(e,t,n){var r=Ut.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function qQ(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function VQ(e,t,n){var r=Ut.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function XQ(e,t,n){var r=Ut.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function lA(e,t,n){var r=Ut.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function JQ(e,t,n){var r=Ut.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function cA(e,t,n){var r=Ut.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function KQ(e,t,n){var r=Ut.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function QQ(e,t,n){var r=Ut.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function eee(e,t,n){var r=Ut.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function tee(e,t,n){var r=Ut.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function nee(e,t,n){var r=PQ.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ree(e,t,n){var r=Ut.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function iee(e,t,n){var r=Ut.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function uA(e,t){return Ne(e.getDate(),t,2)}function aee(e,t){return Ne(e.getHours(),t,2)}function oee(e,t){return Ne(e.getHours()%12||12,t,2)}function see(e,t){return Ne(1+Yi.count(pi(e),e),t,3)}function QD(e,t){return Ne(e.getMilliseconds(),t,3)}function lee(e,t){return QD(e,t)+"000"}function cee(e,t){return Ne(e.getMonth()+1,t,2)}function uee(e,t){return Ne(e.getMinutes(),t,2)}function fee(e,t){return Ne(e.getSeconds(),t,2)}function dee(e){var t=e.getDay();return t===0?7:t}function hee(e,t){return Ne(Wo.count(pi(e)-1,e),t,2)}function eL(e){var t=e.getDay();return t>=4||t===0?_0(e):_0.ceil(e)}function mee(e,t){return e=eL(e),Ne(_0.count(pi(e),e)+(pi(e).getDay()===4),t,2)}function pee(e){return e.getDay()}function gee(e,t){return Ne(td.count(pi(e)-1,e),t,2)}function yee(e,t){return Ne(e.getFullYear()%100,t,2)}function bee(e,t){return e=eL(e),Ne(e.getFullYear()%100,t,2)}function vee(e,t){return Ne(e.getFullYear()%1e4,t,4)}function xee(e,t){var n=e.getDay();return e=n>=4||n===0?_0(e):_0.ceil(e),Ne(e.getFullYear()%1e4,t,4)}function _ee(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ne(t/60|0,"0",2)+Ne(t%60,"0",2)}function fA(e,t){return Ne(e.getUTCDate(),t,2)}function wee(e,t){return Ne(e.getUTCHours(),t,2)}function Tee(e,t){return Ne(e.getUTCHours()%12||12,t,2)}function Aee(e,t){return Ne(1+ja.count(gi(e),e),t,3)}function tL(e,t){return Ne(e.getUTCMilliseconds(),t,3)}function See(e,t){return tL(e,t)+"000"}function Eee(e,t){return Ne(e.getUTCMonth()+1,t,2)}function Mee(e,t){return Ne(e.getUTCMinutes(),t,2)}function kee(e,t){return Ne(e.getUTCSeconds(),t,2)}function Oee(e){var t=e.getUTCDay();return t===0?7:t}function Cee(e,t){return Ne(Ho.count(gi(e)-1,e),t,2)}function nL(e){var t=e.getUTCDay();return t>=4||t===0?w0(e):w0.ceil(e)}function Dee(e,t){return e=nL(e),Ne(w0.count(gi(e),e)+(gi(e).getUTCDay()===4),t,2)}function Lee(e){return e.getUTCDay()}function Fee(e,t){return Ne(nd.count(gi(e)-1,e),t,2)}function Bee(e,t){return Ne(e.getUTCFullYear()%100,t,2)}function $ee(e,t){return e=nL(e),Ne(e.getUTCFullYear()%100,t,2)}function Nee(e,t){return Ne(e.getUTCFullYear()%1e4,t,4)}function Iee(e,t){var n=e.getUTCDay();return e=n>=4||n===0?w0(e):w0.ceil(e),Ne(e.getUTCFullYear()%1e4,t,4)}function Zee(){return"+0000"}function dA(){return"%"}function hA(e){return+e}function mA(e){return Math.floor(+e/1e3)}var bl,Og,N8,Y0,Jd;rL({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function rL(e){return bl=$8(e),Og=bl.format,N8=bl.parse,Y0=bl.utcFormat,Jd=bl.utcParse,bl}var iL="%Y-%m-%dT%H:%M:%S.%LZ";function Ree(e){return e.toISOString()}var Pee=Date.prototype.toISOString?Ree:Y0(iL);const jee=Pee;function zee(e){var t=new Date(e);return isNaN(t)?null:t}var Gee=+new Date("2000-01-01T00:00:00.000Z")?zee:Jd(iL);const aL=Gee;function Uee(e){return new Date(e)}function Wee(e){return e instanceof Date?+e:+new Date(+e)}function I8(e,t,n,r,i,a,o,s,l,c){var u=w8(),f=u.invert,d=u.domain,h=c(".%L"),m=c(":%S"),g=c("%I:%M"),p=c("%I %p"),y=c("%a %d"),b=c("%b %d"),v=c("%B"),x=c("%Y");function _(T){return(l(T)<T?h:s(T)<T?m:o(T)<T?g:a(T)<T?p:r(T)<T?i(T)<T?y:b:n(T)<T?v:x)(T)}return u.invert=function(T){return new Date(f(T))},u.domain=function(T){return arguments.length?d(Array.from(T,Wee)):d().map(Uee)},u.ticks=function(T){var w=d();return e(w[0],w[w.length-1],T??10)},u.tickFormat=function(T,w){return w==null?_:c(w)},u.nice=function(T){var w=d();return(!T||typeof T.range!="function")&&(T=t(w[0],w[w.length-1],T??10)),T?d(ID(w,T)):u},u.copy=function(){return Hd(u,I8(e,t,n,r,i,a,o,s,l,c))},u}function oL(){return Rr.apply(I8(JD,KD,pi,dc,Wo,Yi,Vd,Yd,ii,Og).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sL(){return Rr.apply(I8(VD,XD,gi,hc,Ho,ja,Xd,qd,ii,Y0).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Cg(){var e=0,t=1,n,r,i,a,o=On,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function u(f){return function(d){var h,m;return arguments.length?([h,m]=d,o=f(h,m),c):[o(0),o(1)]}}return c.range=u(ca),c.rangeRound=u(Hc),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),c}}function hs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Dg(){var e=ds(Cg()(On));return e.copy=function(){return hs(e,Dg())},to.apply(e,arguments)}function Z8(){var e=E8(Cg()).domain([1,10]);return e.copy=function(){return hs(e,Z8()).base(e.base())},to.apply(e,arguments)}function R8(){var e=k8(Cg());return e.copy=function(){return hs(e,R8()).constant(e.constant())},to.apply(e,arguments)}function Lg(){var e=C8(Cg());return e.copy=function(){return hs(e,Lg()).exponent(e.exponent())},to.apply(e,arguments)}function lL(){return Lg.apply(null,arguments).exponent(.5)}function cL(){var e=[],t=On;function n(r){if(r!=null&&!isNaN(r=+r))return t((us(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Je),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>h0(e,a/r))},n.copy=function(){return cL(t).domain(e)},to.apply(n,arguments)}function Fg(){var e=0,t=.5,n=1,r=1,i,a,o,s,l,c=On,u,f=!1,d;function h(g){return isNaN(g=+g)?d:(g=.5+((g=+u(g))-a)*(r*g<r*a?s:l),c(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,n]=g,i=u(e=+e),a=u(t=+t),o=u(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,h):[e,t,n]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(c=g,h):c};function m(g){return function(p){var y,b,v;return arguments.length?([y,b,v]=p,c=Bd(g,[y,b,v]),h):[c(0),c(.5),c(1)]}}return h.range=m(ca),h.rangeRound=m(Hc),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return u=g,i=g(e),a=g(t),o=g(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,h}}function P8(){var e=ds(Fg()(On));return e.copy=function(){return hs(e,P8())},to.apply(e,arguments)}function j8(){var e=E8(Fg()).domain([.1,1,10]);return e.copy=function(){return hs(e,j8()).base(e.base())},to.apply(e,arguments)}function z8(){var e=k8(Fg());return e.copy=function(){return hs(e,z8()).constant(e.constant())},to.apply(e,arguments)}function Bg(){var e=C8(Fg());return e.copy=function(){return hs(e,Bg()).exponent(e.exponent())},to.apply(e,arguments)}function uL(){return Bg.apply(null,arguments).exponent(.5)}function we(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Hee=we("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Yee=we("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),qee=we("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Vee=we("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Xee=we("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Jee=we("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Kee=we("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Qee=we("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),ete=we("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),tte=we("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Ke=e=>C7(e[e.length-1]);var fL=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(we);const nte=Ke(fL);var dL=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(we);const rte=Ke(dL);var hL=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(we);const ite=Ke(hL);var mL=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(we);const ate=Ke(mL);var pL=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(we);const ote=Ke(pL);var gL=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(we);const ste=Ke(gL);var yL=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(we);const lte=Ke(yL);var bL=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(we);const cte=Ke(bL);var vL=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(we);const ute=Ke(vL);var xL=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(we);const fte=Ke(xL);var _L=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(we);const dte=Ke(_L);var wL=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(we);const hte=Ke(wL);var TL=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(we);const mte=Ke(TL);var AL=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(we);const pte=Ke(AL);var SL=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(we);const gte=Ke(SL);var EL=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(we);const yte=Ke(EL);var ML=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(we);const bte=Ke(ML);var kL=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(we);const vte=Ke(kL);var OL=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(we);const xte=Ke(OL);var CL=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(we);const _te=Ke(CL);var DL=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(we);const wte=Ke(DL);var LL=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(we);const Tte=Ke(LL);var FL=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(we);const Ate=Ke(FL);var BL=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(we);const Ste=Ke(BL);var $L=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(we);const Ete=Ke($L);var NL=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(we);const Mte=Ke(NL);var IL=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(we);const kte=Ke(IL);function Ote(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const Cte=Fd(mi(300,.5,0),mi(-240,.5,1));var Dte=Fd(mi(-100,.75,.35),mi(80,1.5,.8)),Lte=Fd(mi(260,.75,.35),mi(80,1.5,.8)),r1=mi();function Fte(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return r1.h=360*e-100,r1.s=1.5-1.5*t,r1.l=.8-.9*t,r1+""}var i1=Ki(),Bte=Math.PI/3,$te=Math.PI*2/3;function Nte(e){var t;return e=(.5-e)*Math.PI,i1.r=255*(t=Math.sin(e))*t,i1.g=255*(t=Math.sin(e+Bte))*t,i1.b=255*(t=Math.sin(e+$te))*t,i1+""}function Ite(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function $g(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const Zte=$g(we("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Rte=$g(we("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Pte=$g(we("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),jte=$g(we("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function be(e){return function(){return e}}const pA=Math.abs,en=Math.atan2,Ca=Math.cos,zte=Math.max,Ul=Math.min,Pn=Math.sin,it=Math.sqrt,tn=1e-12,Yo=Math.PI,Km=Yo/2,Fo=2*Yo;function Gte(e){return e>1?0:e<-1?Yo:Math.acos(e)}function gA(e){return e>=1?Km:e<=-1?-Km:Math.asin(e)}function Kd(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Nd(t)}function Ute(e){return e.innerRadius}function Wte(e){return e.outerRadius}function Hte(e){return e.startAngle}function Yte(e){return e.endAngle}function qte(e){return e&&e.padAngle}function Vte(e,t,n,r,i,a,o,s){var l=n-e,c=r-t,u=o-i,f=s-a,d=f*l-u*c;if(!(d*d<tn))return d=(u*(t-a)-f*(e-i))/d,[e+d*l,t+d*c]}function a1(e,t,n,r,i,a,o){var s=e-n,l=t-r,c=(o?a:-a)/it(s*s+l*l),u=c*l,f=-c*s,d=e+u,h=t+f,m=n+u,g=r+f,p=(d+m)/2,y=(h+g)/2,b=m-d,v=g-h,x=b*b+v*v,_=i-a,T=d*g-m*h,w=(v<0?-1:1)*it(zte(0,_*_*x-T*T)),S=(T*v-b*w)/x,C=(-T*b-v*w)/x,M=(T*v+b*w)/x,A=(-T*b+v*w)/x,L=S-p,D=C-y,E=M-p,O=A-y;return L*L+D*D>E*E+O*O&&(S=M,C=A),{cx:S,cy:C,x01:-u,y01:-f,x11:S*(i/_-1),y11:C*(i/_-1)}}function G8(){var e=Ute,t=Wte,n=be(0),r=null,i=Hte,a=Yte,o=qte,s=null,l=Kd(c);function c(){var u,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),m=i.apply(this,arguments)-Km,g=a.apply(this,arguments)-Km,p=pA(g-m),y=g>m;if(s||(s=u=l()),h<d&&(f=h,h=d,d=f),!(h>tn))s.moveTo(0,0);else if(p>Fo-tn)s.moveTo(h*Ca(m),h*Pn(m)),s.arc(0,0,h,m,g,!y),d>tn&&(s.moveTo(d*Ca(g),d*Pn(g)),s.arc(0,0,d,g,m,y));else{var b=m,v=g,x=m,_=g,T=p,w=p,S=o.apply(this,arguments)/2,C=S>tn&&(r?+r.apply(this,arguments):it(d*d+h*h)),M=Ul(pA(h-d)/2,+n.apply(this,arguments)),A=M,L=M,D,E;if(C>tn){var O=gA(C/d*Pn(S)),k=gA(C/h*Pn(S));(T-=O*2)>tn?(O*=y?1:-1,x+=O,_-=O):(T=0,x=_=(m+g)/2),(w-=k*2)>tn?(k*=y?1:-1,b+=k,v-=k):(w=0,b=v=(m+g)/2)}var F=h*Ca(b),$=h*Pn(b),N=d*Ca(_),R=d*Pn(_);if(M>tn){var Y=h*Ca(v),K=h*Pn(v),me=d*Ca(x),pe=d*Pn(x),fe;if(p<Yo)if(fe=Vte(F,$,me,pe,Y,K,N,R)){var Le=F-fe[0],Te=$-fe[1],Be=Y-fe[0],X=K-fe[1],he=1/Pn(Gte((Le*Be+Te*X)/(it(Le*Le+Te*Te)*it(Be*Be+X*X)))/2),ye=it(fe[0]*fe[0]+fe[1]*fe[1]);A=Ul(M,(d-ye)/(he-1)),L=Ul(M,(h-ye)/(he+1))}else A=L=0}w>tn?L>tn?(D=a1(me,pe,F,$,h,L,y),E=a1(Y,K,N,R,h,L,y),s.moveTo(D.cx+D.x01,D.cy+D.y01),L<M?s.arc(D.cx,D.cy,L,en(D.y01,D.x01),en(E.y01,E.x01),!y):(s.arc(D.cx,D.cy,L,en(D.y01,D.x01),en(D.y11,D.x11),!y),s.arc(0,0,h,en(D.cy+D.y11,D.cx+D.x11),en(E.cy+E.y11,E.cx+E.x11),!y),s.arc(E.cx,E.cy,L,en(E.y11,E.x11),en(E.y01,E.x01),!y))):(s.moveTo(F,$),s.arc(0,0,h,b,v,!y)):s.moveTo(F,$),!(d>tn)||!(T>tn)?s.lineTo(N,R):A>tn?(D=a1(N,R,Y,K,d,-A,y),E=a1(F,$,me,pe,d,-A,y),s.lineTo(D.cx+D.x01,D.cy+D.y01),A<M?s.arc(D.cx,D.cy,A,en(D.y01,D.x01),en(E.y01,E.x01),!y):(s.arc(D.cx,D.cy,A,en(D.y01,D.x01),en(D.y11,D.x11),!y),s.arc(0,0,d,en(D.cy+D.y11,D.cx+D.x11),en(E.cy+E.y11,E.cx+E.x11),y),s.arc(E.cx,E.cy,A,en(E.y11,E.x11),en(E.y01,E.x01),!y))):s.arc(0,0,d,_,x,y)}if(s.closePath(),u)return s=null,u+""||null}return c.centroid=function(){var u=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Yo/2;return[Ca(f)*u,Pn(f)*u]},c.innerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:be(+u),c):e},c.outerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:be(+u),c):t},c.cornerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:be(+u),c):n},c.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:be(+u),c):r},c.startAngle=function(u){return arguments.length?(i=typeof u=="function"?u:be(+u),c):i},c.endAngle=function(u){return arguments.length?(a=typeof u=="function"?u:be(+u),c):a},c.padAngle=function(u){return arguments.length?(o=typeof u=="function"?u:be(+u),c):o},c.context=function(u){return arguments.length?(s=u??null,c):s},c}var Xte=Array.prototype.slice;function Ng(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ZL(e){this._context=e}ZL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Qd(e){return new ZL(e)}function U8(e){return e[0]}function W8(e){return e[1]}function eh(e,t){var n=be(!0),r=null,i=Qd,a=null,o=Kd(s);e=typeof e=="function"?e:e===void 0?U8:be(e),t=typeof t=="function"?t:t===void 0?W8:be(t);function s(l){var c,u=(l=Ng(l)).length,f,d=!1,h;for(r==null&&(a=i(h=o())),c=0;c<=u;++c)!(c<u&&n(f=l[c],c,l))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(f,c,l),+t(f,c,l));if(h)return a=null,h+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:be(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:be(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:be(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function th(e,t,n){var r=null,i=be(!0),a=null,o=Qd,s=null,l=Kd(c);e=typeof e=="function"?e:e===void 0?U8:be(+e),t=typeof t=="function"?t:be(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?W8:be(+n);function c(f){var d,h,m,g=(f=Ng(f)).length,p,y=!1,b,v=new Array(g),x=new Array(g);for(a==null&&(s=o(b=l())),d=0;d<=g;++d){if(!(d<g&&i(p=f[d],d,f))===y)if(y=!y)h=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=d-1;m>=h;--m)s.point(v[m],x[m]);s.lineEnd(),s.areaEnd()}y&&(v[d]=+e(p,d,f),x[d]=+t(p,d,f),s.point(r?+r(p,d,f):v[d],n?+n(p,d,f):x[d]))}if(b)return s=null,b+""||null}function u(){return eh().defined(i).curve(o).context(a)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:be(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:be(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:be(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:be(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:be(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:be(+f),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:be(!!f),c):i},c.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),c):o},c.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),c):a},c}function Jte(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function Kte(e){return e}function RL(){var e=Kte,t=Jte,n=null,r=be(0),i=be(Fo),a=be(0);function o(s){var l,c=(s=Ng(s)).length,u,f,d=0,h=new Array(c),m=new Array(c),g=+r.apply(this,arguments),p=Math.min(Fo,Math.max(-Fo,i.apply(this,arguments)-g)),y,b=Math.min(Math.abs(p)/c,a.apply(this,arguments)),v=b*(p<0?-1:1),x;for(l=0;l<c;++l)(x=m[h[l]=l]=+e(s[l],l,s))>0&&(d+=x);for(t!=null?h.sort(function(_,T){return t(m[_],m[T])}):n!=null&&h.sort(function(_,T){return n(s[_],s[T])}),l=0,f=d?(p-c*v)/d:0;l<c;++l,g=y)u=h[l],x=m[u],y=g+(x>0?x*f:0)+v,m[u]={data:s[u],index:l,value:x,startAngle:g,endAngle:y,padAngle:b};return m}return o.value=function(s){return arguments.length?(e=typeof s=="function"?s:be(+s),o):e},o.sortValues=function(s){return arguments.length?(t=s,n=null,o):t},o.sort=function(s){return arguments.length?(n=s,t=null,o):n},o.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:be(+s),o):r},o.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:be(+s),o):i},o.padAngle=function(s){return arguments.length?(a=typeof s=="function"?s:be(+s),o):a},o}var PL=H8(Qd);function jL(e){this._curve=e}jL.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};function H8(e){function t(n){return new jL(e(n))}return t._curve=e,t}function lf(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(n){return arguments.length?t(H8(n)):t()._curve},e}function yA(){return lf(eh().curve(PL))}function bA(){var e=th().curve(PL),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,a=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return lf(n())},delete e.lineX0,e.lineEndAngle=function(){return lf(r())},delete e.lineX1,e.lineInnerRadius=function(){return lf(i())},delete e.lineY0,e.lineOuterRadius=function(){return lf(a())},delete e.lineY1,e.curve=function(o){return arguments.length?t(H8(o)):t()._curve},e}function cf(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}class zL{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}class Qte{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,n){if(t=+t,n=+n,this._point===0)this._point=1;else{const r=cf(this._x0,this._y0),i=cf(this._x0,this._y0=(this._y0+n)/2),a=cf(t,this._y0),o=cf(t,n);this._context.moveTo(...r),this._context.bezierCurveTo(...i,...a,...o)}this._x0=t,this._y0=n}}function GL(e){return new zL(e,!0)}function UL(e){return new zL(e,!1)}function ene(e){return new Qte(e)}function tne(e){return e.source}function nne(e){return e.target}function Ig(e){let t=tne,n=nne,r=U8,i=W8,a=null,o=null,s=Kd(l);function l(){let c;const u=Xte.call(arguments),f=t.apply(this,u),d=n.apply(this,u);if(a==null&&(o=e(c=s())),o.lineStart(),u[0]=f,o.point(+r.apply(this,u),+i.apply(this,u)),u[0]=d,o.point(+r.apply(this,u),+i.apply(this,u)),o.lineEnd(),c)return o=null,c+""||null}return l.source=function(c){return arguments.length?(t=c,l):t},l.target=function(c){return arguments.length?(n=c,l):n},l.x=function(c){return arguments.length?(r=typeof c=="function"?c:be(+c),l):r},l.y=function(c){return arguments.length?(i=typeof c=="function"?c:be(+c),l):i},l.context=function(c){return arguments.length?(c==null?a=o=null:o=e(a=c),l):a},l}function rne(){return Ig(GL)}function ine(){return Ig(UL)}function ane(){const e=Ig(ene);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}const one=it(3),WL={draw(e,t){const n=it(t+Ul(t/28,.75))*.59436,r=n/2,i=r*one;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},Zg={draw(e,t){const n=it(t/Yo);e.moveTo(n,0),e.arc(0,0,n,0,Fo)}},HL={draw(e,t){const n=it(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},YL=it(1/3),sne=YL*2,qL={draw(e,t){const n=it(t/sne),r=n*YL;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},VL={draw(e,t){const n=it(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},XL={draw(e,t){const n=it(t-Ul(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},JL={draw(e,t){const n=it(t),r=-n/2;e.rect(r,r,n,n)}},KL={draw(e,t){const n=it(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},lne=.8908130915292852,QL=Pn(Yo/10)/Pn(7*Yo/10),cne=Pn(Fo/10)*QL,une=-Ca(Fo/10)*QL,eF={draw(e,t){const n=it(t*lne),r=cne*n,i=une*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=Fo*a/5,s=Ca(o),l=Pn(o);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},fb=it(3),tF={draw(e,t){const n=-it(t/(fb*3));e.moveTo(0,n*2),e.lineTo(-fb*n,-n),e.lineTo(fb*n,-n),e.closePath()}},fne=it(3),nF={draw(e,t){const n=it(t)*.6824,r=n/2,i=n*fne/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},_r=-.5,wr=it(3)/2,h3=1/it(12),dne=(h3/2+1)*3,rF={draw(e,t){const n=it(t/dne),r=n/2,i=n*h3,a=r,o=n*h3+n,s=-a,l=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(_r*r-wr*i,wr*r+_r*i),e.lineTo(_r*a-wr*o,wr*a+_r*o),e.lineTo(_r*s-wr*l,wr*s+_r*l),e.lineTo(_r*r+wr*i,_r*i-wr*r),e.lineTo(_r*a+wr*o,_r*o-wr*a),e.lineTo(_r*s+wr*l,_r*l-wr*s),e.closePath()}},m3={draw(e,t){const n=it(t-Ul(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},vA=[Zg,HL,qL,JL,eF,tF,rF],hne=[Zg,XL,m3,nF,WL,KL,VL];function iF(e,t){let n=null,r=Kd(i);e=typeof e=="function"?e:be(e||Zg),t=typeof t=="function"?t:be(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:be(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:be(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function qo(){}function Qm(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Rg(e){this._context=e}Rg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function aF(e){return new Rg(e)}function oF(e){this._context=e}oF.prototype={areaStart:qo,areaEnd:qo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Qm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sF(e){return new oF(e)}function lF(e){this._context=e}lF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Qm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cF(e){return new lF(e)}function uF(e,t){this._basis=new Rg(e),this._beta=t}uF.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],a=e[n]-r,o=t[n]-i,s=-1,l;++s<=n;)l=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(r+l*a),this._beta*t[s]+(1-this._beta)*(i+l*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const fF=function e(t){function n(r){return t===1?new Rg(r):new uF(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function ep(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Y8(e,t){this._context=e,this._k=(1-t)/6}Y8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ep(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:ep(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const dF=function e(t){function n(r){return new Y8(r,t)}return n.tension=function(r){return e(+r)},n}(0);function q8(e,t){this._context=e,this._k=(1-t)/6}q8.prototype={areaStart:qo,areaEnd:qo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:ep(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const hF=function e(t){function n(r){return new q8(r,t)}return n.tension=function(r){return e(+r)},n}(0);function V8(e,t){this._context=e,this._k=(1-t)/6}V8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ep(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const mF=function e(t){function n(r){return new V8(r,t)}return n.tension=function(r){return e(+r)},n}(0);function X8(e,t,n){var r=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>tn){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>tn){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*c+e._x1*e._l23_2a-t*e._l12_2a)/u,o=(o*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,a,o,e._x2,e._y2)}function pF(e,t){this._context=e,this._alpha=t}pF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:X8(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const gF=function e(t){function n(r){return t?new pF(r,t):new Y8(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function yF(e,t){this._context=e,this._alpha=t}yF.prototype={areaStart:qo,areaEnd:qo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:X8(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const bF=function e(t){function n(r){return t?new yF(r,t):new q8(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function vF(e,t){this._context=e,this._alpha=t}vF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:X8(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const xF=function e(t){function n(r){return t?new vF(r,t):new V8(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function _F(e){this._context=e}_F.prototype={areaStart:qo,areaEnd:qo,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function wF(e){return new _F(e)}function xA(e){return e<0?-1:1}function _A(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(xA(a)+xA(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function wA(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function db(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function tp(e){this._context=e}tp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:db(this,this._t0,wA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,db(this,wA(this,n=_A(this,e,t)),n);break;default:db(this,this._t0,n=_A(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function TF(e){this._context=new AF(e)}(TF.prototype=Object.create(tp.prototype)).point=function(e,t){tp.prototype.point.call(this,t,e)};function AF(e){this._context=e}AF.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function SF(e){return new tp(e)}function EF(e){return new TF(e)}function MF(e){this._context=e}MF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=TA(e),i=TA(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function TA(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function kF(e){return new MF(e)}function Pg(e,t){this._context=e,this._t=t}Pg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function OF(e){return new Pg(e,.5)}function CF(e){return new Pg(e,0)}function DF(e){return new Pg(e,1)}function mc(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,s=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function pc(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function mne(e,t){return e[t]}function pne(e){const t=[];return t.key=e,t}function LF(){var e=be([]),t=pc,n=mc,r=mne;function i(a){var o=Array.from(e.apply(this,arguments),pne),s,l=o.length,c=-1,u;for(const f of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+r(f,o[s].key,c,a)]).data=f;for(s=0,u=Ng(t(o));s<l;++s)o[u[s]].index=s;return n(o,u),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:be(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:be(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?pc:typeof a=="function"?a:be(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??mc,i):n},i}function gne(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}mc(e,t)}}function yne(e,t){if((l=e.length)>0)for(var n,r=0,i,a,o,s,l,c=e[t[0]].length;r<c;++r)for(o=s=0,n=0;n<l;++n)(a=(i=e[t[n]][r])[1]-i[0])>0?(i[0]=o,i[1]=o+=a):a<0?(i[1]=s,i[0]=s+=a):(i[0]=0,i[1]=a)}function bne(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}mc(e,t)}}function vne(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,c=0;s<o;++s){for(var u=e[t[s]],f=u[r][1]||0,d=u[r-1][1]||0,h=(f-d)/2,m=0;m<s;++m){var g=e[t[m]],p=g[r][1]||0,y=g[r-1][1]||0;h+=p-y}l+=f,c+=h*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,mc(e,t)}}function FF(e){var t=e.map(xne);return pc(e).sort(function(n,r){return t[n]-t[r]})}function xne(e){for(var t=-1,n=0,r=e.length,i,a=-1/0;++t<r;)(i=+e[t][1])>a&&(a=i,n=t);return n}function BF(e){var t=e.map($F);return pc(e).sort(function(n,r){return t[n]-t[r]})}function $F(e){for(var t=0,n=-1,r=e.length,i;++n<r;)(i=+e[n][1])&&(t+=i);return t}function _ne(e){return BF(e).reverse()}function wne(e){var t=e.length,n,r,i=e.map($F),a=FF(e),o=0,s=0,l=[],c=[];for(n=0;n<t;++n)r=a[n],o<s?(o+=i[r],l.push(r)):(s+=i[r],c.push(r));return c.reverse().concat(l)}function Tne(e){return pc(e).reverse()}const o1=e=>()=>e;function Ane(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function ji(e,t,n){this.k=e,this.x=t,this.y=n}ji.prototype={constructor:ji,scale:function(e){return e===1?this:new ji(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ji(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var jg=new ji(1,0,0);NF.prototype=ji.prototype;function NF(e){for(;!e.__zoom;)if(!(e=e.parentNode))return jg;return e.__zoom}function hb(e){e.stopImmediatePropagation()}function Ou(e){e.preventDefault(),e.stopImmediatePropagation()}function Sne(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Ene(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function AA(){return this.__zoom||jg}function Mne(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function kne(){return navigator.maxTouchPoints||"ontouchstart"in this}function One(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function Cne(){var e=Sne,t=Ene,n=One,r=Mne,i=kne,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,l=$7,c=Uc("start","zoom","end"),u,f,d,h=500,m=150,g=0,p=10;function y(E){E.property("__zoom",AA).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",M).filter(i).on("touchstart.zoom",A).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(E,O,k,F){var $=E.selection?E.selection():E;$.property("__zoom",AA),E!==$?_(E,O,k,F):$.interrupt().each(function(){T(this,arguments).event(F).start().zoom(null,typeof O=="function"?O.apply(this,arguments):O).end()})},y.scaleBy=function(E,O,k,F){y.scaleTo(E,function(){var $=this.__zoom.k,N=typeof O=="function"?O.apply(this,arguments):O;return $*N},k,F)},y.scaleTo=function(E,O,k,F){y.transform(E,function(){var $=t.apply(this,arguments),N=this.__zoom,R=k==null?x($):typeof k=="function"?k.apply(this,arguments):k,Y=N.invert(R),K=typeof O=="function"?O.apply(this,arguments):O;return n(v(b(N,K),R,Y),$,o)},k,F)},y.translateBy=function(E,O,k,F){y.transform(E,function(){return n(this.__zoom.translate(typeof O=="function"?O.apply(this,arguments):O,typeof k=="function"?k.apply(this,arguments):k),t.apply(this,arguments),o)},null,F)},y.translateTo=function(E,O,k,F,$){y.transform(E,function(){var N=t.apply(this,arguments),R=this.__zoom,Y=F==null?x(N):typeof F=="function"?F.apply(this,arguments):F;return n(jg.translate(Y[0],Y[1]).scale(R.k).translate(typeof O=="function"?-O.apply(this,arguments):-O,typeof k=="function"?-k.apply(this,arguments):-k),N,o)},F,$)};function b(E,O){return O=Math.max(a[0],Math.min(a[1],O)),O===E.k?E:new ji(O,E.x,E.y)}function v(E,O,k){var F=O[0]-k[0]*E.k,$=O[1]-k[1]*E.k;return F===E.x&&$===E.y?E:new ji(E.k,F,$)}function x(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function _(E,O,k,F){E.on("start.zoom",function(){T(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(F).end()}).tween("zoom",function(){var $=this,N=arguments,R=T($,N).event(F),Y=t.apply($,N),K=k==null?x(Y):typeof k=="function"?k.apply($,N):k,me=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),pe=$.__zoom,fe=typeof O=="function"?O.apply($,N):O,Le=l(pe.invert(K).concat(me/pe.k),fe.invert(K).concat(me/fe.k));return function(Te){if(Te===1)Te=fe;else{var Be=Le(Te),X=me/Be[2];Te=new ji(X,K[0]-Be[0]*X,K[1]-Be[1]*X)}R.zoom(null,Te)}})}function T(E,O,k){return!k&&E.__zooming||new w(E,O)}function w(E,O){this.that=E,this.args=O,this.active=0,this.sourceEvent=null,this.extent=t.apply(E,O),this.taps=0}w.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,O){return this.mouse&&E!=="mouse"&&(this.mouse[1]=O.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=O.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=O.invert(this.touch1[0])),this.that.__zoom=O,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var O=ie(this.that).datum();c.call(E,this.that,new Ane(E,{sourceEvent:this.sourceEvent,target:y,type:E,transform:this.that.__zoom,dispatch:c}),O)}};function S(E,...O){if(!e.apply(this,arguments))return;var k=T(this,O).event(E),F=this.__zoom,$=Math.max(a[0],Math.min(a[1],F.k*Math.pow(2,r.apply(this,arguments)))),N=sr(E);if(k.wheel)(k.mouse[0][0]!==N[0]||k.mouse[0][1]!==N[1])&&(k.mouse[1]=F.invert(k.mouse[0]=N)),clearTimeout(k.wheel);else{if(F.k===$)return;k.mouse=[N,F.invert(N)],n0(this),k.start()}Ou(E),k.wheel=setTimeout(R,m),k.zoom("mouse",n(v(b(F,$),k.mouse[0],k.mouse[1]),k.extent,o));function R(){k.wheel=null,k.end()}}function C(E,...O){if(d||!e.apply(this,arguments))return;var k=E.currentTarget,F=T(this,O,!0).event(E),$=ie(E.view).on("mousemove.zoom",K,!0).on("mouseup.zoom",me,!0),N=sr(E,k),R=E.clientX,Y=E.clientY;lg(E.view),hb(E),F.mouse=[N,this.__zoom.invert(N)],n0(this),F.start();function K(pe){if(Ou(pe),!F.moved){var fe=pe.clientX-R,Le=pe.clientY-Y;F.moved=fe*fe+Le*Le>g}F.event(pe).zoom("mouse",n(v(F.that.__zoom,F.mouse[0]=sr(pe,k),F.mouse[1]),F.extent,o))}function me(pe){$.on("mousemove.zoom mouseup.zoom",null),cg(pe.view,F.moved),Ou(pe),F.event(pe).end()}}function M(E,...O){if(e.apply(this,arguments)){var k=this.__zoom,F=sr(E.changedTouches?E.changedTouches[0]:E,this),$=k.invert(F),N=k.k*(E.shiftKey?.5:2),R=n(v(b(k,N),F,$),t.apply(this,O),o);Ou(E),s>0?ie(this).transition().duration(s).call(_,R,F,E):ie(this).call(y.transform,R,F,E)}}function A(E,...O){if(e.apply(this,arguments)){var k=E.touches,F=k.length,$=T(this,O,E.changedTouches.length===F).event(E),N,R,Y,K;for(hb(E),R=0;R<F;++R)Y=k[R],K=sr(Y,this),K=[K,this.__zoom.invert(K),Y.identifier],$.touch0?!$.touch1&&$.touch0[2]!==K[2]&&($.touch1=K,$.taps=0):($.touch0=K,N=!0,$.taps=1+!!u);u&&(u=clearTimeout(u)),N&&($.taps<2&&(f=K[0],u=setTimeout(function(){u=null},h)),n0(this),$.start())}}function L(E,...O){if(this.__zooming){var k=T(this,O).event(E),F=E.changedTouches,$=F.length,N,R,Y,K;for(Ou(E),N=0;N<$;++N)R=F[N],Y=sr(R,this),k.touch0&&k.touch0[2]===R.identifier?k.touch0[0]=Y:k.touch1&&k.touch1[2]===R.identifier&&(k.touch1[0]=Y);if(R=k.that.__zoom,k.touch1){var me=k.touch0[0],pe=k.touch0[1],fe=k.touch1[0],Le=k.touch1[1],Te=(Te=fe[0]-me[0])*Te+(Te=fe[1]-me[1])*Te,Be=(Be=Le[0]-pe[0])*Be+(Be=Le[1]-pe[1])*Be;R=b(R,Math.sqrt(Te/Be)),Y=[(me[0]+fe[0])/2,(me[1]+fe[1])/2],K=[(pe[0]+Le[0])/2,(pe[1]+Le[1])/2]}else if(k.touch0)Y=k.touch0[0],K=k.touch0[1];else return;k.zoom("touch",n(v(R,Y,K),k.extent,o))}}function D(E,...O){if(this.__zooming){var k=T(this,O).event(E),F=E.changedTouches,$=F.length,N,R;for(hb(E),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),N=0;N<$;++N)R=F[N],k.touch0&&k.touch0[2]===R.identifier?delete k.touch0:k.touch1&&k.touch1[2]===R.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(R=sr(R,this),Math.hypot(f[0]-R[0],f[1]-R[1])<p)){var Y=ie(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return y.wheelDelta=function(E){return arguments.length?(r=typeof E=="function"?E:o1(+E),y):r},y.filter=function(E){return arguments.length?(e=typeof E=="function"?E:o1(!!E),y):e},y.touchable=function(E){return arguments.length?(i=typeof E=="function"?E:o1(!!E),y):i},y.extent=function(E){return arguments.length?(t=typeof E=="function"?E:o1([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),y):t},y.scaleExtent=function(E){return arguments.length?(a[0]=+E[0],a[1]=+E[1],y):[a[0],a[1]]},y.translateExtent=function(E){return arguments.length?(o[0][0]=+E[0][0],o[1][0]=+E[1][0],o[0][1]=+E[0][1],o[1][1]=+E[1][1],y):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},y.constrain=function(E){return arguments.length?(n=E,y):n},y.duration=function(E){return arguments.length?(s=+E,y):s},y.interpolate=function(E){return arguments.length?(l=E,y):l},y.on=function(){var E=c.on.apply(c,arguments);return E===c?y:E},y.clickDistance=function(E){return arguments.length?(g=(E=+E)*E,y):Math.sqrt(g)},y.tapDistance=function(E){return arguments.length?(p=+E,y):p},y}const zg=Object.freeze(Object.defineProperty({__proto__:null,Adder:kt,Delaunay:bg,FormatSpecifier:_g,InternMap:jf,InternSet:u0,Node:x0,Path:Nd,Voronoi:eC,ZoomTransform:ji,active:kq,arc:G8,area:th,areaRadial:bA,ascending:Je,autoType:tX,axisBottom:Vk,axisLeft:Xk,axisRight:DU,axisTop:CU,bin:aw,bisect:us,bisectCenter:CG,bisectLeft:Ck,bisectRight:Pf,bisector:zc,blob:iX,blur:DG,blur2:Dk,blurImage:LG,brush:jq,brushSelection:Zq,brushX:Rq,brushY:Pq,buffer:oX,chord:Gq,chordDirected:Wq,chordTranspose:Uq,cluster:pD,color:jo,contourDensity:yV,contours:Zv,count:ng,create:Rl,creator:og,cross:RG,csv:cX,csvFormat:UV,csvFormatBody:WV,csvFormatRow:YV,csvFormatRows:HV,csvFormatValue:qV,csvParse:nC,csvParseRows:GV,cubehelix:mi,cumsum:PG,curveBasis:aF,curveBasisClosed:sF,curveBasisOpen:cF,curveBumpX:GL,curveBumpY:UL,curveBundle:fF,curveCardinal:dF,curveCardinalClosed:hF,curveCardinalOpen:mF,curveCatmullRom:gF,curveCatmullRomClosed:bF,curveCatmullRomOpen:xF,curveLinear:Qd,curveLinearClosed:wF,curveMonotoneX:SF,curveMonotoneY:EF,curveNatural:kF,curveStep:OF,curveStepAfter:DF,curveStepBefore:CF,descending:s7,deviation:c7,difference:bU,disjoint:vU,dispatch:U7,drag:xH,dragDisable:lg,dragEnable:cg,dsv:lX,dsvFormat:Zd,easeBack:Ow,easeBackIn:xq,easeBackInOut:Ow,easeBackOut:_q,easeBounce:qf,easeBounceIn:bq,easeBounceInOut:vq,easeBounceOut:qf,easeCircle:kw,easeCircleIn:lq,easeCircleInOut:kw,easeCircleOut:cq,easeCubic:Fv,easeCubicIn:eq,easeCubicInOut:Fv,easeCubicOut:tq,easeElastic:Cw,easeElasticIn:wq,easeElasticInOut:Tq,easeElasticOut:Cw,easeExp:Mw,easeExpIn:oq,easeExpInOut:Mw,easeExpOut:sq,easeLinear:JY,easePoly:Sw,easePolyIn:nq,easePolyInOut:Sw,easePolyOut:rq,easeQuad:Aw,easeQuadIn:KY,easeQuadInOut:Aw,easeQuadOut:QY,easeSin:Ew,easeSinIn:iq,easeSinInOut:Ew,easeSinOut:aq,every:dU,extent:li,fcumsum:zG,filter:mU,flatGroup:GG,flatRollup:UG,forceCenter:aC,forceCollide:sC,forceLink:lC,forceManyBody:uC,forceRadial:GX,forceSimulation:cC,forceX:fC,forceY:dC,get format(){return Rd},formatDefaultLocale:mC,formatLocale:Y7,get formatPrefix(){return wg},formatSpecifier:Go,fsum:jG,geoAlbers:l8,geoAlbersUsa:JC,geoArea:xC,geoAzimuthalEqualArea:QC,geoAzimuthalEqualAreaRaw:c8,geoAzimuthalEquidistant:eD,geoAzimuthalEquidistantRaw:u8,geoBounds:SC,geoCentroid:OC,geoCircle:sJ,geoClipAntimeridian:Jv,geoClipCircle:NC,geoClipExtent:mJ,geoClipRectangle:Tg,geoConicConformal:iD,geoConicConformalRaw:rD,geoConicEqualArea:Qf,geoConicEqualAreaRaw:XC,geoConicEquidistant:sD,geoConicEquidistantRaw:oD,geoContains:_J,geoDistance:Pm,geoEqualEarth:lD,geoEqualEarthRaw:f8,geoEquirectangular:aD,geoEquirectangularRaw:ed,geoGnomonic:cD,geoGnomonicRaw:d8,geoGraticule:e8,geoGraticule10:wJ,geoIdentity:uD,geoInterpolate:TJ,geoLength:IC,geoMercator:tD,geoMercatorRaw:Gd,geoNaturalEarth1:fD,geoNaturalEarth1Raw:h8,geoOrthographic:dD,geoOrthographicRaw:m8,geoPath:t8,geoProjection:Ti,geoProjectionMutator:o8,geoRotation:CC,geoStereographic:hD,geoStereographicRaw:p8,geoStream:Jr,geoTransform:NJ,geoTransverseMercator:mD,geoTransverseMercatorRaw:g8,gray:LH,greatest:zk,greatestIndex:lU,group:rg,groupSort:YG,groups:Ik,hcl:ac,hierarchy:Sg,histogram:aw,hsl:ic,html:pX,image:fX,index:WG,indexes:HG,interpolate:ca,interpolateArray:TO,interpolateBasis:k7,interpolateBasisClosed:O7,interpolateBlues:Tte,interpolateBrBG:nte,interpolateBuGn:fte,interpolateBuPu:dte,interpolateCividis:Ote,interpolateCool:Lte,interpolateCubehelix:IO,interpolateCubehelixDefault:Cte,interpolateCubehelixLong:Fd,interpolateDate:D7,interpolateDiscrete:SO,interpolateGnBu:hte,interpolateGreens:Ate,interpolateGreys:Ste,interpolateHcl:BO,interpolateHclLong:$O,interpolateHsl:CO,interpolateHslLong:DO,interpolateHue:EO,interpolateInferno:Pte,interpolateLab:LO,interpolateMagma:Rte,interpolateNumber:lr,interpolateNumberArray:hg,interpolateObject:L7,interpolateOrRd:mte,interpolateOranges:kte,interpolatePRGn:rte,interpolatePiYG:ite,interpolatePlasma:jte,interpolatePuBu:gte,interpolatePuBuGn:pte,interpolatePuOr:ate,interpolatePuRd:yte,interpolatePurples:Ete,interpolateRainbow:Fte,interpolateRdBu:ote,interpolateRdGy:ste,interpolateRdPu:bte,interpolateRdYlBu:lte,interpolateRdYlGn:cte,interpolateReds:Mte,interpolateRgb:g0,interpolateRgbBasis:C7,interpolateRgbBasisClosed:_O,interpolateRound:Hc,interpolateSinebow:Nte,interpolateSpectral:ute,interpolateString:mg,interpolateTransformCss:F7,interpolateTransformSvg:B7,interpolateTurbo:Ite,interpolateViridis:Zte,interpolateWarm:Dte,interpolateYlGn:xte,interpolateYlGnBu:vte,interpolateYlOrBr:_te,interpolateYlOrRd:wte,interpolateZoom:$7,interrupt:n0,intersection:xU,interval:zO,isoFormat:jee,isoParse:aL,json:hX,lab:Uf,lch:FH,least:sU,leastIndex:Wk,line:eh,lineRadial:yA,link:Ig,linkHorizontal:rne,linkRadial:ane,linkVertical:ine,local:Dd,map:pU,matcher:_7,max:Cn,maxIndex:m7,mean:Uk,median:y7,medianIndex:tU,merge:b7,min:qa,minIndex:p7,mode:rU,namespace:Cd,namespaces:Tv,nice:d7,now:$d,pack:wD,packEnclose:wK,packSiblings:EK,pairs:iU,partition:AD,path:Yc,pathRound:qq,permute:u7,pie:RL,piecewise:Bd,pointRadial:cf,pointer:sr,pointers:hH,polygonArea:IK,polygonCentroid:ZK,polygonContains:zK,polygonHull:jK,polygonLength:GK,precisionFixed:q7,precisionPrefix:V7,precisionRound:X7,quadtree:xg,quantile:h0,quantileIndex:Gk,quantileSorted:g7,quantize:ZO,quickselect:ig,radialArea:bA,radialLine:yA,randomBates:YK,randomBernoulli:XK,randomBeta:BD,randomBinomial:$D,randomCauchy:KK,randomExponential:qK,randomGamma:x8,randomGeometric:FD,randomInt:WK,randomIrwinHall:LD,randomLcg:rQ,randomLogNormal:HK,randomLogistic:QK,randomNormal:v8,randomPareto:VK,randomPoisson:eQ,randomUniform:UK,randomWeibull:JK,range:sn,rank:oU,reduce:gU,reverse:yU,rgb:Ki,ribbon:nV,ribbonArrow:rV,rollup:Rk,rollups:Pk,scaleBand:_8,scaleDiverging:P8,scaleDivergingLog:j8,scaleDivergingPow:Bg,scaleDivergingSqrt:uL,scaleDivergingSymlog:z8,scaleIdentity:S8,scaleImplicit:Xm,scaleLinear:A8,scaleLog:M8,scaleOrdinal:Wd,scalePoint:iQ,scalePow:Mg,scaleQuantile:D8,scaleQuantize:L8,scaleRadial:RD,scaleSequential:Dg,scaleSequentialLog:Z8,scaleSequentialPow:Lg,scaleSequentialQuantile:cL,scaleSequentialSqrt:lL,scaleSequentialSymlog:R8,scaleSqrt:ZD,scaleSymlog:O8,scaleThreshold:kg,scaleTime:oL,scaleUtc:sL,scan:cU,schemeAccent:Yee,schemeBlues:LL,schemeBrBG:fL,schemeBuGn:xL,schemeBuPu:_L,schemeCategory10:Hee,schemeDark2:qee,schemeGnBu:wL,schemeGreens:FL,schemeGreys:BL,schemeOrRd:TL,schemeOranges:IL,schemePRGn:dL,schemePaired:Vee,schemePastel1:Xee,schemePastel2:Jee,schemePiYG:hL,schemePuBu:SL,schemePuBuGn:AL,schemePuOr:mL,schemePuRd:EL,schemePurples:$L,schemeRdBu:pL,schemeRdGy:gL,schemeRdPu:ML,schemeRdYlBu:yL,schemeRdYlGn:bL,schemeReds:NL,schemeSet1:Kee,schemeSet2:Qee,schemeSet3:ete,schemeSpectral:vL,schemeTableau10:tte,schemeYlGn:OL,schemeYlGnBu:kL,schemeYlOrBr:CL,schemeYlOrRd:DL,select:ie,selectAll:mH,selection:z0,selector:sg,selectorAll:x7,shuffle:uU,shuffler:Hk,some:hU,sort:xv,stack:LF,stackOffsetDiverging:yne,stackOffsetExpand:gne,stackOffsetNone:mc,stackOffsetSilhouette:bne,stackOffsetWiggle:vne,stackOrderAppearance:FF,stackOrderAscending:BF,stackOrderDescending:_ne,stackOrderInsideOut:wne,stackOrderNone:pc,stackOrderReverse:Tne,stratify:u3,style:m0,subset:wU,sum:j0,superset:qk,svg:gX,symbol:iF,symbolAsterisk:WL,symbolCircle:Zg,symbolCross:HL,symbolDiamond:qL,symbolDiamond2:VL,symbolPlus:XL,symbolSquare:JL,symbolSquare2:KL,symbolStar:eF,symbolTimes:m3,symbolTriangle:tF,symbolTriangle2:nF,symbolWye:rF,symbolX:m3,symbols:vA,symbolsFill:vA,symbolsStroke:hne,text:vg,thresholdFreedmanDiaconis:QG,thresholdScott:eU,thresholdSturges:h7,tickFormat:T8,tickIncrement:d0,tickStep:Ya,ticks:f0,timeDay:Yi,timeDays:_Q,get timeFormat(){return Og},timeFormatDefaultLocale:rL,timeFormatLocale:$8,timeFriday:zD,timeFridays:kQ,timeHour:Vd,timeHours:vQ,timeInterval:wt,timeMillisecond:Uo,timeMilliseconds:eA,timeMinute:Yd,timeMinutes:yQ,timeMonday:td,timeMondays:AQ,timeMonth:dc,timeMonths:NQ,get timeParse(){return N8},timeSaturday:GD,timeSaturdays:OQ,timeSecond:ii,timeSeconds:nA,timeSunday:Wo,timeSundays:rA,timeThursday:_0,timeThursdays:MQ,timeTickInterval:KD,timeTicks:JD,timeTuesday:PD,timeTuesdays:SQ,timeWednesday:jD,timeWednesdays:EQ,timeWeek:Wo,timeWeeks:rA,timeYear:pi,timeYears:ZQ,timeout:Ov,timer:gg,timerFlush:jO,transition:HO,transpose:Yk,tree:SD,treemap:kD,treemapBinary:OD,treemapDice:Vc,treemapResquarify:DD,treemapSlice:Ud,treemapSliceDice:CD,treemapSquarify:b8,tsv:uX,tsvFormat:XV,tsvFormatBody:JV,tsvFormatRow:QV,tsvFormatRows:KV,tsvFormatValue:eX,tsvParse:rC,tsvParseRows:VV,union:TU,unixDay:B8,unixDays:TQ,utcDay:ja,utcDays:wQ,get utcFormat(){return Y0},utcFriday:HD,utcFridays:BQ,utcHour:Xd,utcHours:xQ,utcMillisecond:Uo,utcMilliseconds:eA,utcMinute:qd,utcMinutes:bQ,utcMonday:nd,utcMondays:CQ,utcMonth:hc,utcMonths:IQ,get utcParse(){return Jd},utcSaturday:YD,utcSaturdays:$Q,utcSecond:ii,utcSeconds:nA,utcSunday:Ho,utcSundays:iA,utcThursday:w0,utcThursdays:FQ,utcTickInterval:XD,utcTicks:VD,utcTuesday:UD,utcTuesdays:DQ,utcWednesday:WD,utcWednesdays:LQ,utcWeek:Ho,utcWeeks:iA,utcYear:gi,utcYears:RQ,variance:Fk,window:w7,xml:mX,zip:v7,zoom:Cne,zoomIdentity:jg,zoomTransform:NF},Symbol.toStringTag,{value:"Module"})),gt=e=>{var t;return(t=e.data)==null?void 0:t.values.slice()},IF=(e,t)=>B(e).isCircular()&&t.data?t.data:t,ZF=function(e,t,n){let r=t.split(".").reverse();if(arguments.length===2){let i=e;for(;r.length;)i=i[r.pop()];return i}if(arguments.length===3){let i=n;for(;r.length;)i={[r.pop()]:i};return i}},Ja=()=>"_",RF=(e,t)=>{var r,i,a;if(e.mark.href)return e.mark.href;if(e.encoding.href.value)return e.encoding.href.value;const n=ke(e,"href");return((i=(r=t==null?void 0:t.data)==null?void 0:r[Ja()])==null?void 0:i[n])||((a=t==null?void 0:t.data)==null?void 0:a[n])||ze(e,"href")(t)},rn=e=>{if(typeof e.mark=="string")return e.mark;if(typeof e.mark=="object")return e.mark.type},Dr=()=>{},rd=e=>e,T0=e=>e==null?void 0:e.toLowerCase().replace(/ /g,"-"),PF=e=>e*180/Math.PI,jF=(e,t)=>["temporal","quantitative"].includes(yt(e,t)),Vo=(e,t)=>["nominal","ordinal"].includes(yt(e,t)),Dne=(e,t)=>({x:e*Math.cos(t),y:e*Math.sin(t)}),zF=(e,...t)=>n=>{const r=n.node().tagName,a=Rl(`${r==="g"?"svg":"html"}:${r}`);a.call(e,...t),n.append(()=>a.node())},mb={count:0,map:new WeakMap},Lne=e=>{const t=typeof e;if(t!=="object"&&t!=="function")return`${e}`;{const r=mb.map.get(e);if(r)return`${t}-${r}`;{const i=`${mb.count++}`;return mb.map.set(e,i),`${t}-${i}`}}},Fne=e=>e.map(Lne).join(" "),Fe=e=>{const t=new Map;return function(...n){const r=Fne(n);if(t.has(r))return t.get(r);{const i=e.apply(this,n);return t.set(r,i),i}}},Of="utc",J8="time",Bne=Jd("%Y-%m-%d"),$ne=aL,Nne=e=>new Date(e),Ine=e=>{const t=[Bne,$ne,Nne],n=a=>{const o=a(e),s=!!o&&o.getFullYear();return typeof s=="number"&&!Number.isNaN(s)},r=t.find(n);return typeof r=="function"?r:null},Zne=Fe(Ine),Rne=e=>{const t=Zne(e);if(typeof t=="function")return t(e)},ta=Fe(Rne),Pne=new RegExp(`(?:${J8}|${Of})(\\w+)`,"gi"),GF=e=>{let t=[...e.matchAll(Pne)];if(!t.length)return e;let[,n]=t[0];return e.replace(n,n[0].toUpperCase()+n.slice(1))},jne=e=>{const t=e.startsWith(Of)?"":J8;return GF(`${t}${e}`)},UF=(e,t)=>{const n=e.encoding[t].timeUnit||"utcday",r=n.startsWith(Of),i=n.endsWith("week"),a=r?Of:J8;let o;if(!r)o=n;else if(i){const s=ta(qa(e.data.values,ze(e,t)));o=Y0("%A")(s)}else o=n.slice(Of.length);return GF(`${a}${o}`)},zne=e=>e.toUTCString(),Gne=(e,t)=>{var r,i,a;const n=(a=(i=(r=e.encoding)==null?void 0:r[t])==null?void 0:i.axis)==null?void 0:a.format;return n?Y0(n):zne},WF=Fe(Gne),HF=(e,t)=>{const n=B(e).isTemporalBar()?za(e,t):0,r=yi(e);return{...t,[r]:t[r]-n}},Une=(e,t=null)=>{const n=t||rn(e),r={},i=o=>s=>ze(e,o)(s),a=(...o)=>{o.forEach(s=>{var l;(l=e.encoding)!=null&&l[s]&&(r[s]=i(s))})};if(n==="series"&&(r.color=o=>o.key),["bar","area"].includes(n)){const o=l=>l[0],s=l=>l.data.key;y3(e)==="horizontal"?(r.x=o,B(e).hasEncodingY()&&(r.y=s)):y3(e)==="vertical"&&(r.y=o,B(e).hasEncodingX()&&(r.x=s)),r.start=l=>l[1]?l:[l[0],l[0]],r.length=l=>isNaN(l[1])?0:l[1]-l[0]}if(n==="arc"&&(r.theta=o=>o.data.value,r.color=o=>o.data.key),n==="rule"&&a("x","y","color"),["point","square","circle"].includes(n)&&a("x","y","color"),n==="line"){const o=Lr(e),s=yi(e);r[o]=l=>l.value,r[s]=B(e).isTemporal()?l=>ta(l.period):i(s),r.color=l=>B(e).hasColor()?ze(e,"color")(l):null}return n==="text"&&a("x","y","color","text"),n==="image"&&a("x","y","url"),e.encoding&&(Object.entries(e.encoding).forEach(([o,s])=>{s.datum&&(r[o]=()=>s.datum)}),Object.entries(e.encoding).forEach(([o,s])=>{if((s==null?void 0:s.type)==="temporal"){const l=r[o];r[o]=c=>ta(l(c))}})),r},br=Fe(Une),Xc=(e,t)=>{var n;if(((n=e.usermeta)==null?void 0:n[t])!==void 0)return e.usermeta[t]},Wne=e=>{typeof e.usermeta!="object"&&(e.usermeta={})},Hne="steelblue",YF=(e,t,n=1)=>e[t%2?"brighter":"darker"](n),SA={deuteranopia:["#e1daae","#ff934f","#cc2d35","#058ed9","#2d3142"],protanopia:["#e8f086","#6fde6e","#ff4242","#a691ae","#235fa4"],tritanopia:["#dd4444","#f48080","#ffdcdc","#2d676f","#194b4f"]},Yne=(e,t)=>{if(!SA[t])throw new Error(`unknown color palette "${t}"`);const n=Bd(g0.gamma(2.2),SA[t]),r=1/e,i=Array.from({length:e}).map((o,s)=>n(s*r)).map(o=>ic(o));let a;return t==="tritanopia"?a=.1:a=.5,i.map((o,s)=>YF(o,s,a))},qne=e=>{if(!e||e===1)return[Hne];const n=sn(e).map((s,l)=>360/e*l).map(s=>ac(s,100,50)).map((s,l)=>YF(s,l)).map(s=>s.toString()),r=Math.floor(e*.5),i=n.slice(0,r),a=n.slice(r);return v7(i,a).flat()},EA=e=>{if(e.length===1)return e;const t=e.length,n=Math.floor(t*.5),r=e.slice(0,n),i=e.slice(n);return v7(r,i).flat()},qF=(e,t)=>{var r;const n=(r=Xc(e,"color"))==null?void 0:r.variant;return EA(n?Yne(t,n):qne(t))},np=["ascending","descending"],K8=e=>e[0]==="-",Vne=(e,t)=>{var r;const n=(r=e.encoding[t])==null?void 0:r.sort;if(n){if(typeof n=="string"){if(np.includes(n))return ke(e,t);{const i=K8(n)?1:0;return ke(e,n.slice(i))}}else if(typeof n=="object"){if(n.field)return n.field;if(n.encoding)return ke(e,n.encoding)}}},VF=Fe(Vne),Xne=(e,t)=>{var r;const n=(r=e.encoding[t])==null?void 0:r.sort;if(!n)return null;if(n){if(typeof n=="object"&&np.includes(n.order))return n.order;if(typeof n=="string"){if(np.includes(n))return n;if(K8(n))return"descending"}return"ascending"}},XF=Fe(Xne),Jne=(e,t)=>Object.entries(e.encoding).find(n=>n[1].field===VF(e,t))[0],p3=Fe(Jne),Kne=(e,t)=>XF(e,t)==="ascending",Qne=(e,t)=>XF(e,t)==="descending",JF=(e,t)=>{const n=ze(e,t),r=new Set(gt(e).map(n));if(gt(e).length===r.size)return gt(e);{const a={};gt(e).forEach(c=>{const u=n(c),f=ze(e,p3(e,t))(c);if(!Object.prototype.hasOwnProperty.call(a,u))a[u]=f;else{const h=[f,a[u]];B(e).isBar()?a[u]=j0(h):a[u]=qa(h)}});const o=Object.entries(a).sort(([,c],[,u])=>Je(c,u)).map(([c])=>c),s=(c,u)=>o.indexOf(n(c))-o.indexOf(n(u));return gt(e).map(c=>{const u=n(c);return{...c,[ke(e,p3(e,t))]:a[u]}}).sort(s)}},ere=e=>{var n;const t=(n=Object.entries(e.encoding).find(([,r])=>r.sort))==null?void 0:n[0];if(t){const i=gt(e).map(ze(e,t)).sort(KF(e,t)),a=br(e)[t];return(o,s)=>i.indexOf(a(o))-i.indexOf(a(s))}else return e4()},MA=Fe(ere),Cu=(e,t)=>{var r;const n=(r=e.encoding[t])==null?void 0:r.sort;if(jF(e,t))return"natural";if(Vo(e,t)){if(Array.isArray(n))return"array";if(VF(e,t)){if(n.field)return"field";if(n.encoding||typeof n=="string"&&!np.includes(n))return"channel";if(n)return"natural"}else return"none"}},Q8=(e,t)=>Kne(e,t)?Je:Qne(e,t)?s7:e4(),tre=(e,t)=>{const n=Q8(e,t);return(r,i)=>n(r,i)},nre=(e,t)=>{const n=Q8(e,t),r=ze(e,p3(e,t)),i=(o,s)=>n(r(o),r(s)),a=JF(e,t).sort(i).map(ze(e,t));return(o,s)=>a.indexOf(o)-a.indexOf(s)},rre=(e,t)=>{const{sort:n}=e.encoding[t];let r;typeof n=="object"?r=n.encoding:typeof n=="string"&&(r=K8(n)?n.slice(1):n);const i=ze(e,r),a=Q8(e,t),o=JF(e,t).sort((s,l)=>a(i(s),i(l))).map(ze(e,t));return(s,l)=>o.indexOf(s)-o.indexOf(l)},ire=(e,t)=>{const n=e.encoding[t].sort;return(r,i)=>!n.includes(r)&&n.includes(i)?1:n.includes(r)&&!n.includes(i)?-1:n.indexOf(r)-n.indexOf(i)},e4=()=>()=>0,are=(e,t)=>{var n;try{if(Cu(e,t)==="channel")return rre(e,t);if(Cu(e,t)==="array")return ire(e,t);if(Cu(e,t)==="field")return nre(e,t);if(Cu(e,t)==="natural")return tre(e,t);if(Cu(e,t)==="none")return e4()}catch(r){const i=(n=e.encoding[t])==null?void 0:n.sort;throw new Error(`could not sort encoding ${t} by ${typeof i=="string"?i:JSON.stringify(i)} - ${r.message}`)}},KF=Fe(are),ore={x:0,y:0},sre=(e,t,n)=>Object.assign(e,{domain:()=>t,range:()=>n}),lre=(e,t)=>{var n,r,i;if(((n=e.encoding[t])==null?void 0:n.scale)===null)return null;if(((i=(r=e.encoding[t])==null?void 0:r.scale)==null?void 0:i.type)==="symlog"&&yt(e,t)==="quantitative")return"scaleSymlog"},QF=(e,t)=>{var i,a,o;if((a=(i=e.encoding[t])==null?void 0:i.scale)!=null&&a.type||((o=e.encoding[t])==null?void 0:o.scale)===null)return lre(e,t);let n={temporal:"scaleUtc",nominal:"scaleOrdinal",quantitative:"scaleLinear",ordinal:"scaleOrdinal"},r;if(["x","y"].includes(t4(e,t))&&Vo(e,t)?B(e).isBar()?r="scaleBand":r="scalePoint":r=n[yt(e,t)],typeof zg[r]=="function")return r;throw new Error(`could not determine scale method for ${t} channel because encoding type is ${yt(e,t)}`)},eB=(e,t)=>{var r,i;const n=(i=(r=e.encoding[t])==null?void 0:r.scale)==null?void 0:i.domain;if(n)return yt(e,t)==="temporal"?n.map(ta):n},kA=e=>["href","text","tooltip","description","url"].includes(e),t4=(e,t)=>t.endsWith("2")?t.slice(0,-1):t,cre=(e,t)=>{var r;const n=yt(e,t);if(t==="color")return Array.from(new Set(gt(e).map(ze(e,"color"))));if(n==="temporal"){const i=a=>ta(ze(e,t)(a)).getTime();return li(gt(e),i)}else{if(n==="nominal"||n==="ordinal")return[...new Set(gt(e).map(i=>ze(e,t)(i)))];if(n==="quantitative"){if(t==="theta")return[0,360];let i,a;if(B(e).isBar()||B(e).isArea())i=0,a=Cn(Aie(e));else if(B(e).isLine()){const o=ln(e).map(f=>f.values).flat(),s=((r=e.encoding.y.scale)==null?void 0:r.zero)===!1,l=f=>f.value,c=qa(o,l),u=typeof c=="number"&&c>0;s&&u?i=c:u?i=0:i=c,a=Cn(o,l)}else i=0,a=Cn(gt(e),ze(e,t));return[i,a]}else return li(gt(e),i=>ze(e,t)(i))}},ure=(e,t)=>!e.encoding[t].sort||e.encoding[t].sort===null?rd:n=>n.slice().sort(KF(e,t)),g3=(e,t)=>eB(e,t)||ure(e,t)(cre(e,t)),OA=(e,t,n)=>{const r=t4(e,n),i=()=>{let o;if(Vo(e,r)&&!["scaleBand","scalePoint"].includes(QF(e,r))){const s=g3(e,r).length,l=t[r]/s;o=Array.from({length:s}).map((u,f)=>f*l)}else o=[0,B(e).isTemporalBar()?HF(e,t)[r]:t[r]];return r==="y"&&yt(e,r)==="quantitative"&&o.reverse(),o};return{x:i,y:i,color:()=>{var s,l;let o;return B(e).isRule()?o=rd:o=ln,((l=(s=e.encoding.color)==null?void 0:s.scale)==null?void 0:l.range)||qF(e,(eB(e,r)||o(e)).length)},theta:()=>[0,Math.PI*2]}[r]()},fre=(e,t)=>{if(typeof e.encoding!="object")return;const n={};return Object.entries(e.encoding).forEach(([r,i])=>{i!==null&&i.value&&(n[r]=()=>i.value),(i.datum&&kA(r)||B(e).isImage()&&r==="url")&&(n[r]=rd)}),Object.entries(e.encoding).filter(([r])=>!kA(r)&&!n[r]).forEach(([r])=>{try{const i=QF(e,t4(e,r));if(i===null)n[r]=sre(rd,g3(e,r),OA(e,t,r));else{const a=zg[i]().domain(g3(e,r)).range(OA(e,t,r));i==="scaleLinear"&&a.nice(),n[r]=a}}catch(i){throw i.message=`could not generate ${r} scale - ${i.message}`,i}}),!n.color&&!B(e).isMulticolor()&&(n.color=()=>qF(e,1).pop()),n},dre=e=>{const t=[];return(B(e).isBar()||B(e).isArea())&&t.push("length"),B(e).isText()&&!e.mark.text&&e.encoding.text.field&&t.push("text"),t},hre=(e,t,n)=>{const r={...n},i=dre(e);if(i.includes("length")){const a=Lr(e);r.length=o=>{if(r[a].domain().every(s=>s===0))return 0;if(a==="y")return t[a]-r[a](o);if(a==="x")return r[a](o)},r.start=o=>{if(a==="y")return r[a](o[0])-r.length(o[1]-o[0]);if(a==="x")return r[a](o[0])}}return i.includes("text")&&(r.text=a=>`${a}`),r},mre=(e,t=ore)=>{const n=fre(e,t);return hre(e,t,n)},vr=Fe(mre),pre=e=>{const t=e.split("+").map(n=>n.trim()).map(n=>{const r=typeof n=="string"&&n.startsWith("datum.");if(n.startsWith("'")&&n.endsWith("'"))return n.slice(1,-1);if(r)return n}).filter(n=>!!n);return n=>t.map(r=>{if(r.startsWith("datum.")){const i=r.slice(6);return n[i]}else return r}).join("")},gre=e=>t=>e!=null&&e.length?e.reduce((n,r)=>{if(!r.calculate)throw new Error("only calculate transforms are currently supported");return{...n,[r.as]:pre(r.calculate)({...t})}},{...t}):rd,yre=Fe(gre),tB=e=>yre(e.transform),bre=e=>`${e.key}: ${e.value}`,vre=e=>Array.isArray(e)?e.map(bre).join("; "):e,xre=e=>{const t=["tooltip","href","text","description"];return B(e).isMulticolor()||t.push("color"),Object.keys(e.encoding).filter(n=>t.includes(n)===!1)},_re=Fe(xre);function wre(e,t,n){try{const r=ie(t).datum();if(!r)return;const i={datum:r,node:t,interaction:n,content:rB(e)(r)};B(e).isMulticolor()&&(i.color=vr(e).color(mt.get(r)));const a=new CustomEvent("tooltip",{bubbles:!0,detail:i});t.dispatchEvent(a)}catch(r){throw r.message=`could not emit tooltip event - ${r.message}`,r}}const Tre=(e,t)=>{if(!t.mark.tooltip||t.encoding.tooltip===null)return Dr;e.append("title").text(iB(t)(e.datum()))},n4=e=>{var t;return(t=e.usermeta)!=null&&t.tooltipHandler?Dr:n=>{n.each(function(){Tre(ie(this),e)})}},Are=(e,t)=>{let n;const r=t;n=br(e),(B(e).isBar()||B(e).isArea())&&(n[Lr(e)]=n.length);let i;i=ke(e,r);const a=n!=null&&n[r]?n[r]:ze(e,r);return o=>{let s;return s=a(o),r==="color"&&s===void 0&&(s=mt.get(o)),yt(e,r)==="temporal"&&(s=WF(e,r)(s)),!i&&!s&&(i=t,s=tB(e)()(o)[i]),{key:i,value:s}}},rp=Fe(Are),Sre=e=>t=>_re(e).map(n=>rp(e,n)(t)),nB=Fe(Sre),Ere=e=>t=>{const n=nB(e)(t),r=new Set(n.map(s=>s.key)),o=Object.keys(t).filter(s=>!r.has(s)).map(s=>({key:s,value:t[s]}));return[...n,...o]},Mre=Fe(Ere),rB=e=>t=>{var a;if(!Object.keys(t).length)return;const n=ke(e,"tooltip")&&!Array.isArray(e.encoding.tooltip),r=Array.isArray(e.encoding.tooltip);return((a=e.mark.tooltip)==null?void 0:a.content)==="data"?Mre(e)(t):n?rp(e,"tooltip")(t).value:r?e.encoding.tooltip.map(o=>{const s=rp(e,o.field)(t);return o.label&&(s.key=o.label),s}):nB(e)(t)},kre=e=>Fe(t=>vre(rB(e)(t))),iB=Fe(kre),CA="; ",r4=e=>Object.entries(e.encoding).filter(([n,r])=>r.type==="quantitative").map(([n])=>n),Ore=e=>{const t=r4(e);let n={},r,i;return B(e).isCircular()?(r=ln(e),i=a=>a.value):B(e).isLine()?(r=ln(e).map(a=>a.values).flat(),i=a=>a.value):B(e).isBar()?(r=ln(e).flat(),i=a=>a[1]-a[0]):r=ln(e),t.forEach(a=>{i||(i=l=>ze(e,a)(l)),n[a]=new Map;const[o,s]=li(r,i);n[a].set(o,{type:"minimum"}),n[a].set(s,{type:"maximum"})}),n},Cre=()=>"",Dre=e=>{var r;if(((r=Xc(e,"description"))==null?void 0:r.extent)===!1||B(e).hasLayers())return Cre;const n=Ore(e);return i=>{const a=r4(e).map(o=>{const s=c=>rp(e,o)(c).value,l=n[o].get(s(i));return l?`${l.type} value of ${e.encoding[o].field} field`:""}).filter(Boolean);return a.length?CA+a.join(CA):""}},Lre=Fe(Dre),Fre=e=>{let t=[];if(B(e).isCircular())t.push(`${ke(e,Lr(e))}`);else if(B(e).isCartesian()){const n=r4(e).length;n===1?(t.push(`${ke(e,Lr(e))}`),B(e).isTemporal()?t.push("over time"):t.push(`by ${ke(e,yi(e))}`)):n===2&&t.push(`${ke(e,"x")} by ${ke(e,"y")}`)}if(B(e).hasColor()&&t.push(`split by ${ke(e,"color")}`),t.length)return`of ${t.join(" ")}`},Bre=e=>t=>{if(e.mark.aria!==!1)return e.encoding.description?ze(e,"description")(IF(e,t)):`${iB(e)(t)}${Lre(e)(t)}`},id=Fe(Bre),$re=e=>B(e).hasLayers()?"chart":B(e).isBar()?"bar chart":B(e).isCircular()?e.mark&&e.mark.innerRadius?"donut chart":"pie chart":B(e).isLine()?"line chart":B(e).isArea()?"area chart":B(e).hasPoints&&!B(e).isLine()&&B(e).hasEncodingX()&&B(e).hasEncodingY()?"scatterplot":null,Nre=e=>[$re(e),e.encoding&&Fre(e)].filter(Boolean).join(" "),Ire=e=>{var t;return((t=Xc(e,"description"))==null?void 0:t.instructions)===!1?"":["Use the arrow keys to navigate",B(e).hasLinks()?" and press the Enter key to open links":"","."].join("")},Zre=e=>{if(!e.title.text)throw new Error("specification title is required");return e.description?e.description:`${[e.title.text,e.title.subtitle].filter(Boolean).join(" - ")}. ${Ire(e)}`},s1=.001,Jc=e=>Array.isArray(ln(e))&&ln(e).every(Array.isArray)?ln(e).map(n=>n.sort(MA(e))):ln(e).sort((n,r)=>MA(e)(n,r)),mt={get(e){return this.datum.get(e)||this.datum.get(ie(e).datum())||this.node.get(e)},datum:new Map,node:Dd(),set(e,t){typeof e.querySelector=="function"?(this.datum.set(ie(e).datum(),t),this.node.set(e,t)):this.datum.set(e,t)}},Rre=3,aB=30,Pre=(e,t)=>{var u,f;const n=yi(e),r=t[n]/3,i=Jc(e),o=yt(e,n)==="temporal",s=(f=(u=e.encoding[n])==null?void 0:u.scale)==null?void 0:f.domain;let l;if(s&&!o)l=s.length;else if(o){let d;s?d=s==null?void 0:s.map(ta):d=li(i.flat(),m=>ta(m.data.key)),l=zg[UF(e,n)].count(d[0],d[1])}else l=Cn(i,d=>d.length);const c=t[n]/l*.5;if(c>Oy&&c<r)return c;if(c<Oy)return Oy;if(c>r)return r},za=Fe(Pre),Wl=e=>{const t="circle";if(B(e).isLine()||rn(e)==="point")return t;if(rn(e)==="square")return"rect";if(rn(e)==="circle")return"circle"},Ka=e=>{if(B(e).isBar())return"rect";if(B(e).isLine()||B(e).isCircular()||B(e).isArea())return"path";if(!B(e).isLine()&&B(e).hasPoints())return Wl(e);if(B(e).isRule())return"line";if(B(e).isText())return"text";if(B(e).isImage())return"image"},gc=e=>{const t=B(e).hasLayers()?e.layer.find(n=>!B(n).isRule()):e;return B(t).isLine()?`.marks ${Wl(t)}.point.mark`:`.marks ${Ka(t)}`},y3=e=>{var t,n;if(((t=e.encoding.x)==null?void 0:t.type)==="quantitative")return"horizontal";if(((n=e.encoding.y)==null?void 0:n.type)==="quantitative")return"vertical"},oB=(e,t)=>{const n=Ai(e,t,br(e)),r=y3(e)==="vertical",i=n[yi(e)],a=n.start,o=n.length,s=()=>za(e,t);return{x:r?i:a,y:r?a:i,height:r?o:s,width:r?s:o}},jre=(e,t)=>{const n=oB(e,t),r=B(e).hasEncodingY()?n.y:0,i=B(e).hasEncodingX()?n.x:0,a=id(e),o=ze(e,"href"),s=n4(e);return c=>{c.append(Ka(e)).attr("role","region").attr("aria-roledescription","data point").attr("tabindex",-1).attr("class","block mark").attr("y",r).attr("x",i).attr("aria-label",a).attr("height",n.height).attr("width",n.width).classed("link",o).call(s)}},zre=(e,t)=>{let n=0,r=0;return yt(e,"y")==="quantitative"?B(e).hasEncodingX()&&Vo(e,"x")&&(n=za(e,t)*.5):yt(e,"x")==="quantitative"&&B(e).hasEncodingY()&&Vo(e,"y")&&(r=za(e,t)*.5),`translate(${n},${r})`},Gre=(e,t)=>{const n=Ai(e,t,br(e,"series"));return i=>{const o=i.append("g").attr("class","marks").attr("transform",zre(e,t)).selectAll("g").data(Jc(e)).enter().append("g").each(function(s){mt.set(this,s.key),s.forEach(l=>{mt.set(l,s.key)})}).attr("class",s=>["series",T0(mt.get(s))].join(" ")).attr("role","region").attr("aria-label",s=>`${s.key}`).style("fill",n.color);o.order(),o.selectAll(Ka(e)).data(s=>s).enter().call(jre(e,t))}},Ure=(e,t)=>{const{x:n,y:r,width:i,height:a}=oB(e,t);let o={y0:r,x0:n,x1:s=>n(s)+i(s)};if(Lr(e)==="x")return{...o};if(Lr(e)==="y")return{x0:n,y0:r,y1:s=>r(s)+a(s)}},Wre=(e,t)=>{const n=Ure(e,t),{color:r}=Ai(e,t,br(e,"series"));return a=>{const o=a.append("g").attr("class","marks"),s=th();["x0","x1","y0","y1"].forEach(c=>{s[c](n[c])});const l=ln(e);o.selectAll(Ka(e)).data(l).enter().append("path").attr("d",s).attr("role","region").attr("aria-roledescription","data series").attr("tabindex",-1).attr("fill",r).attr("class","area mark").attr("aria-label",c=>c.key)}},Hre=(e,t)=>{const n=e.mark.size||aB,r=Math.sqrt(n/Math.PI),i=Ai(e,t,br(e));return o=>{o.attr("cx",i.x).attr("cy",i.y).attr("r",r)}},Yre=(e,t)=>{const n=e.mark.size||aB,r=Math.sqrt(n),i=r*.5*-1,a=Ai(e,t,br(e));return s=>{s.attr("x",l=>a.x(l)+i).attr("y",l=>a.y(l)+i).attr("height",r).attr("width",r)}},qre=(e,t)=>{const n=rn(e)==="square"?Yre:Hre;return i=>{const a=i.append(Wl(e));a.classed("point",!0).classed("mark",!0).attr("role","region").attr("aria-roledescription","data point").each(function(o){const s=ze(e,"color")(o);s&&mt.set(this,s)}).attr("aria-label",id(e)).classed("link",ze(e,"href")).call(n(e,t)).call(n4(e)),B(e).isLine()||a.attr("aria-label",id(e))}},Vre=(e,t)=>{const n=Ai(e,t,br(e)),r=(e.mark.width||0)*.5*-1,i=(e.mark.height||0)*.5*-1;return o=>{o.append("g").attr("class","images").selectAll(Ka(e)).data(ln(e)).enter().append(Ka(e)).attr("class","mark image").attr("href",n.url).attr("transform",l=>{const c=n.x(l),u=n.y(l);return`translate(${c+r},${u+i})`}).attr("aspect",e.mark.aspect).attr("width",e.mark.width).attr("height",e.mark.height)}},sB=(e,t)=>{const n=Ai(e,t,br(e));return i=>{const a=i.append("g").attr("class",()=>{const s=["marks","points"];return B(e).isLine()&&s.push("mark-group"),s.join(" ")}),o=B(e).isLine()?s=>s.values:Fie(e);if(a.selectAll(Wl(e)).data(o).enter().call(qre(e,t)),B(e).isLine())a.style("stroke",n.color).style("fill",B(e).hasPointsFilled()?n.color:null).style("fill-opacity",B(e).hasPointsFilled()?1:s1),e.mark.point==="transparent"&&a.selectAll(Wl(e)).style("stroke-opacity",s1).style("fill-opacity",s1);else{const{color:s}=vr(e),l=a.selectAll(Wl(e));l.style("stroke",B(e).isMulticolor()?n.color:s).style("stroke-width",1),l.style("fill",B(e).isMulticolor()?n.color:s).style("fill-opacity",B(e).hasPointsFilled()?1:s1)}}},Xre=(e,t)=>{const n=Ai(e,t,br(e)),r=eh().x(n.x).y(n.y);return a=>{const o=a.append("g").attr("class","marks"),s=["x","y"].map(u=>{if(["nominal","ordinal"].includes(e.encoding[u].type)){const d=vr(e,t)[u];return Math.abs(d.range()[1]-d.range()[0])/d.domain().length/2}return 0});s.some(u=>!!u)&&o.attr("transform",`translate(${s.join(",")})`);const l=o.selectAll("g.series").data(Jc(e)).enter().append("g").classed("series",!0);l.each(u=>{const f=ze(e,"color")(u);mt.set(u,f),u.values.forEach(d=>{mt.set(d,f)})}),l.attr("fill",n.color),l.append("g").attr("class","mark-group line").attr("aria-hidden",!0).append("path").classed("mark",!0).attr("d",u=>r(u.values)).attr("aria-label",u=>{const f=mt.get(u);return typeof f=="string"&&f!==Ja()?f:"line"}).style("fill","none").style("stroke",n.color).style("stroke-width",Rre),e.mark.point&&l.call(sB(e,t))}},lB=e=>Math.min(e.x,e.y)*.5,Jre=(e,t)=>{var f;const n=lB(t),r=(f=e.mark)!=null&&f.innerRadius?e.mark.innerRadius/100:0,i=n*r,{color:a}=vr(e),o=(d,h)=>a.domain().indexOf(d.group)-a.domain().indexOf(h.group),s=d=>d.value,l=RL().value(s).sort(o),c=Ai(e,t,br(e));return d=>{const m=d.append("g").attr("class","marks").selectAll("path").data(l(Jc(e))).enter().append("path").attr("role","region").attr("aria-roledescription","data point").each(function(p){mt.set(this,p.data.key)}).attr("class","mark arc"),g=G8().innerRadius(i).outerRadius(n);m.attr("d",g).attr("aria-label",id(e)).style("fill",c.color).classed("link",p=>ze(e,"href")(IF(e,p))).call(n4(e))}},Kre=e=>{if(e.encoding.x&&e.encoding.x2&&e.encoding.y&&e.encoding.y2)return"diagonal";if(e.encoding.y&&!e.encoding.x)return"horizontal";if(e.encoding.x&&!e.encoding.y)return"vertical";if(e.encoding.x&&e.encoding.y){if(e.encoding.x2)return"horizontal";if(e.encoding.y2)return"vertical"}},Qre=(e,t)=>r=>{const i=r.append("g").attr("class","marks"),a=Ai(e,t,br(e)),o={};o.vertical=l=>{l.attr("x1",a.x).attr("x2",a.x).attr("y1",a.y||0).attr("y2",a.y2||t.y)},o.horizontal=l=>{l.attr("x1",a.x||0).attr("x2",a.x2||t.x).attr("y1",a.y).attr("y2",a.y)},i.selectAll("line").data(gt(e)).enter().append("line").call(o[Kre(e)]).each(function(l){mt.set(this,ze(e,"color")(l))}).style("stroke",a.color).attr("class","mark rule").attr("role","region").attr("aria-roledescription","data point").attr("aria-label",id(e)).style("fill",a.color)},eie=(e,t)=>r=>{const i=r.append("g").attr("class","marks"),a=Ai(e,t,br(e));let o;B(e).hasData()?o=i.selectAll("text").data(Jc(e)).enter().append("text").attr("class","mark"):e.mark.text&&(o=i.append("text").classed("mark",!0)),o.style("font-size",11),e.mark.text?o.text(e.mark.text):o.text(a.text),["x","y"].forEach(c=>{typeof a[c]=="function"&&o.attr(c,a[c])}),a.color&&o.attr("fill",a.color),["dx","dy"].forEach(c=>{e.mark[c]&&o.attr(c,e.mark[c])}),Object.entries({size:"font-size",fontSize:"font-size",font:"font-family",fontStyle:"font-style",fontWeight:"font-weight"}).forEach(([c,u])=>{e.mark[c]&&o.style(u,e.mark[c])}),o.attr("text-anchor",e.mark.align||"middle"),o.attr("alignment-baseline",e.mark.baseline||"middle");const l=!!(e.encoding&&ze(e,"href"));o.classed("link",l)},tie=(e,t)=>{try{if(B(e).isBar())return Gre(e,t);if(B(e).isArea())return Wre(e,t);if(B(e).isCircular())return Jre(e,t);if(B(e).isLine())return Xre(e,t);if(B(e).isRule())return Qre(e,t);if(B(e).hasPoints()&&!B(e).isLine())return sB(e,t);if(B(e).isText())return eie(e,t);if(B(e).isImage())return Vre(e,t);throw new Error("could not determine mark rendering function")}catch(n){throw n.message=`could not render marks - ${n.message}`,n}},cB=(e,t)=>zF(tie(e,t)),uB=(e,t)=>{const n=e.layer.map(r=>{var i,a;return(a=(i=r.encoding)==null?void 0:i[t])==null?void 0:a.type}).filter(r=>!!r);if(new Set(n).size===1)return n.pop()},nie=e=>e?e.some(t=>Object.keys(t).length)===!1:!0,fB=(e,t,n)=>{const o=e.layer.map(c=>{const u=!c.data||nie(gt(c))?e.data:c.data;return{...c,data:u}}).filter(c=>c.data).map(c=>{var d;const u=(d=c.encoding)==null?void 0:d[t];if(!u)return null;if(u&&!u.type&&!u.value){const h=uB(e,t);h&&(c.encoding[t].type=h)}return vr(c)[t]}).filter(c=>!!c).map(c=>typeof c[n]=="function"?c[n]():null).flat(),s=c=>{var u,f;return(f=(u=c.encoding)==null?void 0:u[t])==null?void 0:f.type},l=s(e)||s(e.layer.find(s));if(l==="quantitative"||l==="temporal"||!l)return li(o);if(l==="nominal"||l==="ordinal")return[...new Set(o).values()]},dB=(e,t)=>fB(e,t,"domain"),rie=(e,t)=>fB(e,t,"range"),iie=(e,t)=>e.layer?e.layer.some((n,r)=>t(r0(e,r))):!1,i4=(e,t)=>{if(!e.layer&&t(e))return e;if(e.layer){const r=e.layer.map((i,a)=>r0(e,a)).findIndex(t);if(r!==-1)return r0(e,r)}},aie=e=>{var n,r;if(!e.layer)return e;const t=[i=>{var a,o;return((a=i.encoding.x)==null?void 0:a.axis)||((o=i.encoding.y)==null?void 0:o.axis)},i=>i.encoding.theta&&i.encoding.color,i=>i.encoding.x&&i.encoding.y,i=>i.encoding.x&&!i.encoding.y||!i.encoding.x&&i.encoding.y].map(i=>a=>a.encoding&&i(a)).map(i=>a=>!B(a).hasStaticText()&&i(a));for(const i of t){let a=i4(e,i);if(typeof a=="object"){if(B(e).hasColor()&&!((r=(n=a.encoding.color)==null?void 0:n.scale)!=null&&r.domain)){a.encoding.color||(a.encoding.color={}),a.encoding.color.scale||(a.encoding.color.scale={});const o=dB(e,"color"),s=rie(e,"color");a.encoding.color.scale={domain:o},s.length===o.length&&(a.encoding.color.scale.range=s)}return a}}},Gg=Fe(aie),hB=(e,t)=>{const r=ie(t).selectAll("g.layer").filter(function(){return!!ie(this).selectAll(Ka(e)).size()});if(r.size())return r.node();if(!e.layer)return t},r0=(e,t)=>{if(t===void 0)throw new Error(`layer ${t} in specification is undefined`);const n=e.layer[t];if(!n)return;if(n.layer)throw new Error(`layer at index ${t} has a layer property, but nested layers are not supported`);const r={...e,...n};return r.mark.type==="text"&&r.mark.text&&delete r.data,Object.entries(r.encoding||{}).forEach(([a,o])=>{var s,l;if(!o.type){const c=uB(e,a);c&&(r.encoding[a].type=c)}["x","y"].includes(a)&&(r.encoding||(r.encoding={}),r.encoding[a]||(r.encoding[a]={}),r.encoding[a].scale||(r.encoding[a].scale={}),(l=(s=r.encoding[a])==null?void 0:s.scale)!=null&&l.domain||(r.encoding[a].scale={domain:dB(e,a)}))}),["layer","$schema","title","description"].forEach(a=>{delete r[a]}),r},oie=(e,t)=>e.layer.length?n=>{e.layer.forEach((r,i)=>{try{const a=r0(e,i),o=r0(e,e.layer.findIndex(l=>B(l).isBar())),s=B(e).isTemporalBar()&&!B(a).isTemporalBar();n.append("g").classed("layer",!0).call(cB(a,s?HF(o,t):t))}catch(a){const o=rn(r0(e,i));throw a.message=`could not render ${o} mark layer at index ${i} - ${a.message}`,a}})}:Dr,pb=(e,t)=>t(e)||iie(e,t),sie=(e,t)=>{const n=e.layer?e.layer.map((r,i)=>r0(e,i)):[e];if(!n.length)throw new Error(`could not determine layers for calling function ${t.name}`);return r=>{n.forEach((i,a)=>{try{r.call(t(i))}catch(o){throw o.message=`function ${t.name} does not return a function for layer ${a} - ${o.message}`,o}})}},lie=e=>e!==null,cie=e=>{const n=pb(e,s=>{var c;const l=[...(Array.from(new Set(gt(s)))||[]).map(ze(s,"color")).filter(u=>!!u)];return((c=s.encoding)==null?void 0:c.color)&&l.length>1}),i=pb(e,s=>Object.values(s.encoding||{}).some(l=>l.type==="temporal")),a={isBar:s=>rn(s)==="bar",isLine:s=>rn(s)==="line",isArea:s=>rn(s)==="area",hasPoints:s=>{var l,c;return["point","circle","square"].includes(rn(s))||((l=s.mark)==null?void 0:l.point)===!0||((c=s.mark)==null?void 0:c.point)==="transparent"},hasPointsFilled:s=>{var l,c;return rn(s)!=="point"&&((l=s.mark)==null?void 0:l.filled)!==!1&&((c=s.mark)==null?void 0:c.point)!=="transparent"},hasLayers:s=>s.layer,isCircular:s=>rn(s)==="arc",isRule:s=>rn(s)==="rule",isText:s=>rn(s)==="text",isImage:s=>rn(s)==="image",hasColor:s=>{var l;return(l=s.encoding)==null?void 0:l.color},hasLinks:s=>{var l,c;return((l=s.encoding)==null?void 0:l.href)||((c=s.mark)==null?void 0:c.href)},hasData:s=>{var l;return(l=s.data)==null?void 0:l.values.length},hasLegend:s=>{var l,c,u;return((l=s.encoding)==null?void 0:l.color)&&((u=(c=s.encoding)==null?void 0:c.color)==null?void 0:u.legend)!==null},hasLegendTitle:s=>{var l,c,u;return lie((u=(c=(l=s.encoding)==null?void 0:l.color)==null?void 0:c.legend)==null?void 0:u.title)},hasTooltip:s=>{var l,c;return((l=s.mark)==null?void 0:l.tooltip)||((c=s.encoding)==null?void 0:c.tooltip)},hasTransforms:s=>Array.isArray(s.transform),hasAxisX:s=>{var l,c;return((l=s.encoding)==null?void 0:l.x)&&((c=s.encoding)==null?void 0:c.x.axis)!==null},hasAxisY:s=>{var l,c;return((l=s.encoding)==null?void 0:l.y)&&((c=s.encoding)==null?void 0:c.y.axis)!==null},hasAxisLabelsY:s=>{var l,c,u;return((u=(c=(l=s.encoding)==null?void 0:l.y)==null?void 0:c.axis)==null?void 0:u.labels)!==!1},hasAxisLabelsX:s=>{var l,c,u;return((u=(c=(l=s.encoding)==null?void 0:l.x)==null?void 0:c.axis)==null?void 0:u.labels)!==!1},hasAxisTitleX:s=>{var l,c,u;return((u=(c=(l=s.encoding)==null?void 0:l.x)==null?void 0:c.axis)==null?void 0:u.title)!==null},hasAxisTitleY:s=>{var l,c,u;return((u=(c=(l=s.encoding)==null?void 0:l.y)==null?void 0:c.axis)==null?void 0:u.title)!==null},hasStaticText:s=>{var l,c;return((l=s.mark)==null?void 0:l.text)&&!((c=s.encoding)!=null&&c.text)},hasTable:s=>{var l;return((l=s.usermeta)==null?void 0:l.table)!==null},isCartesian:s=>{var l,c;return((l=s.encoding)==null?void 0:l.x)&&((c=s.encoding)==null?void 0:c.y)},isLinear:s=>{var l,c,u,f;return((l=s.encoding)==null?void 0:l.x)&&!((c=s.encoding)!=null&&c.y)||((u=s.encoding)==null?void 0:u.y)&&!((f=s.encoding)!=null&&f.x)},isRadial:s=>{var l;return(l=s.encoding)==null?void 0:l.theta},isTemporal:()=>i,isMulticolor:()=>n,hasEncodingX:s=>{var l;return(l=s.encoding)==null?void 0:l.x},hasEncodingY:s=>{var l;return(l=s.encoding)==null?void 0:l.y},hasEncodingColor:s=>{var l;return(l=s.encoding)==null?void 0:l.color}};a.hasAxis=s=>a.hasEncodingX(s)||a.hasEncodingY(s),a.isTemporalBar=s=>a.isBar(s)&&i;const o={};return Object.entries(a).forEach(([s,l])=>{o[s]=Fe(()=>!!pb(e,l))}),o},B=Fe(cie),ke=(e,t)=>{var n,r,i,a;return((r=(n=e.encoding)==null?void 0:n[t])==null?void 0:r.field)||((a=(i=e.facet)==null?void 0:i[t])==null?void 0:a.field)},yt=(e,t)=>{var n,r;return(r=(n=e.encoding)==null?void 0:n[t])==null?void 0:r.type},ze=(e,t)=>{const n=ke(e,t),r=n&&n.includes(".");return i=>{if(!r&&i[n]!==void 0)return i[n];if(r)return ZF(i,n);if(e.transform)return tB(e)(i)[n]}},Lr=e=>fie(e,(n,r)=>r.type==="quantitative"),uie=(e,t)=>{const n=Object.entries(e.encoding).filter(([r,i])=>t(r,i));if(n.length===1)return n[0][0];if(n.length===0)throw new Error("no channels match test function");if(n.length>1){const r=n.map(i=>i[0]).join(", ");throw new Error(`multiple channels (${r}) match test function`)}},fie=Fe(uie),a4=e=>{if((B(e).isCircular()||B(e).isLinear())&&B(e).hasColor())return"color";if(B(e).isCartesian()){const t=Object.entries(e.encoding).filter(([n,r])=>n!=="color"&&r.type&&r.type!=="quantitative");if(t.length!==1)throw new Error("could not identify independent variable");return t.pop()[0]}},yi=e=>{const t=["x","y"].find(n=>n!==Lr(e));if(t)return t;{const n=B(e).isCartesian()?"could not determine Cartesian covariate encoding":"specification is not Cartesian";throw new Error(n)}},Ai=(e,t,n)=>{const r={},i=vr(e,t);return Object.keys(n).forEach(a=>{const o=n[a],s=l=>{var d;const c=i[a];if((d=e.encoding[a])!=null&&d.value)return c();const u=yt(e,a)==="temporal"?ta(o(l)):o(l);if(o&&c===void 0)throw new Error(`accessor function ${a}() is missing corresponding scale function`);if(l===void 0&&u!==null)throw new Error(`datum for ${a} is undefined`);if(typeof c!="function")throw new Error(`scale function for ${a} is not available`);if(u===void 0&&B(e).isMulticolor())throw new Error(`data value for ${a} is undefined`);const f=c(u);if(f===void 0)throw new Error(`encoded value for ${a} is undefined`);if(Number.isNaN(f))throw new Error(`encoded value for ${a} is not a number (NaN)`);return f};r[a]=s}),r},mB=["description","tooltip","href"],die=e=>Object.keys(e.encoding).some(t=>mB.includes(t)),hie=(e,t,n)=>n.filter(r=>e[r]===t[r]),mie=e=>{const t=" + ",r=pB(e).map(a=>o=>o[a]);return a=>r.map(o=>o(a)).join(t)},pie=e=>mB.map(t=>ke(e,t)).filter(Boolean),gb=(e,t)=>{let n={};return t.forEach(r=>{e[r]&&(n[r]=e[r])}),n},gie=e=>{let t=[];return B(e).hasColor()&&t.push("color"),B(e).isCartesian()&&t.push(yi(e)),t},pB=e=>gie(e).map(t=>ke(e,t)).filter(Boolean),yie=(e,t,n)=>{const r={},i=pie(e);return t.forEach(a=>{const o=n(a);r[o]||(r[o]={count:0}),r[o].count++;const s=r[o].count;if(s===1)r[o].fields=gb(a,i);else if(s>1){const l=hie(r[o].fields,gb(a,i),i);l.length!==i.length&&(r[o].fields=gb(a,l))}}),r},bie=(e,t)=>{let n={};const r=pB(e);return B(e).isCircular()?{[r[0]]:t.key}:n},vie=(e,t,n,r)=>{let i={};return t!==Ja()&&(i[ke(e,"color")]=t),i[n]=r.data.key,i},xie=(e,t,n,r)=>{let i=[];if(t!==Ja()){const a=ke(e,"color");i[a]=t[a]}return i[n]=r.period||r.bucket,i},_ie=(e,t,n)=>{const r=mie(e),i=yie(e,n,r);if(B(e).isCircular()&&t.forEach(a=>{var s;const o=r(bie(e,a));Object.assign(a,(s=i[o])==null?void 0:s.fields)}),B(e).isBar()){const a=ke(e,yi(e));t.forEach(o=>{o.forEach(s=>{var c;const l=r(vie(e,o.key,a,s));Object.assign(s,(c=i[l])==null?void 0:c.fields)})})}return B(e).isLine()&&t.forEach(a=>{const o=ke(e,yi(e));a.values.forEach(s=>{var c;const l=r(xie(e,a,o,s));Object.assign(s,(c=i[l])==null?void 0:c.fields)})}),t},o4=(e,t)=>{if(!die(e))return t;if(B(e).isBar()||B(e).isArea()||B(e).isCircular()||B(e).isLine())return _ie(e,t,gt(e))},wie=(e,t)=>Array.from(rg(e,n=>n[t])).map(([n,r])=>({key:n,values:r})),Tie=(e,t,n)=>{const r={};return r.key=e.key,e.values.forEach(i=>{const a=i[t];r[a]===void 0&&(r[a]={value:0});const o=n&&n.includes(".")?ZF(i,n):i[n];r[a].value+=o,["url","description","tooltip"].forEach(l=>{i[l]&&(r[a][l]=i[l])})}),r},s4=(e,t,n,r)=>wie(e,t).map(i=>Tie(i,n,r)),Ug=e=>{const t=e.map(r=>Object.keys(r).filter(i=>i!=="key")).flat();return[...new Set(t)]},Aie=e=>{const t=ke(e,Lr(e)),n=ke(e,yi(e)),r=ke(e,"color"),i=s4(gt(e),n,r,t),a=Ug(i);return i.map(s=>j0(a.map(l=>{var c;return((c=s[l])==null?void 0:c.value)||0})))},Sie=e=>{const t=Ug(e);return e.map(i=>i.sort((a,o)=>Number(new Date(a.data.key))-Number(new Date(o.data.key)))).sort((i,a)=>t.indexOf(i.key)-t.indexOf(a.key))},Eie=(e,t)=>{var n;return((n=e[t])==null?void 0:n.value)||0},Mie=e=>{const t=ke(e,yi(e)),n=ke(e,Lr(e)),r=ke(e,"color"),i=s4(gt(e),t,r,n),o=LF().keys(Ug).value(Eie)(i),s=o.length===1,l=ke(e,"color");return s&&!l&&o.forEach(u=>{u.key=Ja(),u.forEach(f=>{f.data.undefined&&(f.data[Ja()]=f.data.undefined,delete f.data.undefined)})}),o4(e,Sie(o))},kie=Fe(Mie),Oie=e=>{const n=Array.from(rg(gt(e),ze(e,"color"))).map(([r,i])=>({key:r,values:i})).map(({key:r,values:i})=>({key:r,value:j0(i,ze(e,"theta"))}));return o4(e,n)},Cie=Fe(Oie),Die=e=>{const t=ke(e,Lr(e)),n=ke(e,yi(e))||Ja(),r=ke(e,"color"),i=s4(gt(e),n,r,t),a=Ug(i).map(o=>{const s=i.filter(l=>!!l[o]).map(l=>({[B(e).isTemporal()?"period":ke(e,a4(e))]:l.key,value:l[o].value})).sort((l,c)=>Number(ta(l.period))-Number(ta(c.period)));return{[ke(e,"color")||Ja()]:o,values:s}});return o4(e,a)},Lie=Fe(Die),Fie=gt,Bie=gt,ln=e=>B(e).isBar()||B(e).isArea()?kie(e):B(e).isLine()?Lie(e):B(e).isCircular()?Cie(e):Bie(e),Kc=Dd(),gB=Dd(),$ie=e=>{if(B(e).isBar()||B(e).isArea()||B(e).isCircular()||B(e).isLine()||B(e).isRule()||B(e).isText()||!B(e).isLine()&&B(e).hasPoints())return["addLegendHighlight","removeLegendHighlight","addMarkHighlight","removeMarkHighlight","link","tooltip","play","focus"]},DA=(e,t)=>{const n=U7(...$ie(t)||[]);Kc.set(e,n),gB.set(e,e)},LA=(e,t,n)=>{const r=t.select(".marks").selectAll(".series"),i=t.select(".marks").selectAll(Ka(e));let a=n,o;return B(e).isCircular()||!B(e).isLine()&&B(e).hasPoints()?o=i.node():B(e).isBar()&&(o=r.filter(s=>T0(s.key)===T0(mt.get(n))).node()),{target:a,parent:o}},yb=e=>B(e).isLine()?`${Ka(e)},${gc(e)}`:gc(e),Nie=e=>{window.open(e)},Iie=e=>n=>{if(!e)return Dr;const r=Kc.get(n.node());(()=>{const o=hB(e,n.node()),s=ie(o).selectAll(yb(e)),l=ie(o).selectAll(gc(e)),c=ie(o).selectAll(gc(e));(B(e).isBar()||B(e).isLine()||B(e).isCircular()||B(e).isText()||!B(e).isLine()&&B(e).hasPoints())&&(r.on("addMarkHighlight",function(){const u=document.activeElement,{target:f,parent:d}=LA(e,n,this);d&&(ie(d).order(),ie(d).raise()),ie(f).raise(),ie(f).attr("data-highlight",!0),u.focus()}),r.on("removeMarkHighlight",function(){const{target:u}=LA(e,n,this);ie(u).attr("data-highlight",null)}),s.on("mouseover.highlight",function(){r.call("addMarkHighlight",this),r.call("addLegendHighlight",null,mt.get(this))}).on("mouseout.highlight",function(){r.call("removeMarkHighlight",this),r.call("removeLegendHighlight",this)}),r.on("tooltip",function(u,f){f&&wre(f,this,u)}),r.on("focus",function(u,f){r.call("tooltip",null,u,f),r.call("addMarkHighlight",null)}),c.on("mouseover.tooltip",function(u){B(e).hasTooltip()&&r.call("tooltip",this,u,e)}),r.on("link",function(u){u&&Nie(u)}),l.on("click",function(){if(B(e).hasLinks()){const u=RF(e,ie(this).datum()||null);r.call("link",this,u)}}))})(),(()=>{const o=".category",l=ie(gB.get(n.node())).select(".legend").selectAll(o);l.on("mouseover",function(){const c=T0(ie(this).select(".label").text());r.call("addLegendHighlight",null,c),n.selectAll(yb(e)).filter(function(){return c===T0(mt.get(this))}).each(function(){r.call("addMarkHighlight",this)})}),l.on("mouseout",function(){r.call("removeLegendHighlight"),n.selectAll(yb(e)).each(function(){r.call("removeMarkHighlight",this)})})})()},Zie=e=>sie(e,Iie),ks=new window.AudioContext,Rie=440,FA=Rie/2,ip=2,Pie=160,b3=60/Pie/2,jie=Math.pow(2,1/12),zie=e=>Array.from({length:13}).map((t,n)=>e*Math.pow(jie,n)),Gie=(e,t)=>{const n=(t-e)/12,r=n*2,i=[0,r,n,r,r,n,r,r];return i.map((a,o)=>j0(i.slice(0,o))+e)},Uie=e=>{const t=[0,2,3,5,7,8,10,12];return zie(e).filter((n,r)=>t.includes(r))},Wie=(e,t)=>{const n=ks.createOscillator(),r=ks.createGain();r.gain.setValueAtTime(1,ks.currentTime+t);const i=ks.currentTime+t+b3;n.connect(r),r.connect(ks.destination),n.frequency.value=e,r.gain.setValueAtTime(ks.currentTime+t*.8,1),r.gain.linearRampToValueAtTime(.001,i),n.start(ks.currentTime+t),n.stop(i)},Hie=(e,t)=>{const r=(t-e)/ip;return Array.from({length:ip}).map((i,a)=>{const o=r*a+e,s=r*(a+1)+e,l=Gie(o,s).map(c=>c+o);return a===0?l:l.slice(1)}).flat()},Yie=(e,t)=>(t%e!==0&&console.error("endpoints supplied for exponential scale repetition are not octaves"),Array.from({length:ip}).map((n,r)=>{const i=Uie(e*2**r);return r===0?i:i.slice(1)}).flat()),qie=(e,t,n)=>{const[r,i]=li(e,c=>c.value),a=Hie(B(n).isBar()?0:r,i),o=Yie(FA,FA*2**ip),s=kg().domain(a).range(o);e.map(({value:c})=>s(c)).forEach((c,u)=>{Wie(c,u*b3),setTimeout(()=>{t.call("focus",null,u,n)},(u+1)*b3*1e3)})},Vie=e=>e.layer?Dr:t=>{var c;const n=((c=ln(e))==null?void 0:c.length)===1,r=B(e).isLine()&&n||B(e).isBar()&&n||B(e).isCircular(),i=Xc(e,"audio")===null;if(!r||i)return;let a;if(B(e).isLine()?{values:a}=ln(e)[0]:B(e).isCircular()?a=ln(e):B(e).isBar()&&(a=ln(e)[0].map(u=>({value:u.data[Ja()].value}))),!a)return;const o=Kc.get(t.node());o.on("play",(u,f)=>{qie(u,o,f)}),o.on("focus",u=>{t.selectAll(gc(e)).nodes()[u].focus(),u===a.length-1&&(l=!1)});const s=t.append("div").classed("play",!0).text("▶");let l=!1;s.on("click",()=>{l||(o.call("play",null,a,e),l=!0)})},Xie=document.createElement("canvas"),bb=Xie.getContext("2d"),l4={},Jie=(e,t=l4)=>{Object.assign(bb,t);const n=bb.measureText(e).width;return Object.entries(t).forEach(([r])=>{bb[r]=null}),n},yB=Fe(Jie),Kie=e=>{const t=["letter-spacing","font-size","font","font-weight"],n=getComputedStyle(e);let r={};return t.forEach(i=>{const a=n[i];a&&(r[i]=a)}),r},Qie=(e,t,n)=>r=>{if(yt(e,n)!=="quantitative")return r;const i=vr(e,t);return i[n].ticks().some(s=>typeof s=="number"&&s>=1e3)?i[n].tickFormat(kG,".1~s")(r).toUpperCase().replace("G","B"):r},eae=Fe(Qie),tae=(e,t)=>{const n=yt(e,t)==="temporal"?WF(e,t):r=>r.toString();return r=>n(r)},ap=(e,t)=>{var n,r,i;return((i=(r=(n=e.encoding)==null?void 0:n[t])==null?void 0:r.axis)==null?void 0:i.labelAngle)*Math.PI/180||0},nae=(e,t,n,r=l4)=>{var l;let a=qa([(l=e.encoding[t].axis)==null?void 0:l.labelLimit,180]);if(a===0)return n;let o=n;for(;yB(`${o}…`,r)>a&&o.length>0;)o=o.slice(0,-1);const s=o.length<n.length?"…":"";return`${o}${s}`},rae=Fe(nae),iae=(e,t,n,r=l4)=>{let i=n;return i=tae(e,t)(i),i=eae(e,t)(i),i=rae(e,t,i,r),i},bB=Fe(iae),aae=e=>{const t=vr(e),n=["x","y"];return n.map(o=>{const s=l=>bB(e,o,l);return jF(e,o)?t[o].ticks(c4(e,o)).map(s):Vo(e,o)?t[o].domain().map(s):[""]}).map(o=>Cn(o,s=>yB(s))).reduce((o,s,l)=>({...o,[n[l]]:s||null}),{})},oae=Fe(aae),sae=(e,t)=>{let n={};return r=>{const i=r.node();!n[t]&&i&&(n[t]=Kie(i)),r.text(a=>bB(e,t,a,n[t]))}},v3=zs*5,lae=180+v3,x3={x:"bottom",y:"left"},cae=()=>({top:0,right:0,bottom:0,left:0}),vB=e=>{const t=oae(e),n={};return Object.entries(x3).forEach(([r,i])=>{const a=ap(e,r);if(t[r]&&typeof a=="number"){const o=Dne(t[r],a),s=Object.keys(x3).find(c=>c!==r),l=Math.abs(o[s]);n[i]=Math.min(lae,l+zs)}}),n},uae=e=>({bottom:B(e).hasAxisTitleX()?v3:0,left:B(e).hasAxisTitleY()?v3:0}),fae=e=>{const t={top:zs*2,right:zs*2,bottom:zs*4,left:zs*4},n={};return Object.values(x3).forEach(r=>{var i,a;n[r]=((i=vB(e))==null?void 0:i[r])+((a=uae(e))==null?void 0:a[r])+zs}),{top:t.top,right:t.right,bottom:n.bottom||t.bottom,left:n.left||t.left}},dae=e=>B(e).isCircular()?cae():fae(Gg(e)),xB=Fe(dae),hae=(e,t)=>{const n=t.x>t.y?(t.y-lB(t)*2)*.5:0,r={x:t.x*.5,y:t.y*.5+n};let i;const{left:a,top:o}=xB(e,t);i={x:a,y:o};const s=B(e).isCircular()?r:i,l=`translate(${s.x},${s.y})`;return c=>{c.select(`g.${o7}`).attr("transform",l)}},c4=(e,t)=>{var u,f;const n=(u=e.encoding[t].axis)==null?void 0:u.tickCount,r=!!((f=e.encoding[t])!=null&&f.timeUnit);if(typeof n=="number")return n;if(yt(e,t)==="temporal"&&r){let d;if(typeof n=="string"?d=n:typeof(n==null?void 0:n.interval)=="string"?d=n.interval:d=UF(e,t),d){let h=(n==null?void 0:n.step)||1;return zg[jne(d)].every(h)}}const i=vr(e);if(Vo(e,t))return i[t].range();if(i[t].domain()[0]===i[t].domain()[1])return 1;const o=i[t].domain()[1],s=o===parseInt(o,10),l=i[t].domain()[0]===0,c=o<10;return s&&l&&c?o:10},_B=(e,t)=>{var r;const n=e.encoding[t];return((r=n.axis)==null?void 0:r.title)||n.field},wB=(e,t)=>n=>{const r=B(e)[`hasAxisLabels${t.toUpperCase()}`](),i=n.selectAll(".tick").select("text");r?i.call(sae(e,t)):i.text("")},mae=(e,t)=>B(e).hasAxisX()?n=>{const r=vr(e,t),i=B(e).isBar()?za(e,t):0,a=B(e).isTemporalBar()&&a4(e)==="y"?za(e,t):0,o=Vk(r.x);o.ticks(c4(e,"x")),B(e).isBar()&&o.tickSize(0);const s=n.select("g.x").attr("class","x"),l=["axis",yt(e,"x"),ap(e,"x")?"angled":""].join(" "),c=s.append("g").attr("class",l).classed(yt(e,"x"),!0);c.call(o),s.call(wB(e,"x")),B(e).hasAxisTitleX()&&s.append("text").attr("class","title").attr("x",t.x*.5-i*.5).attr("y",()=>{const h=c.node().getBBox().height*2,m=vB(e).bottom;return h+m}).text(_B(e,"x"));const u=B(e).isBar()&&yt(e,"x")==="temporal";s.attr("transform",()=>{const d=u?i*.5:0;let h;return r.y?(h=Vo(e,"y")||yt(e,"y")==="temporal"?r.y.range().pop():r.y.range()[0],h+=a):B(e).isBar()&&!B(e).hasEncodingY()?h=za(e,t):h=0,`translate(${d},${h})`});const f=PF(ap(e,"x"));if(f){const d=c.selectAll(".tick text"),m=[d.node().getBBox().height*.5*-1,0],g=f%360,p=g>0&&g<180,y=`translate(${m.join(", ")}) rotate(${f})`;d.attr("transform",y).attr("text-anchor",p?"start":"end")}return o}:Dr,pae=(e,t)=>B(e).hasAxisY()?n=>{const r=vr(e,t),i=B(e).isTemporalBar()&&a4(e)==="y"?za(e,t):0,a=Xk(r.y);a.ticks(c4(e,"y"));const o=n.select("g.y"),s=o.append("g").classed("axis",!0).classed(yt(e,"y"),!0);s.call(a).select(".domain").attr("stroke-width",0),o.call(wB(e,"y"));const l=PF(ap(e,"y"));if(l){const c=s.selectAll(".tick text"),d=`translate(${[c.node().getBBox().height*.5*-1,i*.5].join(", ")}) rotate(${l})`;c.attr("transform",d)}if(B(e).hasAxisTitleY()){const c=o.append("text").attr("class","title"),u={x:.2},f={x:s.node().getBBox().width*(1+u.x)*-1,y:t.y*.5};c.attr("x",f.x).attr("y",f.y).attr("transform",`rotate(270 ${f.x} ${f.y})`).text(_B(e,"y"))}if((B(e).isBar()||B(e).isLine())&&Lr(e)==="y"&&B(e).hasEncodingX()){const c=B(e).isTemporalBar()&&yt(e,"x")==="temporal"?za(e,t):0,u=r.x.range()[1]+c;n.select(".y .axis").selectAll(".tick").select("line").attr("x1",u)}}:Dr,gae=(e,t)=>{let r=i4(e,a=>{var o,s,l,c;return B(e).hasLayers()?a:((s=(o=a.encoding)==null?void 0:o.x)==null?void 0:s.type)&&((c=(l=a.encoding)==null?void 0:l.y)==null?void 0:c.type)});return r?a=>{if(typeof r.encoding!="object")return Dr;const o=a.select("g.axes");B(r).hasEncodingY()&&o.call(pae(r,t)),B(r).hasEncodingX()&&o.call(mae(r,t))}:Dr},yae=(e,t)=>zF(r=>{var c;r.html("");const i=r.append("div").classed("chart",!0),a=i.append("div").classed("graphic",!0);B(e).hasLegend()&&i.append("div").classed("legend",!0),B(e).hasTable()&&i.append("div").classed("table",!0);const o=a.append("svg");o.attr("tabindex",0);const s=o.append("g").classed(o7,!0);if(o.attr("width",t.x),o.attr("role","document"),!((c=e.title)!=null&&c.text))throw new Error("specification title is required");if(o.attr("aria-label",Zre(e)),o.attr("aria-description",Nre(e)),B(e).hasAxis()){const u=s.append("g").classed("axes",!0);u.attr("aria-hidden",!0),B(e).hasEncodingX()&&u.append("g").attr("class","x"),B(e).hasEncodingY()&&u.append("g").attr("class","y")}const l=Xc(e,"id");l&&o.attr("aria-labelledby",`title-${l}`)}),op="up",Hl="right",sp="down",ad="left",Du={match(e,t,n){return mt.get(t.nodes()[n.index()])===mt.get(e)},later(e,t,n){const r=[...t.nodes()].indexOf(e);return mt.get(t.nodes()[r])!==mt.get(t.nodes()[n.index()])&&r>n.index()},earlier(e,t,n){const r=[...t.nodes()].indexOf(e);return mt.get(t.nodes()[r])!==mt.get(t.nodes()[n.index()])&&r<n.index()}},vb={position(e){return Math.round(e.getBoundingClientRect().left)},match(e,t,n){return this.position(e)===this.position(t.nodes()[n.index()])}},l1=(e,t)=>(n,r)=>{const i=Kc.get(n.node());let a=0,o=n.nodes().length-1;const s=()=>n.nodes()[r.index()],l=m=>B(e).isBar()?isNaN(ie(m).datum()[1])||ie(m).datum()[1]-ie(m).datum()[0]===0:!1;if(r.index()===void 0){r.init(),i.call("addMarkHighlight",s()),i.call("addLegendHighlight",null,mt.get(s()));return}i.call("removeMarkHighlight",s()),i.call("removeLegendHighlight",null,s());let c,u;if(B(e).isCartesian()){if(t===Hl&&(c=(m,g)=>Du.match(m,n,r)&&g>r.index()&&!l(m),u=m=>Du.match(m,n,r)&&!l(m)),t===ad){const m=[...n.nodes()].filter(g=>Du.match(g,n,r)&&!l(g));c=g=>g===m[m.indexOf(s())-1],u=g=>g===m[m.length-1]}if(t===op&&(c=m=>Du.later(m,n,r)&&vb.match(m,n,r)&&!l(m),u=m=>Du.earlier(m,n,r)&&vb.match(m,n,r)&&!l(m)),t===sp){const m=[...n.nodes()].filter(g=>vb.match(g,n,r)&&!l(g));c=g=>g===m[m.indexOf(s())-1],u=g=>g===m[m.length-1]}}B(e).isCircular()&&(t===Hl&&(c=(m,g)=>g===r.index()+1,u=(m,g)=>g===a),t===ad&&(c=(m,g)=>g===r.index()-1,u=(m,g)=>g===o));let f;const d=[...n.nodes()].findIndex(c),h=[...n.nodes()].findIndex(u);d!==-1?f=d:h!==-1&&(f=h),typeof f=="number"&&(n.attr("tabindex",-1),r.index(f),ie(s()).attr("tabindex",0),s().focus(),i.call("addMarkHighlight",s()),i.call("addLegendHighlight",null,mt.get(s())))},bae=()=>{let e;return{init(){e===void 0&&(e=0)},index(t){return t===void 0?e:(e=t,!0)}}},BA=e=>{e.key!=="Tab"&&e.preventDefault()},vae=e=>({ArrowUp:op,ArrowRight:Hl,ArrowDown:sp,ArrowLeft:ad})[e],xae=e=>{try{const n=i4(e,a=>!B(a).isRule()&&!B(a).isText());return!n||!rn(n)||B(n).isRule()||B(n).isText()||!B(n).isLine()&&B(n).hasPoints()||B(n).isLine()&&!B(n).hasPoints()?Dr:a=>{let o={};o[ad]=l1(n,ad),o[Hl]=l1(n,Hl),B(n).isMulticolor()&&B(n).isCartesian()&&(o[op]=l1(n,op),o[sp]=l1(n,sp));const s=ie(hB(n,a.node())).selectAll(gc(n)),l=bae(),c=s.node();if(!(c instanceof Element))return;const u=Kc.get(c);s.filter((d,h)=>h===0).attr("tabindex",0),s.on("focus",function(d){l.index()===void 0&&o[Hl](s,l),u.call("tooltip",this,d,n)}),s.on("keydown",d=>{if(BA(d),d.key==="Enter"){const h=s.nodes()[l.index()],m=ie(h).datum();if(B(n).hasLinks()){const g=RF(n,m);g&&u.call("link",h,g)}}}),s.on("keyup",d=>{BA(d);const h=o[vae(d.key)];typeof h=="function"&&(h(s,l),u.call("tooltip",s.nodes()[l.index()],d,n))})}}catch(t){throw new Error(`keyboard navigation failure - ${t.message}`)}};function _ae(e){const t=Rl("li");t.attr("class","category pair");const n=Rl("div");n.classed("color",!0).style("background-color",e.color);const r=Rl("div");return r.classed("label",!0).text(e.group),t.append(()=>n.node()),t.append(()=>r.node()),t.node()}const $A=({clientWidth:e,clientHeight:t,scrollWidth:n,scrollHeight:r})=>r>t||n>e,wae=e=>{let t=B(e).hasLayers()?Gg(e):e;return r=>{var i;try{const{color:a}=vr(t),o=Kc.get(r.node());if(B(t).hasLegendTitle()){const y=((i=t.encoding.color.legend)==null?void 0:i.title)||ke(t,"color");r.append("h3").text(y)}const s=r.append("div").classed("items-main",!0).append("ul"),l=Rl("ul").classed("items-more",!0),c=l.append("h3");let u=s;const f=a.domain().map((p,y)=>{const b={group:p,color:a.range()[y]};return _ae(b)});u.node().append(...f);const d=()=>{let p=s.select("li:last-of-type").remove().node();p&&l.append(()=>p)};if($A(r.node())){for(;$A(r.node());)d();d(),s.append(()=>l.node())}const h=l.selectAll("li").size();c.text(`+ ${h} more`);const m=p=>{r.selectAll(".pair").filter(function(){return T0(ie(this).text())===T0(p)}).attr("data-highlight",!0)},g=()=>{r.selectAll(".pair").attr("data-highlight",null)};o&&(o.on("addLegendHighlight",m),o.on("removeLegendHighlight",g))}catch(a){throw a.message=`could not render legend - ${a.message}`,a}}},Tae=e=>B(e).hasLegend()&&(B(e).isMulticolor()||B(e).isCircular())?wae(e):Dr,Aae=[".graphic","svg","svg > title",".wrapper",".layer",".marks",".mark",".marks .mark.point",".marks .mark.text",".axes",".axes .x",".axes .x .title",".axes .y",".axes .y .title",".mark title",".point title",".tick",".legend",".legend .pair",".legend .items-main",".legend .items-more"],Sae=e=>{const t=e.slice(0,1)===".";let n;return n=t?e.slice(1):e,n.replace(/\./g,"-")},Eae=e=>e!==">",Mae=e=>e.split(" ").map(Sae).filter(Eae).join("-"),kae=e=>{Aae.forEach(t=>{e.selectAll(t).attr("data-test-selector",Mae(t))})},Oae=e=>t=>{t.append("table").append("caption").text(e.title.text)},Cae=e=>Object.keys(e.encoding),_3=e=>Cae(e).map(t=>ke(e,t)),Dae=e=>t=>Object.entries(t).sort((n,r)=>_3(e).indexOf(n[0])-_3(e).indexOf(r[0])),Lae=e=>t=>{t.select("table").append("thead").append("tr").selectAll("td").data(_3(e)).enter().append("td").attr("scope","col").text(r=>r)},Fae=e=>t=>{var r;const n=t.select("table").append("tbody").selectAll("tr").data(gt(e)).enter().append("tr").attr("scope","row").selectAll("td").data(i=>Dae(e)(i)).enter().append("td").text(([i,a])=>a).attr("class",([i,a])=>typeof a=="number"?"quantitative":null);(r=e.encoding.color)!=null&&r.field&&n.filter(([i])=>i===ke(e,"color")).append("div").style("background-color",([i,a])=>vr(e).color(a))},Bae=e=>({data:{marks:Jc(Gg(e))}}),$ae=(e,t)=>{const n=Gg(e);return Xc(n,"table")===null?Dr:r=>{r.call(Oae(e)).call(Lae(n)).call(Fae(n))}},Ct=(e,t)=>{let n,r=console.error,i=$ae;const a=o=>{var s;try{o.html(""),o.call(yae(e,t)),DA(o.node(),e),o.call(Vie(e));const l=o.select("div.chart");DA(l.node(),e),B(e).hasTable()&&l.select(".table").call(i(e,Bae(e))),B(e).hasLegend()&&l.select(".legend").call(Tae(e));const c=((s=l.select(".legend").node())==null?void 0:s.getBoundingClientRect().height)||0,u=l.select("svg"),f=t.y-c;u.attr("height",Math.max(f,0));const{top:d,right:h,bottom:m,left:g}=xB(e,t),p={x:t.x-g-h,y:f-d-m};p.y>0&&(l.select(".graphic").select("svg").call(hae(e,{x:t.x,y:f})).select(`g.${o7}`).call(gae(e,p)).call((e.layer?oie:cB)(e,p)).call(xae(e)).call(Zie(e)),o.call(kae))}catch(l){r(l)}};return a.table=o=>o===void 0?i:(typeof o=="function"&&(i=o),a),a.tooltip=o=>{if(o===void 0)return n;if(typeof o=="function")n=o,Wne(e),e.usermeta.tooltipHandler=!0;else throw new Error(`tooltip handler must be a function, but input was of type ${typeof o}`);return a},a.error=o=>typeof o<"u"?(r=o,a):r,a},Nae=e=>{Ct({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Barcode"},data:{values:[{a:"A",b:28},{a:"B",b:55},{a:"C",b:33},{a:"D",b:91},{a:"E",b:81},{a:"F",b:53},{a:"G",b:19},{a:"H",b:87},{a:"I",b:52}]},mark:"tick",encoding:{x:{field:"b",type:"quantitative"}}},{x:500,y:500})(ie(e))};/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var Iae=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zae=Object.prototype.hasOwnProperty;function w3(e,t){return Zae.call(e,t)}function T3(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)w3(e,i)&&r.push(i);return r}function fr(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function A3(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function js(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function TB(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function S3(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(S3(e[t]))return!0}else if(typeof e=="object"){for(var r=T3(e),i=r.length,a=0;a<i;a++)if(S3(e[r[a]]))return!0}}return!1}function NA(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var AB=function(e){Iae(t,e);function t(n,r,i,a,o){var s=this.constructor,l=e.call(this,NA(n,{name:r,index:i,operation:a,tree:o}))||this;return l.name=r,l.index=i,l.operation=a,l.tree=o,Object.setPrototypeOf(l,s.prototype),l.message=NA(n,{name:r,index:i,operation:a,tree:o}),l}return t}(Error),ht=AB,Rae=fr,Bl={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=lp(n,this.path);r&&(r=fr(r));var i=i0(n,{op:"remove",path:this.from}).removed;return i0(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=lp(n,this.from);return i0(n,{op:"add",path:this.path,value:fr(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:od(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},Pae={add:function(e,t,n){return A3(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Bl.move,copy:Bl.copy,test:Bl.test,_get:Bl._get};function lp(e,t){if(t=="")return e;var n={op:"_get",path:t};return i0(e,n),n.value}function i0(e,t,n,r,i,a){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),a===void 0&&(a=0),n&&(typeof n=="function"?n(t,0,e,t.path):cp(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=lp(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=od(e,t.value),o.test===!1)throw new ht("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new ht("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",a,t,e);return o}}else{r||(e=fr(e));var s=t.path||"",l=s.split("/"),c=e,u=1,f=l.length,d=void 0,h=void 0,m=void 0;for(typeof n=="function"?m=n:m=cp;;){if(h=l[u],h&&h.indexOf("~")!=-1&&(h=TB(h)),i&&(h=="__proto__"||h=="prototype"&&u>0&&l[u-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(c[h]===void 0?d=l.slice(0,u).join("/"):u==f-1&&(d=t.path),d!==void 0&&m(t,0,e,d)),u++,Array.isArray(c)){if(h==="-")h=c.length;else{if(n&&!A3(h))throw new ht("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",a,t,e);A3(h)&&(h=~~h)}if(u>=f){if(n&&t.op==="add"&&h>c.length)throw new ht("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",a,t,e);var o=Pae[t.op].call(t,c,h,e);if(o.test===!1)throw new ht("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return o}}else if(u>=f){var o=Bl[t.op].call(t,c,h,e);if(o.test===!1)throw new ht("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return o}if(c=c[h],n&&u<f&&(!c||typeof c!="object"))throw new ht("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",a,t,e)}}}function Wg(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new ht("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=fr(e));for(var a=new Array(t.length),o=0,s=t.length;o<s;o++)a[o]=i0(e,t[o],n,!0,i,o),e=a[o].newDocument;return a.newDocument=e,a}function jae(e,t,n){var r=i0(e,t);if(r.test===!1)throw new ht("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function cp(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new ht("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Bl[e.op]){if(typeof e.path!="string")throw new ht("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new ht('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new ht("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new ht("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&S3(e.value))throw new ht("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,a=r.split("/").length;if(i!==a+1&&i!==a)throw new ht("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new ht("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},s=SB([o],n);if(s&&s.name==="OPERATION_PATH_UNRESOLVABLE")throw new ht("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new ht("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function SB(e,t,n){try{if(!Array.isArray(e))throw new ht("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)Wg(fr(t),fr(e),n||!0);else{n=n||cp;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof ht)return i;throw i}}function od(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,a,o;if(n&&r){if(a=e.length,a!=t.length)return!1;for(i=a;i--!==0;)if(!od(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var s=Object.keys(e);if(a=s.length,a!==Object.keys(t).length)return!1;for(i=a;i--!==0;)if(!t.hasOwnProperty(s[i]))return!1;for(i=a;i--!==0;)if(o=s[i],!od(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}const zae=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:ht,_areEquals:od,applyOperation:i0,applyPatch:Wg,applyReducer:jae,deepClone:Rae,getValueByPointer:lp,validate:SB,validator:cp},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var u4=new WeakMap,Gae=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),Uae=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function Wae(e){return u4.get(e)}function Hae(e,t){return e.observers.get(t)}function Yae(e,t){e.observers.delete(t.callback)}function qae(e,t){t.unobserve()}function Vae(e,t){var n=[],r,i=Wae(e);if(!i)i=new Gae(e),u4.set(e,i);else{var a=Hae(i,t);r=a&&a.observer}if(r)return r;if(r={},i.value=fr(e),t){r.callback=t,r.next=null;var o=function(){E3(r)},s=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",s),window.addEventListener("keyup",s),window.addEventListener("mousedown",s),window.addEventListener("keydown",s),window.addEventListener("change",s))}return r.patches=n,r.object=e,r.unobserve=function(){E3(r),clearTimeout(r.next),Yae(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",s),window.removeEventListener("keyup",s),window.removeEventListener("mousedown",s),window.removeEventListener("keydown",s),window.removeEventListener("change",s))},i.observers.set(t,new Uae(t,r)),r}function E3(e,t){t===void 0&&(t=!1);var n=u4.get(e.object);f4(n.value,e.object,e.patches,"",t),e.patches.length&&Wg(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function f4(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var a=T3(t),o=T3(e),s=!1,l=o.length-1;l>=0;l--){var c=o[l],u=e[c];if(w3(t,c)&&!(t[c]===void 0&&u!==void 0&&Array.isArray(t)===!1)){var f=t[c];typeof u=="object"&&u!=null&&typeof f=="object"&&f!=null&&Array.isArray(u)===Array.isArray(f)?f4(u,f,n,r+"/"+js(c),i):u!==f&&(i&&n.push({op:"test",path:r+"/"+js(c),value:fr(u)}),n.push({op:"replace",path:r+"/"+js(c),value:fr(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+js(c),value:fr(u)}),n.push({op:"remove",path:r+"/"+js(c)}),s=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!s&&a.length==o.length))for(var l=0;l<a.length;l++){var c=a[l];!w3(e,c)&&t[c]!==void 0&&n.push({op:"add",path:r+"/"+js(c),value:fr(t[c])})}}}function Xae(e,t,n){n===void 0&&(n=!1);var r=[];return f4(e,t,r,"",n),r}const Jae=Object.freeze(Object.defineProperty({__proto__:null,compare:Xae,generate:E3,observe:Vae,unobserve:qae},Symbol.toStringTag,{value:"Module"}));Object.assign({},zae,Jae,{JsonPatchError:AB,deepClone:fr,escapePathComponent:js,unescapePathComponent:TB});var Kae=/("(?:[^\\"]|\\.)*")|[:,]/g,xb=function(t,n){var r,i,a;return n=n||{},r=JSON.stringify([1],void 0,n.indent===void 0?2:n.indent).slice(2,-3),i=r===""?1/0:n.maxLength===void 0?80:n.maxLength,a=n.replacer,function o(s,l,c){var u,f,d,h,m,g,p,y,b,v,x,_;if(s&&typeof s.toJSON=="function"&&(s=s.toJSON()),x=JSON.stringify(s,a),x===void 0)return x;if(p=i-l.length-c,x.length<=p&&(b=x.replace(Kae,function(T,w){return w||T+" "}),b.length<=p))return b;if(a!=null&&(s=JSON.parse(x),a=void 0),typeof s=="object"&&s!==null){if(y=l+r,d=[],f=0,Array.isArray(s))for(v="[",u="]",p=s.length;f<p;f++)d.push(o(s[f],y,f===p-1?0:1)||"null");else for(v="{",u="}",g=Object.keys(s),p=g.length;f<p;f++)h=g[f],m=JSON.stringify(h)+": ",_=o(s[h],y,m.length+(f===p-1?0:1)),_!==void 0&&d.push(m+_);if(d.length>0)return[v,r+d.join(`,
`+y),u].join(`
`+l)}return x}(t,"",0)};function nr(e,t,n){return e.fields=t||[],e.fname=n,e}function bt(e){return e==null?null:e.fname}function dn(e){return e==null?null:e.fields}function EB(e){return e.length===1?Qae(e[0]):eoe(e)}const Qae=e=>function(t){return t[e]},eoe=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function P(e){throw Error(e)}function fa(e){const t=[],n=e.length;let r=null,i=0,a="",o,s,l;e=e+"";function c(){t.push(a+e.substring(o,s)),a="",o=s+1}for(o=s=0;s<n;++s)if(l=e[s],l==="\\")a+=e.substring(o,s),a+=e.substring(++s,++s),o=s;else if(l===r)c(),r=null,i=-1;else{if(r)continue;o===i&&l==='"'||o===i&&l==="'"?(o=s+1,r=l):l==="."&&!i?s>o?c():o=s+1:l==="["?(s>o&&c(),i=o=s+1):l==="]"&&(i||P("Access path missing open bracket: "+e),i>0&&c(),i=0,o=s+1)}return i&&P("Access path missing closing bracket: "+e),r&&P("Access path missing closing quote: "+e),s>o&&(s++,c()),t}function Xn(e,t,n){const r=fa(e);return e=r.length===1?r[0]:e,nr((n&&n.get||EB)(r),[e],t||e)}const nh=Xn("id"),yn=nr(e=>e,[],"identity"),Ao=nr(()=>0,[],"zero"),Qc=nr(()=>1,[],"one"),Fr=nr(()=>!0,[],"true"),mo=nr(()=>!1,[],"false");function toe(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const MB=0,d4=1,h4=2,kB=3,OB=4;function m4(e,t,n=toe){let r=e||MB;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=d4&&n(t||"error","ERROR",arguments),this},warn(){return r>=h4&&n(t||"warn","WARN",arguments),this},info(){return r>=kB&&n(t||"log","INFO",arguments),this},debug(){return r>=OB&&n(t||"log","DEBUG",arguments),this}}}var j=Array.isArray;function ee(e){return e===Object(e)}const IA=e=>e!=="__proto__";function eu(...e){return e.reduce((t,n)=>{for(const r in n)if(r==="signals")t.signals=noe(t.signals,n.signals);else{const i=r==="legend"?{layout:1}:r==="style"?!0:null;tu(t,r,n[r],i)}return t},{})}function tu(e,t,n,r){if(!IA(t))return;let i,a;if(ee(n)&&!j(n)){a=ee(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?tu(a,i,n[i]):IA(i)&&(a[i]=n[i])}else e[t]=n}function noe(e,t){if(e==null)return t;const n={},r=[];function i(a){n[a.name]||(n[a.name]=1,r.push(a))}return t.forEach(i),e.forEach(i),r}function Oe(e){return e[e.length-1]}function cn(e){return e==null||e===""?null:+e}const CB=e=>t=>e*Math.exp(t),DB=e=>t=>Math.log(e*t),LB=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),FB=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,up=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function Hg(e,t,n,r){const i=n(e[0]),a=n(Oe(e)),o=(a-i)*t;return[r(i-o),r(a-o)]}function BB(e,t){return Hg(e,t,cn,yn)}function $B(e,t){var n=Math.sign(e[0]);return Hg(e,t,DB(n),CB(n))}function NB(e,t,n){return Hg(e,t,up(n),up(1/n))}function IB(e,t,n){return Hg(e,t,LB(n),FB(n))}function Yg(e,t,n,r,i){const a=r(e[0]),o=r(Oe(e)),s=t!=null?r(t):(a+o)/2;return[i(s+(a-s)*n),i(s+(o-s)*n)]}function p4(e,t,n){return Yg(e,t,n,cn,yn)}function g4(e,t,n){const r=Math.sign(e[0]);return Yg(e,t,n,DB(r),CB(r))}function fp(e,t,n,r){return Yg(e,t,n,up(r),up(1/r))}function y4(e,t,n,r){return Yg(e,t,n,LB(r),FB(r))}function ZB(e){return 1+~~(new Date(e).getMonth()/3)}function RB(e){return 1+~~(new Date(e).getUTCMonth()/3)}function Q(e){return e!=null?j(e)?e:[e]:[]}function PB(e,t,n){let r=e[0],i=e[1],a;return i<r&&(a=i,i=r,r=a),a=i-r,a>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-a),r+a]}function _e(e){return typeof e=="function"}const roe="descending";function b4(e,t,n){n=n||{},t=Q(t)||[];const r=[],i=[],a={},o=n.comparator||ioe;return Q(e).forEach((s,l)=>{s!=null&&(r.push(t[l]===roe?-1:1),i.push(s=_e(s)?s:Xn(s,null,n)),(dn(s)||[]).forEach(c=>a[c]=1))}),i.length===0?null:nr(o(i,r),Object.keys(a))}const qg=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),ioe=(e,t)=>e.length===1?aoe(e[0],t[0]):ooe(e,t,e.length),aoe=(e,t)=>function(n,r){return qg(e(n),e(r))*t},ooe=(e,t,n)=>(t.push(0),function(r,i){let a,o=0,s=-1;for(;o===0&&++s<n;)a=e[s],o=qg(a(r),a(i));return o*t[s]});function bn(e){return _e(e)?e:()=>e}function v4(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function xe(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function na(e,t){let n=0,r,i,a,o;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(a=o=i;n<r;++n)i=e[n],i!=null&&(i<a&&(a=i),i>o&&(o=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(a=o=i;n<r;++n)i=t(e[n]),i!=null&&(i<a&&(a=i),i>o&&(o=i))}return[a,o]}function jB(e,t){const n=e.length;let r=-1,i,a,o,s,l;if(t==null){for(;++r<n;)if(a=e[r],a!=null&&a>=a){i=o=a;break}if(r===n)return[-1,-1];for(s=l=r;++r<n;)a=e[r],a!=null&&(i>a&&(i=a,s=r),o<a&&(o=a,l=r))}else{for(;++r<n;)if(a=t(e[r],r,e),a!=null&&a>=a){i=o=a;break}if(r===n)return[-1,-1];for(s=l=r;++r<n;)a=t(e[r],r,e),a!=null&&(i>a&&(i=a,s=r),o<a&&(o=a,l=r))}return[s,l]}const soe=Object.prototype.hasOwnProperty;function oe(e,t){return soe.call(e,t)}const c1={};function nu(e){let t={},n;function r(a){return oe(t,a)&&t[a]!==c1}const i={size:0,empty:0,object:t,has:r,get(a){return r(a)?t[a]:void 0},set(a,o){return r(a)||(++i.size,t[a]===c1&&--i.empty),t[a]=o,this},delete(a){return r(a)&&(--i.size,++i.empty,t[a]=c1),this},clear(){i.size=i.empty=0,i.object=t={}},test(a){return arguments.length?(n=a,i):n},clean(){const a={};let o=0;for(const s in t){const l=t[s];l!==c1&&(!n||!n(l))&&(a[s]=l,++o)}i.size=o,i.empty=0,i.object=t=a}};return e&&Object.keys(e).forEach(a=>{i.set(a,e[a])}),i}function zB(e,t,n,r,i,a){if(!n&&n!==0)return a;const o=+n;let s=e[0],l=Oe(e),c;l<s&&(c=s,s=l,l=c),c=Math.abs(t-s);const u=Math.abs(l-t);return c<u&&c<=o?r:u<=o?i:a}function H(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),xe(r,n)}function $l(e,t,n,r){let i=t[0],a=t[t.length-1],o;return i>a&&(o=i,i=a,a=o),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=a:e<a)}function ms(e){return typeof e=="boolean"}function Bo(e){return Object.prototype.toString.call(e)==="[object Date]"}function GB(e){return e&&_e(e[Symbol.iterator])}function He(e){return typeof e=="number"}function UB(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function J(e){return typeof e=="string"}function x4(e,t,n){e&&(e=t?Q(e).map(s=>s.replace(/\\(.)/g,"$1")):Q(e));const r=e&&e.length,i=n&&n.get||EB,a=s=>i(t?[s]:fa(s));let o;if(!r)o=function(){return""};else if(r===1){const s=a(e[0]);o=function(l){return""+s(l)}}else{const s=e.map(a);o=function(l){let c=""+s[0](l),u=0;for(;++u<r;)c+="|"+s[u](l);return c}}return nr(o,e,"key")}function WB(e,t){const n=e[0],r=Oe(e),i=+t;return i?i===1?r:n+i*(r-n):n}const loe=1e4;function HB(e){e=+e||loe;let t,n,r;const i=()=>{t={},n={},r=0},a=(o,s)=>(++r>e&&(n=t,t={},r=1),t[o]=s);return i(),{clear:i,has:o=>oe(t,o)||oe(n,o),get:o=>oe(t,o)?t[o]:oe(n,o)?a(o,n[o]):void 0,set:(o,s)=>oe(t,o)?t[o]=s:a(o,s)}}function YB(e,t,n,r){const i=t.length,a=n.length;if(!a)return t;if(!i)return n;const o=r||new t.constructor(i+a);let s=0,l=0,c=0;for(;s<i&&l<a;++c)o[c]=e(t[s],n[l])>0?n[l++]:t[s++];for(;s<i;++s,++c)o[c]=t[s];for(;l<a;++l,++c)o[c]=n[l];return o}function uf(e,t){let n="";for(;--t>=0;)n+=e;return n}function qB(e,t,n,r){const i=n||" ",a=e+"",o=t-a.length;return o<=0?a:r==="left"?uf(i,o)+a:r==="center"?uf(i,~~(o/2))+a+uf(i,Math.ceil(o/2)):a+uf(i,o)}function rh(e){return e&&Oe(e)-e[0]||0}function q(e){return j(e)?"["+e.map(q)+"]":ee(e)||J(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function _4(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const coe=e=>He(e)||Bo(e)?e:Date.parse(e);function w4(e,t){return t=t||coe,e==null||e===""?null:t(e)}function T4(e){return e==null||e===""?null:e+""}function bi(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function VB(e,t,n,r){const i=r??"…",a=e+"",o=a.length,s=Math.max(0,t-i.length);return o<=t?a:n==="left"?i+a.slice(o-s):n==="center"?a.slice(0,Math.ceil(s/2))+i+a.slice(o-~~(s/2)):a.slice(0,s)+i}function vo(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const a=t(e[i]);a&&n(a,i,e)}}else e.forEach(n)}function uoe(e){return e}function foe(e){if(e==null)return uoe;var t,n,r=e.scale[0],i=e.scale[1],a=e.translate[0],o=e.translate[1];return function(s,l){l||(t=n=0);var c=2,u=s.length,f=new Array(u);for(f[0]=(t+=s[0])*r+a,f[1]=(n+=s[1])*i+o;c<u;)f[c]=s[c],++c;return f}}function doe(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function hoe(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return ZA(e,n)})}:ZA(e,t)}function ZA(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,a=XB(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:a}:r==null?{type:"Feature",id:n,properties:i,geometry:a}:{type:"Feature",id:n,bbox:r,properties:i,geometry:a}}function XB(e,t){var n=foe(e.transform),r=e.arcs;function i(u,f){f.length&&f.pop();for(var d=r[u<0?~u:u],h=0,m=d.length;h<m;++h)f.push(n(d[h],h));u<0&&doe(f,m)}function a(u){return n(u)}function o(u){for(var f=[],d=0,h=u.length;d<h;++d)i(u[d],f);return f.length<2&&f.push(f[0]),f}function s(u){for(var f=o(u);f.length<4;)f.push(f[0]);return f}function l(u){return u.map(s)}function c(u){var f=u.type,d;switch(f){case"GeometryCollection":return{type:f,geometries:u.geometries.map(c)};case"Point":d=a(u.coordinates);break;case"MultiPoint":d=u.coordinates.map(a);break;case"LineString":d=o(u.arcs);break;case"MultiLineString":d=u.arcs.map(o);break;case"Polygon":d=l(u.arcs);break;case"MultiPolygon":d=u.arcs.map(l);break;default:return null}return{type:f,coordinates:d}}return c(t)}function moe(e,t){var n={},r={},i={},a=[],o=-1;t.forEach(function(c,u){var f=e.arcs[c<0?~c:c],d;f.length<3&&!f[1][0]&&!f[1][1]&&(d=t[++o],t[o]=c,t[u]=d)}),t.forEach(function(c){var u=s(c),f=u[0],d=u[1],h,m;if(h=i[f])if(delete i[h.end],h.push(c),h.end=d,m=r[d]){delete r[m.start];var g=m===h?h:h.concat(m);r[g.start=h.start]=i[g.end=m.end]=g}else r[h.start]=i[h.end]=h;else if(h=r[d])if(delete r[h.start],h.unshift(c),h.start=f,m=i[f]){delete i[m.end];var p=m===h?h:m.concat(h);r[p.start=m.start]=i[p.end=h.end]=p}else r[h.start]=i[h.end]=h;else h=[c],r[h.start=f]=i[h.end=d]=h});function s(c){var u=e.arcs[c<0?~c:c],f=u[0],d;return e.transform?(d=[0,0],u.forEach(function(h){d[0]+=h[0],d[1]+=h[1]})):d=u[u.length-1],c<0?[d,f]:[f,d]}function l(c,u){for(var f in c){var d=c[f];delete u[d.start],delete d.start,delete d.end,d.forEach(function(h){n[h<0?~h:h]=1}),a.push(d)}}return l(i,r),l(r,i),t.forEach(function(c){n[c<0?~c:c]||a.push([c])}),a}function poe(e){return XB(e,goe.apply(this,arguments))}function goe(e,t,n){var r,i,a;if(arguments.length>1)r=yoe(e,t,n);else for(i=0,r=new Array(a=e.arcs.length);i<a;++i)r[i]=i;return{type:"MultiLineString",arcs:moe(e,r)}}function yoe(e,t,n){var r=[],i=[],a;function o(f){var d=f<0?~f:f;(i[d]||(i[d]=[])).push({i:f,g:a})}function s(f){f.forEach(o)}function l(f){f.forEach(s)}function c(f){f.forEach(l)}function u(f){switch(a=f,f.type){case"GeometryCollection":f.geometries.forEach(u);break;case"LineString":s(f.arcs);break;case"MultiLineString":case"Polygon":l(f.arcs);break;case"MultiPolygon":c(f.arcs);break}}return u(t),i.forEach(n==null?function(f){r.push(f[0].i)}:function(f){n(f[0].g,f[f.length-1].g)&&r.push(f[0].i)}),r}const Yt="year",Jn="quarter",hn="month",Et="week",Kn="date",on="day",ra="dayofyear",hr="hours",mr="minutes",Br="seconds",vi="milliseconds",A4=[Yt,Jn,hn,Et,Kn,on,ra,hr,mr,Br,vi],_b=A4.reduce((e,t,n)=>(e[t]=1+n,e),{});function S4(e){const t=Q(e).slice(),n={};return t.length||P("Missing time unit."),t.forEach(i=>{oe(_b,i)?n[i]=1:P("Invalid time unit: ".concat(i,"."))}),(n[Et]||n[on]?1:0)+(n[Jn]||n[hn]||n[Kn]?1:0)+(n[ra]?1:0)>1&&P("Incompatible time units: ".concat(e)),t.sort((i,a)=>_b[i]-_b[a]),t}const boe={[Yt]:"%Y ",[Jn]:"Q%q ",[hn]:"%b ",[Kn]:"%d ",[Et]:"W%U ",[on]:"%a ",[ra]:"%j ",[hr]:"%H:00",[mr]:"00:%M",[Br]:":%S",[vi]:".%L",["".concat(Yt,"-").concat(hn)]:"%Y-%m ",["".concat(Yt,"-").concat(hn,"-").concat(Kn)]:"%Y-%m-%d ",["".concat(hr,"-").concat(mr)]:"%H:%M"};function JB(e,t){const n=xe({},boe,t),r=S4(e),i=r.length;let a="",o=0,s,l;for(o=0;o<i;)for(s=r.length;s>o;--s)if(l=r.slice(o,s).join("-"),n[l]!=null){a+=n[l],o=s;break}return a.trim()}const Us=new Date;function E4(e){return Us.setFullYear(e),Us.setMonth(0),Us.setDate(1),Us.setHours(0,0,0,0),Us}function KB(e){return e$(new Date(e))}function QB(e){return M3(new Date(e))}function e$(e){return Yi.count(E4(e.getFullYear())-1,e)}function M3(e){return Wo.count(E4(e.getFullYear())-1,e)}function k3(e){return E4(e).getDay()}function voe(e,t,n,r,i,a,o){if(0<=e&&e<100){const s=new Date(-1,t,n,r,i,a,o);return s.setFullYear(e),s}return new Date(e,t,n,r,i,a,o)}function t$(e){return r$(new Date(e))}function n$(e){return O3(new Date(e))}function r$(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return ja.count(t-1,e)}function O3(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return Ho.count(t-1,e)}function C3(e){return Us.setTime(Date.UTC(e,0,1)),Us.getUTCDay()}function xoe(e,t,n,r,i,a,o){if(0<=e&&e<100){const s=new Date(Date.UTC(-1,t,n,r,i,a,o));return s.setUTCFullYear(n.y),s}return new Date(Date.UTC(e,t,n,r,i,a,o))}function i$(e,t,n,r,i){const a=t||1,o=Oe(e),s=(y,b,v)=>(v=v||y,_oe(n[v],r[v],y===o&&a,b)),l=new Date,c=bi(e),u=c[Yt]?s(Yt):bn(2012),f=c[hn]?s(hn):c[Jn]?s(Jn):Ao,d=c[Et]&&c[on]?s(on,1,Et+on):c[Et]?s(Et,1):c[on]?s(on,1):c[Kn]?s(Kn,1):c[ra]?s(ra,1):Qc,h=c[hr]?s(hr):Ao,m=c[mr]?s(mr):Ao,g=c[Br]?s(Br):Ao,p=c[vi]?s(vi):Ao;return function(y){l.setTime(+y);const b=u(l);return i(b,f(l),d(l,b),h(l),m(l),g(l),p(l))}}function _oe(e,t,n,r){const i=n<=1?e:r?(a,o)=>r+n*Math.floor((e(a,o)-r)/n):(a,o)=>n*Math.floor(e(a,o)/n);return t?(a,o)=>t(i(a,o),o):i}function yc(e,t,n){return t+e*7-(n+6)%7}const woe={[Yt]:e=>e.getFullYear(),[Jn]:e=>Math.floor(e.getMonth()/3),[hn]:e=>e.getMonth(),[Kn]:e=>e.getDate(),[hr]:e=>e.getHours(),[mr]:e=>e.getMinutes(),[Br]:e=>e.getSeconds(),[vi]:e=>e.getMilliseconds(),[ra]:e=>e$(e),[Et]:e=>M3(e),[Et+on]:(e,t)=>yc(M3(e),e.getDay(),k3(t)),[on]:(e,t)=>yc(1,e.getDay(),k3(t))},Toe={[Jn]:e=>3*e,[Et]:(e,t)=>yc(e,0,k3(t))};function a$(e,t){return i$(e,t||1,woe,Toe,voe)}const Aoe={[Yt]:e=>e.getUTCFullYear(),[Jn]:e=>Math.floor(e.getUTCMonth()/3),[hn]:e=>e.getUTCMonth(),[Kn]:e=>e.getUTCDate(),[hr]:e=>e.getUTCHours(),[mr]:e=>e.getUTCMinutes(),[Br]:e=>e.getUTCSeconds(),[vi]:e=>e.getUTCMilliseconds(),[ra]:e=>r$(e),[Et]:e=>O3(e),[on]:(e,t)=>yc(1,e.getUTCDay(),C3(t)),[Et+on]:(e,t)=>yc(O3(e),e.getUTCDay(),C3(t))},Soe={[Jn]:e=>3*e,[Et]:(e,t)=>yc(e,0,C3(t))};function o$(e,t){return i$(e,t||1,Aoe,Soe,xoe)}const Eoe={[Yt]:pi,[Jn]:dc.every(3),[hn]:dc,[Et]:Wo,[Kn]:Yi,[on]:Yi,[ra]:Yi,[hr]:Vd,[mr]:Yd,[Br]:ii,[vi]:Uo},Moe={[Yt]:gi,[Jn]:hc.every(3),[hn]:hc,[Et]:Ho,[Kn]:ja,[on]:ja,[ra]:ja,[hr]:Xd,[mr]:qd,[Br]:ii,[vi]:Uo};function ru(e){return Eoe[e]}function iu(e){return Moe[e]}function s$(e,t,n){return e?e.offset(t,n):void 0}function l$(e,t,n){return s$(ru(e),t,n)}function c$(e,t,n){return s$(iu(e),t,n)}function u$(e,t,n,r){return e?e.range(t,n,r):void 0}function f$(e,t,n,r){return u$(ru(e),t,n,r)}function d$(e,t,n,r){return u$(iu(e),t,n,r)}const ff=1e3,df=ff*60,hf=df*60,Vg=hf*24,koe=Vg*7,RA=Vg*30,D3=Vg*365,h$=[Yt,hn,Kn,hr,mr,Br,vi],mf=h$.slice(0,-1),pf=mf.slice(0,-1),gf=pf.slice(0,-1),Ooe=gf.slice(0,-1),Coe=[Yt,Et],PA=[Yt,hn],m$=[Yt],Lu=[[mf,1,ff],[mf,5,5*ff],[mf,15,15*ff],[mf,30,30*ff],[pf,1,df],[pf,5,5*df],[pf,15,15*df],[pf,30,30*df],[gf,1,hf],[gf,3,3*hf],[gf,6,6*hf],[gf,12,12*hf],[Ooe,1,Vg],[Coe,1,koe],[PA,1,RA],[PA,3,3*RA],[m$,1,D3]];function p$(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(rh(t))/n;let i=zc(s=>s[2]).right(Lu,r),a,o;return i===Lu.length?(a=m$,o=Ya(t[0]/D3,t[1]/D3,n)):i?(i=Lu[r/Lu[i-1][2]<Lu[i][2]/r?i-1:i],a=i[0],o=i[1]):(a=h$,o=Math.max(Ya(t[0],t[1],n),1)),{units:a,step:o}}function yf(e){const t={};return n=>t[n]||(t[n]=e(n))}function Doe(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let a=Loe(r,i);const o=a<r.length?r.slice(a):"";for(;--a>i;)if(r[a]!=="0"){++a;break}return r.slice(0,a)+o}}function Loe(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function g$(e){const t=yf(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=Go(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return Doe(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,a,o){o=Go(o??",f");const s=Ya(r,i,a),l=Math.max(Math.abs(r),Math.abs(i));let c;if(o.precision==null)switch(o.type){case"s":return isNaN(c=V7(s,l))||(o.precision=c),n(o,l);case"":case"e":case"g":case"p":case"r":{isNaN(c=X7(s,l))||(o.precision=c-(o.type==="e"));break}case"f":case"%":{isNaN(c=q7(s))||(o.precision=c-(o.type==="%")*2);break}}return t(o)}}}let L3;y$();function y$(){return L3=g$({format:Rd,formatPrefix:wg})}function b$(e){return g$(Y7(e))}function dp(e){return arguments.length?L3=b$(e):L3}function jA(e,t,n){n=n||{},ee(n)||P("Invalid time multi-format specifier: ".concat(n));const r=t(Br),i=t(mr),a=t(hr),o=t(Kn),s=t(Et),l=t(hn),c=t(Jn),u=t(Yt),f=e(n[vi]||".%L"),d=e(n[Br]||":%S"),h=e(n[mr]||"%I:%M"),m=e(n[hr]||"%I %p"),g=e(n[Kn]||n[on]||"%a %d"),p=e(n[Et]||"%b %d"),y=e(n[hn]||"%B"),b=e(n[Jn]||"%B"),v=e(n[Yt]||"%Y");return x=>(r(x)<x?f:i(x)<x?d:a(x)<x?h:o(x)<x?m:l(x)<x?s(x)<x?g:p:u(x)<x?c(x)<x?y:b:v)(x)}function v$(e){const t=yf(e.format),n=yf(e.utcFormat);return{timeFormat:r=>J(r)?t(r):jA(t,ru,r),utcFormat:r=>J(r)?n(r):jA(n,iu,r),timeParse:yf(e.parse),utcParse:yf(e.utcParse)}}let F3;x$();function x$(){return F3=v$({format:Og,parse:N8,utcFormat:Y0,utcParse:Jd})}function _$(e){return v$($8(e))}function sd(e){return arguments.length?F3=_$(e):F3}const B3=(e,t)=>xe({},e,t);function w$(e,t){const n=e?b$(e):dp(),r=t?_$(t):sd();return B3(n,r)}function M4(e,t){const n=arguments.length;return n&&n!==2&&P("defaultLocale expects either zero or two arguments."),n?B3(dp(e),sd(t)):B3(dp(),sd())}function Foe(){return y$(),x$(),M4()}const Boe=/^(data:|([A-Za-z]+:)?\/\/)/,$oe=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,Noe=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,zA="file://";function Ioe(e,t){return n=>({options:n||{},sanitize:Roe,load:Zoe,fileAccess:!!t,file:Poe(t),http:zoe(e)})}async function Zoe(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function Roe(e,t){t=xe({},this.options,t);const n=this.fileAccess,r={href:null};let i,a,o;const s=$oe.test(e.replace(Noe,""));(e==null||typeof e!="string"||!s)&&P("Sanitize failure, invalid URI: "+q(e));const l=Boe.test(e);return(o=t.baseURL)&&!l&&(!e.startsWith("/")&&!o.endsWith("/")&&(e="/"+e),e=o+e),a=(i=e.startsWith(zA))||t.mode==="file"||t.mode!=="http"&&!l&&n,i?e=e.slice(zA.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),a=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!a}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function Poe(e){return e?t=>new Promise((n,r)=>{e.readFile(t,(i,a)=>{i?r(i):n(a)})}):joe}async function joe(){P("No file system access.")}function zoe(e){return e?async function(t,n){const r=xe({},this.options.http,n),i=n&&n.response,a=await e(t,r);return a.ok?_e(a[i])?a[i]():a.text():P(a.status+""+a.statusText)}:Goe}async function Goe(){P("No HTTP fetch method available.")}const Uoe=e=>e!=null&&e===e,Woe=e=>e==="true"||e==="false"||e===!0||e===!1,Hoe=e=>!Number.isNaN(Date.parse(e)),T$=e=>!Number.isNaN(+e)&&!(e instanceof Date),Yoe=e=>T$(e)&&Number.isInteger(+e),$3={boolean:_4,integer:cn,number:cn,date:w4,string:T4,unknown:yn},u1=[Woe,Yoe,T$,Hoe],qoe=["boolean","integer","number","date"];function A$(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=u1.length,i=u1.map((a,o)=>o+1);for(let a=0,o=0,s,l;a<n;++a)for(l=t?e[a][t]:e[a],s=0;s<r;++s)if(i[s]&&Uoe(l)&&!u1[s](l)&&(i[s]=0,++o,o===u1.length))return"string";return qoe[i.reduce((a,o)=>a===0?o:a,0)-1]}function S$(e,t){return t.reduce((n,r)=>(n[r]=A$(e,r),n),{})}function GA(e){const t=function(n,r){const i={delimiter:e};return k4(n,r?xe(r,i):i)};return t.responseType="text",t}function k4(e,t){return t.header&&(e=t.header.map(q).join(t.delimiter)+`
`+e),Zd(t.delimiter).parse(e+"")}k4.responseType="text";function Voe(e){return typeof Buffer=="function"&&_e(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function O4(e,t){const n=t&&t.property?Xn(t.property):yn;return ee(e)&&!Voe(e)?Xoe(n(e),t):n(JSON.parse(e))}O4.responseType="json";function Xoe(e,t){return!j(e)&&GB(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const Joe={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function E$(e,t){let n,r,i,a;return e=O4(e,t),t&&t.feature?(n=hoe,i=t.feature):t&&t.mesh?(n=poe,i=t.mesh,a=Joe[t.filter]):P("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,a):P("Invalid TopoJSON object: "+i),r&&r.features||[r]}E$.responseType="json";const X1={dsv:k4,csv:GA(","),tsv:GA("	"),json:O4,topojson:E$};function C4(e,t){return arguments.length>1?(X1[e]=t,this):oe(X1,e)?X1[e]:null}function M$(e){const t=C4(e);return t&&t.responseType||"text"}function k$(e,t,n,r){t=t||{};const i=C4(t.type||"json");return i||P("Unknown data format type: "+t.type),e=i(e,t),t.parse&&Koe(e,t.parse,n,r),oe(e,"columns")&&delete e.columns,e}function Koe(e,t,n,r){if(!e.length)return;const i=sd();n=n||i.timeParse,r=r||i.utcParse;let a=e.columns||Object.keys(e[0]),o,s,l,c,u,f;t==="auto"&&(t=S$(e,a)),a=Object.keys(t);const d=a.map(h=>{const m=t[h];let g,p;if(m&&(m.startsWith("date:")||m.startsWith("utc:")))return g=m.split(/:(.+)?/,2),p=g[1],(p[0]==="'"&&p[p.length-1]==="'"||p[0]==='"'&&p[p.length-1]==='"')&&(p=p.slice(1,-1)),(g[0]==="utc"?r:n)(p);if(!$3[m])throw Error("Illegal format pattern: "+h+":"+m);return $3[m]});for(l=0,u=e.length,f=a.length;l<u;++l)for(o=e[l],c=0;c<f;++c)s=a[c],o[s]=d[c](o[s])}const Xg=Ioe(typeof fetch<"u"&&fetch,null);function Jg(e){const t=e||yn,n=[],r={};return n.add=i=>{const a=t(i);return r[a]||(r[a]=1,n.push(i)),n},n.remove=i=>{const a=t(i);if(r[a]){r[a]=0;const o=n.indexOf(i);o>=0&&n.splice(o,1)}return n},n}async function J1(e,t){try{await t(e)}catch(n){e.error(n)}}const O$=Symbol("vega_id");let Qoe=1;function Kg(e){return!!(e&&le(e))}function le(e){return e[O$]}function C$(e,t){return e[O$]=t,e}function Pe(e){const t=e===Object(e)?e:{data:e};return le(t)?t:C$(t,Qoe++)}function D4(e){return Qg(e,Pe({}))}function Qg(e,t){for(const n in e)t[n]=e[n];return t}function D$(e,t){return C$(t,le(e))}function q0(e,t){return e?t?(n,r)=>e(n,r)||le(t(n))-le(t(r)):(n,r)=>e(n,r)||le(n)-le(r):null}function L$(e){return e&&e.constructor===V0}function V0(){const e=[],t=[],n=[],r=[],i=[];let a=null,o=!1;return{constructor:V0,insert(s){const l=Q(s),c=l.length;for(let u=0;u<c;++u)e.push(l[u]);return this},remove(s){const l=_e(s)?r:t,c=Q(s),u=c.length;for(let f=0;f<u;++f)l.push(c[f]);return this},modify(s,l,c){const u={field:l,value:bn(c)};return _e(s)?(u.filter=s,i.push(u)):(u.tuple=s,n.push(u)),this},encode(s,l){return _e(s)?i.push({filter:s,field:l}):n.push({tuple:s,field:l}),this},clean(s){return a=s,this},reflow(){return o=!0,this},pulse(s,l){const c={},u={};let f,d,h,m,g,p;for(f=0,d=l.length;f<d;++f)c[le(l[f])]=1;for(f=0,d=t.length;f<d;++f)g=t[f],c[le(g)]=-1;for(f=0,d=r.length;f<d;++f)m=r[f],l.forEach(b=>{m(b)&&(c[le(b)]=-1)});for(f=0,d=e.length;f<d;++f)g=e[f],p=le(g),c[p]?c[p]=1:s.add.push(Pe(e[f]));for(f=0,d=l.length;f<d;++f)g=l[f],c[le(g)]<0&&s.rem.push(g);function y(b,v,x){x?b[v]=x(b):s.encode=v,o||(u[le(b)]=b)}for(f=0,d=n.length;f<d;++f)h=n[f],g=h.tuple,m=h.field,p=c[le(g)],p>0&&(y(g,m,h.value),s.modifies(m));for(f=0,d=i.length;f<d;++f)h=i[f],m=h.filter,l.forEach(b=>{m(b)&&c[le(b)]>0&&y(b,h.field,h.value)}),s.modifies(h.field);if(o)s.mod=t.length||r.length?l.filter(b=>c[le(b)]>0):l.slice();else for(p in u)s.mod.push(u[p]);return(a||a==null&&(t.length||r.length))&&s.clean(!0),s}}}const K1="_:mod:_";function e2(){Object.defineProperty(this,K1,{writable:!0,value:{}})}e2.prototype={set(e,t,n,r){const i=this,a=i[e],o=i[K1];return t!=null&&t>=0?(a[t]!==n||r)&&(a[t]=n,o[t+":"+e]=-1,o[e]=-1):(a!==n||r)&&(i[e]=n,o[e]=j(n)?1+n.length:-1),i},modified(e,t){const n=this[K1];if(arguments.length){if(j(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[K1]={},this}};let ese=0;const tse="pulse",nse=new e2,rse=1,ise=2;function Xe(e,t,n,r){this.id=++ese,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function UA(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}Xe.prototype={targets(){return this._targets||(this._targets=Jg(nh))},set(e){return this.value!==e?(this.value=e,1):0},skip:UA(rse),modified:UA(ise),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new e2,i=this._argops=this._argops||[],a=[];let o,s,l,c;const u=(f,d,h)=>{h instanceof Xe?(h!==this&&(t&&h.targets().add(this),a.push(h)),i.push({op:h,name:f,index:d})):r.set(f,d,h)};for(o in e)if(s=e[o],o===tse)Q(s).forEach(f=>{f instanceof Xe?f!==this&&(f.targets().add(this),a.push(f)):P("Pulse parameters must be operator instances.")}),this.source=s;else if(j(s))for(r.set(o,-1,Array(l=s.length)),c=0;c<l;++c)u(o,c,s[c]);else u(o,-1,s);return this.marshall().clear(),n&&(i.initonly=!0),a},marshall(e){const t=this._argval||nse,n=this._argops;let r,i,a,o;if(n){const s=n.length;for(i=0;i<s;++i)r=n[i],a=r.op,o=a.modified()&&a.stamp===e,t.set(r.name,r.index,a.value,o);if(n.initonly){for(i=0;i<s;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function ase(e,t,n,r){let i=1,a;return e instanceof Xe?a=e:e&&e.prototype instanceof Xe?a=new e:_e(e)?a=new Xe(null,e):(i=0,a=new Xe(e,t)),this.rank(a),i&&(r=n,n=t),n&&this.connect(a,a.parameters(n,r)),this.touch(a),a}function ose(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let sse=0;function t2(e,t,n){this.id=++sse,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function po(e,t,n){return new t2(e,t,n)}t2.prototype={_filter:Fr,_apply:yn,targets(){return this._targets||(this._targets=Jg(nh))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=po(e);return this.targets().add(t),t},apply(e){const t=po(null,e);return this.targets().add(t),t},merge(){const e=po();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=po();return this.targets().add(po(null,null,v4(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(po(null,null,()=>n=!0)),t.targets().add(po(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=Fr,this._targets=null}};function lse(e,t,n,r){const i=this,a=po(n,r),o=function(c){c.dataflow=i;try{a.receive(c)}catch(u){i.error(u)}finally{i.run()}};let s;typeof e=="string"&&typeof document<"u"?s=document.querySelectorAll(e):s=Q(e);const l=s.length;for(let c=0;c<l;++c)s[c].addEventListener(t,o);return a}function cse(e,t){const n=this.locale();return k$(e,t,n.timeParse,n.utcParse)}function use(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function fse(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:M$(t&&t.type)});try{i=n.parse(i,t)}catch(a){r=-2,n.warn("Data ingestion failed",e,a)}}catch(a){r=-1,n.warn("Loading failed",e,a)}return{data:i,status:r}}async function dse(e,t,n){const r=this,i=r._pending||hse(r);i.requests+=1;const a=await r.request(t,n);return r.pulse(e,r.changeset().remove(Fr).insert(a.data||[])),i.done(),a}function hse(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const mse={skip:!0};function pse(e,t,n,r,i){return(e instanceof Xe?yse:gse)(this,e,t,n,r,i),this}function gse(e,t,n,r,i,a){const o=xe({},a,mse);let s,l;_e(n)||(n=bn(n)),r===void 0?s=c=>e.touch(n(c)):_e(r)?(l=new Xe(null,r,i,!1),s=c=>{l.evaluate(c);const u=n(c),f=l.value;L$(f)?e.pulse(u,f,a):e.update(u,f,o)}):s=c=>e.update(n(c),r,o),t.apply(s)}function yse(e,t,n,r,i,a){if(r===void 0)t.targets().add(n);else{const o=a||{},s=new Xe(null,bse(n,r),i,!1);s.modified(o.force),s.rank=t.rank,t.targets().add(s),n&&(s.skip(!0),s.value=n.value,s.targets().add(n),e.connect(n,[s]))}}function bse(e,t){return t=_e(t)?t:bn(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function vse(e){e.rank=++this._rank}function xse(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&P("Cycle detected in dataflow graph.")}const hp={},Bi=1<<0,xo=1<<1,Da=1<<2,_se=Bi|xo,WA=Bi|Da,vl=Bi|xo|Da,HA=1<<3,Fu=1<<4,YA=1<<5,qA=1<<6;function $o(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function wb(e,t){const n=[];return vo(e,t,r=>n.push(r)),n}function VA(e,t){const n={};return e.visit(t,r=>{n[le(r)]=1}),r=>n[le(r)]?null:r}function f1(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}$o.prototype={StopPropagation:hp,ADD:Bi,REM:xo,MOD:Da,ADD_REM:_se,ADD_MOD:WA,ALL:vl,REFLOW:HA,SOURCE:Fu,NO_SOURCE:YA,NO_FIELDS:qA,fork(e){return new $o(this.dataflow).init(this,e)},clone(){const e=this.fork(vl);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(vl|Fu)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new $o(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&qA)&&(n.fields=e.fields),t&Bi?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&xo?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&Da?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&YA?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||vl;return t&Bi&&this.add.length||t&xo&&this.rem.length||t&Da&&this.mod.length},reflow(e){if(e)return this.fork(vl).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(Da,VA(this,Bi))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return j(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?j(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&Bi&&(n.addF=f1(n.addF,t)),e&xo&&(n.remF=f1(n.remF,t)),e&Da&&(n.modF=f1(n.modF,t)),e&Fu&&(n.srcF=f1(n.srcF,t)),n},materialize(e){e=e||vl;const t=this;return e&Bi&&t.addF&&(t.add=wb(t.add,t.addF),t.addF=null),e&xo&&t.remF&&(t.rem=wb(t.rem,t.remF),t.remF=null),e&Da&&t.modF&&(t.mod=wb(t.mod,t.modF),t.modF=null),e&Fu&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&Fu)return vo(n.source,n.srcF,r),n;e&Bi&&vo(n.add,n.addF,r),e&xo&&vo(n.rem,n.remF,r),e&Da&&vo(n.mod,n.modF,r);const i=n.source;if(e&HA&&i){const a=n.add.length+n.mod.length;a===i.length||(a?vo(i,VA(n,WA),r):vo(i,n.srcF,r))}return n}};function L4(e,t,n,r){const i=this,a=n.length;let o=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(let s=0;s<a;++s){const l=n[s];if(l.stamp===t){if(l.fields){const c=i.fields||(i.fields={});for(const u in l.fields)c[u]=1}l.changed(i.ADD)&&(o|=i.ADD),l.changed(i.REM)&&(o|=i.REM),l.changed(i.MOD)&&(o|=i.MOD)}}this.changes=o}H(L4,$o,{fork(e){const t=new $o(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?j(e)?e.some(r=>n[r]):n[e]:0},filter(){P("MultiPulse does not support filtering.")},materialize(){P("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let a=0;if(e&n.SOURCE)for(;a<i;++a)r[a].visit(e,t);else for(;a<i;++a)r[a].stamp===n.stamp&&r[a].visit(e,t);return n}});async function wse(e,t,n){const r=this,i=[];if(r._pulse)return F$(r);if(r._pending&&await r._pending,t&&await J1(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const a=++r._clock;r._pulse=new $o(r,a,e),r._touched.forEach(u=>r._enqueue(u,!0)),r._touched=Jg(nh);let o=0,s,l,c;try{for(;r._heap.size()>0;){if(s=r._heap.pop(),s.rank!==s.qrank){r._enqueue(s,!0);continue}l=s.run(r._getPulse(s,e)),l.then?l=await l:l.async&&(i.push(l.async),l=hp),l!==hp&&s._targets&&s._targets.forEach(u=>r._enqueue(u)),++o}}catch(u){r._heap.clear(),c=u}if(r._input={},r._pulse=null,r.debug(`Pulse ${a}: ${o} operators`),c&&(r._postrun=[],r.error(c)),r._postrun.length){const u=r._postrun.sort((f,d)=>d.priority-f.priority);r._postrun=[];for(let f=0;f<u.length;++f)await J1(r,u[f].callback)}return n&&await J1(r,n),i.length&&Promise.all(i).then(u=>r.runAsync(null,()=>{u.forEach(f=>{try{f(r)}catch(d){r.error(d)}})})),r}async function Tse(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function Ase(e,t,n){return this._pulse?F$(this):(this.evaluate(e,t,n),this)}function Sse(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function F$(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function Ese(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function Mse(e,t){const n=e.source,r=this._clock;return n&&j(n)?new L4(this,r,n.map(i=>i.pulse),t):this._input[e.id]||kse(this._pulse,n&&n.pulse)}function kse(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==hp&&(e.source=t.source),e)}const F4={skip:!1,force:!1};function Ose(e,t){const n=t||F4;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function Cse(e,t,n){const r=n||F4;return(e.set(t)||r.force)&&this.touch(e,r),this}function Dse(e,t,n){this.touch(e,n||F4);const r=new $o(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function Lse(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),B$(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,Fse(t,0,e)):r=n,r}}}function B$(e,t,n,r){let i,a;const o=e[n];for(;n>t;){if(a=n-1>>1,i=e[a],r(o,i)<0){e[n]=i,n=a;continue}break}return e[n]=o}function Fse(e,t,n){const r=t,i=e.length,a=e[t];let o=(t<<1)+1,s;for(;o<i;)s=o+1,s<i&&n(e[o],e[s])>=0&&(o=s),e[t]=e[o],t=o,o=(t<<1)+1;return e[t]=a,B$(e,r,t,n)}function Yl(){this.logger(m4()),this.logLevel(d4),this._clock=0,this._rank=0,this._locale=M4();try{this._loader=Xg()}catch{}this._touched=Jg(nh),this._input={},this._pulse=null,this._heap=Lse((e,t)=>e.qrank-t.qrank),this._postrun=[]}function Bu(e){return function(){return this._log[e].apply(this,arguments)}}Yl.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:Bu("error"),warn:Bu("warn"),info:Bu("info"),debug:Bu("debug"),logLevel:Bu("level"),cleanThreshold:1e4,add:ase,connect:ose,rank:vse,rerank:xse,pulse:Dse,touch:Ose,update:Cse,changeset:V0,ingest:use,parse:cse,preload:dse,request:fse,events:lse,on:pse,evaluate:wse,run:Ase,runAsync:Tse,runAfter:Sse,_enqueue:Ese,_getPulse:Mse};function I(e,t){Xe.call(this,e,null,t)}H(I,Xe,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const bc={};function $$(e){const t=N$(e);return t&&t.Definition||null}function N$(e){return e=e&&e.toLowerCase(),oe(bc,e)?bc[e]:null}function*I$(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function B4(e,t,n){const r=Float64Array.from(I$(e,n));return r.sort(Je),t.map(i=>g7(r,i))}function $4(e,t){return B4(e,[.25,.5,.75],t)}function N4(e,t){const n=e.length,r=c7(e,t),i=$4(e,t),a=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,a)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function Z$(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let a=e.extent[0],o=e.extent[1],s,l,c,u,f,d;const h=e.span||o-a||Math.abs(a)||1;if(e.step)s=e.step;else if(e.steps){for(u=h/t,f=0,d=e.steps.length;f<d&&e.steps[f]<u;++f);s=e.steps[Math.max(0,f-1)]}else{for(l=Math.ceil(Math.log(t)/r),c=e.minstep||0,s=Math.max(c,Math.pow(n,Math.round(Math.log(h)/r)-l));Math.ceil(h/s)>t;)s*=n;for(f=0,d=i.length;f<d;++f)u=s/i[f],u>=c&&h/u<=t&&(s=u)}u=Math.log(s);const m=u>=0?0:~~(-u/r)+1,g=Math.pow(n,-m-1);return(e.nice||e.nice===void 0)&&(u=Math.floor(a/s+g)*s,a=a<u?u-s:u,o=Math.ceil(o/s)*s),{start:a,stop:o===a?a+s:o,step:s}}var $r=Math.random;function Bse(e){$r=e}function R$(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(I$(e,r)),a=i.length,o=t;let s,l,c,u;for(c=0,u=Array(o);c<o;++c){for(s=0,l=0;l<a;++l)s+=i[~~($r()*a)];u[c]=s/a}return u.sort(Je),[h0(u,n/2),h0(u,1-n/2)]}function P$(e,t,n,r){r=r||(d=>d);const i=e.length,a=new Float64Array(i);let o=0,s=1,l=r(e[0]),c=l,u=l+t,f;for(;s<i;++s){if(f=r(e[s]),f>=u){for(c=(l+c)/2;o<s;++o)a[o]=c;u=f+t,l=f}c=f}for(c=(l+c)/2;o<s;++o)a[o]=c;return n?$se(a,t+t/4):a}function $se(e,t){const n=e.length;let r=0,i=1,a,o;for(;e[r]===e[i];)++i;for(;i<n;){for(a=i+1;e[i]===e[a];)++a;if(e[i]-e[i-1]<t){for(o=i+(r+a-i-i>>1);o<i;)e[o++]=e[i];for(;o>i;)e[o--]=e[r]}r=i,i=a}return e}function Nse(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function Ise(e,t){t==null&&(t=e,e=0);let n,r,i;const a={min(o){return arguments.length?(n=o||0,i=r-n,a):n},max(o){return arguments.length?(r=o||0,i=r-n,a):r},sample(){return n+Math.floor(i*$r())},pdf(o){return o===Math.floor(o)&&o>=n&&o<r?1/i:0},cdf(o){const s=Math.floor(o);return s<n?0:s>=r?1:(s-n+1)/i},icdf(o){return o>=0&&o<=1?n-1+Math.floor(o*i):NaN}};return a.min(e).max(t)}const j$=Math.sqrt(2*Math.PI),Zse=Math.SQRT2;let $u=NaN;function n2(e,t){e=e||0,t=t??1;let n=0,r=0,i,a;if($u===$u)n=$u,$u=NaN;else{do n=$r()*2-1,r=$r()*2-1,i=n*n+r*r;while(i===0||i>1);a=Math.sqrt(-2*Math.log(i)/i),n*=a,$u=r*a}return e+n*t}function I4(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*j$)}function r2(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let a;if(i>37)a=0;else{const o=Math.exp(-i*i/2);let s;i<7.07106781186547?(s=.0352624965998911*i+.700383064443688,s=s*i+6.37396220353165,s=s*i+33.912866078383,s=s*i+112.079291497871,s=s*i+221.213596169931,s=s*i+220.206867912376,a=o*s,s=.0883883476483184*i+1.75566716318264,s=s*i+16.064177579207,s=s*i+86.7807322029461,s=s*i+296.564248779674,s=s*i+637.333633378831,s=s*i+793.826512519948,s=s*i+440.413735824752,a=a/s):(s=i+.65,s=i+4/s,s=i+3/s,s=i+2/s,s=i+1/s,a=o/s/2.506628274631)}return r>0?1-a:a}function i2(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*Zse*Rse(2*e-1)}function Rse(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function Z4(e,t){let n,r;const i={mean(a){return arguments.length?(n=a||0,i):n},stdev(a){return arguments.length?(r=a??1,i):r},sample:()=>n2(n,r),pdf:a=>I4(a,n,r),cdf:a=>r2(a,n,r),icdf:a=>i2(a,n,r)};return i.mean(e).stdev(t)}function R4(e,t){const n=Z4();let r=0;const i={data(a){return arguments.length?(e=a,r=a?a.length:0,i.bandwidth(t)):e},bandwidth(a){return arguments.length?(t=a,!t&&e&&(t=N4(e)),i):t},sample(){return e[~~($r()*r)]+t*n.sample()},pdf(a){let o=0,s=0;for(;s<r;++s)o+=n.pdf((a-e[s])/t);return o/t/r},cdf(a){let o=0,s=0;for(;s<r;++s)o+=n.cdf((a-e[s])/t);return o/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function P4(e,t){return e=e||0,t=t??1,Math.exp(e+n2()*t)}function j4(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*j$*e)}function z4(e,t,n){return r2(Math.log(e),t,n)}function G4(e,t,n){return Math.exp(i2(e,t,n))}function z$(e,t){let n,r;const i={mean(a){return arguments.length?(n=a||0,i):n},stdev(a){return arguments.length?(r=a??1,i):r},sample:()=>P4(n,r),pdf:a=>j4(a,n,r),cdf:a=>z4(a,n,r),icdf:a=>G4(a,n,r)};return i.mean(e).stdev(t)}function G$(e,t){let n=0,r;function i(o){const s=[];let l=0,c;for(c=0;c<n;++c)l+=s[c]=o[c]==null?1:+o[c];for(c=0;c<n;++c)s[c]/=l;return s}const a={weights(o){return arguments.length?(r=i(t=o||[]),a):t},distributions(o){return arguments.length?(o?(n=o.length,e=o):(n=0,e=[]),a.weights(t)):e},sample(){const o=$r();let s=e[n-1],l=r[0],c=0;for(;c<n-1;l+=r[++c])if(o<l){s=e[c];break}return s.sample()},pdf(o){let s=0,l=0;for(;l<n;++l)s+=r[l]*e[l].pdf(o);return s},cdf(o){let s=0,l=0;for(;l<n;++l)s+=r[l]*e[l].cdf(o);return s},icdf(){throw Error("Mixture icdf not supported.")}};return a.distributions(e).weights(t)}function U4(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*$r()}function W4(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function H4(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function Y4(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function U$(e,t){let n,r;const i={min(a){return arguments.length?(n=a||0,i):n},max(a){return arguments.length?(r=a??1,i):r},sample:()=>U4(n,r),pdf:a=>W4(a,n,r),cdf:a=>H4(a,n,r),icdf:a=>Y4(a,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function ih(e,t,n,r){const i=r-e*e,a=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-a*e,a]}function a2(e,t,n,r){e=e.filter(h=>{let m=t(h),g=n(h);return m!=null&&(m=+m)>=m&&g!=null&&(g=+g)>=g}),r&&e.sort((h,m)=>t(h)-t(m));const i=e.length,a=new Float64Array(i),o=new Float64Array(i);let s=0,l=0,c=0,u,f,d;for(d of e)a[s]=u=+t(d),o[s]=f=+n(d),++s,l+=(u-l)/s,c+=(f-c)/s;for(s=0;s<i;++s)a[s]-=l,o[s]-=c;return[a,o,l,c]}function ah(e,t,n,r){let i=-1,a,o;for(const s of e)a=t(s),o=n(s),a!=null&&(a=+a)>=a&&o!=null&&(o=+o)>=o&&r(a,o,++i)}function au(e,t,n,r,i){let a=0,o=0;return ah(e,t,n,(s,l)=>{const c=l-i(s),u=l-r;a+=c*c,o+=u*u}),1-a/o}function q4(e,t,n){let r=0,i=0,a=0,o=0,s=0;ah(e,t,n,(u,f)=>{++s,r+=(u-r)/s,i+=(f-i)/s,a+=(u*f-a)/s,o+=(u*u-o)/s});const l=ih(r,i,a,o),c=u=>l[0]+l[1]*u;return{coef:l,predict:c,rSquared:au(e,t,n,i,c)}}function W$(e,t,n){let r=0,i=0,a=0,o=0,s=0;ah(e,t,n,(u,f)=>{++s,u=Math.log(u),r+=(u-r)/s,i+=(f-i)/s,a+=(u*f-a)/s,o+=(u*u-o)/s});const l=ih(r,i,a,o),c=u=>l[0]+l[1]*Math.log(u);return{coef:l,predict:c,rSquared:au(e,t,n,i,c)}}function H$(e,t,n){const[r,i,a,o]=a2(e,t,n);let s=0,l=0,c=0,u=0,f=0,d,h,m;ah(e,t,n,(b,v)=>{d=r[f++],h=Math.log(v),m=d*v,s+=(v*h-s)/f,l+=(m-l)/f,c+=(m*h-c)/f,u+=(d*m-u)/f});const[g,p]=ih(l/o,s/o,c/o,u/o),y=b=>Math.exp(g+p*(b-a));return{coef:[Math.exp(g-p*a),p],predict:y,rSquared:au(e,t,n,o,y)}}function Y$(e,t,n){let r=0,i=0,a=0,o=0,s=0,l=0;ah(e,t,n,(f,d)=>{const h=Math.log(f),m=Math.log(d);++l,r+=(h-r)/l,i+=(m-i)/l,a+=(h*m-a)/l,o+=(h*h-o)/l,s+=(d-s)/l});const c=ih(r,i,a,o),u=f=>c[0]*Math.pow(f,c[1]);return c[0]=Math.exp(c[0]),{coef:c,predict:u,rSquared:au(e,t,n,s,u)}}function V4(e,t,n){const[r,i,a,o]=a2(e,t,n),s=r.length;let l=0,c=0,u=0,f=0,d=0,h,m,g,p;for(h=0;h<s;)m=r[h],g=i[h++],p=m*m,l+=(p-l)/h,c+=(p*m-c)/h,u+=(p*p-u)/h,f+=(m*g-f)/h,d+=(p*g-d)/h;const y=u-l*l,b=l*y-c*c,v=(d*l-f*c)/b,x=(f*y-d*c)/b,_=-v*l,T=w=>(w=w-a,v*w*w+x*w+_+o);return{coef:[_-x*a+v*a*a+o,x-2*v*a,v],predict:T,rSquared:au(e,t,n,o,T)}}function q$(e,t,n,r){if(r===1)return q4(e,t,n);if(r===2)return V4(e,t,n);const[i,a,o,s]=a2(e,t,n),l=i.length,c=[],u=[],f=r+1;let d,h,m,g,p;for(d=0;d<f;++d){for(m=0,g=0;m<l;++m)g+=Math.pow(i[m],d)*a[m];for(c.push(g),p=new Float64Array(f),h=0;h<f;++h){for(m=0,g=0;m<l;++m)g+=Math.pow(i[m],d+h);p[h]=g}u.push(p)}u.push(c);const y=jse(u),b=v=>{v-=o;let x=s+y[0]+y[1]*v+y[2]*v*v;for(d=3;d<f;++d)x+=y[d]*Math.pow(v,d);return x};return{coef:Pse(f,y,-o,s),predict:b,rSquared:au(e,t,n,s,b)}}function Pse(e,t,n,r){const i=Array(e);let a,o,s,l;for(a=0;a<e;++a)i[a]=0;for(a=e-1;a>=0;--a)for(s=t[a],l=1,i[a]+=s,o=1;o<=a;++o)l*=(a+1-o)/o,i[a-o]+=s*Math.pow(n,o)*l;return i[0]+=r,i}function jse(e){const t=e.length-1,n=[];let r,i,a,o,s;for(r=0;r<t;++r){for(o=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][o])&&(o=i);for(a=r;a<t+1;++a)s=e[a][r],e[a][r]=e[a][o],e[a][o]=s;for(i=r+1;i<t;++i)for(a=t;a>=r;a--)e[a][i]-=e[a][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(s=0,a=i+1;a<t;++a)s+=e[a][i]*n[a];n[i]=(e[t][i]-s)/e[i][i]}return n}const XA=2,JA=1e-12;function V$(e,t,n,r){const[i,a,o,s]=a2(e,t,n,!0),l=i.length,c=Math.max(2,~~(r*l)),u=new Float64Array(l),f=new Float64Array(l),d=new Float64Array(l).fill(1);for(let h=-1;++h<=XA;){const m=[0,c-1];for(let p=0;p<l;++p){const y=i[p],b=m[0],v=m[1],x=y-i[b]>i[v]-y?b:v;let _=0,T=0,w=0,S=0,C=0;const M=1/Math.abs(i[x]-y||1);for(let D=b;D<=v;++D){const E=i[D],O=a[D],k=zse(Math.abs(y-E)*M)*d[D],F=E*k;_+=k,T+=F,w+=O*k,S+=O*F,C+=E*F}const[A,L]=ih(T/_,w/_,S/_,C/_);u[p]=A+L*y,f[p]=Math.abs(a[p]-u[p]),Gse(i,p+1,m)}if(h===XA)break;const g=y7(f);if(Math.abs(g)<JA)break;for(let p=0,y,b;p<l;++p)y=f[p]/(6*g),d[p]=y>=1?JA:(b=1-y*y)*b}return Use(i,u,o,s)}function zse(e){return(e=1-e*e*e)*e*e}function Gse(e,t,n){const r=e[t];let i=n[0],a=n[1]+1;if(!(a>=e.length))for(;t>i&&e[a]-r<=r-e[i];)n[0]=++i,n[1]=a,++a}function Use(e,t,n,r){const i=e.length,a=[];let o=0,s=0,l=[],c;for(;o<i;++o)c=e[o]+n,l[0]===c?l[1]+=(t[o]-l[1])/++s:(s=0,l[1]+=r,l=[c,t[o]],a.push(l));return l[1]+=r,a}const Wse=.5*Math.PI/180;function o2(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=g=>[g,e(g)],a=t[0],o=t[1],s=o-a,l=s/r,c=[i(a)],u=[];if(n===r){for(let g=1;g<r;++g)c.push(i(a+g/n*s));return c.push(i(o)),c}else{u.push(i(o));for(let g=n;--g>0;)u.push(i(a+g/n*s))}let f=c[0],d=u[u.length-1];const h=1/s,m=Hse(f[1],u);for(;d;){const g=i((f[0]+d[0])/2);g[0]-f[0]>=l&&Yse(f,g,d,h,m)>Wse?u.push(g):(f=d,c.push(d),u.pop()),d=u[u.length-1]}return c}function Hse(e,t){let n=e,r=e;const i=t.length;for(let a=0;a<i;++a){const o=t[a][1];o<n&&(n=o),o>r&&(r=o)}return 1/(r-n)}function Yse(e,t,n,r,i){const a=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),o=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(a-o)}function qse(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function N3(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:qse(e)}function X$(e,t,n){return n||e+(t?"_"+t:"")}const Tb=()=>{},Vse={init:Tb,add:Tb,rem:Tb,idx:0},ld={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.sum,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3}},oh=Object.keys(ld);function Xse(e,t){return n=>xe({name:e,out:n||e},Vse,t)}oh.forEach(e=>{ld[e]=Xse(e,ld[e])});function J$(e,t){return ld[e](t)}function K$(e,t){return e.idx-t.idx}function Jse(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=ld[i]())})};return e.forEach(n),Object.values(t).sort(K$)}function Kse(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.init(this))}function Qse(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function e0e(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function t0e(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function Q$(e,t){const n=t||yn,r=Jse(e),i=e.slice().sort(K$);function a(o){this._ops=r,this._out=i,this.cell=o,this.init()}return a.prototype.init=Kse,a.prototype.add=Qse,a.prototype.rem=e0e,a.prototype.set=t0e,a.prototype.get=n,a.fields=e.map(o=>o.out),a}function X4(e){this._key=e?Xn(e):le,this.reset()}const Xt=X4.prototype;Xt.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};Xt.add=function(e){this._add.push(e)};Xt.rem=function(e){this._rem.push(e)};Xt.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,a=Array(r-i),o={};let s,l,c;for(s=0;s<i;++s)o[n(t[s])]=1;for(s=0,l=0;s<r;++s)o[n(c=e[s])]?o[n(c)]=0:a[l++]=c;return this._rem=[],this._add=a};Xt.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,a;for(;--r>=0;)a=e(t[r])+"",oe(n,a)||(n[a]=1,++i);return i};Xt.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=jB(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};Xt.argmin=function(e){return this.extent(e)[0]||{}};Xt.argmax=function(e){return this.extent(e)[1]||{}};Xt.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};Xt.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};Xt.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=$4(this.values(),e),this._get=e),this._q};Xt.q1=function(e){return this.quartile(e)[0]};Xt.q2=function(e){return this.quartile(e)[1]};Xt.q3=function(e){return this.quartile(e)[2]};Xt.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=R$(this.values(),1e3,.05,e),this._get=e),this._ci};Xt.ci0=function(e){return this.ci(e)[0]};Xt.ci1=function(e){return this.ci(e)[1]};function Xo(e){I.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}Xo.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:oh},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};H(Xo,I,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):{},t.visit(t.SOURCE,a=>n.add(a))):(n.value=n.value||n.init(e),t.visit(t.REM,a=>n.rem(a)),t.visit(t.ADD,a=>n.add(a))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function a(s){let l,c,u,f;for(l in s)for(u=s[l].tuple,c=0;c<i;++c)r[c][f=u[n[c]]]=f}a(e._prev),a(t);function o(s,l,c){const u=n[c],f=r[c++];for(const d in f){const h=s?s+"|"+d:d;l[u]=f[d],c<i?o(h,l,c):t[h]||e.cell(h,l)}}o("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(p){const y=Q(dn(p)),b=y.length;let v=0,x;for(;v<b;++v)r[x=y[v]]||(r[x]=1,t.push(x))}this._dims=Q(e.groupby),this._dnames=this._dims.map(p=>{const y=bt(p);return i(p),n.push(y),y}),this.cellkey=e.key?e.key:N3(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const a=e.fields||[null],o=e.ops||["count"],s=e.as||[],l=a.length,c={};let u,f,d,h,m,g;for(l!==o.length&&P("Unmatched number of fields and aggregate ops."),g=0;g<l;++g){if(u=a[g],f=o[g],u==null&&f!=="count"&&P("Null aggregate field specified."),h=bt(u),m=X$(f,h,s[g]),n.push(m),f==="count"){this._counts.push(m);continue}d=c[h],d||(i(u),d=c[h]=[],d.field=u,this._measures.push(d)),f!=="count"&&(this._countOnly=!1),d.push(J$(f,m))}return this._measures=this._measures.map(p=>Q$(p,p.field)),{}},cellkey:N3(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let a=0;a<i;++a)n.agg[a]=new r[a](n)}return n.store&&(n.data=new X4),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,a={};for(let o=0;o<i;++o)a[n[o]]=r[o](e);return t?D$(t.tuple,a):Pe(a)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,a=r.length;i<a;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,a=r.length;i<a;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,a=r.length;i<a;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,a=e.add,o=e.rem,s=e.mod;let l,c,u,f;if(r)for(c in r)l=r[c],(!i||l.num)&&o.push(l.tuple);for(u=0,f=this._alen;u<f;++u)a.push(this.celltuple(t[u])),t[u]=null;for(u=0,f=this._mlen;u<f;++u)l=n[u],(l.num===0&&i?o:s).push(this.celltuple(l)),n[u]=null;return this._alen=this._mlen=0,this._prev=null,e}});const n0e=1e-14;function J4(e){I.call(this,null,e)}J4.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};H(J4,I,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,a=r.step,o=e.as||["bin0","bin1"],s=o[0],l=o[1];let c;return e.modified()?(t=t.reflow(!0),c=t.SOURCE):c=t.modified(dn(e.field))?t.ADD_MOD:t.ADD,t.visit(c,n?u=>{const f=r(u);u[s]=f,u[l]=f==null?null:i+a*(1+(f-i)/a)}:u=>u[s]=r(u)),t.modifies(n?o:s)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=Z$(e),r=n.step;let i=n.start,a=i+Math.ceil((n.stop-i)/r)*r,o,s;(o=e.anchor)!=null&&(s=o-(i+r*Math.floor((o-i)/r)),i+=s,a+=s);const l=function(c){let u=cn(t(c));return u==null?null:u<i?-1/0:u>a?1/0:(u=Math.max(i,Math.min(u,a-r)),i+r*Math.floor(n0e+(u-i)/r))};return l.start=i,l.stop=n.stop,l.step=r,this.value=nr(l,dn(t),e.name||"bin_"+bt(t))}});function eN(e,t,n){const r=e;let i=t||[],a=n||[],o={},s=0;return{add:l=>a.push(l),remove:l=>o[r(l)]=++s,size:()=>i.length,data:(l,c)=>(s&&(i=i.filter(u=>!o[r(u)]),o={},s=0),c&&l&&i.sort(l),a.length&&(i=l?YB(l,i,a.sort(l)):i.concat(a),a=[]),i)}}function K4(e){I.call(this,[],e)}K4.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};H(K4,I,{transform(e,t){const n=t.fork(t.ALL),r=eN(le,this.value,n.materialize(n.ADD).add),i=e.sort,a=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(a),this.value=n.source=r.data(q0(i),a),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function tN(e){Xe.call(this,null,r0e,e)}H(tN,Xe);function r0e(e){return this.value&&!e.modified()?this.value:b4(e.fields,e.orders)}function Q4(e){I.call(this,null,e)}Q4.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function i0e(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}H(Q4,I,{transform(e,t){const n=f=>d=>{for(var h=i0e(s(d),e.case,a)||[],m,g=0,p=h.length;g<p;++g)o.test(m=h[g])||f(m)},r=this._parameterCheck(e,t),i=this._counts,a=this._match,o=this._stop,s=e.field,l=e.as||["text","count"],c=n(f=>i[f]=1+(i[f]||0)),u=n(f=>i[f]-=1);return r?t.visit(t.SOURCE,c):(t.visit(t.ADD,c),t.visit(t.REM,u)),this._finish(t,l)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],a=t[1],o=e.fork(e.NO_SOURCE|e.NO_FIELDS);let s,l,c;for(s in n)l=r[s],c=n[s]||0,!l&&c?(r[s]=l=Pe({}),l[i]=s,l[a]=c,o.add.push(l)):c===0?(l&&o.rem.push(l),n[s]=null,r[s]=null):l[a]!==c&&(l[a]=c,o.mod.push(l));return o.modifies(t)}});function ex(e){I.call(this,null,e)}ex.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};H(ex,I,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],a=r[1],o=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let s=this.value;return o?(s&&(n.rem=s),s=t.materialize(t.SOURCE).source,n.add=this.value=a0e(s,i,a,e.filter||Fr)):n.mod=s,n.source=this.value,n.modifies(r)}});function a0e(e,t,n,r){for(var i=[],a={},o=e.length,s=0,l,c;s<o;++s)for(a[t]=c=e[s],l=0;l<o;++l)a[n]=e[l],r(a)&&(i.push(Pe(a)),a={},a[t]=c);return i}const KA={kde:R4,mixture:G$,normal:Z4,lognormal:z$,uniform:U$},o0e="distributions",QA="function",s0e="field";function nN(e,t){const n=e[QA];oe(KA,n)||P("Unknown distribution function: "+n);const r=KA[n]();for(const i in e)i===s0e?r.data((e.from||t()).map(e[i])):i===o0e?r[i](e[i].map(a=>nN(a,t))):typeof r[i]===QA&&r[i](e[i]);return r}function tx(e){I.call(this,null,e)}const rN=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],l0e={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:rN},{name:"weights",type:"number",array:!0}]};tx.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:rN.concat(l0e)},{name:"as",type:"string",array:!0,default:["value","density"]}]};H(tx,I,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=nN(e.distribution,c0e(t)),i=e.steps||e.minsteps||25,a=e.steps||e.maxsteps||200;let o=e.method||"pdf";o!=="pdf"&&o!=="cdf"&&P("Invalid density method: "+o),!e.extent&&!r.data&&P("Missing density extent parameter."),o=r[o];const s=e.as||["value","density"],l=e.extent||na(r.data()),c=o2(o,l,i,a).map(u=>{const f={};return f[s[0]]=u[0],f[s[1]]=u[1],Pe(f)});this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n}});function c0e(e){return()=>e.materialize(e.SOURCE).source}function iN(e,t){return e?e.map((n,r)=>t[r]||bt(n)):null}function nx(e,t,n){const r=[],i=f=>f(l);let a,o,s,l,c,u;if(t==null)r.push(e.map(n));else for(a={},o=0,s=e.length;o<s;++o)l=e[o],c=t.map(i),u=a[c],u||(a[c]=u=[],u.dims=c,r.push(u)),u.push(n(l));return r}const aN="bin";function rx(e){I.call(this,null,e)}rx.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:aN}]};const u0e=(e,t)=>rh(na(e,t))/30;H(rx,I,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=nx(t.source,e.groupby,yn),i=e.smooth||!1,a=e.field,o=e.step||u0e(n,a),s=q0((m,g)=>a(m)-a(g)),l=e.as||aN,c=r.length;let u=1/0,f=-1/0,d=0,h;for(;d<c;++d){const m=r[d].sort(s);h=-1;for(const g of P$(m,o,i,a))g<u&&(u=g),g>f&&(f=g),m[++h][l]=g}return this.value={start:u,stop:f,step:o},t.reflow(!0).modifies(l)}});function oN(e){Xe.call(this,null,f0e,e),this.modified(!0)}H(oN,Xe);function f0e(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:nr(n=>t(n,e),dn(t),bt(t))}function ix(e){I.call(this,[void 0,void 0],e)}ix.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};H(ix,I,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let a=n[0],o=n[1];if((i||a==null)&&(a=1/0,o=-1/0),t.visit(i?t.SOURCE:t.ADD,s=>{const l=cn(r(s));l!=null&&(l<a&&(a=l),l>o&&(o=l))}),!Number.isFinite(a)||!Number.isFinite(o)){let s=bt(r);s&&(s=' for field "'.concat(s,'"')),t.dataflow.warn("Infinite extent".concat(s,": [").concat(a,", ").concat(o,"]")),a=o=void 0}this.value=[a,o]}});function ax(e,t){Xe.call(this,e),this.parent=t,this.count=0}H(ax,Xe,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function s2(e){I.call(this,{},e),this._keys=nu();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}H(s2,I,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let a=oe(i,e)&&i[e],o,s;return a?a.value.stamp<n.stamp&&(a.init(n),this.activate(a)):(s=r||(s=this._group[e])&&s.tuple,o=n.dataflow,a=new ax(n.fork(n.NO_SOURCE),this),o.add(a).connect(t(o,e,s)),i[e]=a,this.activate(a)),a},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,a=this._keys,o=e.modified("key"),s=l=>this.subflow(l,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,l=>{const c=le(l),u=a.get(c);u!==void 0&&(a.delete(c),s(u).rem(l))}),t.visit(t.ADD,l=>{const c=r(l);a.set(le(l),c),s(c).add(l)}),o||t.modified(r.fields)?t.visit(t.MOD,l=>{const c=le(l),u=a.get(c),f=r(l);u===f?s(f).mod(l):(a.set(c,f),s(u).rem(l),s(f).add(l))}):t.changed(t.MOD)&&t.visit(t.MOD,l=>{s(a.get(le(l))).mod(l)}),o&&t.visit(t.REFLOW,l=>{const c=le(l),u=a.get(c),f=r(l);u!==f&&(a.set(c,f),s(u).rem(l),s(f).add(l))}),t.clean()?n.runAfter(()=>{this.clean(),a.clean()}):a.empty>n.cleanThreshold&&n.runAfter(a.clean),t}});function sN(e){Xe.call(this,null,d0e,e)}H(sN,Xe);function d0e(e){return this.value&&!e.modified()?this.value:j(e.name)?Q(e.name).map(t=>Xn(t)):Xn(e.name,e.as)}function ox(e){I.call(this,nu(),e)}ox.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};H(ox,I,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),a=i.add,o=i.rem,s=i.mod,l=e.expr;let c=!0;t.visit(t.REM,f=>{const d=le(f);r.has(d)?r.delete(d):o.push(f)}),t.visit(t.ADD,f=>{l(f,e)?a.push(f):r.set(le(f),1)});function u(f){const d=le(f),h=l(f,e),m=r.get(d);h&&m?(r.delete(d),a.push(f)):!h&&!m?(r.set(d,1),o.push(f)):c&&h&&!m&&s.push(f)}return t.visit(t.MOD,u),e.modified()&&(c=!1,t.visit(t.REFLOW,u)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function sx(e){I.call(this,[],e)}sx.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};H(sx,I,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=iN(r,e.as||[]),a=e.index||null,o=i.length;return n.rem=this.value,t.visit(t.SOURCE,s=>{const l=r.map(m=>m(s)),c=l.reduce((m,g)=>Math.max(m,g.length),0);let u=0,f,d,h;for(;u<c;++u){for(d=D4(s),f=0;f<o;++f)d[i[f]]=(h=l[f][u])==null?null:h;a&&(d[a]=u),n.add.push(d)}}),this.value=n.source=n.add,a&&n.modifies(a),n.modifies(i)}});function lx(e){I.call(this,[],e)}lx.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};H(lx,I,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(bt),a=e.as||["key","value"],o=a[0],s=a[1],l=r.length;return n.rem=this.value,t.visit(t.SOURCE,c=>{for(let u=0,f;u<l;++u)f=D4(c),f[o]=i[u],f[s]=r[u](c),n.add.push(f)}),this.value=n.source=n.add,n.modifies(a)}});function cx(e){I.call(this,null,e)}cx.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};H(cx,I,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),a=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(a,o=>o[r]=n(o,e))}});function lN(e){I.call(this,[],e)}H(lN,I,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,a=e.size-i.length,o,s,l;if(a>0){for(o=[];--a>=0;)o.push(l=Pe(r(e))),i.push(l);n.add=n.add.length?n.materialize(n.ADD).add.concat(o):o}else s=i.slice(0,-a),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(s):s,i=i.slice(-a);return n.source=this.value=i,n}});const d1={value:"value",median:y7,mean:Uk,min:qa,max:Cn},h0e=[];function ux(e){I.call(this,[],e)}ux.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function m0e(e){var t=e.method||d1.value,n;if(d1[t]==null)P("Unrecognized imputation method: "+t);else return t===d1.value?(n=e.value!==void 0?e.value:0,()=>n):d1[t]}function p0e(e){const t=e.field;return n=>n?t(n):NaN}H(ux,I,{transform(e,t){var n=t.fork(t.ALL),r=m0e(e),i=p0e(e),a=bt(e.field),o=bt(e.key),s=(e.groupby||[]).map(bt),l=g0e(t.source,e.groupby,e.key,e.keyvals),c=[],u=this.value,f=l.domain.length,d,h,m,g,p,y,b,v,x,_;for(p=0,v=l.length;p<v;++p)for(d=l[p],m=d.values,h=NaN,b=0;b<f;++b)if(d[b]==null){for(g=l.domain[b],_={_impute:!0},y=0,x=m.length;y<x;++y)_[s[y]]=m[y];_[o]=g,_[a]=Number.isNaN(h)?h=r(d,i):h,c.push(Pe(_))}return c.length&&(n.add=n.materialize(n.ADD).add.concat(c)),u.length&&(n.rem=n.materialize(n.REM).rem.concat(u)),this.value=c,n}});function g0e(e,t,n,r){var i=y=>y(p),a=[],o=r?r.slice():[],s={},l={},c,u,f,d,h,m,g,p;for(o.forEach((y,b)=>s[y]=b+1),d=0,g=e.length;d<g;++d)p=e[d],m=n(p),h=s[m]||(s[m]=o.push(m)),u=(c=t?t.map(i):h0e)+"",(f=l[u])||(f=l[u]=[],a.push(f),f.values=c),f[h-1]=p;return a.domain=o,a}function fx(e){Xo.call(this,e)}fx.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:oh},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};H(fx,Xo,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,a=>n.add(a))):(i=n.value=n.value||this.init(e),t.visit(t.REM,a=>n.rem(a)),t.visit(t.ADD,a=>n.add(a))),n.changes(),t.visit(t.SOURCE,a=>{xe(a,i[n.cellkey(a)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function dx(e){I.call(this,null,e)}dx.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};H(dx,I,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=nx(r,e.groupby,e.field),a=(e.groupby||[]).map(bt),o=e.bandwidth,s=e.cumulative?"cdf":"pdf",l=e.as||["value","density"],c=[];let u=e.extent,f=e.steps||e.minsteps||25,d=e.steps||e.maxsteps||200;s!=="pdf"&&s!=="cdf"&&P("Invalid density method: "+s),e.resolve==="shared"&&(u||(u=na(r,e.field)),f=d=e.steps||d),i.forEach(h=>{const m=R4(h,o)[s],g=e.counts?h.length:1,p=u||na(h);o2(m,p,f,d).forEach(y=>{const b={};for(let v=0;v<a.length;++v)b[a[v]]=h.dims[v];b[l[0]]=y[0],b[l[1]]=y[1]*g,c.push(Pe(b))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n}});function cN(e){Xe.call(this,null,y0e,e)}H(cN,Xe);function y0e(e){return this.value&&!e.modified()?this.value:x4(e.fields,e.flat)}function uN(e){I.call(this,[],e),this._pending=null}H(uN,I,{transform(e,t){const n=t.dataflow;return this._pending?Ab(this,t,this._pending):b0e(e)?t.StopPropagation:e.values?Ab(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=Q(i.data),a=>a.touch(this)))}:n.request(e.url,e.format).then(r=>Ab(this,t,Q(r.data)))}});function b0e(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function Ab(e,t,n){n.forEach(Pe);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function hx(e){I.call(this,{},e)}hx.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};H(hx,I,{transform(e,t){const n=e.fields,r=e.index,i=e.values,a=e.default==null?null:e.default,o=e.modified(),s=n.length;let l=o?t.SOURCE:t.ADD,c=t,u=e.as,f,d,h;return i?(d=i.length,s>1&&!u&&P('Multi-field lookup requires explicit "as" parameter.'),u&&u.length!==s*d&&P('The "as" parameter has too few output field names.'),u=u||i.map(bt),f=function(m){for(var g=0,p=0,y,b;g<s;++g)if(b=r.get(n[g](m)),b==null)for(y=0;y<d;++y,++p)m[u[p]]=a;else for(y=0;y<d;++y,++p)m[u[p]]=i[y](b)}):(u||P("Missing output field names."),f=function(m){for(var g=0,p;g<s;++g)p=r.get(n[g](m)),m[u[g]]=p??a}),o?c=t.reflow(!0):(h=n.some(m=>t.modified(m.fields)),l|=h?t.MOD:0),t.visit(l,f),c.modifies(u)}});function fN(e){Xe.call(this,null,v0e,e)}H(fN,Xe);function v0e(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,a,o;for(a=0;a<n;++a)o=t[a],o[0]<r&&(r=o[0]),o[1]>i&&(i=o[1]);return[r,i]}function dN(e){Xe.call(this,null,x0e,e)}H(dN,Xe);function x0e(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function hN(e){I.call(this,null,e)}H(hN,I,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function mx(e){Xo.call(this,e)}mx.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:oh,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};H(mx,Xo,{_transform:Xo.prototype.transform,transform(e,t){return this._transform(_0e(e,t),t)}});function _0e(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",a=dn(n).concat(dn(r)),o=T0e(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:o.map(()=>i),fields:o.map(s=>w0e(s,n,r,a)),as:o.map(s=>s+""),modified:e.modified.bind(e)}}function w0e(e,t,n,r){return nr(i=>t(i)===e?n(i):NaN,r,e+"")}function T0e(e,t,n){const r={},i=[];return n.visit(n.SOURCE,a=>{const o=e(a);r[o]||(r[o]=1,i.push(o))}),i.sort(qg),t?i.slice(0,t):i}function mN(e){s2.call(this,e)}H(mN,s2,{transform(e,t){const n=e.subflow,r=e.field,i=a=>this.subflow(le(a),n,t,a);return(e.modified("field")||r&&t.modified(dn(r)))&&P("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,a=>{const o=i(a);r(a).forEach(s=>o.mod(s))}),t.visit(t.ADD,a=>{const o=i(a);r(a).forEach(s=>o.add(Pe(s)))}),t.visit(t.REM,a=>{const o=i(a);r(a).forEach(s=>o.rem(s))})):(t.visit(t.MOD,a=>i(a).mod(a)),t.visit(t.ADD,a=>i(a).add(a)),t.visit(t.REM,a=>i(a).rem(a))),t.clean()&&t.runAfter(()=>this.clean()),t}});function px(e){I.call(this,null,e)}px.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};H(px,I,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=iN(e.fields,e.as||[]),a=r?(s,l)=>A0e(s,l,r,i):Qg;let o;return this.value?o=this.value:(t=t.addAll(),o=this.value={}),t.visit(t.REM,s=>{const l=le(s);n.rem.push(o[l]),o[l]=null}),t.visit(t.ADD,s=>{const l=a(s,Pe({}));o[le(s)]=l,n.add.push(l)}),t.visit(t.MOD,s=>{n.mod.push(a(s,o[le(s)]))}),n}});function A0e(e,t,n,r){for(let i=0,a=n.length;i<a;++i)t[r[i]]=n[i](e);return t}function pN(e){I.call(this,null,e)}H(pN,I,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function gx(e){I.call(this,null,e)}gx.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const S0e=1e-14;H(gx,I,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,a=nx(i,e.groupby,e.field),o=(e.groupby||[]).map(bt),s=[],l=e.step||.01,c=e.probs||sn(l/2,1-S0e,l),u=c.length;return a.forEach(f=>{const d=B4(f,c);for(let h=0;h<u;++h){const m={};for(let g=0;g<o.length;++g)m[o[g]]=f.dims[g];m[r[0]]=c[h],m[r[1]]=d[h],s.push(Pe(m))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=s,n}});function gN(e){I.call(this,null,e)}H(gN,I,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const a=le(i);n.rem.push(r[a]),r[a]=null}),t.visit(t.ADD,i=>{const a=D4(i);r[le(i)]=a,n.add.push(a)}),t.visit(t.MOD,i=>{const a=r[le(i)];for(const o in i)a[o]=i[o],n.modifies(o);n.mod.push(a)})),n}});function yx(e){I.call(this,[],e),this.count=0}yx.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};H(yx,I,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,a=this.value.reduce((u,f)=>(u[le(f)]=1,u),{});let o=this.value,s=this.count,l=0;function c(u){let f,d;o.length<i?o.push(u):(d=~~((s+1)*$r()),d<o.length&&d>=l&&(f=o[d],a[le(f)]&&n.rem.push(f),o[d]=u)),++s}if(t.rem.length&&(t.visit(t.REM,u=>{const f=le(u);a[f]&&(a[f]=-1,n.rem.push(u)),--s}),o=o.filter(u=>a[le(u)]!==-1)),(t.rem.length||r)&&o.length<i&&t.source&&(l=s=o.length,t.visit(t.SOURCE,u=>{a[le(u)]||c(u)}),l=-1),r&&o.length>i){const u=o.length-i;for(let f=0;f<u;++f)a[le(o[f])]=-1,n.rem.push(o[f]);o=o.slice(u)}return t.mod.length&&t.visit(t.MOD,u=>{a[le(u)]&&n.mod.push(u)}),t.add.length&&t.visit(t.ADD,c),(t.add.length||l<0)&&(n.add=o.filter(u=>!a[le(u)])),this.count=s,this.value=n.source=o,n}});function bx(e){I.call(this,null,e)}bx.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};H(bx,I,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=sn(e.start,e.stop,e.step||1).map(i=>{const a={};return a[r]=i,Pe(a)}),n.add=t.add.concat(this.value),n}});function yN(e){I.call(this,null,e),this.modified(!0)}H(yN,I,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function vx(e){I.call(this,null,e)}const bN=["unit0","unit1"];vx.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:A4,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:bN}]};H(vx,I,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",a=this._floor(e,t),o=(i?iu:ru)(a.unit).offset,s=e.as||bN,l=s[0],c=s[1],u=a.step;let f=a.start||1/0,d=a.stop||-1/0,h=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(dn(n)))&&(t=t.reflow(!0),h=t.SOURCE,f=1/0,d=-1/0),t.visit(h,m=>{const g=n(m);let p,y;g==null?(m[l]=null,r&&(m[c]=null)):(m[l]=p=y=a(g),r&&(m[c]=y=o(p,u)),p<f&&(f=p),y>d&&(d=y))}),a.start=f,a.stop=d,t.modifies(r?s:l)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:p$({extent:e.extent||na(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),a=S4(r),o=this.value||{},s=(n?o$:a$)(a,i);return s.unit=Oe(a),s.units=a,s.step=i,s.start=o.start,s.stop=o.stop,this.value=s}});function vN(e){I.call(this,nu(),e)}H(vN,I,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,a=s=>i.set(r(s),s);let o=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,a)):t.changed()?(t.visit(t.REM,s=>i.delete(r(s))),t.visit(t.ADD,a)):o=!1,this.modified(o),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function xN(e){I.call(this,null,e)}H(xN,I,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(q0(e.sort)):t.source).map(e.field))}});function E0e(e,t,n,r){const i=cd[e](t,n);return{init:i.init||Ao,update:function(a,o){o[r]=i.next(a)}}}const cd={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=cd.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||P("ntile num must be greater than zero.");const n=cd.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||P("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=M0e(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function M0e(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const k0e=Object.keys(cd);function _N(e){const t=Q(e.ops),n=Q(e.fields),r=Q(e.params),i=Q(e.as),a=this.outputs=[],o=this.windows=[],s={},l={},c=[],u=[];let f=!0;function d(h){Q(dn(h)).forEach(m=>s[m]=1)}d(e.sort),t.forEach((h,m)=>{const g=n[m],p=bt(g),y=X$(h,p,i[m]);if(d(g),a.push(y),oe(cd,h))o.push(E0e(h,n[m],r[m],y));else{if(g==null&&h!=="count"&&P("Null aggregate field specified."),h==="count"){c.push(y);return}f=!1;let b=l[p];b||(b=l[p]=[],b.field=g,u.push(b)),b.push(J$(h,y))}}),(c.length||u.length)&&(this.cell=O0e(u,c,f)),this.inputs=Object.keys(s)}const wN=_N.prototype;wN.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};wN.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,a=r&&r.length;let o;if(n){for(o=e.p0;o<e.i0;++o)n.rem(i[o]);for(o=e.p1;o<e.i1;++o)n.add(i[o]);n.set(t)}for(o=0;o<a;++o)r[o].update(e,t)};function O0e(e,t,n){e=e.map(l=>Q$(l,l.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,a=r.agg=Array(i),o=0;o<i;++o)a[o]=new e[o](r);if(r.store)var s=r.data=new X4;return r.add=function(l){if(r.num+=1,!n){s&&s.add(l);for(let c=0;c<i;++c)a[c].add(a[c].get(l),l)}},r.rem=function(l){if(r.num-=1,!n){s&&s.rem(l);for(let c=0;c<i;++c)a[c].rem(a[c].get(l),l)}},r.set=function(l){let c,u;for(s&&s.values(),c=0,u=t.length;c<u;++c)l[t[c]]=r.num;if(!n)for(c=0,u=a.length;c<u;++c)a[c].set(l)},r.init=function(){r.num=0,s&&s.reset();for(let l=0;l<i;++l)a[l].init()},r}function xx(e){I.call(this,{},e),this._mlen=0,this._mods=[]}xx.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:k0e.concat(oh)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};H(xx,I,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=q0(e.sort),i=N3(e.groupby),a=s=>this.group(i(s));let o=this.state;(!o||n)&&(o=this.state=new _N(e)),n||t.modified(o.inputs)?(this.value={},t.visit(t.SOURCE,s=>a(s).add(s))):(t.visit(t.REM,s=>a(s).remove(s)),t.visit(t.ADD,s=>a(s).add(s)));for(let s=0,l=this._mlen;s<l;++s)C0e(this._mods[s],o,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(o.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=eN(le),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function C0e(e,t,n,r){const i=r.sort,a=i&&!r.ignorePeers,o=r.frame||[null,0],s=e.data(n),l=s.length,c=a?zc(i):null,u={i0:0,i1:0,p0:0,p1:0,index:0,data:s,compare:i||bn(-1)};t.init();for(let f=0;f<l;++f)D0e(u,o,f,l),a&&L0e(u,c),t.update(u,s[f])}function D0e(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function L0e(e,t){const n=e.i0,r=e.i1-1,i=e.compare,a=e.data,o=a.length-1;n>0&&!i(a[n],a[n-1])&&(e.i0=t.left(a,a[n])),r<o&&!i(a[r],a[r+1])&&(e.i1=t.right(a,a[r]))}const F0e=Object.freeze(Object.defineProperty({__proto__:null,aggregate:Xo,bin:J4,collect:K4,compare:tN,countpattern:Q4,cross:ex,density:tx,dotbin:rx,expression:oN,extent:ix,facet:s2,field:sN,filter:ox,flatten:sx,fold:lx,formula:cx,generate:lN,impute:ux,joinaggregate:fx,kde:dx,key:cN,load:uN,lookup:hx,multiextent:fN,multivalues:dN,params:hN,pivot:mx,prefacet:mN,project:px,proxy:pN,quantile:gx,relay:gN,sample:yx,sequence:bx,sieve:yN,subflow:ax,timeunit:vx,tupleindex:vN,values:xN,window:xx},Symbol.toStringTag,{value:"Module"}));function No(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const B0e=()=>typeof Image<"u"?Image:null;function _x(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const $0e="identity",vc="linear",Qa="log",sh="pow",lh="sqrt",l2="symlog",A0="time",S0="utc",qi="sequential",ou="diverging",xc="quantile",c2="quantize",u2="threshold",wx="ordinal",I3="point",TN="band",Tx="bin-ordinal",Dt="continuous",ch="discrete",uh="discretizing",Pr="interpolating",Ax="temporal";function N0e(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function I0e(e){return function(t){const n=e.range();let r=t[0],i=t[1],a=-1,o,s,l,c;for(i<r&&(s=r,r=i,i=s),l=0,c=n.length;l<c;++l)n[l]>=r&&n[l]<=i&&(a<0&&(a=l),o=l);if(!(a<0))return r=e.invertExtent(n[a]),i=e.invertExtent(n[o]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function Sx(){const e=Wd().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,a,o=!1,s=0,l=0,c=.5;delete e.unknown;function u(){const f=t().length,d=r[1]<r[0],h=r[1-d],m=_x(f,s,l);let g=r[d-0];i=(h-g)/(m||1),o&&(i=Math.floor(i)),g+=(h-g-i*(f-s))*c,a=i*(1-s),o&&(g=Math.round(g),a=Math.round(a));const p=sn(f).map(y=>g+i*y);return n(d?p.reverse():p)}return e.domain=function(f){return arguments.length?(t(f),u()):t()},e.range=function(f){return arguments.length?(r=[+f[0],+f[1]],u()):r.slice()},e.rangeRound=function(f){return r=[+f[0],+f[1]],o=!0,u()},e.bandwidth=function(){return a},e.step=function(){return i},e.round=function(f){return arguments.length?(o=!!f,u()):o},e.padding=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),s=l,u()):s},e.paddingInner=function(f){return arguments.length?(s=Math.max(0,Math.min(1,f)),u()):s},e.paddingOuter=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),u()):l},e.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),u()):c},e.invertRange=function(f){if(f[0]==null||f[1]==null)return;const d=r[1]<r[0],h=d?n().reverse():n(),m=h.length-1;let g=+f[0],p=+f[1],y,b,v;if(!(g!==g||p!==p)&&(p<g&&(v=g,g=p,p=v),!(p<h[0]||g>r[1-d])))return y=Math.max(0,Pf(h,g)-1),b=g===p?y:Pf(h,p)-1,g-h[y]>a+1e-10&&++y,d&&(v=y,y=m-b,b=m-v),y>b?void 0:t().slice(y,b+1)},e.invert=function(f){const d=e.invertRange([f,f]);return d&&d[0]},e.copy=function(){return Sx().domain(t()).range(r).round(o).paddingInner(s).paddingOuter(l).align(c)},u()}function AN(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return AN(t())},e}function Z0e(){return AN(Sx().paddingInner(1))}var R0e=Array.prototype.map;function P0e(e){return R0e.call(e,cn)}const j0e=Array.prototype.slice;function SN(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(us(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=P0e(r),n):e.slice()},n.range=function(r){return arguments.length?(t=j0e.call(r),n):t.slice()},n.tickFormat=function(r,i){return T8(e[0],Oe(e),r??10,i)},n.copy=function(){return SN().domain(n.domain()).range(n.range())},n}const mp={};function z0e(e,t,n){const r=function(){const a=t();return a.invertRange||(a.invertRange=a.invert?N0e(a):a.invertExtent?I0e(a):void 0),a.type=e,a};return r.metadata=bi(Q(n)),r}function Ie(e,t,n){return arguments.length>1?(mp[e]=z0e(e,t,n),this):EN(e)?mp[e]:void 0}Ie($0e,S8);Ie(vc,A8,Dt);Ie(Qa,M8,[Dt,Qa]);Ie(sh,Mg,Dt);Ie(lh,ZD,Dt);Ie(l2,O8,Dt);Ie(A0,oL,[Dt,Ax]);Ie(S0,sL,[Dt,Ax]);Ie(qi,Dg,[Dt,Pr]);Ie("".concat(qi,"-").concat(vc),Dg,[Dt,Pr]);Ie("".concat(qi,"-").concat(Qa),Z8,[Dt,Pr,Qa]);Ie("".concat(qi,"-").concat(sh),Lg,[Dt,Pr]);Ie("".concat(qi,"-").concat(lh),lL,[Dt,Pr]);Ie("".concat(qi,"-").concat(l2),R8,[Dt,Pr]);Ie("".concat(ou,"-").concat(vc),P8,[Dt,Pr]);Ie("".concat(ou,"-").concat(Qa),j8,[Dt,Pr,Qa]);Ie("".concat(ou,"-").concat(sh),Bg,[Dt,Pr]);Ie("".concat(ou,"-").concat(lh),uL,[Dt,Pr]);Ie("".concat(ou,"-").concat(l2),z8,[Dt,Pr]);Ie(xc,D8,[uh,xc]);Ie(c2,L8,uh);Ie(u2,kg,uh);Ie(Tx,SN,[ch,uh]);Ie(wx,Wd,ch);Ie(TN,Sx,ch);Ie(I3,Z0e,ch);function EN(e){return oe(mp,e)}function X0(e,t){const n=mp[e];return n&&n.metadata[t]}function Ex(e){return X0(e,Dt)}function _c(e){return X0(e,ch)}function Z3(e){return X0(e,uh)}function MN(e){return X0(e,Qa)}function G0e(e){return X0(e,Ax)}function kN(e){return X0(e,Pr)}function ON(e){return X0(e,xc)}const U0e=["clamp","base","constant","exponent"];function CN(e,t){const n=t[0],r=Oe(t)-n;return function(i){return e(n+i*r)}}function f2(e,t,n){return Bd(Mx(t||"rgb",n),e)}function DN(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function LN(e,t,n){const r=n-t;let i,a,o;return!r||!Number.isFinite(r)?bn(.5):(i=(a=e.type).indexOf("-"),a=i<0?a:a.slice(i+1),o=Ie(a)().domain([t,n]).range([0,1]),U0e.forEach(s=>e[s]?o[s](e[s]()):0),o)}function Mx(e,t){const n=UH[W0e(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function W0e(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const H0e={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},Y0e={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"};function FN(e){const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function BN(e,t){for(const n in e)kx(n,t(e[n]))}const eS={};BN(Y0e,FN);BN(H0e,e=>f2(FN(e)));function kx(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(eS[e]=t,this):eS[e]}const Q1="symbol",q0e="discrete",V0e="gradient",X0e=e=>j(e)?e.map(t=>String(t)):String(e),J0e=(e,t)=>e[1]-t[1],K0e=(e,t)=>t[1]-e[1];function Ox(e,t,n){let r;return He(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(rh(e.domain())/n||1)))),ee(t)&&(r=t.step,t=t.interval),J(t)&&(t=e.type===A0?ru(t):e.type==S0?iu(t):P("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function $N(e,t,n){let r=e.range(),i=r[0],a=Oe(r),o=J0e;if(i>a&&(r=a,a=i,i=r,o=K0e),i=Math.floor(i),a=Math.ceil(a),t=t.map(s=>[s,e(s)]).filter(s=>i<=s[1]&&s[1]<=a).sort(o).map(s=>s[0]),n>0&&t.length>1){const s=[t[0],Oe(t)];for(;t.length>n&&t.length>=3;)t=t.filter((l,c)=>!(c%2));t.length<3&&(t=s)}return t}function Cx(e,t){return e.bins?$N(e,e.bins):e.ticks?e.ticks(t):e.domain()}function NN(e,t,n,r,i,a){const o=t.type;let s=X0e;if(o===A0||i===A0)s=e.timeFormat(r);else if(o===S0||i===S0)s=e.utcFormat(r);else if(MN(o)){const l=e.formatFloat(r);if(a||t.bins)s=l;else{const c=IN(t,n,!1);s=u=>c(u)?l(u):""}}else if(t.tickFormat){const l=t.domain();s=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(s=e.format(r));return s}function IN(e,t,n){const r=Cx(e,t),i=e.base(),a=Math.log(i),o=Math.max(1,i*t/r.length),s=l=>{let c=l/Math.pow(i,Math.round(Math.log(l)/a));return c*i<i-.5&&(c*=i),c<=o};return n?r.filter(s):s}const R3={[xc]:"quantiles",[c2]:"thresholds",[u2]:"domain"},ZN={[xc]:"quantiles",[c2]:"domain"};function RN(e,t){return e.bins?tle(e.bins):e.type===Qa?IN(e,t,!0):R3[e.type]?ele(e[R3[e.type]]()):Cx(e,t)}function Q0e(e,t,n){const r=t[ZN[t.type]](),i=r.length;let a=i>1?r[1]-r[0]:r[0],o;for(o=1;o<i;++o)a=Math.min(a,r[o]-r[o-1]);return e.formatSpan(0,a,3*10,n)}function ele(e){const t=[-1/0].concat(e);return t.max=1/0,t}function tle(e){const t=e.slice(0,-1);return t.max=Oe(e),t}const nle=e=>R3[e.type]||e.bins;function PN(e,t,n,r,i,a,o){const s=ZN[t.type]&&a!==A0&&a!==S0?Q0e(e,t,i):NN(e,t,n,i,a,o);return r===Q1&&nle(t)?rle(s):r===q0e?ile(s):ale(s)}const rle=e=>(t,n,r)=>{const i=tS(r[n+1],tS(r.max,1/0)),a=nS(t,e),o=nS(i,e);return a&&o?a+" – "+o:o?"< "+o:"≥ "+a},tS=(e,t)=>e??t,ile=e=>(t,n)=>n?e(t):null,ale=e=>t=>e(t),nS=(e,t)=>Number.isFinite(e)?t(e):null;function ole(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+Oe(t),a=i-r;if(e.type===u2){const o=n?a/n:.1;r-=o,i+=o,a=i-r}return o=>(o-r)/a}function sle(e,t,n,r){const i=r||t.type;return J(n)&&G0e(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===A0?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===S0?e.utcFormat("%A, %d %B %Y, %X UTC"):PN(e,t,5,null,n,r,!0)}function jN(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=sle(e,t,n.format,n.formatType);if(Z3(t.type)){const a=RN(t).slice(1).map(i),o=a.length;return"".concat(o," boundar").concat(o===1?"y":"ies",": ").concat(a.join(", "))}else if(_c(t.type)){const a=t.domain(),o=a.length,s=o>r?a.slice(0,r-2).map(i).join(", ")+", ending with "+a.slice(-1).map(i):a.map(i).join(", ");return"".concat(o," value").concat(o===1?"":"s",": ").concat(s)}else{const a=t.domain();return"values from ".concat(i(a[0])," to ").concat(i(Oe(a)))}}let zN=0;function lle(){zN=0}const pp="p_";function Dx(e){return e&&e.gradient}function GN(e,t,n){const r=e.gradient;let i=e.id,a=r==="radial"?pp:"";return i||(i=e.id="gradient_"+zN++,r==="radial"?(e.x1=Di(e.x1,.5),e.y1=Di(e.y1,.5),e.r1=Di(e.r1,0),e.x2=Di(e.x2,.5),e.y2=Di(e.y2,.5),e.r2=Di(e.r2,.5),a=pp):(e.x1=Di(e.x1,0),e.y1=Di(e.y1,0),e.x2=Di(e.x2,1),e.y2=Di(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+a+i+")"}function Di(e,t){return e??t}function UN(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,a){return n.push({offset:i,color:a}),r}}}const rS={basis:{curve:aF},"basis-closed":{curve:sF},"basis-open":{curve:cF},bundle:{curve:fF,tension:"beta",value:.85},cardinal:{curve:dF,tension:"tension",value:0},"cardinal-open":{curve:mF,tension:"tension",value:0},"cardinal-closed":{curve:hF,tension:"tension",value:0},"catmull-rom":{curve:gF,tension:"alpha",value:.5},"catmull-rom-closed":{curve:bF,tension:"alpha",value:.5},"catmull-rom-open":{curve:xF,tension:"alpha",value:.5},linear:{curve:Qd},"linear-closed":{curve:wF},monotone:{horizontal:EF,vertical:SF},natural:{curve:kF},step:{curve:OF},"step-after":{curve:DF},"step-before":{curve:CF}};function Lx(e,t,n){var r=oe(rS,e)&&rS[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const cle={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},ule=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,fle=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,dle=/^((\s+,?\s*)|(,\s*))/,hle=/^[01]/;function wc(e){const t=[];return(e.match(ule)||[]).forEach(r=>{let i=r[0];const a=i.toLowerCase(),o=cle[a],s=mle(a,o,r.slice(1).trim()),l=s.length;if(l<o||l&&l%o!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...s.slice(0,o)]),l!==o){a==="m"&&(i=i==="M"?"L":"l");for(let c=o;c<l;c+=o)t.push([i,...s.slice(c,c+o)])}}),t}function mle(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let a=0;a<t;++a){const o=e==="a"&&(a===3||a===4)?hle:fle,s=n.slice(i).match(o);if(s===null)throw Error("Invalid SVG path, incorrect parameter type");i+=s[0].length,r.push(+s[0]);const l=n.slice(i).match(dle);l!==null&&(i+=l[0].length)}return r}const Jo=Math.PI/180,ple=1e-14,Ws=Math.PI/2,Zi=Math.PI*2,xl=Math.sqrt(3)/2;var Sb={},Eb={},WN=[].join;function gle(e,t,n,r,i,a,o,s,l){const c=WN.call(arguments);if(Sb[c])return Sb[c];const u=o*Jo,f=Math.sin(u),d=Math.cos(u);n=Math.abs(n),r=Math.abs(r);const h=d*(s-e)*.5+f*(l-t)*.5,m=d*(l-t)*.5-f*(s-e)*.5;let g=h*h/(n*n)+m*m/(r*r);g>1&&(g=Math.sqrt(g),n*=g,r*=g);const p=d/n,y=f/n,b=-f/r,v=d/r,x=p*s+y*l,_=b*s+v*l,T=p*e+y*t,w=b*e+v*t;let C=1/((T-x)*(T-x)+(w-_)*(w-_))-.25;C<0&&(C=0);let M=Math.sqrt(C);a==i&&(M=-M);const A=.5*(x+T)-M*(w-_),L=.5*(_+w)+M*(T-x),D=Math.atan2(_-L,x-A);let O=Math.atan2(w-L,T-A)-D;O<0&&a===1?O+=Zi:O>0&&a===0&&(O-=Zi);const k=Math.ceil(Math.abs(O/(Ws+.001))),F=[];for(let $=0;$<k;++$){const N=D+$*O/k,R=D+($+1)*O/k;F[$]=[A,L,N,R,n,r,f,d]}return Sb[c]=F}function yle(e){const t=WN.call(e);if(Eb[t])return Eb[t];var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7];const u=c*o,f=-l*s,d=l*o,h=c*s,m=Math.cos(i),g=Math.sin(i),p=Math.cos(a),y=Math.sin(a),b=.5*(a-i),v=Math.sin(b*.5),x=8/3*v*v/Math.sin(b),_=n+m-x*g,T=r+g+x*m,w=n+p,S=r+y,C=w+x*y,M=S-x*p;return Eb[t]=[u*_+f*T,d*_+h*T,u*C+f*M,d*C+h*M,u*w+f*S,d*w+h*S]}const Tr=["l",0,0,0,0,0,0,0];function ble(e,t,n){const r=Tr[0]=e[0];if(r==="a"||r==="A")Tr[1]=t*e[1],Tr[2]=n*e[2],Tr[3]=e[3],Tr[4]=e[4],Tr[5]=e[5],Tr[6]=t*e[6],Tr[7]=n*e[7];else if(r==="h"||r==="H")Tr[1]=t*e[1];else if(r==="v"||r==="V")Tr[1]=n*e[1];else for(var i=1,a=e.length;i<a;++i)Tr[i]=(i%2==1?t:n)*e[i];return Tr}function ud(e,t,n,r,i,a){var o,s=null,l=0,c=0,u=0,f=0,d,h,m,g,p=0,y=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),a==null&&(a=i),e.beginPath&&e.beginPath();for(var b=0,v=t.length;b<v;++b){switch(o=t[b],(i!==1||a!==1)&&(o=ble(o,i,a)),o[0]){case"l":l+=o[1],c+=o[2],e.lineTo(l+n,c+r);break;case"L":l=o[1],c=o[2],e.lineTo(l+n,c+r);break;case"h":l+=o[1],e.lineTo(l+n,c+r);break;case"H":l=o[1],e.lineTo(l+n,c+r);break;case"v":c+=o[1],e.lineTo(l+n,c+r);break;case"V":c=o[1],e.lineTo(l+n,c+r);break;case"m":l+=o[1],c+=o[2],p=l,y=c,e.moveTo(l+n,c+r);break;case"M":l=o[1],c=o[2],p=l,y=c,e.moveTo(l+n,c+r);break;case"c":d=l+o[5],h=c+o[6],u=l+o[3],f=c+o[4],e.bezierCurveTo(l+o[1]+n,c+o[2]+r,u+n,f+r,d+n,h+r),l=d,c=h;break;case"C":l=o[5],c=o[6],u=o[3],f=o[4],e.bezierCurveTo(o[1]+n,o[2]+r,u+n,f+r,l+n,c+r);break;case"s":d=l+o[3],h=c+o[4],u=2*l-u,f=2*c-f,e.bezierCurveTo(u+n,f+r,l+o[1]+n,c+o[2]+r,d+n,h+r),u=l+o[1],f=c+o[2],l=d,c=h;break;case"S":d=o[3],h=o[4],u=2*l-u,f=2*c-f,e.bezierCurveTo(u+n,f+r,o[1]+n,o[2]+r,d+n,h+r),l=d,c=h,u=o[1],f=o[2];break;case"q":d=l+o[3],h=c+o[4],u=l+o[1],f=c+o[2],e.quadraticCurveTo(u+n,f+r,d+n,h+r),l=d,c=h;break;case"Q":d=o[3],h=o[4],e.quadraticCurveTo(o[1]+n,o[2]+r,d+n,h+r),l=d,c=h,u=o[1],f=o[2];break;case"t":d=l+o[1],h=c+o[2],s[0].match(/[QqTt]/)===null?(u=l,f=c):s[0]==="t"?(u=2*l-m,f=2*c-g):s[0]==="q"&&(u=2*l-u,f=2*c-f),m=u,g=f,e.quadraticCurveTo(u+n,f+r,d+n,h+r),l=d,c=h,u=l+o[1],f=c+o[2];break;case"T":d=o[1],h=o[2],u=2*l-u,f=2*c-f,e.quadraticCurveTo(u+n,f+r,d+n,h+r),l=d,c=h;break;case"a":iS(e,l+n,c+r,[o[1],o[2],o[3],o[4],o[5],o[6]+l+n,o[7]+c+r]),l+=o[6],c+=o[7];break;case"A":iS(e,l+n,c+r,[o[1],o[2],o[3],o[4],o[5],o[6]+n,o[7]+r]),l=o[6],c=o[7];break;case"z":case"Z":l=p,c=y,e.closePath();break}s=o}}function iS(e,t,n,r){const i=gle(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let a=0;a<i.length;++a){const o=yle(i[a]);e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}}const aS=.5773502691896257,oS={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,Zi)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,a=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-a),e.lineTo(i,-a),e.lineTo(0,-n),e.lineTo(-i,-a),e.lineTo(-r,-a),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=xl*n,i=r-n*aS,a=n/4;e.moveTo(0,-r-i),e.lineTo(-a,r-i),e.lineTo(a,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=xl*n,i=r-n*aS;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=xl*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=xl*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=xl*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=xl*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function HN(e){return oe(oS,e)?oS[e]:vle(e)}var Mb={};function vle(e){if(!oe(Mb,e)){const t=wc(e);Mb[e]={draw:function(n,r){ud(n,t,0,0,Math.sqrt(r)/2)}}}return Mb[e]}const fo=.448084975506;function xle(e){return e.x}function _le(e){return e.y}function wle(e){return e.width}function Tle(e){return e.height}function Ea(e){return typeof e=="function"?e:()=>+e}function h1(e,t,n){return Math.max(t,Math.min(e,n))}function YN(){var e=xle,t=_le,n=wle,r=Tle,i=Ea(0),a=i,o=i,s=i,l=null;function c(u,f,d){var h,m=f??+e.call(this,u),g=d??+t.call(this,u),p=+n.call(this,u),y=+r.call(this,u),b=Math.min(p,y)/2,v=h1(+i.call(this,u),0,b),x=h1(+a.call(this,u),0,b),_=h1(+o.call(this,u),0,b),T=h1(+s.call(this,u),0,b);if(l||(l=h=Yc()),v<=0&&x<=0&&_<=0&&T<=0)l.rect(m,g,p,y);else{var w=m+p,S=g+y;l.moveTo(m+v,g),l.lineTo(w-x,g),l.bezierCurveTo(w-fo*x,g,w,g+fo*x,w,g+x),l.lineTo(w,S-T),l.bezierCurveTo(w,S-fo*T,w-fo*T,S,w-T,S),l.lineTo(m+_,S),l.bezierCurveTo(m+fo*_,S,m,S-fo*_,m,S-_),l.lineTo(m,g+v),l.bezierCurveTo(m,g+fo*v,m+fo*v,g,m+v,g),l.closePath()}if(h)return l=null,h+""||null}return c.x=function(u){return arguments.length?(e=Ea(u),c):e},c.y=function(u){return arguments.length?(t=Ea(u),c):t},c.width=function(u){return arguments.length?(n=Ea(u),c):n},c.height=function(u){return arguments.length?(r=Ea(u),c):r},c.cornerRadius=function(u,f,d,h){return arguments.length?(i=Ea(u),a=f!=null?Ea(f):i,s=d!=null?Ea(d):i,o=h!=null?Ea(h):a,c):i},c.context=function(u){return arguments.length?(l=u??null,c):l},c}function qN(){var e,t,n,r,i=null,a,o,s,l;function c(f,d,h){const m=h/2;if(a){var g=s-d,p=f-o;if(g||p){var y=Math.sqrt(g*g+p*p),b=(g/=y)*l,v=(p/=y)*l,x=Math.atan2(p,g);i.moveTo(o-b,s-v),i.lineTo(f-g*m,d-p*m),i.arc(f,d,m,x-Math.PI,x),i.lineTo(o+b,s+v),i.arc(o,s,l,x,x+Math.PI)}else i.arc(f,d,m,0,Zi);i.closePath()}else a=1;o=f,s=d,l=m}function u(f){var d,h=f.length,m,g=!1,p;for(i==null&&(i=p=Yc()),d=0;d<=h;++d)!(d<h&&r(m=f[d],d,f))===g&&(g=!g)&&(a=0),g&&c(+e(m,d,f),+t(m,d,f),+n(m,d,f));if(p)return i=null,p+""||null}return u.x=function(f){return arguments.length?(e=f,u):e},u.y=function(f){return arguments.length?(t=f,u):t},u.size=function(f){return arguments.length?(n=f,u):n},u.defined=function(f){return arguments.length?(r=f,u):r},u.context=function(f){return arguments.length?(f==null?i=null:i=f,u):i},u}function fh(e,t){return e??t}const dh=e=>e.x||0,hh=e=>e.y||0,Ale=e=>e.width||0,Sle=e=>e.height||0,Ele=e=>(e.x||0)+(e.width||0),Mle=e=>(e.y||0)+(e.height||0),kle=e=>e.startAngle||0,Ole=e=>e.endAngle||0,Cle=e=>e.padAngle||0,Dle=e=>e.innerRadius||0,Lle=e=>e.outerRadius||0,Fle=e=>e.cornerRadius||0,Ble=e=>fh(e.cornerRadiusTopLeft,e.cornerRadius)||0,$le=e=>fh(e.cornerRadiusTopRight,e.cornerRadius)||0,Nle=e=>fh(e.cornerRadiusBottomRight,e.cornerRadius)||0,Ile=e=>fh(e.cornerRadiusBottomLeft,e.cornerRadius)||0,Zle=e=>fh(e.size,64),Rle=e=>e.size||1,d2=e=>e.defined!==!1,Ple=e=>HN(e.shape||"circle"),jle=G8().startAngle(kle).endAngle(Ole).padAngle(Cle).innerRadius(Dle).outerRadius(Lle).cornerRadius(Fle),zle=th().x(dh).y1(hh).y0(Mle).defined(d2),Gle=th().y(hh).x1(dh).x0(Ele).defined(d2),Ule=eh().x(dh).y(hh).defined(d2),Wle=YN().x(dh).y(hh).width(Ale).height(Sle).cornerRadius(Ble,$le,Nle,Ile),Hle=iF().type(Ple).size(Zle),Yle=qN().x(dh).y(hh).defined(d2).size(Rle);function Fx(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function qle(e,t){return jle.context(e)(t)}function Vle(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?Gle:zle).curve(Lx(r,n.orient,n.tension)).context(e)(t)}function Xle(e,t){const n=t[0],r=n.interpolate||"linear";return Ule.curve(Lx(r,n.orient,n.tension)).context(e)(t)}function su(e,t,n,r){return Wle.context(e)(t,n,r)}function Jle(e,t){return(t.mark.shape||t.shape).context(e)(t)}function Kle(e,t){return Hle.context(e)(t)}function Qle(e,t){return Yle.context(e)(t)}var VN=1;function XN(){VN=1}function Bx(e,t,n){var r=t.clip,i=e._defs,a=t.clip_id||(t.clip_id="clip"+VN++),o=i.clipping[a]||(i.clipping[a]={id:a});return _e(r)?o.path=r(null):Fx(n)?o.path=su(null,n,0,0):(o.width=n.width||0,o.height=n.height||0),"url(#"+a+")"}function xt(e){this.clear(),e&&this.union(e)}xt.prototype={clone(){return new xt(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:a,y2:o}=this,s=Math.cos(e),l=Math.sin(e),c=t-t*s+n*l,u=n-t*l-n*s;return[s*r-l*i+c,l*r+s*i+u,s*r-l*o+c,l*r+s*o+u,s*a-l*i+c,l*a+s*i+u,s*a-l*o+c,l*a+s*o+u]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function h2(e){this.mark=e,this.bounds=this.bounds||new xt}function m2(e){h2.call(this,e),this.items=this.items||[]}H(m2,h2);function $x(e){this._pending=0,this._loader=e||Xg()}function sS(e){e._pending+=1}function Nu(e){e._pending-=1}$x.prototype={pending(){return this._pending},sanitizeURL(e){const t=this;return sS(t),t._loader.sanitize(e,{context:"href"}).then(n=>(Nu(t),n)).catch(()=>(Nu(t),null))},loadImage(e){const t=this,n=B0e();return sS(t),t._loader.sanitize(e,{context:"image"}).then(r=>{const i=r.href;if(!i||!n)throw{url:i};const a=new n,o=oe(r,"crossOrigin")?r.crossOrigin:"anonymous";return o!=null&&(a.crossOrigin=o),a.onload=()=>Nu(t),a.onerror=()=>Nu(t),a.src=i,a}).catch(r=>(Nu(t),{complete:!1,width:0,height:0,src:r&&r.url||""}))},ready(){const e=this;return new Promise(t=>{function n(r){e.pending()?setTimeout(()=>{n(!0)},10):t(r)}n(!1)})}};function no(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?ece(t,r):0))}return e}function ece(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const tce=Zi-1e-8;let p2,em,tm,Js,P3,nm,j3,z3;const Eo=(e,t)=>p2.add(e,t),rm=(e,t)=>Eo(em=e,tm=t),lS=e=>Eo(e,p2.y1),cS=e=>Eo(p2.x1,e),Hs=(e,t)=>P3*e+j3*t,Ys=(e,t)=>nm*e+z3*t,kb=(e,t)=>Eo(Hs(e,t),Ys(e,t)),Ob=(e,t)=>rm(Hs(e,t),Ys(e,t));function mh(e,t){return p2=e,t?(Js=t*Jo,P3=z3=Math.cos(Js),nm=Math.sin(Js),j3=-nm):(P3=z3=1,Js=nm=j3=0),nce}const nce={beginPath(){},closePath(){},moveTo:Ob,lineTo:Ob,rect(e,t,n,r){Js?(kb(e+n,t),kb(e+n,t+r),kb(e,t+r),Ob(e,t)):(Eo(e+n,t+r),rm(e,t))},quadraticCurveTo(e,t,n,r){const i=Hs(e,t),a=Ys(e,t),o=Hs(n,r),s=Ys(n,r);uS(em,i,o,lS),uS(tm,a,s,cS),rm(o,s)},bezierCurveTo(e,t,n,r,i,a){const o=Hs(e,t),s=Ys(e,t),l=Hs(n,r),c=Ys(n,r),u=Hs(i,a),f=Ys(i,a);fS(em,o,l,u,lS),fS(tm,s,c,f,cS),rm(u,f)},arc(e,t,n,r,i,a){if(r+=Js,i+=Js,em=n*Math.cos(i)+e,tm=n*Math.sin(i)+t,Math.abs(i-r)>tce)Eo(e-n,t-n),Eo(e+n,t+n);else{const o=c=>Eo(n*Math.cos(c)+e,n*Math.sin(c)+t);let s,l;if(o(r),o(i),i!==r)if(r=r%Zi,r<0&&(r+=Zi),i=i%Zi,i<0&&(i+=Zi),i<r&&(a=!a,s=r,r=i,i=s),a)for(i-=Zi,s=r-r%Ws,l=0;l<4&&s>i;++l,s-=Ws)o(s);else for(s=r-r%Ws+Ws,l=0;l<4&&s<i;++l,s=s+Ws)o(s)}}};function uS(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function fS(e,t,n,r,i){const a=r-e+3*t-3*n,o=e+n-2*t,s=e-t;let l=0,c=0,u;Math.abs(a)>ple?(u=o*o+s*a,u>=0&&(u=Math.sqrt(u),l=(-o+u)/a,c=(-o-u)/a)):l=.5*s/o,0<l&&l<1&&i(dS(l,e,t,n,r)),0<c&&c<1&&i(dS(c,e,t,n,r))}function dS(e,t,n,r,i){const a=1-e,o=a*a,s=e*e;return o*a*t+3*o*e*n+3*a*s*r+s*e*i}var Io=(Io=No(1,1))?Io.getContext("2d"):null;const G3=new xt;function Nx(e){return function(t,n){if(!Io)return!0;e(Io,t),G3.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:a,y2:o}=G3;for(let s=i;s<=o;++s)for(let l=r;l<=a;++l)if(Io.isPointInPath(l,s))return!0;return!1}}function Ix(e,t){return t.contains(e.x||0,e.y||0)}function JN(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,a=e.height||0;return t.intersects(G3.set(n,r,n+i,r+a))}function KN(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,a=e.y2!=null?e.y2:r;return Nl(t,n,r,i,a)}function Nl(e,t,n,r,i){const{x1:a,y1:o,x2:s,y2:l}=e,c=r-t,u=i-n;let f=0,d=1,h,m,g,p;for(p=0;p<4;++p){if(p===0&&(h=-c,m=-(a-t)),p===1&&(h=c,m=s-t),p===2&&(h=-u,m=-(o-n)),p===3&&(h=u,m=l-n),Math.abs(h)<1e-10&&m<0)return!1;if(g=m/h,h<0){if(g>d)return!1;g>f&&(f=g)}else if(h>0){if(g<f)return!1;g<d&&(d=g)}}return!0}function Tc(e,t){e.globalCompositeOperation=t.blend||"source-over"}function Ur(e,t){return e??t}function hS(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function rce(e,t,n){const r=n.width(),i=n.height();let a;if(t.gradient==="radial")a=e.createRadialGradient(n.x1+Ur(t.x1,.5)*r,n.y1+Ur(t.y1,.5)*i,Math.max(r,i)*Ur(t.r1,0),n.x1+Ur(t.x2,.5)*r,n.y1+Ur(t.y2,.5)*i,Math.max(r,i)*Ur(t.r2,.5));else{const o=Ur(t.x1,0),s=Ur(t.y1,0),l=Ur(t.x2,1),c=Ur(t.y2,0);if(o===l||s===c||r===i)a=e.createLinearGradient(n.x1+o*r,n.y1+s*i,n.x1+l*r,n.y1+c*i);else{const u=No(Math.ceil(r),Math.ceil(i)),f=u.getContext("2d");return f.scale(r,i),f.fillStyle=hS(f.createLinearGradient(o,s,l,c),t.stops),f.fillRect(0,0,r,i),e.createPattern(u,"no-repeat")}}return hS(a,t.stops)}function QN(e,t,n){return Dx(n)?rce(e,n,t.bounds):n}function gp(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=QN(e,t,t.fill),!0):!1}var ice=[];function Ac(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=QN(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||ice),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function ace(e,t){return e.zindex-t.zindex||e.index-t.index}function Zx(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,a;for(i=0,a=t.length;i<a;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(ace)}function xi(e,t){var n=e.items,r,i;if(!n||!n.length)return;const a=Zx(e);if(a&&a.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=a}for(r=0,i=n.length;r<i;++r)t(n[r])}function yp(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const a=Zx(e);for(a&&a.length&&(n=a),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===a){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function Rx(e){return function(t,n,r){xi(n,i=>{(!r||r.intersects(i.bounds))&&eI(e,t,i,i)})}}function oce(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&eI(e,t,n.items[0],n.items)}}function eI(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||(Tc(t,n),n.fill&&gp(t,n,i)&&t.fill(),n.stroke&&Ac(t,n,i)&&t.stroke()))}function g2(e){return e=e||Fr,function(t,n,r,i,a,o){return r*=t.pixelRatio,i*=t.pixelRatio,yp(n,s=>{const l=s.bounds;if(!(l&&!l.contains(a,o)||!l)&&e(t,s,r,i,a,o))return s})}}function ph(e,t){return function(n,r,i,a){var o=Array.isArray(r)?r[0]:r,s=t??o.fill,l=o.stroke&&n.isPointInStroke,c,u;return l&&(c=o.strokeWidth,u=o.strokeCap,n.lineWidth=c??1,n.lineCap=u??"butt"),e(n,r)?!1:s&&n.isPointInPath(i,a)||l&&n.isPointInStroke(i,a)}}function Px(e){return g2(ph(e))}function a0(e,t){return"translate("+e+","+t+")"}function jx(e){return"rotate("+e+")"}function sce(e,t){return"scale("+e+","+t+")"}function tI(e){return a0(e.x||0,e.y||0)}function lce(e){return a0(e.x||0,e.y||0)+(e.angle?" "+jx(e.angle):"")}function cce(e){return a0(e.x||0,e.y||0)+(e.angle?" "+jx(e.angle):"")+(e.scaleX||e.scaleY?" "+sce(e.scaleX||1,e.scaleY||1):"")}function zx(e,t,n){function r(o,s){o("transform",lce(s)),o("d",t(null,s))}function i(o,s){return t(mh(o,s.angle),s),no(o,s).translate(s.x||0,s.y||0)}function a(o,s){var l=s.x||0,c=s.y||0,u=s.angle||0;o.translate(l,c),u&&o.rotate(u*=Jo),o.beginPath(),t(o,s),u&&o.rotate(-u),o.translate(-l,-c)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:Rx(a),pick:Px(a),isect:n||Nx(a)}}var uce=zx("arc",qle);function fce(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,a=1/0,o,s;--i>=0;)e[i].defined!==!1&&(s=Math.abs(e[i][r]-n),s<a&&(a=s,o=e[i]));return o}function dce(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,a,o;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],a=e[r].y-t[1],o=i*i+a*a,o<n))return e[r];return null}function hce(e,t){for(var n=e.length,r,i,a;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],a=r*r+i*i,r=e[n].size||1,a<r*r))return e[n];return null}function Gx(e,t,n){function r(l,c){var u=c.mark.items;u.length&&l("d",t(null,u))}function i(l,c){var u=c.items;return u.length===0?l:(t(mh(l),u),no(l,u[0]))}function a(l,c){l.beginPath(),t(l,c)}const o=ph(a);function s(l,c,u,f,d,h){var m=c.items,g=c.bounds;return!m||!m.length||g&&!g.contains(d,h)?null:(u*=l.pixelRatio,f*=l.pixelRatio,o(l,m,u,f)?m[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:oce(a),pick:s,isect:Ix,tip:n}}var mce=Gx("area",Vle,fce);function pce(e,t){var n=t.clip;e.save(),_e(n)?(e.beginPath(),n(e),e.clip()):nI(e,t.group)}function nI(e,t){e.beginPath(),Fx(t)?su(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function rI(e){const t=Ur(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function gce(e,t){e("transform",tI(t))}function iI(e,t){const n=rI(t);e("d",su(null,t,n,n))}function yce(e,t){e("class","background"),e("aria-hidden",!0),iI(e,t)}function bce(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?iI(e,t):e("d","")}function vce(e,t,n){const r=t.clip?Bx(n,t,t):null;e("clip-path",r)}function xce(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),no(e,t),e.translate(t.x||0,t.y||0)}function fd(e,t,n,r){const i=rI(t);e.beginPath(),su(e,t,(n||0)+i,(r||0)+i)}const _ce=ph(fd),wce=ph(fd,!1),Tce=ph(fd,!0);function Ace(e,t,n){xi(t,r=>{const i=r.x||0,a=r.y||0,o=r.strokeForeground,s=r.opacity==null?1:r.opacity;(r.stroke||r.fill)&&s&&(fd(e,r,i,a),Tc(e,r),r.fill&&gp(e,r,s)&&e.fill(),r.stroke&&!o&&Ac(e,r,s)&&e.stroke()),e.save(),e.translate(i,a),r.clip&&nI(e,r),n&&n.translate(-i,-a),xi(r,l=>{this.draw(e,l,n)}),n&&n.translate(i,a),e.restore(),o&&r.stroke&&s&&(fd(e,r,i,a),Tc(e,r),Ac(e,r,s)&&e.stroke())})}function Sce(e,t,n,r,i,a){if(t.bounds&&!t.bounds.contains(i,a)||!t.items)return null;const o=n*e.pixelRatio,s=r*e.pixelRatio;return yp(t,l=>{let c,u,f;const d=l.bounds;if(d&&!d.contains(i,a))return;u=l.x||0,f=l.y||0;const h=u+(l.width||0),m=f+(l.height||0),g=l.clip;if(g&&(i<u||i>h||a<f||a>m))return;if(e.save(),e.translate(u,f),u=i-u,f=a-f,g&&Fx(l)&&!Tce(e,l,o,s))return e.restore(),null;const p=l.strokeForeground,y=t.interactive!==!1;return y&&p&&l.stroke&&wce(e,l,o,s)?(e.restore(),l):(c=yp(l,b=>Ece(b,u,f)?this.pick(b,n,r,u,f):null),!c&&y&&(l.fill||!p&&l.stroke)&&_ce(e,l,o,s)&&(c=l),e.restore(),c||null)})}function Ece(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var Mce={type:"group",tag:"g",nested:!1,attr:gce,bound:xce,draw:Ace,pick:Sce,isect:JN,content:vce,background:yce,foreground:bce},dd={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function Ux(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function Wx(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function Hx(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function y2(e,t){return e==="center"?t/2:e==="right"?t:0}function b2(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function kce(e,t,n){const r=Ux(t,n),i=Wx(t,r),a=Hx(t,r),o=(t.x||0)-y2(t.align,i),s=(t.y||0)-b2(t.baseline,a),l=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",l,dd["xmlns:xlink"],"xlink:href"),e("transform",a0(o,s)),e("width",i),e("height",a),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function Oce(e,t){const n=t.image,r=Wx(t,n),i=Hx(t,n),a=(t.x||0)-y2(t.align,r),o=(t.y||0)-b2(t.baseline,i);return e.set(a,o,a+r,o+i)}function Cce(e,t,n){xi(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=Ux(r,this);let a=Wx(r,i),o=Hx(r,i);if(a===0||o===0)return;let s=(r.x||0)-y2(r.align,a),l=(r.y||0)-b2(r.baseline,o),c,u,f,d;r.aspect!==!1&&(u=i.width/i.height,f=r.width/r.height,u===u&&f===f&&u!==f&&(f<u?(d=a/u,l+=(o-d)/2,o=d):(d=o*u,s+=(a-d)/2,a=d))),(i.complete||i.toDataURL)&&(Tc(e,r),e.globalAlpha=(c=r.opacity)!=null?c:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,s,l,a,o))})}var Dce={type:"image",tag:"image",nested:!1,attr:kce,bound:Oce,draw:Cce,pick:g2(),isect:Fr,get:Ux,xOffset:y2,yOffset:b2},Lce=Gx("line",Xle,dce);function Fce(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",cce(t)),e("d",t.path)}function im(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,a=t.scaleX||1,o=t.scaleY||1,s=(t.angle||0)*Jo,l=t.pathCache;(!l||l.path!==n)&&((t.pathCache=l=wc(n)).path=n),s&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(s),ud(e,l,0,0,a,o),e.rotate(-s),e.translate(-r,-i)):ud(e,l,r,i,a,o)}function Bce(e,t){return im(mh(e,t.angle),t)?e.set(0,0,0,0):no(e,t,!0)}var $ce={type:"path",tag:"path",nested:!1,attr:Fce,bound:Bce,draw:Rx(im),pick:Px(im),isect:Nx(im)};function Nce(e,t){e("d",su(null,t))}function Ice(e,t){var n,r;return no(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function mS(e,t){e.beginPath(),su(e,t)}var Zce={type:"rect",tag:"path",nested:!1,attr:Nce,bound:Ice,draw:Rx(mS),pick:Px(mS),isect:JN};function Rce(e,t){e("transform",tI(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function Pce(e,t){var n,r;return no(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function aI(e,t,n){var r,i,a,o;return t.stroke&&Ac(e,t,n)?(r=t.x||0,i=t.y||0,a=t.x2!=null?t.x2:r,o=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(a,o),!0):!1}function jce(e,t,n){xi(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&aI(e,r,i)&&(Tc(e,r),e.stroke())}})}function zce(e,t,n,r){return e.isPointInStroke?aI(e,t,1)&&e.isPointInStroke(n,r):!1}var Gce={type:"rule",tag:"line",nested:!1,attr:Rce,bound:Pce,draw:jce,pick:g2(zce),isect:KN},Uce=zx("shape",Jle),Wce=zx("symbol",Kle,Ix);const pS=HB();var ui={height:da,measureWidth:Yx,estimateWidth:U3,width:U3,canvas:oI};oI(!0);function oI(e){ui.width=e&&Io?Yx:U3}function U3(e,t){return sI(Qo(e,t),da(e))}function sI(e,t){return~~(.8*e.length*t)}function Yx(e,t){return da(e)<=0||!(t=Qo(e,t))?0:lI(t,v2(e))}function lI(e,t){const n="(".concat(t,") ").concat(e);let r=pS.get(n);return r===void 0&&(Io.font=t,r=Io.measureText(e).width,pS.set(n,r)),r}function da(e){return e.fontSize!=null?+e.fontSize||0:11}function Ko(e){return e.lineHeight!=null?e.lineHeight:da(e)+2}function Hce(e){return j(e)?e.length>1?e:e[0]:e}function gh(e){return Hce(e.lineBreak&&e.text&&!j(e.text)?e.text.split(e.lineBreak):e.text)}function qx(e){const t=gh(e);return(j(t)?t.length-1:0)*Ko(e)}function Qo(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?qce(e,n):n}function Yce(e){if(ui.width===Yx){const t=v2(e);return n=>lI(n,t)}else{const t=da(e);return n=>sI(n,t)}}function qce(e,t){var n=+e.limit,r=Yce(e);if(r(t)<n)return t;var i=e.ellipsis||"…",a=e.dir==="rtl",o=0,s=t.length,l;if(n-=r(i),a){for(;o<s;)l=o+s>>>1,r(t.slice(l))>n?o=l+1:s=l;return i+t.slice(o)}else{for(;o<s;)l=1+(o+s>>>1),r(t.slice(0,l))<n?o=l:s=l-1;return t.slice(0,o)+i}}function yh(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function v2(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+da(e)+"px "+yh(e,t)}function Vx(e){var t=e.baseline,n=da(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*Ko(e):t==="line-bottom"?.29*n-.5*Ko(e):0)}const Vce={left:"start",center:"middle",right:"end"},Cf=new xt;function x2(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-Ws,t+=r*Math.cos(i),n+=r*Math.sin(i)),Cf.x1=t,Cf.y1=n,Cf}function Xce(e,t){var n=t.dx||0,r=(t.dy||0)+Vx(t),i=x2(t),a=i.x1,o=i.y1,s=t.angle||0,l;e("text-anchor",Vce[t.align]||"start"),s?(l=a0(a,o)+" "+jx(s),(n||r)&&(l+=" "+a0(n,r))):l=a0(a+n,o+r),e("transform",l)}function Xx(e,t,n){var r=ui.height(t),i=t.align,a=x2(t),o=a.x1,s=a.y1,l=t.dx||0,c=(t.dy||0)+Vx(t)-Math.round(.8*r),u=gh(t),f;if(j(u)?(r+=Ko(t)*(u.length-1),f=u.reduce((d,h)=>Math.max(d,ui.width(t,h)),0)):f=ui.width(t,u),i==="center"?l-=f/2:i==="right"&&(l-=f),e.set(l+=o,c+=s,l+f,c+r),t.angle&&!n)e.rotate(t.angle*Jo,o,s);else if(n===2)return e.rotatedPoints(t.angle*Jo,o,s);return e}function Jce(e,t,n){xi(t,r=>{var i=r.opacity==null?1:r.opacity,a,o,s,l,c,u,f;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=v2(r),e.textAlign=r.align||"left",a=x2(r),o=a.x1,s=a.y1,r.angle&&(e.save(),e.translate(o,s),e.rotate(r.angle*Jo),o=s=0),o+=r.dx||0,s+=(r.dy||0)+Vx(r),u=gh(r),Tc(e,r),j(u))for(c=Ko(r),l=0;l<u.length;++l)f=Qo(r,u[l]),r.fill&&gp(e,r,i)&&e.fillText(f,o,s),r.stroke&&Ac(e,r,i)&&e.strokeText(f,o,s),s+=c;else f=Qo(r,u),r.fill&&gp(e,r,i)&&e.fillText(f,o,s),r.stroke&&Ac(e,r,i)&&e.strokeText(f,o,s);r.angle&&e.restore()}})}function Kce(e,t,n,r,i,a){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var o=x2(t),s=o.x1,l=o.y1,c=Xx(Cf,t,1),u=-t.angle*Jo,f=Math.cos(u),d=Math.sin(u),h=f*i-d*a+(s-f*s+d*l),m=d*i+f*a+(l-d*s-f*l);return c.contains(h,m)}function Qce(e,t){const n=Xx(Cf,e,2);return Nl(t,n[0],n[1],n[2],n[3])||Nl(t,n[0],n[1],n[4],n[5])||Nl(t,n[4],n[5],n[6],n[7])||Nl(t,n[2],n[3],n[6],n[7])}var eue={type:"text",tag:"text",nested:!1,attr:Xce,bound:Xx,draw:Jce,pick:g2(Kce),isect:Qce},tue=Gx("trail",Qle,hce),pr={arc:uce,area:mce,group:Mce,image:Dce,line:Lce,path:$ce,rect:Zce,rule:Gce,shape:Uce,symbol:Wce,text:eue,trail:tue};function W3(e,t,n){var r=pr[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new xt),e,n)}var gS={mark:null};function cI(e,t,n){var r=pr[e.marktype],i=r.bound,a=e.items,o=a&&a.length,s,l,c,u;if(r.nested)return o?c=a[0]:(gS.mark=e,c=gS),u=W3(c,i,n),t=t&&t.union(u)||u,t;if(t=t||e.bounds&&e.bounds.clear()||new xt,o)for(s=0,l=a.length;s<l;++s)t.union(W3(a[s],i,n));return e.bounds=t}const nue=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function uI(e,t){return JSON.stringify(e,nue,t)}function fI(e){const t=typeof e=="string"?JSON.parse(e):e;return dI(t)}function dI(e){var t=e.marktype,n=e.items,r,i,a;if(n)for(i=0,a=n.length;i<a;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&dI(n[i]);return t&&cI(e),e}function Jx(e){arguments.length?this.root=fI(e):(this.root=hI({marktype:"group",name:"root",role:"frame"}),this.root.items=[new m2(this.root)])}Jx.prototype={toJSON(e){return uI(this.root,e||0)},mark(e,t,n){t=t||this.root.items[0];const r=hI(e,t);return t.items[n]=r,r.zindex&&(r.group.zdirty=!0),r}};function hI(e,t){const n={bounds:new xt,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function Mo(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function Kx(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function Un(e,t,n,r){var i=e.childNodes[t],a;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(a=i||null,i=Mo(e.ownerDocument,n,r),e.insertBefore(i,a)),i}function Qr(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function mI(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function _2(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function rue(e,t,n,r){var i=e&&e.mark,a,o;if(i&&(a=pr[i.marktype]).tip){for(o=_2(t,n),o[0]-=r[0],o[1]-=r[1];e=e.mark.group;)o[0]-=e.x||0,o[1]-=e.y||0;e=a.tip(i.items,o)}return e}function es(e,t){this._active=null,this._handlers={},this._loader=e||Xg(),this._tooltip=t||iue}function iue(e,t,n,r){e.element().setAttribute("title",r||"")}es.prototype={initialize(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},scene(e){return arguments.length?(this._scene=e,this):this._scene},on(){},off(){},_handlerIndex(e,t,n){for(let r=e?e.length:0;--r>=0;)if(e[r].type===t&&(!n||e[r].handler===n))return r;return-1},handlers(e){const t=this._handlers,n=[];if(e)n.push(...t[this.eventName(e)]);else for(const r in t)n.push(...t[r]);return n},eventName(e){const t=e.indexOf(".");return t<0?e:e.slice(0,t)},handleHref(e,t,n){this._loader.sanitize(n,{context:"href"}).then(r=>{const i=new MouseEvent(e.type,e),a=Mo(null,"a");for(const o in r)a.setAttribute(o,r[o]);a.dispatchEvent(i)}).catch(()=>{})},handleTooltip(e,t,n){if(t&&t.tooltip!=null){t=rue(t,e,this.canvas(),this._origin);const r=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,r)}},getItemBoundingClientRect(e){const t=this.canvas();if(!t)return;const n=t.getBoundingClientRect(),r=this._origin,i=e.bounds,a=i.width(),o=i.height();let s=i.x1+r[0]+n.left,l=i.y1+r[1]+n.top;for(;e.mark&&(e=e.mark.group);)s+=e.x||0,l+=e.y||0;return{x:s,y:l,width:a,height:o,left:s,top:l,right:s+a,bottom:l+o}}};function ha(e){this._el=null,this._bgcolor=null,this._loader=new $x(e)}ha.prototype={initialize(e,t,n,r,i){return this._el=e,this.resize(t,n,r,i)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(e){return arguments.length===0?this._bgcolor:(this._bgcolor=e,this)},resize(e,t,n,r){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=r||1,this},dirty(){},render(e){const t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},_render(){},renderAsync(e){const t=this.render(e);return this._ready?this._ready.then(()=>t):Promise.resolve(t)},_load(e,t){var n=this,r=n._loader[e](t);if(!n._ready){const i=n._call;n._ready=n._loader.ready().then(a=>{a&&i(),n._ready=null})}return r},sanitizeURL(e){return this._load("sanitizeURL",e)},loadImage(e){return this._load("loadImage",e)}};const aue="keydown",oue="keypress",sue="keyup",pI="dragenter",am="dragleave",gI="dragover",H3="mousedown",lue="mouseup",bp="mousemove",Df="mouseout",yI="mouseover",vp="click",cue="dblclick",uue="wheel",bI="mousewheel",xp="touchstart",_p="touchmove",wp="touchend",fue=[aue,oue,sue,pI,am,gI,H3,lue,bp,Df,yI,vp,cue,uue,bI,xp,_p,wp],Y3=bp,hd=Df,q3=vp;function bh(e,t){es.call(this,e,t),this._down=null,this._touch=null,this._first=!0,this._events={}}const due=e=>e===xp||e===_p||e===wp?[xp,_p,wp]:[e];function yS(e,t){due(t).forEach(n=>hue(e,n))}function hue(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function bS(e,t,n){return function(r){const i=this._active,a=this.pickEvent(r);a===i?this.fire(e,r):((!i||!i.exit)&&this.fire(n,r),this._active=a,this.fire(t,r),this.fire(e,r))}}function vS(e){return function(t){this.fire(e,t),this._active=null}}H(bh,es,{initialize(e,t,n){return this._canvas=e&&Kx(e,"canvas"),[vp,H3,bp,Df,am].forEach(r=>yS(this,r)),es.prototype.initialize.call(this,e,t,n)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:fue,DOMMouseScroll(e){this.fire(bI,e)},mousemove:bS(bp,yI,Df),dragover:bS(gI,pI,am),mouseout:vS(Df),dragleave:vS(am),mousedown(e){this._down=this._active,this.fire(H3,e)},click(e){this._down===this._active&&(this.fire(vp,e),this._down=null)},touchstart(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(xp,e,!0)},touchmove(e){this.fire(_p,e,!0)},touchend(e){this.fire(wp,e,!0),this._touch=null},fire(e,t,n){const r=n?this._touch:this._active,i=this._handlers[e];if(t.vegaType=e,e===q3&&r&&r.href?this.handleHref(t,r,r.href):(e===Y3||e===hd)&&this.handleTooltip(t,r,e!==hd),i)for(let a=0,o=i.length;a<o;++a)i[a].handler.call(this._obj,t,r)},on(e,t){const n=this.eventName(e),r=this._handlers;return this._handlerIndex(r[n],e,t)<0&&(yS(this,e),(r[n]||(r[n]=[])).push({type:e,handler:t})),this},off(e,t){const n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&r.splice(i,1),this},pickEvent(e){const t=_2(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},pick(e,t,n,r,i){const a=this.context();return pr[e.marktype].pick.call(this,a,e,t,n,r,i)}});function mue(){return typeof window<"u"&&window.devicePixelRatio||1}var pue=mue();function gue(e,t,n,r,i,a){const o=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,s=e.getContext("2d"),l=o?pue:i;e.width=t*l,e.height=n*l;for(const c in a)s[c]=a[c];return o&&l!==1&&(e.style.width=t+"px",e.style.height=n+"px"),s.pixelRatio=l,s.setTransform(l,0,0,l,l*r[0],l*r[1]),e}function Tp(e){ha.call(this,e),this._options={},this._redraw=!1,this._dirty=new xt,this._tempb=new xt}const xS=ha.prototype,yue=(e,t,n)=>new xt().set(0,0,t,n).translate(-e[0],-e[1]);function bue(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}H(Tp,ha,{initialize(e,t,n,r,i,a){return this._options=a||{},this._canvas=this._options.externalContext?null:No(1,1,this._options.type),e&&this._canvas&&(Qr(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),xS.initialize.call(this,e,t,n,r,i)},resize(e,t,n,r){if(xS.resize.call(this,e,t,n,r),this._canvas)gue(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const i=this._options.externalContext;i||P("CanvasRenderer is missing a valid canvas or context"),i.scale(this._scale,this._scale),i.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(e){const t=this._tempb.clear().union(e.bounds);let n=e.mark.group;for(;n;)t.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(t)},_render(e){const t=this.context(),n=this._origin,r=this._width,i=this._height,a=this._dirty,o=yue(n,r,i);t.save();const s=this._redraw||a.empty()?(this._redraw=!1,o.expand(1)):bue(t,o.intersect(a),n);return this.clear(-n[0],-n[1],r,i),this.draw(t,e,s),t.restore(),a.clear(),this},draw(e,t,n){const r=pr[t.marktype];t.clip&&pce(e,t),r.draw.call(this,e,t,n),t.clip&&e.restore()},clear(e,t,n,r){const i=this._options,a=this.context();i.type!=="pdf"&&!i.externalContext&&a.clearRect(e,t,n,r),this._bgcolor!=null&&(a.fillStyle=this._bgcolor,a.fillRect(e,t,n,r))}});function Qx(e,t){es.call(this,e,t);const n=this;n._hrefHandler=V3(n,(r,i)=>{i&&i.href&&n.handleHref(r,i,i.href)}),n._tooltipHandler=V3(n,(r,i)=>{n.handleTooltip(r,i,r.type!==hd)})}const V3=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)};H(Qx,es,{initialize(e,t,n){let r=this._svg;return r&&(r.removeEventListener(q3,this._hrefHandler),r.removeEventListener(Y3,this._tooltipHandler),r.removeEventListener(hd,this._tooltipHandler)),this._svg=r=e&&Kx(e,"svg"),r&&(r.addEventListener(q3,this._hrefHandler),r.addEventListener(Y3,this._tooltipHandler),r.addEventListener(hd,this._tooltipHandler)),es.prototype.initialize.call(this,e,t,n)},canvas(){return this._svg},on(e,t){const n=this.eventName(e),r=this._handlers;if(this._handlerIndex(r[n],e,t)<0){const a={type:e,handler:t,listener:V3(this,t)};(r[n]||(r[n]=[])).push(a),this._svg&&this._svg.addEventListener(n,a.listener)}return this},off(e,t){const n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&(this._svg&&this._svg.removeEventListener(n,r[i].listener),r.splice(i,1)),this}});const vI="aria-hidden",e_="aria-label",t_="role",n_="aria-roledescription",xI="graphics-object",r_="graphics-symbol",_I=(e,t,n)=>({[t_]:e,[n_]:t,[e_]:n||void 0}),vue=bi(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),_S={axis:{desc:"axis",caption:wue},legend:{desc:"legend",caption:Tue},"title-text":{desc:"title",caption:e=>"Title text '".concat(TS(e),"'")},"title-subtitle":{desc:"subtitle",caption:e=>"Subtitle text '".concat(TS(e),"'")}},wS={ariaRole:t_,ariaRoleDescription:n_,description:e_};function wI(e,t){const n=t.aria===!1;if(e(vI,n||void 0),n||t.description==null)for(const r in wS)e(wS[r],void 0);else{const r=t.mark.marktype;e(e_,t.description),e(t_,t.ariaRole||(r==="group"?xI:r_)),e(n_,t.ariaRoleDescription||"".concat(r," mark"))}}function TI(e){return e.aria===!1?{[vI]:!0}:vue[e.role]?null:_S[e.role]?_ue(e,_S[e.role]):xue(e)}function xue(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return _I(n?xI:r_,"".concat(t," mark container"),e.description)}function _ue(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return _I(t.role||r_,t.desc,n.description||r(n))}catch{return null}}function TS(e){return Q(e.text).join(" ")}function wue(e){const t=e.datum,n=e.orient,r=t.title?AI(e):null,i=e.context,a=i.scales[t.scale].value,o=i.dataflow.locale(),s=a.type,l=n==="left"||n==="right"?"Y":"X";return"".concat(l,"-axis")+(r?" titled '".concat(r,"'"):"")+" for a ".concat(_c(s)?"discrete":s," scale")+" with ".concat(jN(o,a,e))}function Tue(e){const t=e.datum,n=t.title?AI(e):null,r="".concat(t.type||""," legend").trim(),i=t.scales,a=Object.keys(i),o=e.context,s=o.scales[i[a[0]]].value,l=o.dataflow.locale();return Sue(r)+(n?" titled '".concat(n,"'"):"")+" for ".concat(Aue(a))+" with ".concat(jN(l,s,e))}function AI(e){try{return Q(Oe(e.items).items[0].text).join(" ")}catch{return null}}function Aue(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Oe(e)}function Sue(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const SI=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Eue=e=>SI(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function i_(){let e="",t="",n="";const r=[],i=()=>t=n="",a=l=>{t&&(e+="".concat(t,">").concat(n),i()),r.push(l)},o=(l,c)=>(c!=null&&(t+=" ".concat(l,'="').concat(Eue(c),'"')),s),s={open(l){a(l),t="<"+l;for(var c=arguments.length,u=new Array(c>1?c-1:0),f=1;f<c;f++)u[f-1]=arguments[f];for(const d of u)for(const h in d)o(h,d[h]);return s},close(){const l=r.pop();return t?e+=t+(n?">".concat(n,"</").concat(l,">"):"/>"):e+="</".concat(l,">"),i(),s},attr:o,text:l=>(n+=SI(l),s),toString:()=>e};return s}const EI=e=>MI(i_(),e)+"";function MI(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):MI(e,r)}return e.close()}const Ap={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},Sp={blend:"mix-blend-mode"},kI={fill:"none","stroke-miterlimit":10},Iu=0,AS="http://www.w3.org/2000/xmlns/",At=dd.xmlns;function a_(e){ha.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}const Cb=ha.prototype;H(a_,ha,{initialize(e,t,n,r,i){return this._defs={},this._clearDefs(),e&&(this._svg=Un(e,0,"svg",At),this._svg.setAttributeNS(AS,"xmlns",At),this._svg.setAttributeNS(AS,"xmlns:xlink",dd["xmlns:xlink"]),this._svg.setAttribute("version",dd.version),this._svg.setAttribute("class","marks"),Qr(e,1),this._root=Un(this._svg,Iu,"g",At),ko(this._root,kI),Qr(this._svg,Iu+1)),this.background(this._bgcolor),Cb.initialize.call(this,e,t,n,r,i)},background(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),Cb.background.apply(this,arguments)},resize(e,t,n,r){return Cb.resize.call(this,e,t,n,r),this._svg&&(ko(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}),this._root.setAttribute("transform","translate(".concat(this._origin,")"))),this._dirty=[],this},canvas(){return this._svg},svg(){const e=this._svg,t=this._bgcolor;if(!e)return null;let n;t&&(e.removeAttribute("style"),n=Un(e,Iu,"rect",At),ko(n,{width:this._width,height:this._height,fill:t}));const r=EI(e);return t&&(e.removeChild(n),this._svg.style.setProperty("background-color",t)),r},_render(e){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,e),Qr(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},isDirty(e){return this._dirtyAll||!e._svg||!e._svg.ownerSVGElement||e.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const e=this._dirty;if(!e.length||!this._dirtyID)return!0;const t=++this._dirtyID;let n,r,i,a,o,s,l;for(o=0,s=e.length;o<s;++o)if(n=e[o],r=n.mark,r.marktype!==i&&(i=r.marktype,a=pr[i]),r.zdirty&&r.dirty!==t&&(this._dirtyAll=!1,SS(n,t),r.items.forEach(c=>{c.dirty=t})),!r.zdirty){if(n.exit){a.nested&&r.items.length?(l=r.items[0],l._svg&&this._update(a,l._svg,l)):n._svg&&(l=n._svg.parentNode,l&&l.removeChild(n._svg)),n._svg=null;continue}n=a.nested?r.items[0]:n,n._update!==t&&(!n._svg||!n._svg.ownerSVGElement?(this._dirtyAll=!1,SS(n,t)):this._update(a,n._svg,n),n._update=t)}return!this._dirtyAll},mark(e,t,n){if(!this.isDirty(t))return t._svg;const r=this._svg,i=pr[t.marktype],a=t.interactive===!1?"none":null,o=i.tag==="g",s=ES(t,e,n,"g",r);s.setAttribute("class",mI(t));const l=TI(t);for(const d in l)Tn(s,d,l[d]);o||Tn(s,"pointer-events",a),Tn(s,"clip-path",t.clip?Bx(this,t,t.group):null);let c=null,u=0;const f=d=>{const h=this.isDirty(d),m=ES(d,s,c,i.tag,r);h&&(this._update(i,m,d),o&&Oue(this,m,d)),c=m,++u};return i.nested?t.items.length&&f(t.items[0]):xi(t,f),Qr(s,u),s},_update(e,t,n){Za=t,an=t.__values__,wI(Lf,n),e.attr(Lf,n,this);const r=Due[e.type];r&&r.call(this,e,t,n),Za&&this.style(Za,n)},style(e,t){if(t!=null){for(const n in Ap){let r=n==="font"?yh(t):t[n];if(r===an[n])continue;const i=Ap[n];r==null?e.removeAttribute(i):(Dx(r)&&(r=GN(r,this._defs.gradient,OI())),e.setAttribute(i,r+"")),an[n]=r}for(const n in Sp)om(e,Sp[n],t[n])}},defs(){const e=this._svg,t=this._defs;let n=t.el,r=0;for(const i in t.gradient)n||(t.el=n=Un(e,Iu+1,"defs",At)),r=Mue(n,t.gradient[i],r);for(const i in t.clipping)n||(t.el=n=Un(e,Iu+1,"defs",At)),r=kue(n,t.clipping[i],r);n&&(r===0?(e.removeChild(n),t.el=null):Qr(n,r))},_clearDefs(){const e=this._defs;e.gradient={},e.clipping={}}});function SS(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function Mue(e,t,n){let r,i,a;if(t.gradient==="radial"){let o=Un(e,n++,"pattern",At);ko(o,{id:pp+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),o=Un(o,0,"rect",At),ko(o,{width:1,height:1,fill:"url(".concat(OI(),"#").concat(t.id,")")}),e=Un(e,n++,"radialGradient",At),ko(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=Un(e,n++,"linearGradient",At),ko(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)a=Un(e,r,"stop",At),a.setAttribute("offset",t.stops[r].offset),a.setAttribute("stop-color",t.stops[r].color);return Qr(e,r),n}function kue(e,t,n){let r;return e=Un(e,n,"clipPath",At),e.setAttribute("id",t.id),t.path?(r=Un(e,0,"path",At),r.setAttribute("d",t.path)):(r=Un(e,0,"rect",At),ko(r,{x:0,y:0,width:t.width,height:t.height})),Qr(e,1),n+1}function Oue(e,t,n){t=t.lastChild.previousSibling;let r,i=0;xi(n,a=>{r=e.mark(t,a,r),++i}),Qr(t,1+i)}function ES(e,t,n,r,i){let a=e._svg,o;if(!a&&(o=t.ownerDocument,a=Mo(o,r,At),e._svg=a,e.mark&&(a.__data__=e,a.__values__={fill:"default"},r==="g"))){const s=Mo(o,"path",At);a.appendChild(s),s.__data__=e;const l=Mo(o,"g",At);a.appendChild(l),l.__data__=e;const c=Mo(o,"path",At);a.appendChild(c),c.__data__=e,c.__values__={fill:"default"}}return(a.ownerSVGElement!==i||Cue(a,n))&&t.insertBefore(a,n?n.nextSibling:t.firstChild),a}function Cue(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let Za=null,an=null;const Due={group(e,t,n){const r=Za=t.childNodes[2];an=r.__values__,e.foreground(Lf,n,this),an=t.__values__,Za=t.childNodes[1],e.content(Lf,n,this);const i=Za=t.childNodes[0];e.background(Lf,n,this);const a=n.mark.interactive===!1?"none":null;if(a!==an.events&&(Tn(r,"pointer-events",a),Tn(i,"pointer-events",a),an.events=a),n.strokeForeground&&n.stroke){const o=n.fill;Tn(r,"display",null),this.style(i,n),Tn(i,"stroke",null),o&&(n.fill=null),an=r.__values__,this.style(r,n),o&&(n.fill=o),Za=null}else Tn(r,"display","none")},image(e,t,n){n.smooth===!1?(om(t,"image-rendering","optimizeSpeed"),om(t,"image-rendering","pixelated")):om(t,"image-rendering",null)},text(e,t,n){const r=gh(n);let i,a,o,s;j(r)?(a=r.map(l=>Qo(n,l)),i=a.join(`
`),i!==an.text&&(Qr(t,0),o=t.ownerDocument,s=Ko(n),a.forEach((l,c)=>{const u=Mo(o,"tspan",At);u.__data__=n,u.textContent=l,c&&(u.setAttribute("x",0),u.setAttribute("dy",s)),t.appendChild(u)}),an.text=i)):(a=Qo(n,r),a!==an.text&&(t.textContent=a,an.text=a)),Tn(t,"font-family",yh(n)),Tn(t,"font-size",da(n)+"px"),Tn(t,"font-style",n.fontStyle),Tn(t,"font-variant",n.fontVariant),Tn(t,"font-weight",n.fontWeight)}};function Lf(e,t,n){t!==an[e]&&(n?Lue(Za,e,t,n):Tn(Za,e,t),an[e]=t)}function om(e,t,n){n!==an[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),an[t]=n)}function ko(e,t){for(const n in t)Tn(e,n,t[n])}function Tn(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function Lue(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function OI(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function o_(e){ha.call(this,e),this._text=null,this._defs={gradient:{},clipping:{}}}H(o_,ha,{svg(){return this._text},_render(e){const t=i_();t.open("svg",xe({},dd,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}));const n=this._bgcolor;return n&&n!=="transparent"&&n!=="none"&&t.open("rect",{width:this._width,height:this._height,fill:n}).close(),t.open("g",kI,{transform:"translate("+this._origin+")"}),this.mark(t,e),t.close(),this.defs(t),this._text=t.close()+"",this},mark(e,t){const n=pr[t.marktype],r=n.tag,i=[wI,n.attr];e.open("g",{class:mI(t),"clip-path":t.clip?Bx(this,t,t.group):null},TI(t),{"pointer-events":r!=="g"&&t.interactive===!1?"none":null});const a=o=>{const s=this.href(o);if(s&&e.open("a",s),e.open(r,this.attr(t,o,i,r!=="g"?r:null)),r==="text"){const l=gh(o);if(j(l)){const c={x:0,dy:Ko(o)};for(let u=0;u<l.length;++u)e.open("tspan",u?c:null).text(Qo(o,l[u])).close()}else e.text(Qo(o,l))}else if(r==="g"){const l=o.strokeForeground,c=o.fill,u=o.stroke;l&&u&&(o.stroke=null),e.open("path",this.attr(t,o,n.background,"bgrect")).close(),e.open("g",this.attr(t,o,n.content)),xi(o,f=>this.mark(e,f)),e.close(),l&&u?(c&&(o.fill=null),o.stroke=u,e.open("path",this.attr(t,o,n.foreground,"bgrect")).close(),c&&(o.fill=c)):e.open("path",this.attr(t,o,n.foreground,"bgfore")).close()}e.close(),s&&e.close()};return n.nested?t.items&&t.items.length&&a(t.items[0]):xi(t,a),e.close()},href(e){const t=e.href;let n;if(t){if(n=this._hrefs&&this._hrefs[t])return n;this.sanitizeURL(t).then(r=>{r["xlink:href"]=r.href,r.href=null,(this._hrefs||(this._hrefs={}))[t]=r})}return null},attr(e,t,n,r){const i={},a=(o,s,l,c)=>{i[c||o]=s};return Array.isArray(n)?n.forEach(o=>o(a,t,this)):n(a,t,this),r&&Fue(i,t,e,r,this._defs),i},defs(e){const t=this._defs.gradient,n=this._defs.clipping;if(Object.keys(t).length+Object.keys(n).length!==0){e.open("defs");for(const i in t){const a=t[i],o=a.stops;a.gradient==="radial"?(e.open("pattern",{id:pp+i,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),e.open("rect",{width:"1",height:"1",fill:"url(#"+i+")"}).close(),e.close(),e.open("radialGradient",{id:i,fx:a.x1,fy:a.y1,fr:a.r1,cx:a.x2,cy:a.y2,r:a.r2})):e.open("linearGradient",{id:i,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2});for(let s=0;s<o.length;++s)e.open("stop",{offset:o[s].offset,"stop-color":o[s].color}).close();e.close()}for(const i in n){const a=n[i];e.open("clipPath",{id:i}),a.path?e.open("path",{d:a.path}).close():e.open("rect",{x:0,y:0,width:a.width,height:a.height}).close(),e.close()}e.close()}}});function Fue(e,t,n,r,i){let a;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(a=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=yh(t),e["font-size"]=da(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const o in Ap){let s=t[o];const l=Ap[o];s==="transparent"&&(l==="fill"||l==="stroke")||s!=null&&(Dx(s)&&(s=GN(s,i.gradient,"")),e[l]=s)}for(const o in Sp){const s=t[o];s!=null&&(a=a||[],a.push("".concat(Sp[o],": ").concat(s,";")))}return a&&(e.style=a.join(" ")),e}const CI="canvas",DI="png",LI="svg",FI="none",Oo={Canvas:CI,PNG:DI,SVG:LI,None:FI},Sc={};Sc[CI]=Sc[DI]={renderer:Tp,headless:Tp,handler:bh};Sc[LI]={renderer:a_,headless:o_,handler:Qx};Sc[FI]={};function w2(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(Sc[e]=t,this):Sc[e]}function BI(e,t,n){const r=[],i=new xt().union(t),a=e.marktype;return a?$I(e,i,n,r):a==="group"?NI(e,i,n,r):P("Intersect scene must be mark node or group item.")}function $I(e,t,n,r){if(Bue(e,t,n)){const i=e.items,a=e.marktype,o=i.length;let s=0;if(a==="group")for(;s<o;++s)NI(i[s],t,n,r);else for(const l=pr[a].isect;s<o;++s){const c=i[s];II(c,t,l)&&r.push(c)}}return r}function Bue(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function NI(e,t,n,r){n&&n(e.mark)&&II(e,t,pr.group.isect)&&r.push(e);const i=e.items,a=i&&i.length;if(a){const o=e.x||0,s=e.y||0;t.translate(-o,-s);for(let l=0;l<a;++l)$I(i[l],t,n,r);t.translate(o,s)}return r}function II(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const Db=new xt;function ZI(e){const t=e.clip;if(_e(t))t(mh(Db.clear()));else if(t)Db.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(Db)}const $ue=1e-9;function s_(e,t,n){return e===t?!0:n==="path"?RI(e,t):e instanceof Date&&t instanceof Date?+e==+t:He(e)&&He(t)?Math.abs(e-t)<=$ue:!e||!t||!ee(e)&&!ee(t)?e==t:Nue(e,t)}function RI(e,t){return s_(wc(e),wc(t))}function Nue(e,t){var n=Object.keys(e),r=Object.keys(t),i,a;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),a=n.length-1;a>=0;a--)if(n[a]!=r[a])return!1;for(a=n.length-1;a>=0;a--)if(i=n[a],!s_(e[i],t[i],i))return!1;return typeof e==typeof t}function Iue(){XN(),lle()}const Ec="top",ei="left",ai="right",ts="bottom",Zue="top-left",Rue="top-right",Pue="bottom-left",jue="bottom-right",l_="start",X3="middle",An="end",zue="x",Gue="y",T2="group",c_="axis",u_="title",Uue="frame",Wue="scope",f_="legend",PI="row-header",jI="row-footer",zI="row-title",GI="column-header",UI="column-footer",WI="column-title",Hue="padding",Yue="symbol",HI="fit",que="fit-x",Vue="fit-y",Xue="pad",d_="none",m1="all",J3="each",h_="flush",Co="column",Do="row";function YI(e){I.call(this,null,e)}H(YI,I,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,a=pr[i],o=a.bound;let s=r.bounds,l;if(a.nested)r.items.length&&n.dirty(r.items[0]),s=p1(r,o),r.items.forEach(c=>{c.bounds.clear().union(s)});else if(i===T2||e.modified())switch(t.visit(t.MOD,c=>n.dirty(c)),s.clear(),r.items.forEach(c=>s.union(p1(c,o))),r.role){case c_:case f_:case u_:t.reflow()}else l=t.changed(t.REM),t.visit(t.ADD,c=>{s.union(p1(c,o))}),t.visit(t.MOD,c=>{l=l||s.alignsWith(c.bounds),n.dirty(c),s.union(p1(c,o))}),l&&(s.clear(),r.items.forEach(c=>s.union(c.bounds)));return ZI(r),t.modifies("bounds")}});function p1(e,t,n){return t(e.bounds.clear(),e,n)}const MS=":vega_identifier:";function m_(e){I.call(this,0,e)}m_.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};H(m_,I,{transform(e,t){const n=Jue(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,a=>a[r]=a[r]||++i),n.set(this.value=i),t}});function Jue(e){return e._signals[MS]||(e._signals[MS]=e.add(0))}function qI(e){I.call(this,null,e)}H(qI,I,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,Kue(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===T2?m2:h2;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function Kue(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function VI(e){I.call(this,null,e)}const kS={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!XI(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},XI=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),OS=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,a;n<r;i=a,++n)if(XI(i,a=e[n].bounds,t))return!0},Que=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},efe=(e,t,n)=>{var r=e.range(),i=new xt;return t===Ec||t===ts?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),a=>i.encloses(a.bounds)},CS=e=>(e.forEach(t=>t.opacity=1),e),DS=(e,t)=>e.reflow(t.modified()).modifies("opacity");H(VI,I,{transform(e,t){const n=kS[e.method]||kS.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,a,o;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(CS(i),t=DS(t,e)),t;if(i=i.filter(Que),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),a=CS(i),t=DS(t,e),a.length>=3&&OS(a,r)){do a=n(a,r);while(a.length>=3&&OS(a,r));a.length<3&&!Oe(i).opacity&&(a.length>1&&(Oe(a).opacity=0),Oe(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(o=efe(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(l=>{o(l)||(l.opacity=0)}));const s=a[0].mark.bounds.clear();return i.forEach(l=>{l.opacity&&s.union(l.bounds)}),t}});function JI(e){I.call(this,null,e)}H(JI,I,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const nn=new xt;function Il(e,t,n){return e[t]===n?0:(e[t]=n,1)}function tfe(e){var t=e.items[0].orient;return t===ei||t===ai}function nfe(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function rfe(e,t,n,r){var i=t.items[0],a=i.datum,o=i.translate!=null?i.translate:.5,s=i.orient,l=nfe(a),c=i.range,u=i.offset,f=i.position,d=i.minExtent,h=i.maxExtent,m=a.title&&i.items[l[2]].items[0],g=i.titlePadding,p=i.bounds,y=m&&qx(m),b=0,v=0,x,_;switch(nn.clear().union(p),p.clear(),(x=l[0])>-1&&p.union(i.items[x].bounds),(x=l[1])>-1&&p.union(i.items[x].bounds),s){case Ec:b=f||0,v=-u,_=Math.max(d,Math.min(h,-p.y1)),p.add(0,-_).add(c,0),m&&g1(e,m,_,g,y,0,-1,p);break;case ei:b=-u,v=f||0,_=Math.max(d,Math.min(h,-p.x1)),p.add(-_,0).add(0,c),m&&g1(e,m,_,g,y,1,-1,p);break;case ai:b=n+u,v=f||0,_=Math.max(d,Math.min(h,p.x2)),p.add(0,0).add(_,c),m&&g1(e,m,_,g,y,1,1,p);break;case ts:b=f||0,v=r+u,_=Math.max(d,Math.min(h,p.y2)),p.add(0,0).add(c,_),m&&g1(e,m,_,g,0,0,1,p);break;default:b=i.x,v=i.y}return no(p.translate(b,v),i),Il(i,"x",b+o)|Il(i,"y",v+o)&&(i.bounds=nn,e.dirty(i),i.bounds=p,e.dirty(i)),i.mark.bounds.clear().union(p)}function g1(e,t,n,r,i,a,o,s){const l=t.bounds;if(t.auto){const c=o*(n+i+r);let u=0,f=0;e.dirty(t),a?u=(t.x||0)-(t.x=c):f=(t.y||0)-(t.y=c),t.mark.bounds.clear().union(l.translate(-u,-f)),e.dirty(t)}s.union(l)}const LS=(e,t)=>Math.floor(Math.min(e,t)),FS=(e,t)=>Math.ceil(Math.max(e,t));function ife(e){var t=e.items,n=t.length,r=0,i,a;const o={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],a=i.items,i.marktype===T2)switch(i.role){case c_:case f_:case u_:break;case PI:o.rowheaders.push(...a);break;case jI:o.rowfooters.push(...a);break;case GI:o.colheaders.push(...a);break;case UI:o.colfooters.push(...a);break;case zI:o.rowtitle=a[0];break;case WI:o.coltitle=a[0];break;default:o.marks.push(...a)}return o}function afe(e){return new xt().set(0,0,e.width||0,e.height||0)}function ofe(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function ot(e,t,n){const r=ee(e)?e[t]:e;return r??(n!==void 0?n:0)}function BS(e){return e<0?Math.ceil(-e):0}function KI(e,t,n){var r=!n.nodirty,i=n.bounds===h_?afe:ofe,a=nn.set(0,0,0,0),o=ot(n.align,Co),s=ot(n.align,Do),l=ot(n.padding,Co),c=ot(n.padding,Do),u=n.columns||t.length,f=u<=0?1:Math.ceil(t.length/u),d=t.length,h=Array(d),m=Array(u),g=0,p=Array(d),y=Array(f),b=0,v=Array(d),x=Array(d),_=Array(d),T,w,S,C,M,A,L,D,E,O,k;for(w=0;w<u;++w)m[w]=0;for(w=0;w<f;++w)y[w]=0;for(w=0;w<d;++w)A=t[w],M=_[w]=i(A),A.x=A.x||0,v[w]=0,A.y=A.y||0,x[w]=0,S=w%u,C=~~(w/u),g=Math.max(g,L=Math.ceil(M.x2)),b=Math.max(b,D=Math.ceil(M.y2)),m[S]=Math.max(m[S],L),y[C]=Math.max(y[C],D),h[w]=l+BS(M.x1),p[w]=c+BS(M.y1),r&&e.dirty(t[w]);for(w=0;w<d;++w)w%u===0&&(h[w]=0),w<u&&(p[w]=0);if(o===J3)for(S=1;S<u;++S){for(k=0,w=S;w<d;w+=u)k<h[w]&&(k=h[w]);for(w=S;w<d;w+=u)h[w]=k+m[S-1]}else if(o===m1){for(k=0,w=0;w<d;++w)w%u&&k<h[w]&&(k=h[w]);for(w=0;w<d;++w)w%u&&(h[w]=k+g)}else for(o=!1,S=1;S<u;++S)for(w=S;w<d;w+=u)h[w]+=m[S-1];if(s===J3)for(C=1;C<f;++C){for(k=0,w=C*u,T=w+u;w<T;++w)k<p[w]&&(k=p[w]);for(w=C*u;w<T;++w)p[w]=k+y[C-1]}else if(s===m1){for(k=0,w=u;w<d;++w)k<p[w]&&(k=p[w]);for(w=u;w<d;++w)p[w]=k+b}else for(s=!1,C=1;C<f;++C)for(w=C*u,T=w+u;w<T;++w)p[w]+=y[C-1];for(E=0,w=0;w<d;++w)E=h[w]+(w%u?E:0),v[w]+=E-t[w].x;for(S=0;S<u;++S)for(O=0,w=S;w<d;w+=u)O+=p[w],x[w]+=O-t[w].y;if(o&&ot(n.center,Co)&&f>1)for(w=0;w<d;++w)M=o===m1?g:m[w%u],E=M-_[w].x2-t[w].x-v[w],E>0&&(v[w]+=E/2);if(s&&ot(n.center,Do)&&u!==1)for(w=0;w<d;++w)M=s===m1?b:y[~~(w/u)],O=M-_[w].y2-t[w].y-x[w],O>0&&(x[w]+=O/2);for(w=0;w<d;++w)a.union(_[w].translate(v[w],x[w]));switch(E=ot(n.anchor,zue),O=ot(n.anchor,Gue),ot(n.anchor,Co)){case An:E-=a.width();break;case X3:E-=a.width()/2}switch(ot(n.anchor,Do)){case An:O-=a.height();break;case X3:O-=a.height()/2}for(E=Math.round(E),O=Math.round(O),a.clear(),w=0;w<d;++w)t[w].mark.bounds.clear();for(w=0;w<d;++w)A=t[w],A.x+=v[w]+=E,A.y+=x[w]+=O,a.union(A.mark.bounds.union(A.bounds.translate(v[w],x[w]))),r&&e.dirty(A);return a}function sfe(e,t,n){var r=ife(t),i=r.marks,a=n.bounds===h_?lfe:cfe,o=n.offset,s=n.columns||i.length,l=s<=0?1:Math.ceil(i.length/s),c=l*s,u,f,d,h,m,g,p;const y=KI(e,i,n);y.empty()&&y.set(0,0,0,0),r.rowheaders&&(g=ot(n.headerBand,Do,null),u=y1(e,r.rowheaders,i,s,l,-ot(o,"rowHeader"),LS,0,a,"x1",0,s,1,g)),r.colheaders&&(g=ot(n.headerBand,Co,null),f=y1(e,r.colheaders,i,s,s,-ot(o,"columnHeader"),LS,1,a,"y1",0,1,s,g)),r.rowfooters&&(g=ot(n.footerBand,Do,null),d=y1(e,r.rowfooters,i,s,l,ot(o,"rowFooter"),FS,0,a,"x2",s-1,s,1,g)),r.colfooters&&(g=ot(n.footerBand,Co,null),h=y1(e,r.colfooters,i,s,s,ot(o,"columnFooter"),FS,1,a,"y2",c-s,1,s,g)),r.rowtitle&&(m=ot(n.titleAnchor,Do),p=ot(o,"rowTitle"),p=m===An?d+p:u-p,g=ot(n.titleBand,Do,.5),$S(e,r.rowtitle,p,0,y,g)),r.coltitle&&(m=ot(n.titleAnchor,Co),p=ot(o,"columnTitle"),p=m===An?h+p:f-p,g=ot(n.titleBand,Co,.5),$S(e,r.coltitle,p,1,y,g))}function lfe(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function cfe(e,t){return e.bounds[t]}function y1(e,t,n,r,i,a,o,s,l,c,u,f,d,h){var m=n.length,g=0,p=0,y,b,v,x,_,T,w,S,C;if(!m)return g;for(y=u;y<m;y+=f)n[y]&&(g=o(g,l(n[y],c)));if(!t.length)return g;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),g+=a,b=0,x=t.length;b<x;++b)e.dirty(t[b]),t[b].mark.bounds.clear();for(y=u,b=0,x=t.length;b<x;++b,y+=f){for(T=t[b],_=T.mark.bounds,v=y;v>=0&&(w=n[v])==null;v-=d);s?(S=h==null?w.x:Math.round(w.bounds.x1+h*w.bounds.width()),C=g):(S=g,C=h==null?w.y:Math.round(w.bounds.y1+h*w.bounds.height())),_.union(T.bounds.translate(S-(T.x||0),C-(T.y||0))),T.x=S,T.y=C,e.dirty(T),p=o(p,_[c])}return p}function $S(e,t,n,r,i,a){if(t){e.dirty(t);var o=n,s=n;r?o=Math.round(i.x1+a*i.width()):s=Math.round(i.y1+a*i.height()),t.bounds.translate(o-(t.x||0),s-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=o,t.y=s,e.dirty(t)}}function ufe(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function ffe(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function dfe(e,t,n,r,i,a,o){const s=ufe(n,t),l=ffe(e,s("offset",0)),c=s("anchor",l_),u=c===An?1:c===X3?.5:0,f={align:J3,bounds:s("bounds",h_),columns:s("direction")==="vertical"?1:e.length,padding:s("margin",8),center:s("center"),nodirty:!0};switch(t){case ei:f.anchor={x:Math.floor(r.x1)-l,column:An,y:u*(o||r.height()+2*r.y1),row:c};break;case ai:f.anchor={x:Math.ceil(r.x2)+l,y:u*(o||r.height()+2*r.y1),row:c};break;case Ec:f.anchor={y:Math.floor(i.y1)-l,row:An,x:u*(a||i.width()+2*i.x1),column:c};break;case ts:f.anchor={y:Math.ceil(i.y2)+l,x:u*(a||i.width()+2*i.x1),column:c};break;case Zue:f.anchor={x:l,y:l};break;case Rue:f.anchor={x:a-l,y:l,column:An};break;case Pue:f.anchor={x:l,y:o-l,row:An};break;case jue:f.anchor={x:a-l,y:o-l,column:An,row:An};break}return f}function hfe(e,t){var n=t.items[0],r=n.datum,i=n.orient,a=n.bounds,o=n.x,s=n.y,l,c;return n._bounds?n._bounds.clear().union(a):n._bounds=a.clone(),a.clear(),pfe(e,n,n.items[0].items[0]),a=mfe(n,a),l=2*n.padding,c=2*n.padding,a.empty()||(l=Math.ceil(a.width()+l),c=Math.ceil(a.height()+c)),r.type===Yue&&gfe(n.items[0].items[0].items[0].items),i!==d_&&(n.x=o=0,n.y=s=0),n.width=l,n.height=c,no(a.set(o,s,o+l,s+c),n),n.mark.bounds.clear().union(a),n}function mfe(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function pfe(e,t,n){var r=t.padding,i=r-n.x,a=r-n.y;if(!t.datum.title)(i||a)&&Zu(e,n,i,a);else{var o=t.items[1].items[0],s=o.anchor,l=t.titlePadding||0,c=r-o.x,u=r-o.y;switch(o.orient){case ei:i+=Math.ceil(o.bounds.width())+l;break;case ai:case ts:break;default:a+=o.bounds.height()+l}switch((i||a)&&Zu(e,n,i,a),o.orient){case ei:u+=_l(t,n,o,s,1,1);break;case ai:c+=_l(t,n,o,An,0,0)+l,u+=_l(t,n,o,s,1,1);break;case ts:c+=_l(t,n,o,s,0,0),u+=_l(t,n,o,An,-1,0,1)+l;break;default:c+=_l(t,n,o,s,0,0)}(c||u)&&Zu(e,o,c,u),(c=Math.round(o.bounds.x1-r))<0&&(Zu(e,n,-c,0),Zu(e,o,-c,0))}}function _l(e,t,n,r,i,a,o){const s=e.datum.type!=="symbol",l=n.datum.vgrad,c=s&&(a||!l)&&!o?t.items[0]:t,u=c.bounds[i?"y2":"x2"]-e.padding,f=l&&a?u:0,d=l&&a?0:u,h=i<=0?0:qx(n);return Math.round(r===l_?f:r===An?d-h:.5*(u-h))}function Zu(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function gfe(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function yfe(e,t,n,r,i){var a=t.items[0],o=a.frame,s=a.orient,l=a.anchor,c=a.offset,u=a.padding,f=a.items[0].items[0],d=a.items[1]&&a.items[1].items[0],h=s===ei||s===ai?r:n,m=0,g=0,p=0,y=0,b=0,v;if(o!==T2?s===ei?(m=i.y2,h=i.y1):s===ai?(m=i.y1,h=i.y2):(m=i.x1,h=i.x2):s===ei&&(m=r,h=0),v=l===l_?m:l===An?h:(m+h)/2,d&&d.text){switch(s){case Ec:case ts:b=f.bounds.height()+u;break;case ei:y=f.bounds.width()+u;break;case ai:y=-f.bounds.width()-u;break}nn.clear().union(d.bounds),nn.translate(y-(d.x||0),b-(d.y||0)),Il(d,"x",y)|Il(d,"y",b)&&(e.dirty(d),d.bounds.clear().union(nn),d.mark.bounds.clear().union(nn),e.dirty(d)),nn.clear().union(d.bounds)}else nn.clear();switch(nn.union(f.bounds),s){case Ec:g=v,p=i.y1-nn.height()-c;break;case ei:g=i.x1-nn.width()-c,p=v;break;case ai:g=i.x2+nn.width()+c,p=v;break;case ts:g=v,p=i.y2+c;break;default:g=a.x,p=a.y}return Il(a,"x",g)|Il(a,"y",p)&&(nn.translate(g,p),e.dirty(a),a.bounds.clear().union(nn),t.bounds.clear().union(nn),e.dirty(a)),a.bounds}function QI(e){I.call(this,null,e)}H(QI,I,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&sfe(n,r,e.layout),vfe(n,r,e)}),bfe(e.mark.group)?t.reflow():t}});function bfe(e){return e&&e.mark.role!=="legend-entry"}function vfe(e,t,n){var r=t.items,i=Math.max(0,t.width||0),a=Math.max(0,t.height||0),o=new xt().set(0,0,i,a),s=o.clone(),l=o.clone(),c=[],u,f,d,h,m,g;for(m=0,g=r.length;m<g;++m)switch(f=r[m],f.role){case c_:h=tfe(f)?s:l,h.union(rfe(e,f,i,a));break;case u_:u=f;break;case f_:c.push(hfe(e,f));break;case Uue:case Wue:case PI:case jI:case zI:case GI:case UI:case WI:s.union(f.bounds),l.union(f.bounds);break;default:o.union(f.bounds)}if(c.length){const p={};c.forEach(y=>{d=y.orient||ai,d!==d_&&(p[d]||(p[d]=[])).push(y)});for(const y in p){const b=p[y];KI(e,b,dfe(b,y,n.legends,s,l,i,a))}c.forEach(y=>{const b=y.bounds;if(b.equals(y._bounds)||(y.bounds=y._bounds,e.dirty(y),y.bounds=b,e.dirty(y)),n.autosize&&n.autosize.type===HI)switch(y.orient){case ei:case ai:o.add(b.x1,0).add(b.x2,0);break;case Ec:case ts:o.add(0,b.y1).add(0,b.y2)}else o.union(b)})}o.union(s).union(l),u&&o.union(yfe(e,u,i,a,o)),t.clip&&o.set(0,0,t.width||0,t.height||0),xfe(e,t,o,n)}function xfe(e,t,n,r){const i=r.autosize||{},a=i.type;if(e._autosize<1||!a)return;let o=e._width,s=e._height,l=Math.max(0,t.width||0),c=Math.max(0,Math.ceil(-n.x1)),u=Math.max(0,t.height||0),f=Math.max(0,Math.ceil(-n.y1));const d=Math.max(0,Math.ceil(n.x2-l)),h=Math.max(0,Math.ceil(n.y2-u));if(i.contains===Hue){const m=e.padding();o-=m.left+m.right,s-=m.top+m.bottom}a===d_?(c=0,f=0,l=o,u=s):a===HI?(l=Math.max(0,o-c-d),u=Math.max(0,s-f-h)):a===que?(l=Math.max(0,o-c-d),s=u+f+h):a===Vue?(o=l+c+d,u=Math.max(0,s-f-h)):a===Xue&&(o=l+c+d,s=u+f+h),e._resizeView(o,s,l,u,[c,f],i.resize)}const _fe=Object.freeze(Object.defineProperty({__proto__:null,bound:YI,identifier:m_,mark:qI,overlap:VI,render:JI,viewlayout:QI},Symbol.toStringTag,{value:"Module"}));function eZ(e){I.call(this,null,e)}H(eZ,I,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,a=e.scale,o=e.count==null?e.values?e.values.length:10:e.count,s=Ox(a,o,e.minstep),l=e.format||NN(n,a,s,e.formatSpecifier,e.formatType,!!e.values),c=e.values?$N(a,e.values,s):Cx(a,s);return i&&(r.rem=i),i=c.map((u,f)=>Pe({index:f/(c.length-1||1),value:u,label:l(u)})),e.extra&&i.length&&i.push(Pe({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function tZ(e){I.call(this,null,e)}function wfe(){return Pe({})}function Tfe(e){const t=nu().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}H(tZ,I,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||wfe,a=e.key||le,o=this.value;return j(r.encode)&&(r.encode=null),o&&(e.modified("key")||t.modified(a))&&P("DataJoin does not support modified key function or fields."),o||(t=t.addAll(),this.value=o=Tfe(a)),t.visit(t.ADD,s=>{const l=a(s);let c=o.get(l);c?c.exit?(o.empty--,r.add.push(c)):r.mod.push(c):(c=i(s),o.set(l,c),r.add.push(c)),c.datum=s,c.exit=!1}),t.visit(t.MOD,s=>{const l=a(s),c=o.get(l);c&&(c.datum=s,r.mod.push(c))}),t.visit(t.REM,s=>{const l=a(s),c=o.get(l);s===c.datum&&!c.exit&&(r.rem.push(c),c.exit=!0,++o.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&o.empty>n.cleanThreshold)&&n.runAfter(o.clean),r}});function nZ(e){I.call(this,null,e)}H(nZ,I,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,a=t.encode;if(j(a))if(n.changed()||a.every(f=>i[f]))a=a[0],n.encode=null;else return t.StopPropagation;var o=a==="enter",s=i.update||mo,l=i.enter||mo,c=i.exit||mo,u=(a&&!o?i[a]:s)||mo;if(t.changed(t.ADD)&&(t.visit(t.ADD,f=>{l(f,e),s(f,e)}),n.modifies(l.output),n.modifies(s.output),u!==mo&&u!==s&&(t.visit(t.ADD,f=>{u(f,e)}),n.modifies(u.output))),t.changed(t.REM)&&c!==mo&&(t.visit(t.REM,f=>{c(f,e)}),n.modifies(c.output)),o||u!==mo){const f=t.MOD|(e.modified()?t.REFLOW:0);o?(t.visit(f,d=>{const h=l(d,e)||r;(u(d,e)||h)&&n.mod.push(d)}),n.mod.length&&n.modifies(l.output)):t.visit(f,d=>{(u(d,e)||r)&&n.mod.push(d)}),n.mod.length&&n.modifies(u.output)}return n.changed()?n:t.StopPropagation}});function rZ(e){I.call(this,[],e)}H(rZ,I,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,a=e.type||Q1,o=e.scale,s=+e.limit,l=Ox(o,e.count==null?5:e.count,e.minstep),c=!!e.values||a===Q1,u=e.format||PN(n,o,l,a,e.formatSpecifier,e.formatType,c),f=e.values||RN(o,l),d,h,m,g,p;return i&&(r.rem=i),a===Q1?(s&&f.length>s?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=f.slice(0,s-1),p=!0):i=f,_e(m=e.size)?(!e.values&&o(i[0])===0&&(i=i.slice(1)),g=i.reduce((y,b)=>Math.max(y,m(b,e)),0)):m=bn(g=m||8),i=i.map((y,b)=>Pe({index:b,label:u(y,b,i),value:y,offset:g,size:m(y,e)})),p&&(p=f[i.length],i.push(Pe({index:i.length,label:"…".concat(f.length-i.length," entries"),value:p,offset:g,size:m(p,e)})))):a===V0e?(d=o.domain(),h=LN(o,d[0],Oe(d)),f.length<3&&!e.values&&d[0]!==Oe(d)&&(f=[d[0],Oe(d)]),i=f.map((y,b)=>Pe({index:b,label:u(y,b,f),value:y,perc:h(y)}))):(m=f.length-1,h=ole(o),i=f.map((y,b)=>Pe({index:b,label:u(y,b,f),value:y,perc:b?h(y):0,perc2:b===m?1:h(f[b+1])}))),r.source=i,r.add=i,this.value=i,r}});const Afe=e=>e.source.x,Sfe=e=>e.source.y,Efe=e=>e.target.x,Mfe=e=>e.target.y;function p_(e){I.call(this,{},e)}p_.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};H(p_,I,{transform(e,t){var n=e.sourceX||Afe,r=e.sourceY||Sfe,i=e.targetX||Efe,a=e.targetY||Mfe,o=e.as||"path",s=e.orient||"vertical",l=e.shape||"line",c=NS.get(l+"-"+s)||NS.get(l);return c||P("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,u=>{u[o]=c(n(u),r(u),i(u),a(u))}),t.reflow(e.modified()).modifies(o)}});const iZ=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,kfe=(e,t,n,r)=>iZ(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),aZ=(e,t,n,r)=>{var i=n-e,a=r-t,o=Math.sqrt(i*i+a*a)/2,s=180*Math.atan2(a,i)/Math.PI;return"M"+e+","+t+"A"+o+","+o+" "+s+" 0 1 "+n+","+r},Ofe=(e,t,n,r)=>aZ(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),oZ=(e,t,n,r)=>{const i=n-e,a=r-t,o=.2*(i+a),s=.2*(a-i);return"M"+e+","+t+"C"+(e+o)+","+(t+s)+" "+(n+s)+","+(r-o)+" "+n+","+r},Cfe=(e,t,n,r)=>oZ(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),Dfe=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,Lfe=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,Ffe=(e,t,n,r)=>{const i=Math.cos(e),a=Math.sin(e),o=Math.cos(n),s=Math.sin(n),l=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*a+"A"+t+","+t+" 0 0,"+(l?1:0)+" "+t*o+","+t*s+"L"+r*o+","+r*s},Bfe=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},$fe=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},Nfe=(e,t,n,r)=>{const i=Math.cos(e),a=Math.sin(e),o=Math.cos(n),s=Math.sin(n),l=(t+r)/2;return"M"+t*i+","+t*a+"C"+l*i+","+l*a+" "+l*o+","+l*s+" "+r*o+","+r*s},NS=nu({line:iZ,"line-radial":kfe,arc:aZ,"arc-radial":Ofe,curve:oZ,"curve-radial":Cfe,"orthogonal-horizontal":Dfe,"orthogonal-vertical":Lfe,"orthogonal-radial":Ffe,"diagonal-horizontal":Bfe,"diagonal-vertical":$fe,"diagonal-radial":Nfe});function g_(e){I.call(this,null,e)}g_.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};H(g_,I,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],a=e.field||Qc,o=e.startAngle||0,s=e.endAngle!=null?e.endAngle:2*Math.PI,l=t.source,c=l.map(a),u=c.length,f=o,d=(s-o)/j0(c),h=sn(u),m,g,p;for(e.sort&&h.sort((y,b)=>c[y]-c[b]),m=0;m<u;++m)p=c[h[m]],g=l[h[m]],g[r]=f,g[i]=f+=p*d;return this.value=c,t.reflow(e.modified()).modifies(n)}});const Ife=5;function Zfe(e){const t=e.type;return!e.bins&&(t===vc||t===sh||t===lh)}function sZ(e){return Ex(e)&&e!==qi}const Rfe=bi(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function lZ(e){I.call(this,null,e),this.modified(!0)}H(lZ,I,{transform(e,t){var n=t.dataflow,r=this.value,i=Pfe(e);(!r||i!==r.type)&&(this.value=r=Ie(i)());for(i in e)if(!Rfe[i]){if(i==="padding"&&sZ(r.type))continue;_e(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return Hfe(r,e,Wfe(r,e,zfe(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function Pfe(e){var t=e.type,n="",r;return t===qi?qi+"-"+vc:(jfe(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?qi+"-":r===3?ou+"-":""),(n+t||vc).toLowerCase())}function jfe(e){const t=e.type;return Ex(t)&&t!==A0&&t!==S0&&(e.scheme||e.range&&e.range.length&&e.range.every(J))}function zfe(e,t,n){const r=Gfe(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,a=e.type,o=t.zero||t.zero===void 0&&Zfe(e),s,l;if(!i)return 0;if(sZ(a)&&t.padding&&i[0]!==Oe(i)&&(i=Ufe(a,i,t.range,t.padding,t.exponent,t.constant)),(o||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(s=(i=i.slice()).length-1||1,o&&(i[0]>0&&(i[0]=0),i[s]<0&&(i[s]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[s]=t.domainMax),t.domainMid!=null)){l=t.domainMid;const c=l>i[s]?s+1:l<i[0]?0:s;c!==s&&n.warn("Scale domainMid exceeds domain min or max.",l),i.splice(c,0,l)}return e.domain(cZ(a,i,n)),a===wx&&e.unknown(t.domainImplicit?Xm:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&Ox(e,t.nice)||null),i.length}function Gfe(e,t,n){return t?(e.domain(cZ(e.type,t,n)),t.length):-1}function Ufe(e,t,n,r,i,a){var o=Math.abs(Oe(n)-n[0]),s=o/(o-2*r),l=e===Qa?g4(t,null,s):e===lh?fp(t,null,s,.5):e===sh?fp(t,null,s,i||1):e===l2?y4(t,null,s,a||1):p4(t,null,s);return t=t.slice(),t[0]=l[0],t[t.length-1]=l[1],t}function cZ(e,t,n){if(MN(e)){var r=Math.abs(t.reduce((i,a)=>i+(a<0?-1:a>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+q(t))}return t}function Wfe(e,t,n){let r=t.bins;if(r&&!j(r)){const i=e.domain(),a=i[0],o=Oe(i),s=r.step;let l=r.start==null?a:r.start,c=r.stop==null?o:r.stop;s||P("Scale bins parameter missing step property."),l<a&&(l=s*Math.ceil(a/s)),c>o&&(c=s*Math.floor(o/s)),r=sn(l,c+s/2,s)}return r?e.bins=r:e.bins&&delete e.bins,e.type===Tx&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function Hfe(e,t,n){var r=e.type,i=t.round||!1,a=t.range;if(t.rangeStep!=null)a=Yfe(r,t,n);else if(t.scheme&&(a=qfe(r,t,n),_e(a))){if(e.interpolator)return e.interpolator(a);P("Scale type ".concat(r," does not support interpolating color schemes."))}if(a&&kN(r))return e.interpolator(f2(K3(a,t.reverse),t.interpolate,t.interpolateGamma));a&&t.interpolate&&e.interpolate?e.interpolate(Mx(t.interpolate,t.interpolateGamma)):_e(e.round)?e.round(i):_e(e.rangeRound)&&e.interpolate(i?Hc:ca),a&&e.range(K3(a,t.reverse))}function Yfe(e,t,n){e!==TN&&e!==I3&&P("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===I3?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*_x(n,i,r)]}function qfe(e,t,n){var r=t.schemeExtent,i,a;return j(t.scheme)?a=f2(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),a=kx(i),a||P("Unrecognized scheme name: ".concat(t.scheme))),n=e===u2?n+1:e===Tx?n-1:e===xc||e===c2?+t.schemeCount||Ife:n,kN(e)?IS(a,r,t.reverse):_e(a)?DN(IS(a,r),n):e===wx?a:a.slice(0,n)}function IS(e,t,n){return _e(e)&&(t||n)?CN(e,K3(t||[0,1],n)):e}function K3(e,t){return t?e.slice().reverse():e}function uZ(e){I.call(this,null,e)}H(uZ,I,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(q0(e.sort)),this.modified(n),t}});const ZS="zero",fZ="center",dZ="normalize",hZ=["y0","y1"];function y_(e){I.call(this,null,e)}y_.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:ZS,values:[ZS,fZ,dZ]},{name:"as",type:"string",array:!0,length:2,default:hZ}]};H(y_,I,{transform(e,t){var n=e.as||hZ,r=n[0],i=n[1],a=q0(e.sort),o=e.field||Qc,s=e.offset===fZ?Vfe:e.offset===dZ?Xfe:Jfe,l,c,u,f;for(l=Kfe(t.source,e.groupby,a,o),c=0,u=l.length,f=l.max;c<u;++c)s(l[c],f,o,r,i);return t.reflow(e.modified()).modifies(n)}});function Vfe(e,t,n,r,i){for(var a=(t-e.sum)/2,o=e.length,s=0,l;s<o;++s)l=e[s],l[r]=a,l[i]=a+=Math.abs(n(l))}function Xfe(e,t,n,r,i){for(var a=1/e.sum,o=0,s=e.length,l=0,c=0,u;l<s;++l)u=e[l],u[r]=o,u[i]=o=a*(c+=Math.abs(n(u)))}function Jfe(e,t,n,r,i){for(var a=0,o=0,s=e.length,l=0,c,u;l<s;++l)u=e[l],c=+n(u),c<0?(u[r]=o,u[i]=o+=c):(u[r]=a,u[i]=a+=c)}function Kfe(e,t,n,r){var i=[],a=g=>g(u),o,s,l,c,u,f,d,h,m;if(t==null)i.push(e.slice());else for(o={},s=0,l=e.length;s<l;++s)u=e[s],f=t.map(a),d=o[f],d||(o[f]=d=[],i.push(d)),d.push(u);for(f=0,m=0,c=i.length;f<c;++f){for(d=i[f],s=0,h=0,l=d.length;s<l;++s)h+=Math.abs(r(d[s]));d.sum=h,h>m&&(m=h),n&&d.sort(n)}return i.max=m,i}const Qfe=Object.freeze(Object.defineProperty({__proto__:null,axisticks:eZ,datajoin:tZ,encode:nZ,legendentries:rZ,linkpath:p_,pie:g_,scale:lZ,sortitems:uZ,stack:y_},Symbol.toStringTag,{value:"Module"}));var ede=Math.abs,Q3=Math.cos,Ep=Math.sin,tde=1e-6,mZ=Math.PI,e5=mZ/2,RS=nde(2);function PS(e){return e>1?e5:e<-1?-e5:Math.asin(e)}function nde(e){return e>0?Math.sqrt(e):0}function rde(e,t){var n=e*Ep(t),r=30,i;do t-=i=(t+Ep(t)-n)/(1+Q3(t));while(ede(i)>tde&&--r>0);return t/2}function ide(e,t,n){function r(i,a){return[e*i*Q3(a=rde(n,a)),t*Ep(a)]}return r.invert=function(i,a){return a=PS(a/t),[i/(e*Q3(a)),PS((2*a+Ep(2*a))/n)]},r}var ade=ide(RS/e5,RS,mZ);function ode(){return Ti(ade).scale(169.529)}const sde=t8(),t5=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function lde(e,t){return function n(){const r=t();return r.type=e,r.path=t8().projection(r),r.copy=r.copy||function(){const i=n();return t5.forEach(a=>{r[a]&&i[a](r[a]())}),i.path.pointRadius(r.path.pointRadius()),i},r}}function b_(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(Mp[e]=lde(e,t),this):Mp[e]||null}function pZ(e){return e&&e.path||sde}const Mp={albers:l8,albersusa:JC,azimuthalequalarea:QC,azimuthalequidistant:eD,conicconformal:iD,conicequalarea:Qf,conicequidistant:sD,equalEarth:lD,equirectangular:aD,gnomonic:cD,identity:uD,mercator:tD,mollweide:ode,naturalEarth1:fD,orthographic:dD,stereographic:hD,transversemercator:mD};for(const e in Mp)b_(e,Mp[e]);function cde(){}const Ma=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function gZ(){var e=1,t=1,n=s;function r(l,c){return c.map(u=>i(l,u))}function i(l,c){var u=[],f=[];return a(l,c,d=>{n(d,l,c),ude(d)>0?u.push([d]):f.push(d)}),f.forEach(d=>{for(var h=0,m=u.length,g;h<m;++h)if(fde((g=u[h])[0],d)!==-1){g.push(d);return}}),{type:"MultiPolygon",value:c,coordinates:u}}function a(l,c,u){var f=new Array,d=new Array,h,m,g,p,y,b;for(h=m=-1,p=l[0]>=c,Ma[p<<1].forEach(v);++h<e-1;)g=p,p=l[h+1]>=c,Ma[g|p<<1].forEach(v);for(Ma[p<<0].forEach(v);++m<t-1;){for(h=-1,p=l[m*e+e]>=c,y=l[m*e]>=c,Ma[p<<1|y<<2].forEach(v);++h<e-1;)g=p,p=l[m*e+e+h+1]>=c,b=y,y=l[m*e+h+1]>=c,Ma[g|p<<1|y<<2|b<<3].forEach(v);Ma[p|y<<3].forEach(v)}for(h=-1,y=l[m*e]>=c,Ma[y<<2].forEach(v);++h<e-1;)b=y,y=l[m*e+h+1]>=c,Ma[y<<2|b<<3].forEach(v);Ma[y<<3].forEach(v);function v(x){var _=[x[0][0]+h,x[0][1]+m],T=[x[1][0]+h,x[1][1]+m],w=o(_),S=o(T),C,M;(C=d[w])?(M=f[S])?(delete d[C.end],delete f[M.start],C===M?(C.ring.push(T),u(C.ring)):f[C.start]=d[M.end]={start:C.start,end:M.end,ring:C.ring.concat(M.ring)}):(delete d[C.end],C.ring.push(T),d[C.end=S]=C):(C=f[S])?(M=d[w])?(delete f[C.start],delete d[M.end],C===M?(C.ring.push(T),u(C.ring)):f[M.start]=d[C.end]={start:M.start,end:C.end,ring:M.ring.concat(C.ring)}):(delete f[C.start],C.ring.unshift(_),f[C.start=w]=C):f[w]=d[S]={start:w,end:S,ring:[_,T]}}}function o(l){return l[0]*2+l[1]*(e+1)*4}function s(l,c,u){l.forEach(f=>{var d=f[0],h=f[1],m=d|0,g=h|0,p,y=c[g*e+m];d>0&&d<e&&m===d&&(p=c[g*e+m-1],f[0]=d+(u-p)/(y-p)-.5),h>0&&h<t&&g===h&&(p=c[(g-1)*e+m],f[1]=h+(u-p)/(y-p)-.5)})}return r.contour=i,r.size=function(l){if(!arguments.length)return[e,t];var c=Math.floor(l[0]),u=Math.floor(l[1]);return c>=0&&u>=0||P("invalid size"),e=c,t=u,r},r.smooth=function(l){return arguments.length?(n=l?s:cde,r):n===s},r}function ude(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function fde(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=dde(e,t[n]))return i;return 0}function dde(e,t){for(var n=t[0],r=t[1],i=-1,a=0,o=e.length,s=o-1;a<o;s=a++){var l=e[a],c=l[0],u=l[1],f=e[s],d=f[0],h=f[1];if(hde(l,f,t))return 0;u>r!=h>r&&n<(d-c)*(r-u)/(h-u)+c&&(i=-i)}return i}function hde(e,t,n){var r;return mde(e,t,n)&&pde(e[r=+(e[0]===t[0])],n[r],t[r])}function mde(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function pde(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function yZ(e,t,n){return function(r){var i=na(r),a=n?Math.min(i[0],0):i[0],o=i[1],s=o-a,l=t?Ya(a,o,e):s/(e+1);return sn(a+l,o,l)}}function v_(e){I.call(this,null,e)}v_.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};H(v_,I,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||yn,a=gZ().smooth(e.smooth!==!1),o=e.thresholds||gde(r,i,e),s=e.as===null?null:e.as||"contour",l=[];return r.forEach(c=>{const u=i(c),f=a.size([u.width,u.height])(u.values,j(o)?o:o(u.values));yde(f,u,c,e),f.forEach(d=>{l.push(Qg(c,Pe(s!=null?{[s]:d}:d)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function gde(e,t,n){const r=yZ(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>Cn(t(i).values)))}function yde(e,t,n,r){let i=r.scale||t.scale,a=r.translate||t.translate;if(_e(i)&&(i=i(n,r)),_e(a)&&(a=a(n,r)),(i===1||i==null)&&!a)return;const o=(He(i)?i:i[0])||1,s=(He(i)?i:i[1])||1,l=a&&a[0]||0,c=a&&a[1]||0;e.forEach(bZ(t,o,s,l,c))}function bZ(e,t,n,r,i){const a=e.x1||0,o=e.y1||0,s=t*n<0;function l(f){f.forEach(c)}function c(f){s&&f.reverse(),f.forEach(u)}function u(f){f[0]=(f[0]-a)*t+r,f[1]=(f[1]-o)*n+i}return function(f){return f.coordinates.forEach(l),f}}function jS(e,t,n){const r=e>=0?e:N4(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function Lb(e){return _e(e)?e:bn(+e)}function vZ(){var e=l=>l[0],t=l=>l[1],n=Qc,r=[-1,-1],i=960,a=500,o=2;function s(l,c){const u=jS(r[0],l,e)>>o,f=jS(r[1],l,t)>>o,d=u?u+2:0,h=f?f+2:0,m=2*d+(i>>o),g=2*h+(a>>o),p=new Float32Array(m*g),y=new Float32Array(m*g);let b=p;l.forEach(x=>{const _=d+(+e(x)>>o),T=h+(+t(x)>>o);_>=0&&_<m&&T>=0&&T<g&&(p[_+T*m]+=+n(x))}),u>0&&f>0?(wl(m,g,p,y,u),Tl(m,g,y,p,f),wl(m,g,p,y,u),Tl(m,g,y,p,f),wl(m,g,p,y,u),Tl(m,g,y,p,f)):u>0?(wl(m,g,p,y,u),wl(m,g,y,p,u),wl(m,g,p,y,u),b=y):f>0&&(Tl(m,g,p,y,f),Tl(m,g,y,p,f),Tl(m,g,p,y,f),b=y);const v=c?Math.pow(2,-2*o):1/j0(b);for(let x=0,_=m*g;x<_;++x)b[x]*=v;return{values:b,scale:1<<o,width:m,height:g,x1:d,y1:h,x2:d+(i>>o),y2:h+(a>>o)}}return s.x=function(l){return arguments.length?(e=Lb(l),s):e},s.y=function(l){return arguments.length?(t=Lb(l),s):t},s.weight=function(l){return arguments.length?(n=Lb(l),s):n},s.size=function(l){if(!arguments.length)return[i,a];var c=+l[0],u=+l[1];return c>=0&&u>=0||P("invalid size"),i=c,a=u,s},s.cellSize=function(l){return arguments.length?((l=+l)>=1||P("invalid cell size"),o=Math.floor(Math.log(l)/Math.LN2),s):1<<o},s.bandwidth=function(l){return arguments.length?(l=Q(l),l.length===1&&(l=[+l[0],+l[0]]),l.length!==2&&P("invalid bandwidth"),r=l,s):r},s}function wl(e,t,n,r,i){const a=(i<<1)+1;for(let o=0;o<t;++o)for(let s=0,l=0;s<e+i;++s)s<e&&(l+=n[s+o*e]),s>=i&&(s>=a&&(l-=n[s-a+o*e]),r[s-i+o*e]=l/Math.min(s+1,e-1+a-s,a))}function Tl(e,t,n,r,i){const a=(i<<1)+1;for(let o=0;o<e;++o)for(let s=0,l=0;s<t+i;++s)s<t&&(l+=n[o+s*e]),s>=i&&(s>=a&&(l-=n[o+(s-a)*e]),r[o+(s-i)*e]=l/Math.min(s+1,t-1+a-s,a))}function x_(e){I.call(this,null,e)}x_.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const bde=["x","y","weight","size","cellSize","bandwidth"];function xZ(e,t){return bde.forEach(n=>t[n]!=null?e[n](t[n]):0),e}H(x_,I,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=vde(r,e.groupby),a=(e.groupby||[]).map(bt),o=xZ(vZ(),e),s=e.as||"grid",l=[];function c(u,f){for(let d=0;d<a.length;++d)u[a[d]]=f[d];return u}return l=i.map(u=>Pe(c({[s]:o(u,e.counts)},u.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function vde(e,t){var n=[],r=u=>u(s),i,a,o,s,l,c;if(t==null)n.push(e);else for(i={},a=0,o=e.length;a<o;++a)s=e[a],l=t.map(r),c=i[l],c||(i[l]=c=[],c.dims=l,n.push(c)),c.push(s);return n}function __(e){I.call(this,null,e)}__.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};H(__,I,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=gZ().smooth(e.smooth!==!1),i=e.values,a=e.thresholds||yZ(e.count||10,e.nice,!!i),o=e.size,s,l;return i||(i=t.materialize(t.SOURCE).source,s=xZ(vZ(),e)(i,!0),l=bZ(s,s.scale||1,s.scale||1,0,0),o=[s.width,s.height],i=s.values),a=j(a)?a:a(i),i=r.size(o)(i,a),l&&i.forEach(l),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(Pe),n}});const n5="Feature",w_="FeatureCollection",xde="MultiPoint";function T_(e){I.call(this,null,e)}T_.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};H(T_,I,{transform(e,t){var n=this._features,r=this._points,i=e.fields,a=i&&i[0],o=i&&i[1],s=e.geojson||!i&&yn,l=t.ADD,c;c=e.modified()||t.changed(t.REM)||t.modified(dn(s))||a&&t.modified(dn(a))||o&&t.modified(dn(o)),(!this.value||c)&&(l=t.SOURCE,this._features=n=[],this._points=r=[]),s&&t.visit(l,u=>n.push(s(u))),a&&o&&(t.visit(l,u=>{var f=a(u),d=o(u);f!=null&&d!=null&&(f=+f)===f&&(d=+d)===d&&r.push([f,d])}),n=n.concat({type:n5,geometry:{type:xde,coordinates:r}})),this.value={type:w_,features:n}}});function A_(e){I.call(this,null,e)}A_.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};H(A_,I,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||yn,a=e.as||"path",o=n.SOURCE;!r||e.modified()?(this.value=r=pZ(e.projection),n.materialize().reflow()):o=i===yn||t.modified(i.fields)?n.ADD_MOD:n.ADD;const s=_de(r,e.pointRadius);return n.visit(o,l=>l[a]=r(i(l))),r.pointRadius(s),n.modifies(a)}});function _de(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function S_(e){I.call(this,null,e)}S_.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};H(S_,I,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],a=e.as||["x","y"],o=a[0],s=a[1],l;function c(u){const f=n([r(u),i(u)]);f?(u[o]=f[0],u[s]=f[1]):(u[o]=void 0,u[s]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,c):(l=t.modified(r.fields)||t.modified(i.fields),t.visit(l?t.ADD_MOD:t.ADD,c)),t.modifies(a)}});function E_(e){I.call(this,null,e)}E_.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};H(E_,I,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",a=n.ADD;return(!r||e.modified())&&(this.value=r=wde(pZ(e.projection),e.field||Xn("datum"),e.pointRadius),n.materialize().reflow(),a=n.SOURCE),n.visit(a,o=>o[i]=r),n.modifies(i)}});function wde(e,t,n){const r=n==null?i=>e(t(i)):i=>{var a=e.pointRadius(),o=e.pointRadius(n)(t(i));return e.pointRadius(a),o};return r.context=i=>(e.context(i),r),r}function M_(e){I.call(this,[],e),this.generator=e8()}M_.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};H(M_,I,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const a in e)_e(r[a])&&r[a](e[a]);return i=r(),n.length?t.mod.push(D$(n[0],i)):t.add.push(Pe(i)),n[0]=i,t}});function k_(e){I.call(this,null,e)}k_.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};H(k_,I,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||yn,a=Ade(e.opacity,e),o=Tde(e.color,e),s=e.as||"image",l={$x:0,$y:0,$value:0,$max:r?Cn(n.map(c=>Cn(i(c).values))):0};return n.forEach(c=>{const u=i(c),f=xe({},c,l);r||(f.$max=Cn(u.values||[])),c[s]=Sde(u,f,o.dep?o:bn(o(f)),a.dep?a:bn(a(f)))}),t.reflow(!0).modifies(s)}});function Tde(e,t){let n;return _e(e)?(n=r=>Ki(e(r,t)),n.dep=_Z(e)):n=bn(Ki(e||"#888")),n}function Ade(e,t){let n;return _e(e)?(n=r=>e(r,t),n.dep=_Z(e)):e?n=bn(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function _Z(e){if(!_e(e))return!1;const t=bi(dn(e));return t.$x||t.$y||t.$value||t.$max}function Sde(e,t,n,r){const i=e.width,a=e.height,o=e.x1||0,s=e.y1||0,l=e.x2||i,c=e.y2||a,u=e.values,f=u?p=>u[p]:Ao,d=No(l-o,c-s),h=d.getContext("2d"),m=h.getImageData(0,0,l-o,c-s),g=m.data;for(let p=s,y=0;p<c;++p){t.$y=p-s;for(let b=o,v=p*i;b<l;++b,y+=4){t.$x=b-o,t.$value=f(b+v);const x=n(t);g[y+0]=x.r,g[y+1]=x.g,g[y+2]=x.b,g[y+3]=~~(255*r(t))}}return h.putImageData(m,0,0),d}function wZ(e){I.call(this,null,e),this.modified(!0)}H(wZ,I,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=Mde(e.type),t5.forEach(r=>{e[r]!=null&&zS(n,r,e[r])})):t5.forEach(r=>{e.modified(r)&&zS(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&Ede(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function Ede(e,t){const n=kde(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function Mde(e){const t=b_((e||"mercator").toLowerCase());return t||P("Unrecognized projection type: "+e),t()}function zS(e,t,n){_e(e[t])&&e[t](n)}function kde(e){return e=Q(e),e.length===1?e[0]:{type:w_,features:e.reduce((t,n)=>t.concat(Ode(n)),[])}}function Ode(e){return e.type===w_?e.features:Q(e).filter(t=>t!=null).map(t=>t.type===n5?t:{type:n5,geometry:t})}const Cde=Object.freeze(Object.defineProperty({__proto__:null,contour:__,geojson:T_,geopath:A_,geopoint:S_,geoshape:E_,graticule:M_,heatmap:k_,isocontour:v_,kde2d:x_,projection:wZ},Symbol.toStringTag,{value:"Module"})),GS={center:aC,collide:sC,nbody:uC,link:lC,x:fC,y:dC},bf="forces",r5=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],Dde=["static","iterations"],TZ=["x","y","vx","vy"];function O_(e){I.call(this,null,e)}O_.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:TZ}]};H(O_,I,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(r5),a=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&AZ(n,e,0,t)):(this.value=n=Fde(t.source,e),n.on("tick",Lde(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(Dde)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/a)),e.static)for(n.stop();--a>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let s=this._argops,l=0,c=s.length,u;l<c;++l)if(u=s[l],!(u.name!==bf||u.op._argval.force!=="link")){for(var r=u.op._argops,i=0,a=r.length,o;i<a;++i)if(r[i].name==="links"&&(o=r[i].op.source)){n.pulse(o,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(TZ)}});function Lde(e,t){return()=>e.touch(t).run()}function Fde(e,t){const n=cC(e),r=n.stop,i=n.restart;let a=!1;return n.stopped=()=>a,n.restart=()=>(a=!1,i()),n.stop=()=>(a=!0,r()),AZ(n,t,!0).on("end",()=>a=!0)}function AZ(e,t,n,r){var i=Q(t.forces),a,o,s,l;for(a=0,o=r5.length;a<o;++a)s=r5[a],s!==bf&&t.modified(s)&&e[s](t[s]);for(a=0,o=i.length;a<o;++a)l=bf+a,s=n||t.modified(bf,a)?$de(i[a]):r&&Bde(i[a],r)?e.force(l):null,s&&e.force(l,s);for(o=e.numForces||0;a<o;++a)e.force(bf+a,null);return e.numForces=i.length,e}function Bde(e,t){var n,r;for(n in e)if(_e(r=e[n])&&t.modified(dn(r)))return 1;return 0}function $de(e){var t,n;oe(GS,e.force)||P("Unrecognized force: "+e.force),t=GS[e.force]();for(n in e)_e(t[n])&&Nde(t[n],e[n],e);return t}function Nde(e,t,n){e(_e(t)?r=>t(r,n):t)}const Ide=Object.freeze(Object.defineProperty({__proto__:null,force:O_},Symbol.toStringTag,{value:"Module"}));function i5(e,t,n){const r={};return e.each(i=>{const a=i.data;n(a)&&(r[t(a)]=i)}),e.lookup=r,e}function C_(e){I.call(this,null,e)}C_.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const Zde=e=>e.values;H(C_,I,{transform(e,t){t.source||P("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),a=this.value;return(!a||r||t.changed())&&(a&&a.each(o=>{o.children&&Kg(o.data)&&i.rem.push(o.data)}),this.value=a=Sg({values:Q(e.keys).reduce((o,s)=>(o.key(s),o),Rde()).entries(i.source)},Zde),n&&a.each(o=>{o.children&&(o=Pe(o.data),i.add.push(o),i.source.push(o))}),i5(a,le,le)),i.source.root=a,i}});function Rde(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,a){if(a>=e.length)return i;const o=i.length,s=e[a++],l={},c={};let u=-1,f,d,h;for(;++u<o;)f=s(d=i[u])+"",(h=l[f])?h.push(d):l[f]=[d];for(f in l)c[f]=n(l[f],a);return c}function r(i,a){if(++a>e.length)return i;const o=[];for(const s in i)o.push({key:s,values:r(i[s],a)});return o}return t}function ro(e){I.call(this,null,e)}const Pde=(e,t)=>e.parent===t.parent?1:2;H(ro,I,{transform(e,t){(!t.source||!t.source.root)&&P(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,a=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(q0(e.sort,o=>o.data)),jde(n,this.params,e),n.separation&&n.separation(e.separation!==!1?Pde:Qc);try{this.value=n(i)}catch(o){P(o)}return i.each(o=>zde(o,r,a)),t.reflow(e.modified()).modifies(a).modifies("leaf")}});function jde(e,t,n){for(let r,i=0,a=t.length;i<a;++i)r=t[i],r in n&&e[r](n[r])}function zde(e,t,n){const r=e.data,i=t.length-1;for(let a=0;a<i;++a)r[n[a]]=e[t[a]];r[n[i]]=e.children?e.children.length:0}const a5=["x","y","r","depth","children"];function D_(e){ro.call(this,e)}D_.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:a5.length,default:a5}]};H(D_,ro,{layout:wD,params:["radius","size","padding"],fields:a5});const o5=["x0","y0","x1","y1","depth","children"];function L_(e){ro.call(this,e)}L_.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:o5.length,default:o5}]};H(L_,ro,{layout:AD,params:["size","round","padding"],fields:o5});function F_(e){I.call(this,null,e)}F_.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};H(F_,I,{transform(e,t){t.source||P("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),a=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),a&&(n=i.source.length?i5(u3().id(e.key).parentId(e.parentKey)(i.source),e.key,Fr):i5(u3()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const US={tidy:SD,cluster:pD},s5=["x","y","depth","children"];function B_(e){ro.call(this,e)}B_.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:s5.length,default:s5}]};H(B_,ro,{layout(e){const t=e||"tidy";if(oe(US,t))return US[t]();P("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:s5});function $_(e){I.call(this,[],e)}$_.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};H($_,I,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),a={};return r||P("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,o=>a[le(o)]=1),r.each(o=>{const s=o.data,l=o.parent&&o.parent.data;l&&a[le(s)]&&a[le(l)]&&i.add.push(Pe({source:l,target:s}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,o=>a[le(o)]=1),n.forEach(o=>{(a[le(o.source)]||a[le(o.target)])&&i.mod.push(o)})),i}});const WS={binary:OD,dice:Vc,slice:Ud,slicedice:CD,squarify:b8,resquarify:DD},l5=["x0","y0","x1","y1","depth","children"];function N_(e){ro.call(this,e)}N_.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:l5.length,default:l5}]};H(N_,ro,{layout(){const e=kD();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{oe(WS,t)?e.tile(WS[t]):P("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:l5});const Gde=Object.freeze(Object.defineProperty({__proto__:null,nest:C_,pack:D_,partition:L_,stratify:F_,tree:B_,treelinks:$_,treemap:N_},Symbol.toStringTag,{value:"Module"})),Fb=4278190080;function Ude(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function Wde(e,t,n,r,i){const a=e.width,o=e.height,s=r||i,l=No(a,o).getContext("2d"),c=No(a,o).getContext("2d"),u=s&&No(a,o).getContext("2d");n.forEach(S=>sm(l,S,!1)),sm(c,t,!1),s&&sm(u,t,!0);const f=Bb(l,a,o),d=Bb(c,a,o),h=s&&Bb(u,a,o),m=e.bitmap(),g=s&&e.bitmap();let p,y,b,v,x,_,T,w;for(y=0;y<o;++y)for(p=0;p<a;++p)x=y*a+p,_=f[x]&Fb,w=d[x]&Fb,T=s&&h[x]&Fb,(_||T||w)&&(b=e(p),v=e(y),!i&&(_||w)&&m.set(b,v),s&&(_||T)&&g.set(b,v));return[m,g]}function Bb(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function sm(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(a=>sm(e,a.items,n))}):pr[r].draw(e,{items:n?t.map(Hde):t})}function Hde(e){const t=Qg(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const ka=5,wn=31,md=32,_o=new Uint32Array(md+1),Vr=new Uint32Array(md+1);Vr[0]=0;_o[0]=~Vr[0];for(let e=1;e<=md;++e)Vr[e]=Vr[e-1]<<1|1,_o[e]=~Vr[e];function Yde(e,t){const n=new Uint32Array(~~((e*t+md)/md));function r(a,o){n[a]|=o}function i(a,o){n[a]&=o}return{array:n,get:(a,o)=>{const s=o*e+a;return n[s>>>ka]&1<<(s&wn)},set:(a,o)=>{const s=o*e+a;r(s>>>ka,1<<(s&wn))},clear:(a,o)=>{const s=o*e+a;i(s>>>ka,~(1<<(s&wn)))},getRange:(a,o,s,l)=>{let c=l,u,f,d,h;for(;c>=o;--c)if(u=c*e+a,f=c*e+s,d=u>>>ka,h=f>>>ka,d===h){if(n[d]&_o[u&wn]&Vr[(f&wn)+1])return!0}else{if(n[d]&_o[u&wn]||n[h]&Vr[(f&wn)+1])return!0;for(let m=d+1;m<h;++m)if(n[m])return!0}return!1},setRange:(a,o,s,l)=>{let c,u,f,d,h;for(;o<=l;++o)if(c=o*e+a,u=o*e+s,f=c>>>ka,d=u>>>ka,f===d)r(f,_o[c&wn]&Vr[(u&wn)+1]);else for(r(f,_o[c&wn]),r(d,Vr[(u&wn)+1]),h=f+1;h<d;++h)r(h,4294967295)},clearRange:(a,o,s,l)=>{let c,u,f,d,h;for(;o<=l;++o)if(c=o*e+a,u=o*e+s,f=c>>>ka,d=u>>>ka,f===d)i(f,Vr[c&wn]|_o[(u&wn)+1]);else for(i(f,Vr[c&wn]),i(d,_o[(u&wn)+1]),h=f+1;h<d;++h)i(h,0)},outOfBounds:(a,o,s,l)=>a<0||o<0||l>=t||s>=e}}function qde(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),a=~~((t+2*n+r)/r),o=s=>~~((s+n)/r);return o.invert=s=>s*r-n,o.bitmap=()=>Yde(i,a),o.ratio=r,o.padding=n,o.width=e,o.height=t,o}function Vde(e,t,n,r){const i=e.width,a=e.height;return function(o){const s=o.datum.datum.items[r].items,l=s.length,c=o.datum.fontSize,u=ui.width(o.datum,o.datum.text);let f=0,d,h,m,g,p,y,b;for(let v=0;v<l;++v)d=s[v].x,m=s[v].y,h=s[v].x2===void 0?d:s[v].x2,g=s[v].y2===void 0?m:s[v].y2,p=(d+h)/2,y=(m+g)/2,b=Math.abs(h-d+g-m),b>=f&&(f=b,o.x=p,o.y=y);return p=u/2,y=c/2,d=o.x-p,h=o.x+p,m=o.y-y,g=o.y+y,o.align="center",d<0&&h<=i?o.align="left":0<=d&&i<h&&(o.align="right"),o.baseline="middle",m<0&&g<=a?o.baseline="top":0<=m&&a<g&&(o.baseline="bottom"),!0}}function kp(e,t,n,r,i,a){let o=n/2;return e-o<0||e+o>i||t-(o=r/2)<0||t+o>a}function Lo(e,t,n,r,i,a,o,s){const l=i*a/(r*2),c=e(t-l),u=e(t+l),f=e(n-(a=a/2)),d=e(n+a);return o.outOfBounds(c,f,u,d)||o.getRange(c,f,u,d)||s&&s.getRange(c,f,u,d)}function Xde(e,t,n,r){const i=e.width,a=e.height,o=t[0],s=t[1];function l(c,u,f,d,h){const m=e.invert(c),g=e.invert(u);let p=f,y=a,b;if(!kp(m,g,d,h,i,a)&&!Lo(e,m,g,h,d,p,o,s)&&!Lo(e,m,g,h,d,h,o,null)){for(;y-p>=1;)b=(p+y)/2,Lo(e,m,g,h,d,b,o,s)?y=b:p=b;if(p>f)return[m,g,p,!0]}}return function(c){const u=c.datum.datum.items[r].items,f=u.length,d=c.datum.fontSize,h=ui.width(c.datum,c.datum.text);let m=n?d:0,g=!1,p=!1,y=0,b,v,x,_,T,w,S,C,M,A,L,D,E,O,k,F,$;for(let N=0;N<f;++N){for(b=u[N].x,x=u[N].y,v=u[N].x2===void 0?b:u[N].x2,_=u[N].y2===void 0?x:u[N].y2,b>v&&($=b,b=v,v=$),x>_&&($=x,x=_,_=$),M=e(b),L=e(v),A=~~((M+L)/2),D=e(x),O=e(_),E=~~((D+O)/2),S=A;S>=M;--S)for(C=E;C>=D;--C)F=l(S,C,m,h,d),F&&([c.x,c.y,m,g]=F);for(S=A;S<=L;++S)for(C=E;C<=O;++C)F=l(S,C,m,h,d),F&&([c.x,c.y,m,g]=F);!g&&!n&&(k=Math.abs(v-b+_-x),T=(b+v)/2,w=(x+_)/2,k>=y&&!kp(T,w,h,d,i,a)&&!Lo(e,T,w,d,h,d,o,null)&&(y=k,c.x=T,c.y=w,p=!0))}return g||p?(T=h/2,w=d/2,o.setRange(e(c.x-T),e(c.y-w),e(c.x+T),e(c.y+w)),c.align="center",c.baseline="middle",!0):!1}}const Jde=[-1,-1,1,1],Kde=[-1,1,-1,1];function Qde(e,t,n,r){const i=e.width,a=e.height,o=t[0],s=t[1],l=e.bitmap();return function(c){const u=c.datum.datum.items[r].items,f=u.length,d=c.datum.fontSize,h=ui.width(c.datum,c.datum.text),m=[];let g=n?d:0,p=!1,y=!1,b=0,v,x,_,T,w,S,C,M,A,L,D,E;for(let O=0;O<f;++O){for(v=u[O].x,_=u[O].y,x=u[O].x2===void 0?v:u[O].x2,T=u[O].y2===void 0?_:u[O].y2,m.push([e((v+x)/2),e((_+T)/2)]);m.length;)if([C,M]=m.pop(),!(o.get(C,M)||s.get(C,M)||l.get(C,M))){l.set(C,M);for(let k=0;k<4;++k)w=C+Jde[k],S=M+Kde[k],l.outOfBounds(w,S,w,S)||m.push([w,S]);if(w=e.invert(C),S=e.invert(M),A=g,L=a,!kp(w,S,h,d,i,a)&&!Lo(e,w,S,d,h,A,o,s)&&!Lo(e,w,S,d,h,d,o,null)){for(;L-A>=1;)D=(A+L)/2,Lo(e,w,S,d,h,D,o,s)?L=D:A=D;A>g&&(c.x=w,c.y=S,g=A,p=!0)}}!p&&!n&&(E=Math.abs(x-v+T-_),w=(v+x)/2,S=(_+T)/2,E>=b&&!kp(w,S,h,d,i,a)&&!Lo(e,w,S,d,h,d,o,null)&&(b=E,c.x=w,c.y=S,y=!0))}return p||y?(w=h/2,S=d/2,o.setRange(e(c.x-w),e(c.y-S),e(c.x+w),e(c.y+S)),c.align="center",c.baseline="middle",!0):!1}}const ehe=["right","center","left"],the=["bottom","middle","top"];function nhe(e,t,n,r){const i=e.width,a=e.height,o=t[0],s=t[1],l=r.length;return function(c){var u;const f=c.boundary,d=c.datum.fontSize;if(f[2]<0||f[5]<0||f[0]>i||f[3]>a)return!1;let h=(u=c.textWidth)!==null&&u!==void 0?u:0,m,g,p,y,b,v,x,_,T,w,S,C,M,A,L;for(let D=0;D<l;++D){if(m=(n[D]&3)-1,g=(n[D]>>>2&3)-1,p=m===0&&g===0||r[D]<0,y=m&&g?Math.SQRT1_2:1,b=r[D]<0?-1:1,v=f[1+m]+r[D]*m*y,S=f[4+g]+b*d*g/2+r[D]*g*y,_=S-d/2,T=S+d/2,C=e(v),A=e(_),L=e(T),!h)if(HS(C,C,A,L,o,s,v,v,_,T,f,p))h=ui.width(c.datum,c.datum.text);else continue;if(w=v+b*h*m/2,v=w-h/2,x=w+h/2,C=e(v),M=e(x),HS(C,M,A,L,o,s,v,x,_,T,f,p))return c.x=m?m*b<0?x:v:w,c.y=g?g*b<0?T:_:S,c.align=ehe[m*b+1],c.baseline=the[g*b+1],o.setRange(C,A,M,L),!0}return!1}}function HS(e,t,n,r,i,a,o,s,l,c,u,f){return!(i.outOfBounds(e,n,t,r)||(f&&a||i).getRange(e,n,t,r))}const $b=0,Nb=4,Ib=8,Zb=0,Rb=1,Pb=2,rhe={"top-left":$b+Zb,top:$b+Rb,"top-right":$b+Pb,left:Nb+Zb,middle:Nb+Rb,right:Nb+Pb,"bottom-left":Ib+Zb,bottom:Ib+Rb,"bottom-right":Ib+Pb},ihe={naive:Vde,"reduced-search":Xde,floodfill:Qde};function ahe(e,t,n,r,i,a,o,s,l,c,u){if(!e.length)return e;const f=Math.max(r.length,i.length),d=ohe(r,f),h=she(i,f),m=lhe(e[0].datum),g=m==="group"&&e[0].datum.items[l].marktype,p=g==="area",y=che(m,g,s,l),b=c===null||c===1/0,v=p&&u==="naive";let x=-1,_=-1;const T=e.map(M=>{const A=b?ui.width(M,M.text):void 0;return x=Math.max(x,A),_=Math.max(_,M.fontSize),{datum:M,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:y(M),textWidth:A}});c=c===null||c===1/0?Math.max(x,_)+Math.max(...r):c;const w=qde(t[0],t[1],c);let S;if(!v){n&&T.sort((L,D)=>n(L.datum,D.datum));let M=!1;for(let L=0;L<h.length&&!M;++L)M=h[L]===5||d[L]<0;const A=(m&&o||p)&&e.map(L=>L.datum);S=a.length||A?Wde(w,A||[],a,M,p):Ude(w,o&&T)}const C=p?ihe[u](w,S,o,l):nhe(w,S,h,d);return T.forEach(M=>M.opacity=+C(M)),T}function ohe(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function she(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=rhe[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function lhe(e){return e&&e.mark&&e.mark.marktype}function che(e,t,n,r){const i=a=>[a.x,a.x,a.x,a.y,a.y,a.y];return e?e==="line"||e==="area"?a=>i(a.datum):t==="line"?a=>{const o=a.datum.items[r].items;return i(o.length?o[n==="start"?0:o.length-1]:{x:NaN,y:NaN})}:a=>{const o=a.datum.bounds;return[o.x1,(o.x1+o.x2)/2,o.x2,o.y1,(o.y1+o.y2)/2,o.y2]}:i}const c5=["x","y","opacity","align","baseline"],SZ=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function I_(e){I.call(this,null,e)}I_.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:SZ},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:c5.length,default:c5}]};H(I_,I,{transform(e,t){function n(a){const o=e[a];return _e(o)&&t.modified(o.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&P("Size parameter should be specified as a [width, height] array.");const i=e.as||c5;return ahe(t.materialize(t.SOURCE).source||[],e.size,e.sort,Q(e.offset==null?1:e.offset),Q(e.anchor||SZ),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(a=>{const o=a.datum;o[i[0]]=a.x,o[i[1]]=a.y,o[i[2]]=a.opacity,o[i[3]]=a.align,o[i[4]]=a.baseline}),t.reflow(r).modifies(i)}});const uhe=Object.freeze(Object.defineProperty({__proto__:null,label:I_},Symbol.toStringTag,{value:"Module"}));function EZ(e,t){var n=[],r=function(u){return u(s)},i,a,o,s,l,c;if(t==null)n.push(e);else for(i={},a=0,o=e.length;a<o;++a)s=e[a],l=t.map(r),c=i[l],c||(i[l]=c=[],c.dims=l,n.push(c)),c.push(s);return n}function Z_(e){I.call(this,null,e)}Z_.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};H(Z_,I,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=EZ(r,e.groupby),a=(e.groupby||[]).map(bt),o=a.length,s=e.as||[bt(e.x),bt(e.y)],l=[];i.forEach(c=>{V$(c,e.x,e.y,e.bandwidth||.3).forEach(u=>{const f={};for(let d=0;d<o;++d)f[a[d]]=c.dims[d];f[s[0]]=u[0],f[s[1]]=u[1],l.push(Pe(f))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});const u5={linear:q4,log:W$,exp:H$,pow:Y$,quad:V4,poly:q$},fhe=(e,t)=>e==="poly"?t:e==="quad"?2:1;function R_(e){I.call(this,null,e)}R_.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(u5)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};H(R_,I,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=EZ(r,e.groupby),a=(e.groupby||[]).map(bt),o=e.method||"linear",s=e.order||3,l=fhe(o,s),c=e.as||[bt(e.x),bt(e.y)],u=u5[o],f=[];let d=e.extent;oe(u5,o)||P("Invalid regression method: "+o),d!=null&&o==="log"&&d[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),d=null),i.forEach(h=>{if(h.length<=l){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const g=u(h,e.x,e.y,s);if(e.params){f.push(Pe({keys:h.dims,coef:g.coef,rSquared:g.rSquared}));return}const p=d||na(h,e.x),y=b=>{const v={};for(let x=0;x<a.length;++x)v[a[x]]=h.dims[x];v[c[0]]=b[0],v[c[1]]=b[1],f.push(Pe(v))};o==="linear"?p.forEach(b=>y([b,g.predict(b)])):o2(g.predict,p,25,200).forEach(y)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=f}return n}});const dhe=Object.freeze(Object.defineProperty({__proto__:null,loess:Z_,regression:R_},Symbol.toStringTag,{value:"Module"}));function P_(e){I.call(this,null,e)}P_.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const hhe=[-1e5,-1e5,1e5,1e5];H(P_,I,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:hhe;const a=this.value=bg.from(r,e.x,e.y).voronoi(i);for(let o=0,s=r.length;o<s;++o){const l=a.cellPolygon(o);r[o][n]=l?mhe(l):null}return t.reflow(e.modified()).modifies(n)}});function mhe(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}const phe=Object.freeze(Object.defineProperty({__proto__:null,voronoi:P_},Symbol.toStringTag,{value:"Module"}));var jb=Math.PI/180,vf=1<<11>>5,lm=1<<11;function ghe(){var e=[256,256],t,n,r,i,a,o,s,l=MZ,c=[],u=Math.random,f={};f.layout=function(){for(var m=d(No()),g=whe((e[0]>>5)*e[1]),p=null,y=c.length,b=-1,v=[],x=c.map(T=>({text:t(T),font:n(T),style:i(T),weight:a(T),rotate:o(T),size:~~(r(T)+1e-14),padding:s(T),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:T})).sort((T,w)=>w.size-T.size);++b<y;){var _=x[b];_.x=e[0]*(u()+.5)>>1,_.y=e[1]*(u()+.5)>>1,yhe(m,_,x,b),_.hasText&&h(g,_,p)&&(v.push(_),p?vhe(p,_):p=[{x:_.x+_.x0,y:_.y+_.y0},{x:_.x+_.x1,y:_.y+_.y1}],_.x-=e[0]>>1,_.y-=e[1]>>1)}return v};function d(m){m.width=m.height=1;var g=Math.sqrt(m.getContext("2d").getImageData(0,0,1,1).data.length>>2);m.width=(vf<<5)/g,m.height=lm/g;var p=m.getContext("2d");return p.fillStyle=p.strokeStyle="red",p.textAlign="center",{context:p,ratio:g}}function h(m,g,p){for(var y=g.x,b=g.y,v=Math.sqrt(e[0]*e[0]+e[1]*e[1]),x=l(e),_=u()<.5?1:-1,T=-_,w,S,C;(w=x(T+=_))&&(S=~~w[0],C=~~w[1],!(Math.min(Math.abs(S),Math.abs(C))>=v));)if(g.x=y+S,g.y=b+C,!(g.x+g.x0<0||g.y+g.y0<0||g.x+g.x1>e[0]||g.y+g.y1>e[1])&&(!p||!bhe(g,m,e[0]))&&(!p||xhe(g,p))){for(var M=g.sprite,A=g.width>>5,L=e[0]>>5,D=g.x-(A<<4),E=D&127,O=32-E,k=g.y1-g.y0,F=(g.y+g.y0)*L+(D>>5),$,N=0;N<k;N++){$=0;for(var R=0;R<=A;R++)m[F+R]|=$<<O|(R<A?($=M[N*A+R])>>>E:0);F+=L}return g.sprite=null,!0}return!1}return f.words=function(m){return arguments.length?(c=m,f):c},f.size=function(m){return arguments.length?(e=[+m[0],+m[1]],f):e},f.font=function(m){return arguments.length?(n=Os(m),f):n},f.fontStyle=function(m){return arguments.length?(i=Os(m),f):i},f.fontWeight=function(m){return arguments.length?(a=Os(m),f):a},f.rotate=function(m){return arguments.length?(o=Os(m),f):o},f.text=function(m){return arguments.length?(t=Os(m),f):t},f.spiral=function(m){return arguments.length?(l=The[m]||m,f):l},f.fontSize=function(m){return arguments.length?(r=Os(m),f):r},f.padding=function(m){return arguments.length?(s=Os(m),f):s},f.random=function(m){return arguments.length?(u=m,f):u},f}function yhe(e,t,n,r){if(!t.sprite){var i=e.context,a=e.ratio;i.clearRect(0,0,(vf<<5)/a,lm/a);var o=0,s=0,l=0,c=n.length,u,f,d,h,m;for(--r;++r<c;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/a)+"px "+t.font,u=i.measureText(t.text+"m").width*a,d=t.size<<1,t.rotate){var g=Math.sin(t.rotate*jb),p=Math.cos(t.rotate*jb),y=u*p,b=u*g,v=d*p,x=d*g;u=Math.max(Math.abs(y+x),Math.abs(y-x))+31>>5<<5,d=~~Math.max(Math.abs(b+v),Math.abs(b-v))}else u=u+31>>5<<5;if(d>l&&(l=d),o+u>=vf<<5&&(o=0,s+=l,l=0),s+d>=lm)break;i.translate((o+(u>>1))/a,(s+(d>>1))/a),t.rotate&&i.rotate(t.rotate*jb),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=u,t.height=d,t.xoff=o,t.yoff=s,t.x1=u>>1,t.y1=d>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,o+=u}for(var _=i.getImageData(0,0,(vf<<5)/a,lm/a).data,T=[];--r>=0;)if(t=n[r],!!t.hasText){for(u=t.width,f=u>>5,d=t.y1-t.y0,h=0;h<d*f;h++)T[h]=0;if(o=t.xoff,o==null)return;s=t.yoff;var w=0,S=-1;for(m=0;m<d;m++){for(h=0;h<u;h++){var C=f*m+(h>>5),M=_[(s+m)*(vf<<5)+(o+h)<<2]?1<<31-h%32:0;T[C]|=M,w|=M}w?S=m:(t.y0++,d--,m--,s++)}t.y1=t.y0+S,t.sprite=T.slice(0,(t.y1-t.y0)*f)}}}function bhe(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,a=e.x-(i<<4),o=a&127,s=32-o,l=e.y1-e.y0,c=(e.y+e.y0)*n+(a>>5),u,f=0;f<l;f++){u=0;for(var d=0;d<=i;d++)if((u<<s|(d<i?(u=r[f*i+d])>>>o:0))&t[c+d])return!0;c+=n}return!1}function vhe(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function xhe(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function MZ(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function _he(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(a){var o=a<0?-1:1;switch(Math.sqrt(1+4*o*a)-o&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function whe(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function Os(e){return typeof e=="function"?e:function(){return e}}var The={archimedean:MZ,rectangular:_he};const kZ=["x","y","font","fontSize","fontStyle","fontWeight","angle"],Ahe=["text","font","rotate","fontSize","fontStyle","fontWeight"];function j_(e){I.call(this,ghe(),e)}j_.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:kZ}]};H(j_,I,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&P("Wordcloud size dimensions must be non-zero.");function n(m){const g=e[m];return _e(g)&&t.modified(g.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||Ahe.some(n)))return;const i=t.materialize(t.SOURCE).source,a=this.value,o=e.as||kZ;let s=e.fontSize||14,l;if(_e(s)?l=e.fontSizeRange:s=bn(s),l){const m=s,g=Ie("sqrt")().domain(na(i,m)).range(l);s=p=>g(m(p))}i.forEach(m=>{m[o[0]]=NaN,m[o[1]]=NaN,m[o[3]]=0});const c=a.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(s).random($r).layout(),u=a.size(),f=u[0]>>1,d=u[1]>>1,h=c.length;for(let m=0,g,p;m<h;++m)g=c[m],p=g.datum,p[o[0]]=g.x+f,p[o[1]]=g.y+d,p[o[2]]=g.font,p[o[3]]=g.size,p[o[4]]=g.style,p[o[5]]=g.weight,p[o[6]]=g.rotate;return t.reflow(r).modifies(o)}});const She=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:j_},Symbol.toStringTag,{value:"Module"})),Ehe=e=>new Uint8Array(e),Mhe=e=>new Uint16Array(e),Ff=e=>new Uint32Array(e);function khe(){let e=8,t=[],n=Ff(0),r=b1(0,e),i=b1(0,e);return{data:()=>t,seen:()=>n=Ohe(n,t.length),add(a){for(let o=0,s=t.length,l=a.length,c;o<l;++o)c=a[o],c._index=s++,t.push(c)},remove(a,o){const s=t.length,l=Array(s-a),c=t;let u,f,d;for(f=0;!o[f]&&f<s;++f)l[f]=t[f],c[f]=f;for(d=f;f<s;++f)u=t[f],o[f]?c[f]=-1:(c[f]=d,r[d]=r[f],i[d]=i[f],l[d]=u,u._index=d++),r[f]=0;return t=l,c},size:()=>t.length,curr:()=>r,prev:()=>i,reset:a=>i[a]=r[a],all:()=>e<257?255:e<65537?65535:4294967295,set(a,o){r[a]|=o},clear(a,o){r[a]&=~o},resize(a,o){const s=r.length;(a>s||o>e)&&(e=Math.max(o,e),r=b1(a,e,r),i=b1(a,e))}}}function Ohe(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function b1(e,t,n){const r=(t<257?Ehe:t<65537?Mhe:Ff)(e);return n&&r.set(n),r}function YS(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,a){const o=this,s=o.bisect(o.range,i.value),l=i.index,c=s[0],u=s[1],f=l.length;let d;for(d=0;d<c;++d)a[l[d]]|=r;for(d=u;d<f;++d)a[l[d]]|=r;return o}}}function qS(){let e=Ff(0),t=[],n=0;function r(s,l,c){if(!l.length)return[];const u=n,f=l.length,d=Ff(f);let h=Array(f),m,g,p;for(p=0;p<f;++p)h[p]=s(l[p]),d[p]=p;if(h=Che(h,d),u)m=t,g=e,t=Array(u+f),e=Ff(u+f),Dhe(c,m,g,u,h,d,f,t,e);else{if(c>0)for(p=0;p<f;++p)d[p]+=c;t=h,e=d}return n=u+f,{index:d,value:h}}function i(s,l){const c=n;let u,f,d;for(f=0;!l[e[f]]&&f<c;++f);for(d=f;f<c;++f)l[u=e[f]]||(e[d]=u,t[d]=t[f],++d);n=c-s}function a(s){for(let l=0,c=n;l<c;++l)e[l]=s[e[l]]}function o(s,l){let c;return l?c=l.length:(l=t,c=n),[Ck(l,s[0],0,c),Pf(l,s[1],0,c)]}return{insert:r,remove:i,bisect:o,reindex:a,index:()=>e,size:()=>n}}function Che(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],a=e[r];return i<a?-1:i>a?1:0}),u7(e,t)}function Dhe(e,t,n,r,i,a,o,s,l){let c=0,u=0,f;for(f=0;c<r&&u<o;++f)t[c]<i[u]?(s[f]=t[c],l[f]=n[c++]):(s[f]=i[u],l[f]=a[u++]+e);for(;c<r;++c,++f)s[f]=t[c],l[f]=n[c];for(;u<o;++u,++f)s[f]=i[u],l[f]=a[u]+e}function z_(e){I.call(this,khe(),e),this._indices=null,this._dims=null}z_.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};H(z_,I,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},a=this._dims=[],o=r.length;let s=0,l,c;for(;s<o;++s)l=n[s].fname,c=i[l]||(i[l]=qS()),a.push(YS(c,s,r[s]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,a=this._indices,o=this._dims,s=this.value,l=s.curr(),c=s.prev(),u=s.all(),f=n.rem=n.add,d=n.mod,h=i.length,m={};let g,p,y,b,v,x,_,T,w;if(c.set(l),t.rem.length&&(v=this.remove(e,t,n)),t.add.length&&s.add(t.add),t.mod.length)for(x={},b=t.mod,_=0,T=b.length;_<T;++_)x[b[_]._index]=1;for(_=0;_<h;++_)w=r[_],(!o[_]||e.modified("fields",_)||t.modified(w.fields))&&(y=w.fname,(g=m[y])||(a[y]=p=qS(),m[y]=g=p.insert(w,t.source,0)),o[_]=YS(p,_,i[_]).onAdd(g,l));for(_=0,T=s.data().length;_<T;++_)v[_]||(c[_]!==l[_]?f.push(_):x[_]&&l[_]!==u&&d.push(_));return s.mask=(1<<h)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,a=this._dims,o=this._indices,s=e.fields,l={},c=n.add,u=i.size()+r.length,f=a.length;let d=i.size(),h,m,g;i.resize(u,f),i.add(r);const p=i.curr(),y=i.prev(),b=i.all();for(h=0;h<f;++h)m=s[h].fname,g=l[m]||(l[m]=o[m].insert(s[h],r,d)),a[h].onAdd(g,p);for(;d<u;++d)y[d]=b,p[d]!==b&&c.push(d)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),a=r.all(),o=e.mod;let s,l,c;for(s=0,l=o.length;s<l;++s)c=o[s]._index,i[c]!==a&&n.push(c)},remove(e,t,n){const r=this._indices,i=this.value,a=i.curr(),o=i.prev(),s=i.all(),l={},c=n.rem,u=t.rem;let f,d,h,m;for(f=0,d=u.length;f<d;++f)h=u[f]._index,l[h]=1,o[h]=m=a[h],a[h]=s,m!==s&&c.push(h);for(h in r)r[h].remove(d,l);return this.reindex(t,d,l),l},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const a=i.remove(t,n);for(const o in r)r[o].reindex(a)})},update(e,t,n){const r=this._dims,i=e.query,a=t.stamp,o=r.length;let s=0,l,c;for(n.filters=0,c=0;c<o;++c)e.modified("query",c)&&(l=c,++s);if(s===1)s=r[l].one,this.incrementOne(r[l],i[l],n.add,n.rem);else for(c=0,s=0;c<o;++c)e.modified("query",c)&&(s|=r[c].one,this.incrementAll(r[c],i[c],a,n.add),n.rem=n.add);return s},incrementAll(e,t,n,r){const i=this.value,a=i.seen(),o=i.curr(),s=i.prev(),l=e.index(),c=e.bisect(e.range),u=e.bisect(t),f=u[0],d=u[1],h=c[0],m=c[1],g=e.one;let p,y,b;if(f<h)for(p=f,y=Math.min(h,d);p<y;++p)b=l[p],a[b]!==n&&(s[b]=o[b],a[b]=n,r.push(b)),o[b]^=g;else if(f>h)for(p=h,y=Math.min(f,m);p<y;++p)b=l[p],a[b]!==n&&(s[b]=o[b],a[b]=n,r.push(b)),o[b]^=g;if(d>m)for(p=Math.max(f,m),y=d;p<y;++p)b=l[p],a[b]!==n&&(s[b]=o[b],a[b]=n,r.push(b)),o[b]^=g;else if(d<m)for(p=Math.max(h,d),y=m;p<y;++p)b=l[p],a[b]!==n&&(s[b]=o[b],a[b]=n,r.push(b)),o[b]^=g;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,a=i.curr(),o=e.index(),s=e.bisect(e.range),l=e.bisect(t),c=l[0],u=l[1],f=s[0],d=s[1],h=e.one;let m,g,p;if(c<f)for(m=c,g=Math.min(f,u);m<g;++m)p=o[m],a[p]^=h,n.push(p);else if(c>f)for(m=f,g=Math.min(c,d);m<g;++m)p=o[m],a[p]^=h,r.push(p);if(u>d)for(m=Math.max(c,d),g=u;m<g;++m)p=o[m],a[p]^=h,n.push(p);else if(u<d)for(m=Math.max(f,u),g=d;m<g;++m)p=o[m],a[p]^=h,r.push(p);e.range=t.slice()}});function G_(e){I.call(this,null,e)}G_.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};H(G_,I,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if(!(i&n))return t.StopPropagation;const a=t.fork(t.ALL),o=r.data(),s=r.curr(),l=r.prev(),c=u=>s[u]&n?null:o[u];return a.filter(a.MOD,c),i&i-1?(a.filter(a.ADD,u=>{const f=s[u]&n;return!f&&f^l[u]&n?o[u]:null}),a.filter(a.REM,u=>{const f=s[u]&n;return f&&!(f^(f^l[u]&n))?o[u]:null})):(a.filter(a.ADD,c),a.filter(a.REM,u=>(s[u]&n)===i?o[u]:null)),a.filter(a.SOURCE,u=>c(u._index))}});const Lhe=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:z_,resolvefilter:G_},Symbol.toStringTag,{value:"Module"})),Fhe="RawCode",E0="Literal",Bhe="Property",$he="Identifier",Nhe="ArrayExpression",Ihe="BinaryExpression",OZ="CallExpression",Zhe="ConditionalExpression",Rhe="LogicalExpression",Phe="MemberExpression",jhe="ObjectExpression",zhe="UnaryExpression";function Si(e){this.type=e}Si.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=Ghe(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function Ghe(e){switch(e.type){case Nhe:return e.elements;case Ihe:case Rhe:return[e.left,e.right];case OZ:return[e.callee].concat(e.arguments);case Zhe:return[e.test,e.consequent,e.alternate];case Phe:return[e.object,e.property];case jhe:return e.properties;case Bhe:return[e.key,e.value];case zhe:return[e.argument];case $he:case E0:case Fhe:default:return[]}}var ma,ne,Z,mn,Ge,A2=1,vh=2,M0=3,ps=4,S2=5,J0=6,jn=7,xh=8,Uhe=9;ma={};ma[A2]="Boolean";ma[vh]="<end>";ma[M0]="Identifier";ma[ps]="Keyword";ma[S2]="Null";ma[J0]="Numeric";ma[jn]="Punctuator";ma[xh]="String";ma[Uhe]="RegularExpression";var Whe="ArrayExpression",Hhe="BinaryExpression",Yhe="CallExpression",qhe="ConditionalExpression",CZ="Identifier",Vhe="Literal",Xhe="LogicalExpression",Jhe="MemberExpression",Khe="ObjectExpression",Qhe="Property",e1e="UnaryExpression",It="Unexpected token %0",t1e="Unexpected number",n1e="Unexpected string",r1e="Unexpected identifier",i1e="Unexpected reserved word",a1e="Unexpected end of input",f5="Invalid regular expression",zb="Invalid regular expression: missing /",DZ="Octal literals are not allowed in strict mode.",o1e="Duplicate data property in object literal not allowed in strict mode",Ht="ILLEGAL",pd="Disabled.",s1e=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),l1e=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function E2(e,t){if(!e)throw new Error("ASSERT: "+t)}function Ba(e){return e>=48&&e<=57}function U_(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function Bf(e){return"01234567".indexOf(e)>=0}function c1e(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function gd(e){return e===10||e===13||e===8232||e===8233}function _h(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&s1e.test(String.fromCharCode(e))}function Op(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&l1e.test(String.fromCharCode(e))}const u1e={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function LZ(){for(;Z<mn;){const e=ne.charCodeAt(Z);if(c1e(e)||gd(e))++Z;else break}}function d5(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)Z<mn&&U_(ne[Z])?(r=ne[Z++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):$e({},It,Ht);return String.fromCharCode(i)}function f1e(){var e,t,n,r;for(e=ne[Z],t=0,e==="}"&&$e({},It,Ht);Z<mn&&(e=ne[Z++],!!U_(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&$e({},It,Ht),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function FZ(){var e,t;for(e=ne.charCodeAt(Z++),t=String.fromCharCode(e),e===92&&(ne.charCodeAt(Z)!==117&&$e({},It,Ht),++Z,e=d5("u"),(!e||e==="\\"||!_h(e.charCodeAt(0)))&&$e({},It,Ht),t=e);Z<mn&&(e=ne.charCodeAt(Z),!!Op(e));)++Z,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),ne.charCodeAt(Z)!==117&&$e({},It,Ht),++Z,e=d5("u"),(!e||e==="\\"||!Op(e.charCodeAt(0)))&&$e({},It,Ht),t+=e);return t}function d1e(){var e,t;for(e=Z++;Z<mn;){if(t=ne.charCodeAt(Z),t===92)return Z=e,FZ();if(Op(t))++Z;else break}return ne.slice(e,Z)}function h1e(){var e,t,n;return e=Z,t=ne.charCodeAt(Z)===92?FZ():d1e(),t.length===1?n=M0:u1e.hasOwnProperty(t)?n=ps:t==="null"?n=S2:t==="true"||t==="false"?n=A2:n=M0,{type:n,value:t,start:e,end:Z}}function Gb(){var e=Z,t=ne.charCodeAt(Z),n,r=ne[Z],i,a,o;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Z,{type:jn,value:String.fromCharCode(t),start:e,end:Z};default:if(n=ne.charCodeAt(Z+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Z+=2,{type:jn,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:Z};case 33:case 61:return Z+=2,ne.charCodeAt(Z)===61&&++Z,{type:jn,value:ne.slice(e,Z),start:e,end:Z}}}if(o=ne.substr(Z,4),o===">>>=")return Z+=4,{type:jn,value:o,start:e,end:Z};if(a=o.substr(0,3),a===">>>"||a==="<<="||a===">>=")return Z+=3,{type:jn,value:a,start:e,end:Z};if(i=a.substr(0,2),r===i[1]&&"+-<>&|".indexOf(r)>=0||i==="=>")return Z+=2,{type:jn,value:i,start:e,end:Z};if(i==="//"&&$e({},It,Ht),"<>=!+-*%&|^/".indexOf(r)>=0)return++Z,{type:jn,value:r,start:e,end:Z};$e({},It,Ht)}function m1e(e){let t="";for(;Z<mn&&U_(ne[Z]);)t+=ne[Z++];return t.length===0&&$e({},It,Ht),_h(ne.charCodeAt(Z))&&$e({},It,Ht),{type:J0,value:parseInt("0x"+t,16),start:e,end:Z}}function p1e(e){let t="0"+ne[Z++];for(;Z<mn&&Bf(ne[Z]);)t+=ne[Z++];return(_h(ne.charCodeAt(Z))||Ba(ne.charCodeAt(Z)))&&$e({},It,Ht),{type:J0,value:parseInt(t,8),octal:!0,start:e,end:Z}}function VS(){var e,t,n;if(n=ne[Z],E2(Ba(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=Z,e="",n!=="."){if(e=ne[Z++],n=ne[Z],e==="0"){if(n==="x"||n==="X")return++Z,m1e(t);if(Bf(n))return p1e(t);n&&Ba(n.charCodeAt(0))&&$e({},It,Ht)}for(;Ba(ne.charCodeAt(Z));)e+=ne[Z++];n=ne[Z]}if(n==="."){for(e+=ne[Z++];Ba(ne.charCodeAt(Z));)e+=ne[Z++];n=ne[Z]}if(n==="e"||n==="E")if(e+=ne[Z++],n=ne[Z],(n==="+"||n==="-")&&(e+=ne[Z++]),Ba(ne.charCodeAt(Z)))for(;Ba(ne.charCodeAt(Z));)e+=ne[Z++];else $e({},It,Ht);return _h(ne.charCodeAt(Z))&&$e({},It,Ht),{type:J0,value:parseFloat(e),start:t,end:Z}}function g1e(){var e="",t,n,r,i,a=!1;for(t=ne[Z],E2(t==="'"||t==='"',"String literal must starts with a quote"),n=Z,++Z;Z<mn;)if(r=ne[Z++],r===t){t="";break}else if(r==="\\")if(r=ne[Z++],!r||!gd(r.charCodeAt(0)))switch(r){case"u":case"x":ne[Z]==="{"?(++Z,e+=f1e()):e+=d5(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:Bf(r)?(i="01234567".indexOf(r),i!==0&&(a=!0),Z<mn&&Bf(ne[Z])&&(a=!0,i=i*8+"01234567".indexOf(ne[Z++]),"0123".indexOf(r)>=0&&Z<mn&&Bf(ne[Z])&&(i=i*8+"01234567".indexOf(ne[Z++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&ne[Z]===`
`&&++Z;else{if(gd(r.charCodeAt(0)))break;e+=r}return t!==""&&$e({},It,Ht),{type:xh,value:e,octal:a,start:n,end:Z}}function y1e(e,t){let n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";$e({},f5)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{$e({},f5)}try{return new RegExp(e,t)}catch{return null}}function b1e(){var e,t,n,r,i;for(e=ne[Z],E2(e==="/","Regular expression literal must start with a slash"),t=ne[Z++],n=!1,r=!1;Z<mn;)if(e=ne[Z++],t+=e,e==="\\")e=ne[Z++],gd(e.charCodeAt(0))&&$e({},zb),t+=e;else if(gd(e.charCodeAt(0)))$e({},zb);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||$e({},zb),i=t.substr(1,t.length-2),{value:i,literal:t}}function v1e(){var e,t,n;for(t="",n="";Z<mn&&(e=ne[Z],!!Op(e.charCodeAt(0)));)++Z,e==="\\"&&Z<mn?$e({},It,Ht):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&$e({},f5,n),{value:n,literal:t}}function x1e(){var e,t,n,r;return Ge=null,LZ(),e=Z,t=b1e(),n=v1e(),r=y1e(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:Z}}function _1e(e){return e.type===M0||e.type===ps||e.type===A2||e.type===S2}function BZ(){if(LZ(),Z>=mn)return{type:vh,start:Z,end:Z};const e=ne.charCodeAt(Z);return _h(e)?h1e():e===40||e===41||e===59?Gb():e===39||e===34?g1e():e===46?Ba(ne.charCodeAt(Z+1))?VS():Gb():Ba(e)?VS():Gb()}function Wn(){const e=Ge;return Z=e.end,Ge=BZ(),Z=e.end,e}function $Z(){const e=Z;Ge=BZ(),Z=e}function w1e(e){const t=new Si(Whe);return t.elements=e,t}function XS(e,t,n){const r=new Si(e==="||"||e==="&&"?Xhe:Hhe);return r.operator=e,r.left=t,r.right=n,r}function T1e(e,t){const n=new Si(Yhe);return n.callee=e,n.arguments=t,n}function A1e(e,t,n){const r=new Si(qhe);return r.test=e,r.consequent=t,r.alternate=n,r}function W_(e){const t=new Si(CZ);return t.name=e,t}function xf(e){const t=new Si(Vhe);return t.value=e.value,t.raw=ne.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function JS(e,t,n){const r=new Si(Jhe);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function S1e(e){const t=new Si(Khe);return t.properties=e,t}function KS(e,t,n){const r=new Si(Qhe);return r.key=t,r.value=n,r.kind=e,r}function E1e(e,t){const n=new Si(e1e);return n.operator=e,n.argument=t,n.prefix=!0,n}function $e(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(a,o)=>(E2(o<r.length,"Message reference must be in range"),r[o]));throw n=new Error(i),n.index=Z,n.description=i,n}function M2(e){e.type===vh&&$e(e,a1e),e.type===J0&&$e(e,t1e),e.type===xh&&$e(e,n1e),e.type===M0&&$e(e,r1e),e.type===ps&&$e(e,i1e),$e(e,It,e.value)}function pn(e){const t=Wn();(t.type!==jn||t.value!==e)&&M2(t)}function nt(e){return Ge.type===jn&&Ge.value===e}function Ub(e){return Ge.type===ps&&Ge.value===e}function M1e(){const e=[];for(Z=Ge.start,pn("[");!nt("]");)nt(",")?(Wn(),e.push(null)):(e.push(k0()),nt("]")||pn(","));return Wn(),w1e(e)}function QS(){Z=Ge.start;const e=Wn();return e.type===xh||e.type===J0?(e.octal&&$e(e,DZ),xf(e)):W_(e.value)}function k1e(){var e,t,n,r;if(Z=Ge.start,e=Ge,e.type===M0)return n=QS(),pn(":"),r=k0(),KS("init",n,r);if(e.type===vh||e.type===jn)M2(e);else return t=QS(),pn(":"),r=k0(),KS("init",t,r)}function O1e(){var e=[],t,n,r,i={},a=String;for(Z=Ge.start,pn("{");!nt("}");)t=k1e(),t.key.type===CZ?n=t.key.name:n=a(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?$e({},o1e):i[r]=!0,e.push(t),nt("}")||pn(",");return pn("}"),S1e(e)}function C1e(){pn("(");const e=H_();return pn(")"),e}const D1e={if:1};function L1e(){var e,t,n;if(nt("("))return C1e();if(nt("["))return M1e();if(nt("{"))return O1e();if(e=Ge.type,Z=Ge.start,e===M0||D1e[Ge.value])n=W_(Wn().value);else if(e===xh||e===J0)Ge.octal&&$e(Ge,DZ),n=xf(Wn());else{if(e===ps)throw new Error(pd);e===A2?(t=Wn(),t.value=t.value==="true",n=xf(t)):e===S2?(t=Wn(),t.value=null,n=xf(t)):nt("/")||nt("/=")?(n=xf(x1e()),$Z()):M2(Wn())}return n}function F1e(){const e=[];if(pn("("),!nt(")"))for(;Z<mn&&(e.push(k0()),!nt(")"));)pn(",");return pn(")"),e}function B1e(){Z=Ge.start;const e=Wn();return _1e(e)||M2(e),W_(e.value)}function $1e(){return pn("."),B1e()}function N1e(){pn("[");const e=H_();return pn("]"),e}function I1e(){var e,t,n;for(e=L1e();;)if(nt("."))n=$1e(),e=JS(".",e,n);else if(nt("("))t=F1e(),e=T1e(e,t);else if(nt("["))n=N1e(),e=JS("[",e,n);else break;return e}function eE(){const e=I1e();if(Ge.type===jn&&(nt("++")||nt("--")))throw new Error(pd);return e}function cm(){var e,t;if(Ge.type!==jn&&Ge.type!==ps)t=eE();else{if(nt("++")||nt("--"))throw new Error(pd);if(nt("+")||nt("-")||nt("~")||nt("!"))e=Wn(),t=cm(),t=E1e(e.value,t);else{if(Ub("delete")||Ub("void")||Ub("typeof"))throw new Error(pd);t=eE()}}return t}function tE(e){let t=0;if(e.type!==jn&&e.type!==ps)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function Z1e(){var e,t,n,r,i,a,o,s,l,c;if(e=Ge,l=cm(),r=Ge,i=tE(r),i===0)return l;for(r.prec=i,Wn(),t=[e,Ge],o=cm(),a=[l,r,o];(i=tE(Ge))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)o=a.pop(),s=a.pop().value,l=a.pop(),t.pop(),n=XS(s,l,o),a.push(n);r=Wn(),r.prec=i,a.push(r),t.push(Ge),n=cm(),a.push(n)}for(c=a.length-1,n=a[c],t.pop();c>1;)t.pop(),n=XS(a[c-1].value,a[c-2],n),c-=2;return n}function k0(){var e,t,n;return e=Z1e(),nt("?")&&(Wn(),t=k0(),pn(":"),n=k0(),e=A1e(e,t,n)),e}function H_(){const e=k0();if(nt(","))throw new Error(pd);return e}function Y_(e){ne=e,Z=0,mn=ne.length,Ge=null,$Z();const t=H_();if(Ge.type!==vh)throw new Error("Unexpect token after expression.");return t}var NZ={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function IZ(e){function t(o,s,l,c){let u=e(s[0]);return l&&(u=l+"("+u+")",l.lastIndexOf("new ",0)===0&&(u="("+u+")")),u+"."+o+(c<0?"":c===0?"()":"("+s.slice(1).map(e).join(",")+")")}function n(o,s,l){return c=>t(o,c,s,l)}const r="new Date",i="String",a="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(o){o.length<3&&P("Missing arguments to clamp function."),o.length>3&&P("Too many arguments to clamp function.");const s=o.map(e);return"Math.max("+s[1]+", Math.min("+s[2]+","+s[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),regexp:a,test:n("test",a),if:function(o){o.length<3&&P("Missing arguments to if function."),o.length>3&&P("Too many arguments to if function.");const s=o.map(e);return"("+s[0]+"?"+s[1]+":"+s[2]+")"}}}function R1e(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function ZZ(e){e=e||{};const t=e.allowed?bi(e.allowed):{},n=e.forbidden?bi(e.forbidden):{},r=e.constants||NZ,i=(e.functions||IZ)(f),a=e.globalvar,o=e.fieldvar,s=_e(a)?a:m=>`${a}["${m}"]`;let l={},c={},u=0;function f(m){if(J(m))return m;const g=d[m.type];return g==null&&P("Unsupported type: "+m.type),g(m)}const d={Literal:m=>m.raw,Identifier:m=>{const g=m.name;return u>0?g:oe(n,g)?P("Illegal identifier: "+g):oe(r,g)?r[g]:oe(t,g)?g:(l[g]=1,s(g))},MemberExpression:m=>{const g=!m.computed,p=f(m.object);g&&(u+=1);const y=f(m.property);return p===o&&(c[R1e(y)]=1),g&&(u-=1),p+(g?"."+y:"["+y+"]")},CallExpression:m=>{m.callee.type!=="Identifier"&&P("Illegal callee type: "+m.callee.type);const g=m.callee.name,p=m.arguments,y=oe(i,g)&&i[g];return y||P("Unrecognized function: "+g),_e(y)?y(p):y+"("+p.map(f).join(",")+")"},ArrayExpression:m=>"["+m.elements.map(f).join(",")+"]",BinaryExpression:m=>"("+f(m.left)+" "+m.operator+" "+f(m.right)+")",UnaryExpression:m=>"("+m.operator+f(m.argument)+")",ConditionalExpression:m=>"("+f(m.test)+"?"+f(m.consequent)+":"+f(m.alternate)+")",LogicalExpression:m=>"("+f(m.left)+m.operator+f(m.right)+")",ObjectExpression:m=>"{"+m.properties.map(f).join(",")+"}",Property:m=>{u+=1;const g=f(m.key);return u-=1,g+":"+f(m.value)}};function h(m){const g={code:f(m),globals:Object.keys(l),fields:Object.keys(c)};return l={},c={},g}return h.functions=i,h.constants=r,h}function P1e(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function j1e(e){let t=e,n=e;e.length===1&&(t=(o,s)=>e(o)-s,n=z1e(e));function r(o,s,l,c){for(l==null&&(l=0),c==null&&(c=o.length);l<c;){const u=l+c>>>1;n(o[u],s)<0?l=u+1:c=u}return l}function i(o,s,l,c){for(l==null&&(l=0),c==null&&(c=o.length);l<c;){const u=l+c>>>1;n(o[u],s)>0?c=u:l=u+1}return l}function a(o,s,l,c){l==null&&(l=0),c==null&&(c=o.length);const u=r(o,s,l,c-1);return u>l&&t(o[u-1],s)>-t(o[u],s)?u-1:u}return{left:r,center:a,right:i}}function z1e(e){return(t,n)=>P1e(e(t),n)}const q_="intersect",nE="union",G1e="vlMulti",U1e="vlPoint",rE="or",W1e="and",H1e="_vgsid_",Y1e="E",q1e="R",V1e="R-E",X1e="R-LE",J1e="R-RE",Cp="index:unit";function iE(e,t){for(var n=t.fields,r=t.values,i=n.length,a=0,o,s;a<i;++a)if(s=n[a],s.getter=Xn.getter||Xn(s.field),o=s.getter(e),Bo(o)&&(o=cn(o)),Bo(r[a])&&(r[a]=cn(r[a])),Bo(r[a][0])&&(r[a]=r[a].map(cn)),s.type===Y1e){if(j(r[a])?r[a].indexOf(o)<0:o!==r[a])return!1}else if(s.type===q1e){if(!$l(o,r[a]))return!1}else if(s.type===J1e){if(!$l(o,r[a],!0,!1))return!1}else if(s.type===V1e){if(!$l(o,r[a],!1,!1))return!1}else if(s.type===X1e&&!$l(o,r[a],!1,!0))return!1;return!0}function K1e(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],a=r?r[Cp]&&r[Cp].value:void 0,o=n===q_,s=i.length,l=0,c,u,f,d,h;l<s;++l)if(c=i[l],a&&o){if(u=u||{},f=u[d=c.unit]||0,f===-1)continue;if(h=iE(t,c),u[d]=h?-1:++f,h&&a.size===1)return!0;if(!h&&f===a.get(d).count)return!1}else if(h=iE(t,c),o^h)return h;return s&&o}const h5=Xn(H1e),RZ=j1e(h5),Q1e=RZ.left,eme=RZ.right;function tme(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],a=r?r[Cp]&&r[Cp].value:void 0,o=n===q_,s=h5(t),l=Q1e(i,s);if(l===i.length||h5(i[l])!==s)return!1;if(a&&o){if(a.size===1)return!0;if(eme(i,s)-l<a.size)return!1}return!0}function nme(e,t){return e.map(n=>xe({values:t.fields.map(r=>(r.getter||(r.getter=Xn(r.field)))(n.datum))},t))}function rme(e,t,n,r){for(var i=this.context.data[e],a=i?i.values.value:[],o={},s={},l={},c,u,f,d,h,m,g,p,y,b=a.length,v=0,x,_;v<b;++v){for(c=a[v],d=c.unit,u=c.fields,f=c.values,x=0,_=u.length;x<_;++x)h=u[x],m=o[h.field]||(o[h.field]={}),g=m[d]||(m[d]=[]),l[h.field]=p=h.type.charAt(0),y=aE[p+"_union"],m[d]=y(g,Q(f[x]));n&&(g=s[d]||(s[d]=[]),g.push(Q(f).reduce((T,w,S)=>(T[u[S].field]=w,T),{})))}if(t=t||nE,Object.keys(o).forEach(T=>{o[T]=Object.keys(o[T]).map(w=>o[T][w]).reduce((w,S)=>w===void 0?S:aE[l[T]+"_"+t](w,S))}),a=Object.keys(s),n&&a.length){const T=r?U1e:G1e;o[T]=t===nE?{[rE]:a.reduce((w,S)=>(w.push(...s[S]),w),[])}:{[W1e]:a.map(w=>({[rE]:s[w]}))}}return o}var aE={E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.indexOf(n)>=0):t},R_union:function(e,t){var n=cn(t[0]),r=cn(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=cn(t[0]),r=cn(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const ime=":",ame="@";function V_(e,t,n,r){t[0].type!==E0&&P("First argument to selection functions must be a string literal.");const i=t[0].value,a=t.length>=2&&Oe(t).value,o="unit",s=ame+o,l=ime+i;a===q_&&!oe(r,s)&&(r[s]=n.getData(i).indataRef(n,o)),oe(r,l)||(r[l]=n.getData(i).tuplesRef())}function PZ(e){const t=this.context.data[e];return t?t.values.value:[]}function ome(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function sme(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(Fr).insert(t)),1}function lme(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const wh=e=>function(t,n){return this.context.dataflow.locale()[e](n)(t)},cme=wh("format"),jZ=wh("timeFormat"),ume=wh("utcFormat"),fme=wh("timeParse"),dme=wh("utcParse"),v1=new Date(2e3,0,1);function k2(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(v1.setYear(2e3),v1.setMonth(e),v1.setDate(t),jZ.call(this,v1,n))}function hme(e){return k2.call(this,e,1,"%B")}function mme(e){return k2.call(this,e,1,"%b")}function pme(e){return k2.call(this,0,2+e,"%A")}function gme(e){return k2.call(this,0,2+e,"%a")}const yme=":",bme="@",m5="%",zZ="$";function X_(e,t,n,r){t[0].type!==E0&&P("First argument to data functions must be a string literal.");const i=t[0].value,a=yme+i;if(!oe(a,r))try{r[a]=n.getData(i).tuplesRef()}catch{}}function vme(e,t,n,r){t[0].type!==E0&&P("First argument to indata must be a string literal."),t[1].type!==E0&&P("Second argument to indata must be a string literal.");const i=t[0].value,a=t[1].value,o=bme+a;oe(o,r)||(r[o]=n.getData(i).indataRef(n,a))}function Hn(e,t,n,r){if(t[0].type===E0)oE(n,r,t[0].value);else for(e in n.scales)oE(n,r,e)}function oE(e,t,n){const r=m5+n;if(!oe(t,r))try{t[r]=e.scaleRef(n)}catch{}}function io(e,t){let n;return _e(e)?e:J(e)?(n=t.scales[e])&&n.value:void 0}function xme(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=Hn,n._range=Hn,n._scale=Hn;const r=i=>"_["+(i.type===E0?q(m5+i.value):q(m5)+"+"+e(i))+"]";return{_bandwidth:i=>"this.__bandwidth(".concat(r(i[0]),")"),_range:i=>"".concat(r(i[0]),".range()"),_scale:i=>"".concat(r(i[0]),"(").concat(e(i[1]),")")}}function J_(e,t){return function(n,r,i){if(n){const a=io(n,(i||this).context);return a&&a.path[e](r)}else return t(r)}}const _me=J_("area",xC),wme=J_("bounds",SC),Tme=J_("centroid",OC);function Ame(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function K_(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function Sme(){return K_(this.context.dataflow,"warn",arguments)}function Eme(){return K_(this.context.dataflow,"info",arguments)}function Mme(){return K_(this.context.dataflow,"debug",arguments)}function Wb(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function p5(e){const t=Ki(e),n=Wb(t.r),r=Wb(t.g),i=Wb(t.b);return .2126*n+.7152*r+.0722*i}function kme(e,t){const n=p5(e),r=p5(t),i=Math.max(n,r),a=Math.min(n,r);return(i+.05)/(a+.05)}function Ome(){const e=[].slice.call(arguments);return e.unshift({}),xe(...e)}function GZ(e,t){return e===t||e!==e&&t!==t?!0:j(e)?j(t)&&e.length===t.length?Cme(e,t):!1:ee(e)&&ee(t)?UZ(e,t):!1}function Cme(e,t){for(let n=0,r=e.length;n<r;++n)if(!GZ(e[n],t[n]))return!1;return!0}function UZ(e,t){for(const n in e)if(!GZ(e[n],t[n]))return!1;return!0}function sE(e){return t=>UZ(e,t)}function Dme(e,t,n,r,i,a){const o=this.context.dataflow,s=this.context.data[e],l=s.input,c=o.stamp();let u=s.changes,f,d;if(o._trigger===!1||!(l.value.length||t||r))return 0;if((!u||u.stamp<c)&&(s.changes=u=o.changeset(),u.stamp=c,o.runAfter(()=>{s.modified=!0,o.pulse(l,u).run()},!0,1)),n&&(f=n===!0?Fr:j(n)||Kg(n)?n:sE(n),u.remove(f)),t&&u.insert(t),r&&(f=sE(r),l.value.some(f)?u.remove(f):u.insert(r)),i)for(d in a)u.modify(i,d,a[d]);return 1}function Lme(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+r*r)}function Fme(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const lE={};function Bme(e,t){const n=lE[t]||(lE[t]=Xn(t));return j(e)?e.map(n):n(e)}function Q_(e){return j(e)||ArrayBuffer.isView(e)?e:null}function e9(e){return Q_(e)||(J(e)?e:null)}function $me(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Q_(e).join(...n)}function Nme(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e9(e).indexOf(...n)}function Ime(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e9(e).lastIndexOf(...n)}function Zme(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e9(e).slice(...n)}function Rme(e,t,n){return _e(n)&&P("Function argument passed to replace."),String(e).replace(t,n)}function Pme(e){return Q_(e).slice().reverse()}function jme(e,t,n){return _x(e||0,t||0,n||0)}function zme(e,t){const n=io(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function Gme(e,t){const n=io(e,(t||this).context);return n?n.copy():void 0}function Ume(e,t){const n=io(e,(t||this).context);return n?n.domain():[]}function Wme(e,t,n){const r=io(e,(n||this).context);return r?j(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function Hme(e,t){const n=io(e,(t||this).context);return n&&n.range?n.range():[]}function Yme(e,t,n){const r=io(e,(n||this).context);return r?r(t):void 0}function qme(e,t,n,r,i){e=io(e,(i||this).context);const a=UN(t,n);let o=e.domain(),s=o[0],l=Oe(o),c=yn;return l-s?c=LN(e,s,l):e=(e.interpolator?Ie("sequential")().interpolator(e.interpolator()):Ie("linear")().interpolate(e.interpolate()).range(e.range())).domain([s=0,l=1]),e.ticks&&(o=e.ticks(+r||15),s!==o[0]&&o.unshift(s),l!==Oe(o)&&o.push(l)),o.forEach(u=>a.stop(c(u),e(u))),a}function Vme(e,t,n){const r=io(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function Xme(e){let t=null;return function(n){return n?ud(n,t=t||wc(e)):e}}const WZ=e=>e.data;function HZ(e,t){const n=PZ.call(t,e);return n.root&&n.root.lookup||{}}function Jme(e,t,n){const r=HZ(e,this),i=r[t],a=r[n];return i&&a?i.path(a).map(WZ):void 0}function Kme(e,t){const n=HZ(e,this)[t];return n?n.ancestors().map(WZ):void 0}const YZ=()=>typeof window<"u"&&window||null;function Qme(){const e=YZ();return e?e.screen:{}}function epe(){const e=YZ();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function tpe(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function qZ(e,t,n){if(!e)return[];const[r,i]=e,a=new xt().set(r[0],r[1],i[0],i[1]),o=n||this.context.dataflow.scenegraph().root;return BI(o,a,npe(t))}function npe(e){let t=null;if(e){const n=Q(e.marktype),r=Q(e.markname);t=i=>(!n.length||n.some(a=>i.marktype===a))&&(!r.length||r.some(a=>i.name===a))}return t}function rpe(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;const i=e[e.length-1];return i===void 0||Math.sqrt((i[0]-t)**2+(i[1]-n)**2)>r?(e.push([t,n]),[...e]):e}function ipe(e){return(e??[]).reduce((t,n,r)=>{let[i,a]=n;return t+=r==0?"M ".concat(i,",").concat(a," "):r===e.length-1?" Z":"L ".concat(i,",").concat(a," ")},"")}function ape(e,t,n){const{x:r,y:i,mark:a}=n,o=new xt().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[l,c]of t)l<o.x1&&(o.x1=l),l>o.x2&&(o.x2=l),c<o.y1&&(o.y1=c),c>o.y2&&(o.y2=c);return o.translate(r,i),qZ([[o.x1,o.y1],[o.x2,o.y2]],e,a).filter(l=>ope(l.x,l.y,t))}function ope(e,t,n){let r=0;for(let i=0,a=n.length-1;i<n.length;a=i++){const[o,s]=n[a],[l,c]=n[i];c>t!=s>t&&e<(o-l)*(t-c)/(s-c)+l&&r++}return r&1}const yd={random(){return $r()},cumulativeNormal:r2,cumulativeLogNormal:z4,cumulativeUniform:H4,densityNormal:I4,densityLogNormal:j4,densityUniform:W4,quantileNormal:i2,quantileLogNormal:G4,quantileUniform:Y4,sampleNormal:n2,sampleLogNormal:P4,sampleUniform:U4,isArray:j,isBoolean:ms,isDate:Bo,isDefined(e){return e!==void 0},isNumber:He,isObject:ee,isRegExp:UB,isString:J,isTuple:Kg,isValid(e){return e!=null&&e===e},toBoolean:_4,toDate(e){return w4(e)},toNumber:cn,toString:T4,indexof:Nme,join:$me,lastindexof:Ime,replace:Rme,reverse:Pme,slice:Zme,flush:zB,lerp:WB,merge:Ome,pad:qB,peek:Oe,pluck:Bme,span:rh,inrange:$l,truncate:VB,rgb:Ki,lab:Uf,hcl:ac,hsl:ic,luminance:p5,contrast:kme,sequence:sn,format:cme,utcFormat:ume,utcParse:dme,utcOffset:c$,utcSequence:d$,timeFormat:jZ,timeParse:fme,timeOffset:l$,timeSequence:f$,timeUnitSpecifier:JB,monthFormat:hme,monthAbbrevFormat:mme,dayFormat:pme,dayAbbrevFormat:gme,quarter:ZB,utcquarter:RB,week:QB,utcweek:n$,dayofyear:KB,utcdayofyear:t$,warn:Sme,info:Eme,debug:Mme,extent(e){return na(e)},inScope:Ame,intersect:qZ,clampRange:PB,pinchDistance:Lme,pinchAngle:Fme,screen:Qme,containerSize:tpe,windowSize:epe,bandspace:jme,setdata:sme,pathShape:Xme,panLinear:BB,panLog:$B,panPow:NB,panSymlog:IB,zoomLinear:p4,zoomLog:g4,zoomPow:fp,zoomSymlog:y4,encode:lme,modify:Dme,lassoAppend:rpe,lassoPath:ipe,intersectLasso:ape},spe=["view","item","group","xy","x","y"],lpe="event.vega.",VZ="this.",t9={},XZ={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>"_[".concat(q(zZ+e),"]"),functions:cpe,constants:NZ,visitors:t9},g5=ZZ(XZ);function cpe(e){const t=IZ(e);spe.forEach(n=>t[n]=lpe+n);for(const n in yd)t[n]=VZ+n;return xe(t,xme(e,yd,t9)),t}function Tt(e,t,n){return arguments.length===1?yd[e]:(yd[e]=t,n&&(t9[e]=n),g5&&(g5.functions[e]=VZ+e),this)}Tt("bandwidth",zme,Hn);Tt("copy",Gme,Hn);Tt("domain",Ume,Hn);Tt("range",Hme,Hn);Tt("invert",Wme,Hn);Tt("scale",Yme,Hn);Tt("gradient",qme,Hn);Tt("geoArea",_me,Hn);Tt("geoBounds",wme,Hn);Tt("geoCentroid",Tme,Hn);Tt("geoShape",Vme,Hn);Tt("indata",ome,vme);Tt("data",PZ,X_);Tt("treePath",Jme,X_);Tt("treeAncestors",Kme,X_);Tt("vlSelectionTest",K1e,V_);Tt("vlSelectionIdTest",tme,V_);Tt("vlSelectionResolve",rme,V_);Tt("vlSelectionTuples",nme);function ia(e,t){const n={};let r;try{e=J(e)?e:q(e)+"",r=Y_(e)}catch{P("Expression parse error: "+e)}r.visit(a=>{if(a.type!==OZ)return;const o=a.callee.name,s=XZ.visitors[o];s&&s(o,a.arguments,t,n)});const i=g5(r);return i.globals.forEach(a=>{const o=zZ+a;!oe(n,o)&&t.getSignal(a)&&(n[o]=t.signalRef(a))}),{$expr:xe({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function upe(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const fpe=bi(["rule"]),cE=bi(["group","image","rect"]);function dpe(e,t){let n="";return fpe[t]||(e.x2&&(e.x?(cE[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(cE[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function n9(e){return(e+"").toLowerCase()}function hpe(e){return n9(e)==="operator"}function mpe(e){return n9(e)==="collect"}function Ru(e,t,n){n[n.length-1]!==";"&&(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function ppe(e,t,n,r){return"((u = ".concat(e,") < (v = ").concat(t,") || u == null) && v != null ? ").concat(n,`
  : (u > v || v == null) && u != null ? `).concat(r,`
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? `).concat(n,`
  : v !== v && u === u ? `).concat(r," : ")}var gpe={operator:(e,t)=>Ru(e,["_"],t.code),parameter:(e,t)=>Ru(e,["datum","_"],t.code),event:(e,t)=>Ru(e,["event"],t.code),handler:(e,t)=>{const n="var datum=event.item&&event.item.datum;return ".concat(t.code,";");return Ru(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const a in r){const o="o["+q(a)+"]";i+="$=".concat(r[a].code,";if(").concat(o,"!==$)").concat(o,"=$,m=1;")}return i+=dpe(r,n),i+="return m;",Ru(e,["item","_"],i)},codegen:{get(e){const t="[".concat(e.map(q).join("]["),"]"),n=Function("_","return _".concat(t,";"));return n.path=t,n},comparator(e,t){let n;const r=(a,o)=>{const s=t[o];let l,c;return a.path?(l="a".concat(a.path),c="b".concat(a.path)):((n=n||{})["f"+o]=a,l="this.f".concat(o,"(a)"),c="this.f".concat(o,"(b)")),ppe(l,c,-s,s)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function ype(e){const t=this;hpe(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function bpe(e){const t=this;if(e.params){const n=t.get(e.id);n||P("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function vpe(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=j(i)?i.map(a=>uE(a,n,t)):uE(i,n,t)}return t}function uE(e,t,n){if(!e||!ee(e))return e;for(let r=0,i=fE.length,a;r<i;++r)if(a=fE[r],oe(e,a.key))return a.parse(e,t,n);return e}var fE=[{key:"$ref",parse:xpe},{key:"$key",parse:wpe},{key:"$expr",parse:_pe},{key:"$field",parse:Tpe},{key:"$encode",parse:Spe},{key:"$compare",parse:Ape},{key:"$context",parse:Epe},{key:"$subflow",parse:Mpe},{key:"$tupleid",parse:kpe}];function xpe(e,t){return t.get(e.$ref)||P("Operator not defined: "+e.$ref)}function _pe(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code+"_"+e.$name;return t.fn[r]||(t.fn[r]=nr(t.parameterExpression(e.$expr),e.$fields,e.$name))}function wpe(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=x4(e.$key,e.$flat,t.expr.codegen))}function Tpe(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=Xn(e.$field,e.$name,t.expr.codegen))}function Ape(e,t){const n="c:"+e.$compare+"_"+e.$order,r=Q(e.$compare).map(i=>i&&i.$tupleid?le:i);return t.fn[n]||(t.fn[n]=b4(r,e.$order,t.expr.codegen))}function Spe(e,t){const n=e.$encode,r={};for(const i in n){const a=n[i];r[i]=nr(t.encodeExpression(a.$expr),a.$fields),r[i].output=a.$output}return r}function Epe(e,t){return t}function Mpe(e,t){const n=e.$subflow;return function(r,i,a){const o=t.fork().parse(n),s=o.get(n.operators[0].id),l=o.signals.parent;return l&&l.set(a),s.detachSubflow=()=>t.detach(o),s}}function kpe(){return le}function Ope(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(a=>t.get(a)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(a=>t.get(a)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&P("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function Cpe(e){var t=this,n=ee(n=e.source)?n.$ref:n,r=t.get(n),i=null,a=e.update,o=void 0;r||P("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),a&&a.$expr&&(a.$params&&(o=t.parseParameters(a.$params)),a=t.handlerExpression(a.$expr)),t.update(e,r,i,a,o)}const Dpe={skip:!0};function Lpe(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(a=>{const o=t.signals[a];e.signals(a,o)&&(r[a]=o.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(a=>{const o=t.data[a];e.data(a,o)&&(i[a]=o.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(a=>a.getState(e))),n}function Fpe(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(a=>{n.update(t.signals[a],i[a],Dpe)}),Object.keys(r||{}).forEach(a=>{n.pulse(t.data[a].input,n.changeset().remove(Fr).insert(r[a]))}),(e.subcontext||[]).forEach((a,o)=>{const s=t.subcontext[o];s&&s.setState(a)})}function JZ(e,t,n,r){return new KZ(e,t,n,r)}function KZ(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||gpe,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function dE(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}KZ.prototype=dE.prototype={fork(){const e=new dE(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),mpe(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let a=n.get(e.parent.$ref);a?(r.connect(a,[t]),t.targets().add(a)):(n.unresolved=n.unresolved||[]).push(()=>{a=n.get(e.parent.$ref),r.connect(a,[t]),t.targets().add(a)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const a in e.data){const o=n.data[a]||(n.data[a]={});e.data[a].forEach(s=>o[s]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[n9(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:upe,parseOperator:ype,parseOperatorParameters:bpe,parseParameters:vpe,parseStream:Ope,parseUpdate:Cpe,getState:Lpe,setState:Fpe};function Bpe(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),QZ(t,e.description()))}function QZ(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function $pe(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const Hb="default";function Npe(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:Hb,item:null}));e.on(e.events("view","mousemove"),t,(n,r)=>{const i=t.value,a=i?J(i)?i:i.user:Hb,o=r.item&&r.item.cursor||null;return i&&a===i.user&&o==i.item?i:{user:a,item:o}}),e.add(null,function(n){let r=n.cursor,i=this.value;return J(r)||(i=r.item,r=r.user),y5(e,r&&r!==Hb?r:i||r),i},{cursor:t})}function y5(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function Dp(e,t){var n=e._runtime.data;return oe(n,t)||P("Unrecognized data set: "+t),n[t]}function Ipe(e,t){return arguments.length<2?Dp(this,e).values.value:O2.call(this,e,V0().remove(Fr).insert(t))}function O2(e,t){L$(t)||P("Second argument to changes must be a changeset.");const n=Dp(this,e);return n.modified=!0,this.pulse(n.input,t)}function Zpe(e,t){return O2.call(this,e,V0().insert(t))}function Rpe(e,t){return O2.call(this,e,V0().remove(t))}function eR(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function tR(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function C2(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function Ppe(e){var t=C2(e),n=eR(e),r=tR(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(a){e.error(a)}})}function jpe(e,t,n){var r=e._renderer,i=r&&r.canvas(),a,o,s;return i&&(s=C2(e),o=t.changedTouches?t.changedTouches[0]:t,a=_2(o,i),a[0]-=s[0],a[1]-=s[1]),t.dataflow=e,t.item=n,t.vega=zpe(e,n,a),t}function zpe(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(o){var s=r,l;if(o){for(l=t;l;l=l.mark.group)if(l.mark.name===o){s=l;break}}return s&&s.mark&&s.mark.interactive?s:{}}function a(o){if(!o)return n;J(o)&&(o=i(o));const s=n.slice();for(;o;)s[0]-=o.x||0,s[1]-=o.y||0,o=o.mark&&o.mark.group;return s}return{view:bn(e),item:bn(t||{}),group:i,xy:a,x:o=>a(o)[0],y:o=>a(o)[1]}}const hE="view",Gpe="timer",Upe="window",Wpe={trap:!1};function Hpe(e){const t=xe({defaults:{}},e),n=(r,i)=>{i.forEach(a=>{j(r[a])&&(r[a]=bi(r[a]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function nR(e,t,n,r){e._eventListeners.push({type:n,sources:Q(t),handler:r})}function Ype(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function x1(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||ee(r)&&!r[n]?(e.warn("Blocked ".concat(t," ").concat(n," event listener.")),!1):!0}function qpe(e,t,n){var r=this,i=new t2(n),a=function(c,u){r.runAsync(null,()=>{e===hE&&Ype(r,t)&&c.preventDefault(),i.receive(jpe(r,c,u))})},o;if(e===Gpe)x1(r,"timer",t)&&r.timer(a,t);else if(e===hE)x1(r,"view",t)&&r.addEventListener(t,a,Wpe);else if(e===Upe?x1(r,"window",t)&&typeof window<"u"&&(o=[window]):typeof document<"u"&&x1(r,"selector",t)&&(o=document.querySelectorAll(e)),!o)r.warn("Can not resolve event source: "+e);else{for(var s=0,l=o.length;s<l;++s)o[s].addEventListener(t,a);nR(r,o,t,a)}return i}function mE(e){return e.item}function pE(e){return e.item.mark.source}function gE(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function Vpe(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","mouseover",mE),pE,gE(e)),this.on(this.events("view","mouseout",mE),pE,gE(t)),this}function Xpe(){var e=this._tooltip,t=this._timers,n=this._eventListeners,r,i,a;for(r=t.length;--r>=0;)t[r].stop();for(r=n.length;--r>=0;)for(a=n[r],i=a.sources.length;--i>=0;)a.sources[i].removeEventListener(a.type,a.handler);return e&&e.call(this,this._handler,null,null,null),this}function dr(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const Jpe="vega-bind",Kpe="vega-bind-name",Qpe="vega-bind-radio";function ege(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:o=>{o!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,o)})}},r.debounce&&(i.update=v4(r.debounce,i.update))),(r.input==null&&r.element?tge:rge)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function tge(e,t,n,r){const i=n.event||"input",a=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,a),nR(r,t,i,a),e.set=o=>{t.value=o,t.dispatchEvent(nge(i))}}function nge(e){return typeof Event<"u"?new Event(e):{type:e}}function rge(e,t,n,r){const i=r.signal(n.signal),a=dr("div",{class:Jpe}),o=n.input==="radio"?a:a.appendChild(dr("label"));o.appendChild(dr("span",{class:Kpe},n.name||n.signal)),t.appendChild(a);let s=ige;switch(n.input){case"checkbox":s=age;break;case"select":s=oge;break;case"radio":s=sge;break;case"range":s=lge;break}s(e,o,n,i)}function ige(e,t,n,r){const i=dr("input");for(const a in n)a!=="signal"&&a!=="element"&&i.setAttribute(a==="input"?"type":a,n[a]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=a=>i.value=a}function age(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const a=dr("input",i);t.appendChild(a),a.addEventListener("change",()=>e.update(a.checked)),e.elements=[a],e.set=o=>a.checked=!!o||null}function oge(e,t,n,r){const i=dr("select",{name:n.signal}),a=n.labels||[];n.options.forEach((o,s)=>{const l={value:o};Lp(o,r)&&(l.selected=!0),i.appendChild(dr("option",l,(a[s]||o)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=o=>{for(let s=0,l=n.options.length;s<l;++s)if(Lp(n.options[s],o)){i.selectedIndex=s;return}}}function sge(e,t,n,r){const i=dr("span",{class:Qpe}),a=n.labels||[];t.appendChild(i),e.elements=n.options.map((o,s)=>{const l={type:"radio",name:n.signal,value:o};Lp(o,r)&&(l.checked=!0);const c=dr("input",l);c.addEventListener("change",()=>e.update(o));const u=dr("label",{},(a[s]||o)+"");return u.prepend(c),i.appendChild(u),c}),e.set=o=>{const s=e.elements,l=s.length;for(let c=0;c<l;++c)Lp(s[c].value,o)&&(s[c].checked=!0)}}function lge(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,a=n.min||Math.min(0,i,+r)||0,o=n.step||Ya(a,i,100),s=dr("input",{type:"range",name:n.signal,min:a,max:i,step:o});s.value=r;const l=dr("span",{},+r);t.appendChild(s),t.appendChild(l);const c=()=>{l.textContent=s.value,e.update(+s.value)};s.addEventListener("input",c),s.addEventListener("change",c),e.elements=[s],e.set=u=>{s.value=u,l.textContent=u}}function Lp(e,t){return e===t||e+""==t+""}function rR(e,t,n,r,i,a){return t=t||new r(e.loader()),t.initialize(n,eR(e),tR(e),C2(e),i,a).background(e.background())}function r9(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function cge(e,t,n,r){const i=new r(e.loader(),r9(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,C2(e),e);return t&&t.handlers().forEach(a=>{i.on(a.type,a.handler)}),i}function uge(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,a=w2(r);e=n._el=e?Yb(n,e,!0):null,Bpe(n),a||n.error("Unrecognized renderer type: "+r);const o=a.handler||bh,s=e?a.renderer:a.headless;return n._renderer=s?rR(n,n._renderer,e,s):null,n._handler=cge(n,n._handler,e,o),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=Yb(n,t,!0):e.appendChild(dr("form",{class:"vega-bindings"})),n._bind.forEach(l=>{l.param.element&&i!=="container"&&(l.element=Yb(n,l.param.element,!!l.param.input))}),n._bind.forEach(l=>{ege(n,l.element||t,l)})),n}function Yb(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const Pu=e=>+e||0,fge=e=>({top:e,bottom:e,left:e,right:e});function yE(e){return ee(e)?{top:Pu(e.top),bottom:Pu(e.bottom),left:Pu(e.left),right:Pu(e.right)}:fge(Pu(e))}async function i9(e,t,n,r){const i=w2(t),a=i&&i.headless;return a||P("Unrecognized renderer type: "+t),await e.runAsync(),rR(e,null,null,a,n,r).renderAsync(e._scenegraph.root)}async function dge(e,t){e!==Oo.Canvas&&e!==Oo.SVG&&e!==Oo.PNG&&P("Unrecognized image type: "+e);const n=await i9(this,e,t);return e===Oo.SVG?hge(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function hge(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function mge(e,t){return(await i9(this,Oo.Canvas,e,t)).canvas()}async function pge(e){return(await i9(this,Oo.SVG,e)).svg()}function gge(e,t,n){return JZ(e,bc,yd,n).parse(t)}function yge(e){var t=this._runtime.scales;return oe(t,e)||P("Unrecognized scale or projection: "+e),t[e].value}var iR="width",aR="height",a9="padding",bE={skip:!0};function oR(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===a9?r.left+r.right:0)}function sR(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===a9?r.top+r.bottom:0)}function bge(e){var t=e._signals,n=t[iR],r=t[aR],i=t[a9];function a(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,s=>{e._width=s.size,e._viewWidth=oR(e,s.size),a()},{size:n}),e._resizeHeight=e.add(null,s=>{e._height=s.size,e._viewHeight=sR(e,s.size),a()},{size:r});const o=e.add(null,a,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,o.rank=i.rank+1}function vge(e,t,n,r,i,a){this.runAfter(o=>{let s=0;o._autosize=0,o.width()!==n&&(s=1,o.signal(iR,n,bE),o._resizeWidth.skip(!0)),o.height()!==r&&(s=1,o.signal(aR,r,bE),o._resizeHeight.skip(!0)),o._viewWidth!==e&&(o._resize=1,o._viewWidth=e),o._viewHeight!==t&&(o._resize=1,o._viewHeight=t),(o._origin[0]!==i[0]||o._origin[1]!==i[1])&&(o._resize=1,o._origin=i),s&&o.run("enter"),a&&o.runAfter(l=>l.resize())},!1,1)}function xge(e){return this._runtime.getState(e||{data:_ge,signals:wge,recurse:!0})}function _ge(e,t){return t.modified&&j(t.input.value)&&e.indexOf("_:vega:_")}function wge(e,t){return!(e==="parent"||t instanceof bc.proxy)}function Tge(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function Age(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(zO(n,t))}function Sge(e,t,n,r){const i=e.element();i&&i.setAttribute("title",Ege(r))}function Ege(e){return e==null?"":j(e)?lR(e):ee(e)&&!Bo(e)?Mge(e):e+""}function Mge(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(j(n)?lR(n):cR(n))}).join(`
`)}function lR(e){return"["+e.map(cR).join(", ")+"]"}function cR(e){return j(e)?"[…]":ee(e)&&!Bo(e)?"{…}":e}function uR(e,t){const n=this;if(t=t||{},Yl.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const a=xe({},e.locale,t.locale);n.locale(w$(a.number,a.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||Oo.Canvas,n._scenegraph=new Jx;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||Sge,n._redraw=!0,n._handler=new bh().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=Hpe(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=gge(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(a=>({state:null,param:xe({},a)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=oR(n,n._width),n._viewHeight=sR(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,bge(n),$pe(n),Npe(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind)}function _1(e,t){return oe(e._signals,t)?e._signals[t]:P("Unrecognized signal name: "+q(t))}function fR(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function vE(e,t,n,r){let i=fR(n,r);return i||(i=r9(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function xE(e,t,n){const r=fR(t,n);return r&&t._targets.remove(r),e}H(uR,Yl,{async evaluate(e,t,n){if(await Yl.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,Ppe(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&J1(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&QZ(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=_1(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",yE(e)):yE(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(w2(e)||P("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(Yl.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(_1(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:vge,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=r9(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,a;--r>=0;)if(a=n[r].type,i=n[r].handler,e===a&&(t===i||t===i.raw)){this._handler.off(a,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return vE(this,e,_1(this,e),t)},removeSignalListener(e,t){return xE(this,_1(this,e),t)},addDataListener(e,t){return vE(this,e,Dp(this,e).values,t)},removeDataListener(e,t){return xE(this,Dp(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=y5(this,null);this._globalCursor=!!e,t&&y5(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:Age,events:qpe,finalize:Xpe,hover:Vpe,data:Ipe,change:O2,insert:Zpe,remove:Rpe,scale:yge,initialize:uge,toImageURL:dge,toCanvas:mge,toSVG:pge,getState:xge,setState:Tge});const kge="view",Fp="[",Bp="]",dR="{",hR="}",Oge=":",mR=",",Cge="@",Dge=">",Lge=/[[\]{}]/,Fge={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let pR,gR;function gs(e,t,n){return pR=t||kge,gR=n||Fge,yR(e.trim()).map(b5)}function Bge(e){return gR[e]}function $f(e,t,n,r,i){const a=e.length;let o=0,s;for(;t<a;++t){if(s=e[t],!o&&s===n)return t;i&&i.indexOf(s)>=0?--o:r&&r.indexOf(s)>=0&&++o}return t}function yR(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=$f(e,i,mR,Fp+dR,Bp+hR),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function b5(e){return e[0]==="["?$ge(e):Nge(e)}function $ge(e){const t=e.length;let n=1,r;if(n=$f(e,n,Bp,Fp,Bp),n===t)throw"Empty between selector: "+e;if(r=yR(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==Dge)throw"Expected '>' after between selector: "+e;r=r.map(b5);const i=b5(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function Nge(e){const t={source:pR},n=[];let r=[0,0],i=0,a=0,o=e.length,s=0,l,c;if(e[o-1]===hR){if(s=e.lastIndexOf(dR),s>=0){try{r=Ige(e.substring(s+1,o-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,s).trim(),o=e.length}else throw"Unmatched right brace: "+e;s=0}if(!o)throw e;if(e[0]===Cge&&(i=++s),l=$f(e,s,Oge),l<o&&(n.push(e.substring(a,l).trim()),a=s=++l),s=$f(e,s,Fp),s===o)n.push(e.substring(a,o).trim());else if(n.push(e.substring(a,s).trim()),c=[],a=++s,a===o)throw"Unmatched left bracket: "+e;for(;s<o;){if(s=$f(e,s,Bp),s===o)throw"Unmatched left bracket: "+e;if(c.push(e.substring(a,s).trim()),s<o-1&&e[++s]!==Fp)throw"Expected left bracket: "+e;a=++s}if(!(o=n.length)||Lge.test(n[o-1]))throw"Invalid event selector: "+e;return o>1?(t.type=n[1],i?t.markname=n[0].slice(1):Bge(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),c!=null&&(t.filter=c),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function Ige(e){const t=e.split(mR);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function Zge(e){return ee(e)?e:{type:e||"pad"}}const ju=e=>+e||0,Rge=e=>({top:e,bottom:e,left:e,right:e});function Pge(e){return ee(e)?e.signal?e:{top:ju(e.top),bottom:ju(e.bottom),left:ju(e.left),right:ju(e.right)}:Rge(ju(e))}const Zt=e=>ee(e)&&!j(e)?xe({},e):{value:e};function _E(e,t,n,r){return n!=null?(ee(n)&&!j(n)||j(n)&&n.length&&ee(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function qt(e,t,n){for(const r in t)_E(e,r,t[r]);for(const r in n)_E(e,r,n[r],"update")}function lu(e,t,n){for(const r in t)n&&oe(n,r)||(e[r]=xe(e[r]||{},t[r]));return e}function Dl(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const o9="mark",s9="frame",l9="scope",jge="axis",zge="axis-domain",Gge="axis-grid",Uge="axis-label",Wge="axis-tick",Hge="axis-title",Yge="legend",qge="legend-band",Vge="legend-entry",Xge="legend-gradient",bR="legend-label",Jge="legend-symbol",Kge="legend-title",Qge="title",e2e="title-text",t2e="title-subtitle";function n2e(e,t,n,r,i){const a={},o={};let s,l,c,u;l="lineBreak",t==="text"&&i[l]!=null&&!Dl(l,e)&&qb(a,l,i[l]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),u=n===s9?i.group:n===o9?xe({},i.mark,i[t]):null;for(l in u)c=Dl(l,e)||(l==="fill"||l==="stroke")&&(Dl("fill",e)||Dl("stroke",e)),c||qb(a,l,u[l]);Q(r).forEach(f=>{const d=i.style&&i.style[f];for(const h in d)Dl(h,e)||qb(a,h,d[h])}),e=xe({},e);for(l in a)u=a[l],u.signal?(s=s||{})[l]=u:o[l]=u;return e.enter=xe(o,e.enter),s&&(e.update=xe(s,e.update)),e}function qb(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const vR=e=>J(e)?q(e):e.signal?`(${e.signal})`:xR(e);function D2(e){if(e.gradient!=null)return i2e(e);let t=e.signal?`(${e.signal})`:e.color?r2e(e.color):e.field!=null?xR(e.field):e.value!==void 0?q(e.value):void 0;return e.scale!=null&&(t=a2e(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${um(e.exponent)})`),e.mult!=null&&(t+=`*${um(e.mult)}`),e.offset!=null&&(t+=`+${um(e.offset)}`),e.round&&(t=`round(${t})`),t}const w1=(e,t,n,r)=>`(${e}(${[t,n,r].map(D2).join(",")})+'')`;function r2e(e){return e.c?w1("hcl",e.h,e.c,e.l):e.h||e.s?w1("hsl",e.h,e.s,e.l):e.l||e.a?w1("lab",e.l,e.a,e.b):e.r||e.g||e.b?w1("rgb",e.r,e.g,e.b):null}function i2e(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:q(n));for(;t.length&&Oe(t)==null;)t.pop();return t.unshift(vR(e.gradient)),`gradient(${t.join(",")})`}function um(e){return ee(e)?"("+D2(e)+")":e}function xR(e){return _R(ee(e)?e:{datum:e})}function _R(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):P("Invalid field reference: "+q(e));return e.signal||(r=J(r)?fa(r).map(q).join("]["):_R(r)),t+"["+r+"]"}function a2e(e,t){const n=vR(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+um(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function o2e(e){let t="";return e.forEach(n=>{const r=D2(n);t+=n.test?`(${n.test})?${r}:`:r}),Oe(t)===":"&&(t+="null"),t}function wR(e,t,n,r,i,a){const o={};a=a||{},a.encoders={$encode:o},e=n2e(e,t,n,r,i.config);for(const s in e)o[s]=s2e(e[s],t,a,i);return a}function s2e(e,t,n,r){const i={},a={};for(const o in e)e[o]!=null&&(i[o]=c2e(l2e(e[o]),r,n,a));return{$expr:{marktype:t,channels:i},$fields:Object.keys(a),$output:Object.keys(e)}}function l2e(e){return j(e)?o2e(e):D2(e)}function c2e(e,t,n,r){const i=ia(e,t);return i.$fields.forEach(a=>r[a]=1),xe(n,i.$params),i.$expr}const u2e="outer",f2e=["value","update","init","react","bind"];function wE(e,t){P(e+' for "outer" push: '+q(t))}function TR(e,t){const n=e.name;if(e.push===u2e)t.signals[n]||wE("No prior signal definition",n),f2e.forEach(r=>{e[r]!==void 0&&wE("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function v5(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function L2(e,t,n,r){return new v5(e,t,n,r)}function $p(e,t){return L2("operator",e,t)}function se(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function bd(e,t){return t?{$field:e,$name:t}:{$field:e}}const x5=bd("key");function TE(e,t){return{$compare:e,$order:t}}function d2e(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const h2e="ascending",m2e="descending";function p2e(e){return ee(e)?(e.order===m2e?"-":"+")+F2(e.op,e.field):""}function F2(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const c9="scope",_5="view";function Ot(e){return e&&e.signal}function g2e(e){return e&&e.expr}function fm(e){if(Ot(e))return!0;if(ee(e)){for(const t in e)if(fm(e[t]))return!0}return!1}function qr(e,t){return e??t}function o0(e){return e&&e.signal||e}const AE="timer";function vd(e,t){return(e.merge?b2e:e.stream?v2e:e.type?x2e:P("Invalid stream specification: "+q(e)))(e,t)}function y2e(e){return e===c9?_5:e||_5}function b2e(e,t){const n=e.merge.map(i=>vd(i,t)),r=u9({merge:n},e,t);return t.addStream(r).id}function v2e(e,t){const n=vd(e.stream,t),r=u9({stream:n},e,t);return t.addStream(r).id}function x2e(e,t){let n;e.type===AE?(n=t.event(AE,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(y2e(e.source),e.type);const r=u9({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function u9(e,t,n){let r=t.between;return r&&(r.length!==2&&P('Stream "between" parameter must have 2 entries: '+q(t)),e.between=[vd(r[0],n),vd(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(_2e(t.marktype,t.markname,t.markrole)),t.source===c9&&r.push("inScope(event.item)"),r.length&&(e.filter=ia("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function _2e(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const w2e={code:"_.$value",ast:{type:"Identifier",value:"value"}};function T2e(e,t,n){const r=e.encode,i={target:n};let a=e.events,o=e.update,s=[];a||P("Signal update missing events specification."),J(a)&&(a=gs(a,t.isSubscope()?c9:_5)),a=Q(a).filter(l=>l.signal||l.scale?(s.push(l),0):1),s.length>1&&(s=[S2e(s)]),a.length&&s.push(a.length>1?{merge:a}:a[0]),r!=null&&(o&&P("Signal encode and update are mutually exclusive."),o="encode(item(),"+q(r)+")"),i.update=J(o)?ia(o,t):o.expr!=null?ia(o.expr,t):o.value!=null?o.value:o.signal!=null?{$expr:w2e,$params:{$value:t.signalRef(o.signal)}}:P("Invalid signal update specification."),e.force&&(i.options={force:!0}),s.forEach(l=>t.addUpdate(xe(A2e(l,t),i)))}function A2e(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):vd(e,t)}}function S2e(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function E2e(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?P("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=ia(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>T2e(i,t,n.id))}const Ye=e=>(t,n,r)=>L2(e,n,t||void 0,r),AR=Ye("aggregate"),M2e=Ye("axisticks"),SR=Ye("bound"),Ei=Ye("collect"),SE=Ye("compare"),k2e=Ye("datajoin"),ER=Ye("encode"),O2e=Ye("expression"),C2e=Ye("facet"),D2e=Ye("field"),L2e=Ye("key"),F2e=Ye("legendentries"),B2e=Ye("load"),$2e=Ye("mark"),N2e=Ye("multiextent"),I2e=Ye("multivalues"),Z2e=Ye("overlap"),R2e=Ye("params"),MR=Ye("prefacet"),P2e=Ye("projection"),j2e=Ye("proxy"),z2e=Ye("relay"),kR=Ye("render"),G2e=Ye("scale"),K0=Ye("sieve"),U2e=Ye("sortitems"),OR=Ye("viewlayout"),W2e=Ye("values");let H2e=0;const CR={min:"min",max:"max",count:"sum"};function Y2e(e,t){const n=e.type||"linear";EN(n)||P("Unrecognized scale type: "+q(n)),t.addScale(e.name,{type:n,domain:void 0})}function q2e(e,t){const n=t.getScale(e.name).params;let r;n.domain=DR(e.domain,e,t),e.range!=null&&(n.range=FR(e,t,n)),e.interpolate!=null&&iye(e.interpolate,n),e.nice!=null&&(n.nice=rye(e.nice)),e.bins!=null&&(n.bins=nye(e.bins,t));for(r in e)oe(n,r)||r==="name"||(n[r]=Mr(e[r],t))}function Mr(e,t){return ee(e)?e.signal?t.signalRef(e.signal):P("Unsupported object: "+q(e)):e}function dm(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>Mr(n,t))}function B2(e){P("Can not find data set: "+q(e))}function DR(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&P("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(j(e)?V2e:e.fields?J2e:X2e)(e,t,n)}function V2e(e,t,n){return e.map(r=>Mr(r,n))}function X2e(e,t,n){const r=n.getData(e.data);return r||B2(e.data),_c(t.type)?r.valuesRef(n,e.field,LR(e.sort,!1)):ON(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function J2e(e,t,n){const r=e.data,i=e.fields.reduce((a,o)=>(o=J(o)?{data:r,field:o}:j(o)||o.signal?K2e(o,n):o,a.push(o),a),[]);return(_c(t.type)?Q2e:ON(t.type)?eye:tye)(e,n,i)}function K2e(e,t){const n="_:vega:_"+H2e++,r=Ei({});if(j(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+q(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,K0({})]),{data:n,field:"data"}}function Q2e(e,t,n){const r=LR(e.sort,!0);let i,a;const o=n.map(c=>{const u=t.getData(c.data);return u||B2(c.data),u.countsRef(t,c.field,r)}),s={groupby:x5,pulse:o};r&&(i=r.op||"count",a=r.field?F2(i,r.field):"count",s.ops=[CR[i]],s.fields=[t.fieldRef(a)],s.as=[a]),i=t.add(AR(s));const l=t.add(Ei({pulse:se(i)}));return a=t.add(W2e({field:x5,sort:t.sortRef(r),pulse:se(l)})),se(a)}function LR(e,t){return e&&(!e.field&&!e.op?ee(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?P("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!CR[e.op]&&P("Multiple domain scales can not be sorted using "+e.op)),e}function eye(e,t,n){const r=n.map(i=>{const a=t.getData(i.data);return a||B2(i.data),a.domainRef(t,i.field)});return se(t.add(I2e({values:r})))}function tye(e,t,n){const r=n.map(i=>{const a=t.getData(i.data);return a||B2(i.data),a.extentRef(t,i.field)});return se(t.add(N2e({extents:r})))}function nye(e,t){return e.signal||j(e)?dm(e,t):t.objectProperty(e)}function rye(e){return ee(e)?{interval:Mr(e.interval),step:Mr(e.step)}:Mr(e)}function iye(e,t){t.interpolate=Mr(e.type||e),e.gamma!=null&&(t.interpolateGamma=Mr(e.gamma))}function FR(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(J(i)){if(r&&oe(r,i))return e=xe({},e,{range:r[i]}),FR(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=_c(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:P("Unrecognized scale range value: "+q(i))}else if(i.scheme){n.scheme=j(i.scheme)?dm(i.scheme,t):Mr(i.scheme,t),i.extent&&(n.schemeExtent=dm(i.extent,t)),i.count&&(n.schemeCount=Mr(i.count,t));return}else if(i.step){n.rangeStep=Mr(i.step,t);return}else{if(_c(e.type)&&!j(i))return DR(i,e,t);j(i)||P("Unsupported range type: "+q(i))}return i.map(a=>(j(a)?dm:Mr)(a,t))}function aye(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=w5(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=w5(n[i],i,t));t.addProjection(e.name,r)}function w5(e,t,n){return j(e)?e.map(r=>w5(r,t,n)):ee(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:P("Unsupported parameter object: "+q(e)):e}const Mi="top",cu="left",uu="right",ns="bottom",BR="center",oye="vertical",sye="start",lye="middle",cye="end",T5="index",f9="label",uye="offset",Mc="perc",fye="perc2",Or="value",Th="guide-label",d9="guide-title",dye="group-title",hye="group-subtitle",EE="symbol",hm="gradient",A5="discrete",S5="size",mye="shape",pye="fill",gye="stroke",yye="strokeWidth",bye="strokeDash",vye="opacity",h9=[S5,mye,pye,gye,yye,bye,vye],Ah={name:1,style:1,interactive:1},De={value:0},Cr={value:1},$2="group",$R="rect",m9="rule",xye="symbol",Q0="text";function xd(e){return e.type=$2,e.interactive=e.interactive||!1,e}function rr(e,t){const n=(r,i)=>qr(e[r],qr(t[r],i));return n.isVertical=r=>oye===qr(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>qr(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>qr(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>qr(e.columns,qr(t.columns,+n.isVertical(!0))),n}function NR(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function _ye(e,t,n){const r=t.config.style[n];return r&&r[e]}function N2(e,t,n){return`item.anchor === '${sye}' ? ${e} : item.anchor === '${cye}' ? ${t} : ${n}`}const p9=N2(q(cu),q(uu),q(BR));function wye(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},ee(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function IR(e,t){return t?e?ee(e)?Object.assign({},e,{offset:IR(e.offset,t)}):{value:e,offset:t}:t:e}function gr(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=lu(e.encode,t,Ah)):e.interactive=!1,e}function Tye(e,t,n,r){const i=rr(e,n),a=i.isVertical(),o=i.gradientThickness(),s=i.gradientLength();let l,c,u,f,d;a?(c=[0,1],u=[0,0],f=o,d=s):(c=[0,0],u=[1,0],f=s,d=o);const h={enter:l={opacity:De,x:De,y:De,width:Zt(f),height:Zt(d)},update:xe({},l,{opacity:Cr,fill:{gradient:t,start:c,stop:u}}),exit:{opacity:De}};return qt(h,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),gr({type:$R,role:Xge,encode:h},r)}function Aye(e,t,n,r,i){const a=rr(e,n),o=a.isVertical(),s=a.gradientThickness(),l=a.gradientLength();let c,u,f,d,h="";o?(c="y",f="y2",u="x",d="width",h="1-"):(c="x",f="x2",u="y",d="height");const m={opacity:De,fill:{scale:t,field:Or}};m[c]={signal:h+"datum."+Mc,mult:l},m[u]=De,m[f]={signal:h+"datum."+fye,mult:l},m[d]=Zt(s);const g={enter:m,update:xe({},m,{opacity:Cr}),exit:{opacity:De}};return qt(g,{stroke:a("gradientStrokeColor"),strokeWidth:a("gradientStrokeWidth")},{opacity:a("gradientOpacity")}),gr({type:$R,role:qge,key:Or,from:i,encode:g},r)}const Sye=`datum.${Mc}<=0?"${cu}":datum.${Mc}>=1?"${uu}":"${BR}"`,Eye=`datum.${Mc}<=0?"${ns}":datum.${Mc}>=1?"${Mi}":"${lye}"`;function ME(e,t,n,r){const i=rr(e,t),a=i.isVertical(),o=Zt(i.gradientThickness()),s=i.gradientLength();let l=i("labelOverlap"),c,u,f,d,h="";const m={enter:c={opacity:De},update:u={opacity:Cr,text:{field:f9}},exit:{opacity:De}};return qt(m,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:qr(e.labelLimit,t.gradientLabelLimit)}),a?(c.align={value:"left"},c.baseline=u.baseline={signal:Eye},f="y",d="x",h="1-"):(c.align=u.align={signal:Sye},c.baseline={value:"top"},f="x",d="y"),c[f]=u[f]={signal:h+"datum."+Mc,mult:s},c[d]=u[d]=o,o.offset=qr(e.labelOffset,t.gradientLabelOffset)||0,l=l?{separation:i("labelSeparation"),method:l,order:"datum."+T5}:void 0,gr({type:Q0,role:bR,style:Th,key:Or,from:r,encode:m,overlap:l},n)}function Mye(e,t,n,r,i){const a=rr(e,t),o=n.entries,s=!!(o&&o.interactive),l=o?o.name:void 0,c=a("clipHeight"),u=a("symbolOffset"),f={data:"value"},d=`(${i}) ? datum.${uye} : datum.${S5}`,h=c?Zt(c):{field:S5},m=`datum.${T5}`,g=`max(1, ${i})`;let p,y,b,v,x;h.mult=.5,p={enter:y={opacity:De,x:{signal:d,mult:.5,offset:u},y:h},update:b={opacity:Cr,x:y.x,y:y.y},exit:{opacity:De}};let _=null,T=null;e.fill||(_=t.symbolBaseFillColor,T=t.symbolBaseStrokeColor),qt(p,{fill:a("symbolFillColor",_),shape:a("symbolType"),size:a("symbolSize"),stroke:a("symbolStrokeColor",T),strokeDash:a("symbolDash"),strokeDashOffset:a("symbolDashOffset"),strokeWidth:a("symbolStrokeWidth")},{opacity:a("symbolOpacity")}),h9.forEach(M=>{e[M]&&(b[M]=y[M]={scale:e[M],field:Or})});const w=gr({type:xye,role:Jge,key:Or,from:f,clip:c?!0:void 0,encode:p},n.symbols),S=Zt(u);S.offset=a("labelOffset"),p={enter:y={opacity:De,x:{signal:d,offset:S},y:h},update:b={opacity:Cr,text:{field:f9},x:y.x,y:y.y},exit:{opacity:De}},qt(p,{align:a("labelAlign"),baseline:a("labelBaseline"),fill:a("labelColor"),fillOpacity:a("labelOpacity"),font:a("labelFont"),fontSize:a("labelFontSize"),fontStyle:a("labelFontStyle"),fontWeight:a("labelFontWeight"),limit:a("labelLimit")});const C=gr({type:Q0,role:bR,style:Th,key:Or,from:f,encode:p},n.labels);return p={enter:{noBound:{value:!c},width:De,height:c?Zt(c):De,opacity:De},exit:{opacity:De},update:b={opacity:Cr,row:{signal:null},column:{signal:null}}},a.isVertical(!0)?(v=`ceil(item.mark.items.length / ${g})`,b.row.signal=`${m}%${v}`,b.column.signal=`floor(${m} / ${v})`,x={field:["row",m]}):(b.row.signal=`floor(${m} / ${g})`,b.column.signal=`${m} % ${g}`,x={field:m}),b.column.signal=`(${i})?${b.column.signal}:${m}`,r={facet:{data:r,name:"value",groupby:T5}},xd({role:l9,from:r,encode:lu(p,o,Ah),marks:[w,C],name:l,interactive:s,sort:x})}function kye(e,t){const n=rr(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const g9='item.orient === "left"',y9='item.orient === "right"',I2=`(${g9} || ${y9})`,Oye=`datum.vgrad && ${I2}`,Cye=N2('"top"','"bottom"','"middle"'),Dye=N2('"right"','"left"','"center"'),Lye=`datum.vgrad && ${y9} ? (${Dye}) : (${I2} && !(datum.vgrad && ${g9})) ? "left" : ${p9}`,Fye=`item._anchor || (${I2} ? "middle" : "start")`,Bye=`${Oye} ? (${g9} ? -90 : 90) : 0`,$ye=`${I2} ? (datum.vgrad ? (${y9} ? "bottom" : "top") : ${Cye}) : "top"`;function Nye(e,t,n,r){const i=rr(e,t),a={enter:{opacity:De},update:{opacity:Cr,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:De}};return qt(a,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:Fye},angle:{signal:Bye},align:{signal:Lye},baseline:{signal:$ye},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),gr({type:Q0,role:Kge,style:d9,from:r,encode:a},n)}function Iye(e,t){let n;return ee(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+kE(e.path)+")":e.sphere&&(n="geoShape("+kE(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function kE(e){return ee(e)&&e.signal?e.signal:q(e)}function ZR(e){const t=e.role||"";return!t.indexOf("axis")||!t.indexOf("legend")||!t.indexOf("title")?t:e.type===$2?l9:t||o9}function Zye(e){return{marktype:e.type,name:e.name||void 0,role:e.role||ZR(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function Rye(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function b9(e,t){const n=$$(e.type);n||P("Unrecognized transform type: "+q(e.type));const r=L2(n.type.toLowerCase(),null,RR(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function RR(e,t,n){const r={},i=e.params.length;for(let a=0;a<i;++a){const o=e.params[a];r[o.name]=Pye(o,t,n)}return r}function Pye(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return jye(e,t,n);if(i===void 0){e.required&&P("Missing required "+q(t.type)+" parameter: "+q(e.name));return}else{if(r==="param")return zye(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!Ot(i)?i.map(a=>OE(e,a,n)):OE(e,i,n)}function OE(e,t,n){const r=e.type;if(Ot(t))return DE(r)?P("Expression references can not be signals."):Vb(r)?n.fieldRef(t):LE(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||Vb(r);return i&&Gye(t)?n.exprRef(t.expr,t.as):i&&Uye(t)?bd(t.field,t.as):DE(r)?ia(t,n):Wye(r)?se(n.getData(t).values):Vb(r)?bd(t):LE(r)?n.compareRef(t):t}}function jye(e,t,n){return J(t.from)||P('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function zye(e,t,n){const r=t[e.name];return e.array?(j(r)||P("Expected an array of sub-parameters. Instead: "+q(r)),r.map(i=>CE(e,i,n))):CE(e,r,n)}function CE(e,t,n){const r=e.params.length;let i;for(let o=0;o<r;++o){i=e.params[o];for(const s in i.key)if(i.key[s]!==t[s]){i=null;break}if(i)break}i||P("Unsupported parameter: "+q(t));const a=xe(RR(i,t,n),i.key);return se(n.add(R2e(a)))}const Gye=e=>e&&e.expr,Uye=e=>e&&e.field,Wye=e=>e==="data",DE=e=>e==="expr",Vb=e=>e==="field",LE=e=>e==="compare";function Hye(e,t,n){let r,i,a,o,s;return e?(r=e.facet)&&(t||P("Only group marks can be faceted."),r.field!=null?o=s=mm(r,n):(e.data?s=se(n.getData(e.data).aggregate):(a=b9(xe({type:"aggregate",groupby:Q(r.groupby)},r.aggregate),n),a.params.key=n.keyRef(r.groupby),a.params.pulse=mm(r,n),o=s=se(n.add(a))),i=n.keyRef(r.groupby,!0))):o=se(n.add(Ei(null,[{}]))),o||(o=mm(e,n)),{key:i,pulse:o,parent:s}}function mm(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:se(t.getData(e.data).output)}function O0(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}O0.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let a=t[0],o=null,s=1;for(a&&a.type==="load"&&(a=t[1]),e.add(t[0]);s<n;++s)t[s].params.pulse=se(t[s-1]),e.add(t[s]),t[s].type==="aggregate"&&(o=t[s]);return new O0(e,a,i,r,o)};function PR(e){return J(e)?e:null}function FE(e,t,n){const r=F2(n.op,n.field);let i;if(t.ops){for(let a=0,o=t.as.length;a<o;++a)if(t.as[a]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function zu(e,t,n,r,i,a,o){const s=t[n]||(t[n]={}),l=p2e(a);let c=PR(i),u,f;if(c!=null&&(e=t.scope,c=c+(l?"|"+l:""),u=s[c]),!u){const d=a?{field:x5,pulse:t.countsRef(e,i,a)}:{field:e.fieldRef(i),pulse:se(t.output)};l&&(d.sort=e.sortRef(a)),f=e.add(L2(r,void 0,d)),o&&(t.index[i]=f),u=se(f),c!=null&&(s[c]=u)}return u}O0.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),a=PR(t);let o,s,l;return a!=null&&(e=r.scope,o=i[a]),o?n&&n.field&&FE(e,o.agg.params,n):(l={groupby:e.fieldRef(t,"key"),pulse:se(r.output)},n&&n.field&&FE(e,l,n),s=e.add(AR(l)),o=e.add(Ei({pulse:se(s)})),o={agg:s,ref:se(o)},a!=null&&(i[a]=o)),o.ref},tuplesRef(){return se(this.values)},extentRef(e,t){return zu(e,this,"extent","extent",t,!1)},domainRef(e,t){return zu(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return zu(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return zu(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return zu(e,this,"indata","tupleindex",t,!0,!0)}};function Yye(e,t,n){const r=e.from.facet,i=r.name,a=mm(r,t);let o;r.name||P("Facet must have a name: "+q(r)),r.data||P("Facet must reference a data set: "+q(r)),r.field?o=t.add(MR({field:t.fieldRef(r.field),pulse:a})):r.groupby?o=t.add(C2e({key:t.keyRef(r.groupby),group:se(t.proxy(n.parent)),pulse:a})):P("Facet must specify groupby or field: "+q(r));const s=t.fork(),l=s.add(Ei()),c=s.add(K0({pulse:se(l)}));s.addData(i,new O0(s,l,l,c)),s.addSignal("parent",null),o.params.subflow={$subflow:s.parse(e).toRuntime()}}function qye(e,t,n){const r=t.add(MR({pulse:n.pulse})),i=t.fork();i.add(K0()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function jR(e,t,n){const r=e.remove,i=e.insert,a=e.toggle,o=e.modify,s=e.values,l=t.add($p()),c="if("+e.trigger+',modify("'+n+'",'+[i,r,a,o,s].map(f=>f??"null").join(",")+"),0)",u=ia(c,t);l.update=u.$expr,l.params=u.$params}function Z2(e,t){const n=ZR(e),r=e.type===$2,i=e.from&&e.from.facet,a=e.overlap;let o=e.layout||n===l9||n===s9,s,l,c,u,f,d,h;const m=n===o9||o||i,g=Hye(e.from,r,t);l=t.add(k2e({key:g.key||(e.key?bd(e.key):void 0),pulse:g.pulse,clean:!r}));const p=se(l);l=c=t.add(Ei({pulse:p})),l=t.add($2e({markdef:Zye(e),interactive:Rye(e.interactive,t),clip:Iye(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:se(l)}));const y=se(l);l=u=t.add(ER(wR(e.encode,e.type,n,e.style,t,{mod:!1,pulse:y}))),l.params.parent=t.encode(),e.transform&&e.transform.forEach(T=>{const w=b9(T,t),S=w.metadata;(S.generates||S.changes)&&P("Mark transforms should not generate new data."),S.nomod||(u.params.mod=!0),w.params.pulse=se(l),t.add(l=w)}),e.sort&&(l=t.add(U2e({sort:t.compareRef(e.sort),pulse:se(l)})));const b=se(l);(i||o)&&(o=t.add(OR({layout:t.objectProperty(e.layout),legends:t.legends,mark:y,pulse:b})),d=se(o));const v=t.add(SR({mark:y,pulse:d||b}));h=se(v),r&&(m&&(s=t.operators,s.pop(),o&&s.pop()),t.pushState(b,d||h,p),i?Yye(e,t,g):m?qye(e,t,g):t.parse(e),t.popState(),m&&(o&&s.push(o),s.push(v))),a&&(h=Vye(a,h,t));const x=t.add(kR({pulse:h})),_=t.add(K0({pulse:se(x)},void 0,t.parent()));e.name!=null&&(f=e.name,t.addData(f,new O0(t,c,x,_)),e.on&&e.on.forEach(T=>{(T.insert||T.remove||T.toggle)&&P("Marks only support modify triggers."),jR(T,t,f)}))}function Vye(e,t,n){const r=e.method,i=e.bound,a=e.separation,o={separation:Ot(a)?n.signalRef(a.signal):a,method:Ot(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(o.sort=n.compareRef({field:e.order})),i){const s=i.tolerance;o.boundTolerance=Ot(s)?n.signalRef(s.signal):+s,o.boundScale=n.scaleRef(i.scale),o.boundOrient=i.orient}return se(n.add(Z2e(o)))}function Xye(e,t){const n=t.config.legend,r=e.encode||{},i=rr(e,n),a=r.legend||{},o=a.name||void 0,s=a.interactive,l=a.style,c={};let u=0,f,d,h;h9.forEach(v=>e[v]?(c[v]=e[v],u=u||e[v]):0),u||P("Missing valid scale for legend.");const m=Jye(e,t.scaleType(u)),g={title:e.title!=null,scales:c,type:m,vgrad:m!=="symbol"&&i.isVertical()},p=se(t.add(Ei(null,[g]))),y={enter:{x:{value:0},y:{value:0}}},b=se(t.add(F2e(d={type:m,scale:t.scaleRef(u),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return m===hm?(h=[Tye(e,u,n,r.gradient),ME(e,n,r.labels,b)],d.count=d.count||t.signalRef(`max(2,2*floor((${o0(i.gradientLength())})/100))`)):m===A5?h=[Aye(e,u,n,r.gradient,b),ME(e,n,r.labels,b)]:(f=kye(e,n),h=[Mye(e,n,r,b,o0(f.columns))],d.size=ebe(e,t,h[0].marks)),h=[xd({role:Vge,from:p,encode:y,marks:h,layout:f,interactive:s})],g.title&&h.push(Nye(e,n,r.title,p)),Z2(xd({role:Yge,from:p,encode:lu(Qye(i,e,n),a,Ah),marks:h,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:o,interactive:s,style:l}),t)}function Jye(e,t){let n=e.type||EE;return!e.type&&Kye(e)===1&&(e.fill||e.stroke)&&(n=Ex(t)?hm:Z3(t)?A5:EE),n!==hm?n:Z3(t)?A5:hm}function Kye(e){return h9.reduce((t,n)=>t+(e[n]?1:0),0)}function Qye(e,t,n){const r={enter:{},update:{}};return qt(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function ebe(e,t,n){const r=o0(BE("size",e,n)),i=o0(BE("strokeWidth",e,n)),a=o0(tbe(n[1].encode,t,Th));return ia(`max(ceil(sqrt(${r})+${i}),${a})`,t)}function BE(e,t,n){return t[e]?`scale("${t[e]}",datum)`:NR(e,n[0].encode)}function tbe(e,t,n){return NR("fontSize",e)||_ye("fontSize",t,n)}const nbe=`item.orient==="${cu}"?-90:item.orient==="${uu}"?90:0`;function rbe(e,t){e=J(e)?{text:e}:e;const n=rr(e,t.config.title),r=e.encode||{},i=r.group||{},a=i.name||void 0,o=i.interactive,s=i.style,l=[],c={},u=se(t.add(Ei(null,[c])));return l.push(obe(e,n,ibe(e),u)),e.subtitle&&l.push(sbe(e,n,r.subtitle,u)),Z2(xd({role:Qge,from:u,encode:abe(n,i),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:a,interactive:o,style:s}),t)}function ibe(e){const t=e.encode;return t&&t.title||xe({name:e.name,interactive:e.interactive,style:e.style},t)}function abe(e,t){const n={enter:{},update:{}};return qt(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:p9},angle:{signal:nbe},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),lu(n,t,Ah)}function obe(e,t,n,r){const i={value:0},a=e.text,o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return qt(o,{text:a,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),gr({type:Q0,role:e2e,style:dye,from:r,encode:o},n)}function sbe(e,t,n,r){const i={value:0},a=e.subtitle,o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return qt(o,{text:a,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),gr({type:Q0,role:t2e,style:hye,from:r,encode:o},n)}function lbe(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(b9(r,t))}),e.on&&e.on.forEach(r=>{jR(r,t,e.name)}),t.addDataPipeline(e.name,cbe(e,t,n))}function cbe(e,t,n){const r=[];let i=null,a=!1,o=!1,s,l,c,u,f;for(e.values?Ot(e.values)||fm(e.format)?(r.push($E(t,e)),r.push(i=Cs())):r.push(i=Cs({$ingest:e.values,$format:e.format})):e.url?fm(e.url)||fm(e.format)?(r.push($E(t,e)),r.push(i=Cs())):r.push(i=Cs({$request:e.url,$format:e.format})):e.source&&(i=s=Q(e.source).map(d=>se(t.getData(d).output)),r.push(null)),l=0,c=n.length;l<c;++l)u=n[l],f=u.metadata,!i&&!f.source&&r.push(i=Cs()),r.push(u),f.generates&&(o=!0),f.modifies&&!o&&(a=!0),f.source?i=u:f.changes&&(i=null);return s&&(c=s.length-1,r[0]=z2e({derive:a,pulse:c?s:s[0]}),(a||c)&&r.splice(1,0,Cs())),i||r.push(Cs()),r.push(K0({})),r}function Cs(e){const t=Ei({},e);return t.metadata={source:!0},t}function $E(e,t){return B2e({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const zR=e=>e===ns||e===Mi,R2=(e,t,n)=>Ot(e)?hbe(e.signal,t,n):e===cu||e===Mi?t:n,Rt=(e,t,n)=>Ot(e)?fbe(e.signal,t,n):zR(e)?t:n,fi=(e,t,n)=>Ot(e)?dbe(e.signal,t,n):zR(e)?n:t,GR=(e,t,n)=>Ot(e)?mbe(e.signal,t,n):e===Mi?{value:t}:{value:n},ube=(e,t,n)=>Ot(e)?pbe(e.signal,t,n):e===uu?{value:t}:{value:n},fbe=(e,t,n)=>UR(`${e} === '${Mi}' || ${e} === '${ns}'`,t,n),dbe=(e,t,n)=>UR(`${e} !== '${Mi}' && ${e} !== '${ns}'`,t,n),hbe=(e,t,n)=>v9(`${e} === '${cu}' || ${e} === '${Mi}'`,t,n),mbe=(e,t,n)=>v9(`${e} === '${Mi}'`,t,n),pbe=(e,t,n)=>v9(`${e} === '${uu}'`,t,n),UR=(e,t,n)=>(t=t!=null?Zt(t):t,n=n!=null?Zt(n):n,NE(t)&&NE(n)?(t=t?t.signal||q(t.value):null,n=n?n.signal||q(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[xe({test:e},t)].concat(n||[])),NE=e=>e==null||Object.keys(e).length===1,v9=(e,t,n)=>({signal:`${e} ? (${Zl(t)}) : (${Zl(n)})`}),gbe=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${cu}' ? (${Zl(r)}) : `:"")+(n!=null?`${e} === '${ns}' ? (${Zl(n)}) : `:"")+(i!=null?`${e} === '${uu}' ? (${Zl(i)}) : `:"")+(t!=null?`${e} === '${Mi}' ? (${Zl(t)}) : `:"")+"(null)"}),Zl=e=>Ot(e)?e.signal:e==null?null:q(e),ybe=(e,t)=>t===0?0:Ot(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},ql=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function Al(e,t,n,r){let i;if(t&&oe(t,e))return t[e];if(oe(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[d9][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[Th][i]}return null}function IE(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function bbe(e,t){var n=t.config,r=n.style,i=n.axis,a=t.scaleType(e.scale)==="band"&&n.axisBand,o=e.orient,s,l,c;if(Ot(o)){const f=IE([n.axisX,n.axisY]),d=IE([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);s={};for(c of f)s[c]=Rt(o,Al(c,n.axisX,i,r),Al(c,n.axisY,i,r));l={};for(c of d)l[c]=gbe(o.signal,Al(c,n.axisTop,i,r),Al(c,n.axisBottom,i,r),Al(c,n.axisLeft,i,r),Al(c,n.axisRight,i,r))}else s=o===Mi||o===ns?n.axisX:n.axisY,l=n["axis"+o[0].toUpperCase()+o.slice(1)];return s||l||a?xe({},i,s,l,a):i}function vbe(e,t,n,r){const i=rr(e,t),a=e.orient;let o,s;const l={enter:o={opacity:De},update:s={opacity:Cr},exit:{opacity:De}};qt(l,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const c=ZE(e,0),u=ZE(e,1);return o.x=s.x=Rt(a,c,De),o.x2=s.x2=Rt(a,u),o.y=s.y=fi(a,c,De),o.y2=s.y2=fi(a,u),gr({type:m9,role:zge,from:r,encode:l},n)}function ZE(e,t){return{scale:e.scale,range:t}}function xbe(e,t,n,r,i){const a=rr(e,t),o=e.orient,s=e.gridScale,l=R2(o,1,-1),c=_be(e.offset,l);let u,f,d;const h={enter:u={opacity:De},update:d={opacity:Cr},exit:f={opacity:De}};qt(h,{stroke:a("gridColor"),strokeCap:a("gridCap"),strokeDash:a("gridDash"),strokeDashOffset:a("gridDashOffset"),strokeOpacity:a("gridOpacity"),strokeWidth:a("gridWidth")});const m={scale:e.scale,field:Or,band:i.band,extra:i.extra,offset:i.offset,round:a("tickRound")},g=Rt(o,{signal:"height"},{signal:"width"}),p=s?{scale:s,range:0,mult:l,offset:c}:{value:0,offset:c},y=s?{scale:s,range:1,mult:l,offset:c}:xe(g,{mult:l,offset:c});return u.x=d.x=Rt(o,m,p),u.y=d.y=fi(o,m,p),u.x2=d.x2=fi(o,y),u.y2=d.y2=Rt(o,y),f.x=Rt(o,m),f.y=fi(o,m),gr({type:m9,role:Gge,key:Or,from:r,encode:h},n)}function _be(e,t){if(t!==1)if(!ee(e))e=Ot(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=xe({},e);for(;n.mult!=null;)if(ee(n.mult))n=n.mult=xe({},n.mult);else return n.mult=Ot(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function wbe(e,t,n,r,i,a){const o=rr(e,t),s=e.orient,l=R2(s,-1,1);let c,u,f;const d={enter:c={opacity:De},update:f={opacity:Cr},exit:u={opacity:De}};qt(d,{stroke:o("tickColor"),strokeCap:o("tickCap"),strokeDash:o("tickDash"),strokeDashOffset:o("tickDashOffset"),strokeOpacity:o("tickOpacity"),strokeWidth:o("tickWidth")});const h=Zt(i);h.mult=l;const m={scale:e.scale,field:Or,band:a.band,extra:a.extra,offset:a.offset,round:o("tickRound")};return f.y=c.y=Rt(s,De,m),f.y2=c.y2=Rt(s,h),u.x=Rt(s,m),f.x=c.x=fi(s,De,m),f.x2=c.x2=fi(s,h),u.y=fi(s,m),gr({type:m9,role:Wge,key:Or,from:r,encode:d},n)}function Xb(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function Tbe(e,t,n,r,i,a){const o=rr(e,t),s=e.orient,l=e.scale,c=R2(s,-1,1),u=o0(o("labelFlush")),f=o0(o("labelFlushOffset")),d=o("labelAlign"),h=o("labelBaseline");let m=u===0||!!u,g;const p=Zt(i);p.mult=c,p.offset=Zt(o("labelPadding")||0),p.offset.mult=c;const y={scale:l,field:Or,band:.5,offset:IR(a.offset,o("labelOffset"))},b=Rt(s,m?Xb(l,u,'"left"','"right"','"center"'):{value:"center"},ube(s,"left","right")),v=Rt(s,GR(s,"bottom","top"),m?Xb(l,u,'"top"','"bottom"','"middle"'):{value:"middle"}),x=Xb(l,u,`-(${f})`,f,0);m=m&&f;const _={opacity:De,x:Rt(s,y,p),y:fi(s,y,p)},T={enter:_,update:g={opacity:Cr,text:{field:f9},x:_.x,y:_.y,align:b,baseline:v},exit:{opacity:De,x:_.x,y:_.y}};qt(T,{dx:!d&&m?Rt(s,x):null,dy:!h&&m?fi(s,x):null}),qt(T,{angle:o("labelAngle"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontWeight:o("labelFontWeight"),fontStyle:o("labelFontStyle"),limit:o("labelLimit"),lineHeight:o("labelLineHeight")},{align:d,baseline:h});const w=o("labelBound");let S=o("labelOverlap");return S=S||w?{separation:o("labelSeparation"),method:S,order:"datum.index",bound:w?{scale:l,orient:s,tolerance:w}:null}:void 0,g.align!==b&&(g.align=ql(g.align,b)),g.baseline!==v&&(g.baseline=ql(g.baseline,v)),gr({type:Q0,role:Uge,style:Th,key:Or,from:r,encode:T,overlap:S},n)}function Abe(e,t,n,r){const i=rr(e,t),a=e.orient,o=R2(a,-1,1);let s,l;const c={enter:s={opacity:De,anchor:Zt(i("titleAnchor",null)),align:{signal:p9}},update:l=xe({},s,{opacity:Cr,text:Zt(e.title)}),exit:{opacity:De}},u={signal:`lerp(range("${e.scale}"), ${N2(0,1,.5)})`};return l.x=Rt(a,u),l.y=fi(a,u),s.angle=Rt(a,De,ybe(o,90)),s.baseline=Rt(a,GR(a,ns,Mi),{value:ns}),l.angle=s.angle,l.baseline=s.baseline,qt(c,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),Sbe(i,a,c,n),c.update.align=ql(c.update.align,s.align),c.update.angle=ql(c.update.angle,s.angle),c.update.baseline=ql(c.update.baseline,s.baseline),gr({type:Q0,role:Hge,style:d9,from:r,encode:c},n)}function Sbe(e,t,n,r){const i=(s,l)=>s!=null?(n.update[l]=ql(Zt(s),n.update[l]),!1):!Dl(l,r),a=i(e("titleX"),"x"),o=i(e("titleY"),"y");n.enter.auto=o===a?Zt(o):Rt(t,Zt(o),Zt(a))}function Ebe(e,t){const n=bbe(e,t),r=e.encode||{},i=r.axis||{},a=i.name||void 0,o=i.interactive,s=i.style,l=rr(e,n),c=wye(l),u={scale:e.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:e.title!=null},f=se(t.add(Ei({},[u]))),d=se(t.add(M2e({scale:t.scaleRef(e.scale),extra:t.property(c.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),h=[];let m;return u.grid&&h.push(xbe(e,n,r.grid,d,c)),u.ticks&&(m=l("tickSize"),h.push(wbe(e,n,r.ticks,d,m,c))),u.labels&&(m=u.ticks?m:0,h.push(Tbe(e,n,r.labels,d,m,c))),u.domain&&h.push(vbe(e,n,r.domain,f)),u.title&&h.push(Abe(e,n,r.title,f)),Z2(xd({role:jge,from:f,encode:lu(Mbe(l,e),i,Ah),marks:h,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:a,interactive:o,style:s}),t)}function Mbe(e,t){const n={enter:{},update:{}};return qt(n,{orient:e("orient"),offset:e("offset")||0,position:qr(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function WR(e,t,n){const r=Q(e.signals),i=Q(e.scales);return n||r.forEach(a=>TR(a,t)),Q(e.projections).forEach(a=>aye(a,t)),i.forEach(a=>Y2e(a,t)),Q(e.data).forEach(a=>lbe(a,t)),i.forEach(a=>q2e(a,t)),(n||r).forEach(a=>E2e(a,t)),Q(e.axes).forEach(a=>Ebe(a,t)),Q(e.marks).forEach(a=>Z2(a,t)),Q(e.legends).forEach(a=>Xye(a,t)),e.title&&rbe(e.title,t),t.parseLambdas(),t}const kbe=e=>lu({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function Obe(e,t){const n=t.config,r=se(t.root=t.add($p())),i=Cbe(e,n);i.forEach(c=>TR(c,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const a=t.add(Ei()),o=t.add(ER(wR(kbe(e.encode),$2,s9,e.style,t,{pulse:se(a)}))),s=t.add(OR({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:se(o)}));t.operators.pop(),t.pushState(se(o),se(s),null),WR(e,t,i),t.operators.push(s);let l=t.add(SR({mark:r,pulse:se(s)}));return l=t.add(kR({pulse:se(l)})),l=t.add(K0({pulse:se(l)})),t.addData("root",new O0(t,a,a,l)),t}function Gu(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function Cbe(e,t){const n=o=>qr(e[o],t[o]),r=[Gu("background",n("background")),Gu("autosize",Zge(n("autosize"))),Gu("padding",Pge(n("padding"))),Gu("width",n("width")||0),Gu("height",n("height")||0)],i=r.reduce((o,s)=>(o[s.name]=s,o),{}),a={};return Q(e.signals).forEach(o=>{oe(i,o.name)?o=xe(i[o.name],o):r.push(o),a[o.name]=o}),Q(t.signals).forEach(o=>{!oe(a,o.name)&&!oe(i,o.name)&&r.push(o)}),r}function HR(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function RE(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}HR.prototype=RE.prototype={parse(e){return WR(e,this)},fork(){return new RE(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof v5?se(e):e;return this.add(j2e({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,a){let o,s;r&&(o=r.data||(r.data={}),s=o[i]||(o[i]=[]),s.push(a))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(se(this.add(K0({pulse:e})))),this._parent.push(t),this._lookup.push(n?se(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return Oe(this._parent)},encode(){return Oe(this._encode)},lookup(){return Oe(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(J(e))return bd(e,t);e.signal||P("Unsupported field reference: "+q(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=se(this.add(D2e(i)))}return r},compareRef(e){let t=!1;const n=a=>Ot(a)?(t=!0,this.signalRef(a.signal)):g2e(a)?(t=!0,this.exprRef(a.expr)):a,r=Q(e.field).map(n),i=Q(e.order).map(n);return t?se(this.add(SE({fields:r,orders:i}))):TE(r,i)},keyRef(e,t){let n=!1;const r=a=>Ot(a)?(n=!0,se(i[a.signal])):a,i=this.signals;return e=Q(e).map(r),n?se(this.add(L2e({fields:e,flat:t}))):d2e(e,t)},sortRef(e){if(!e)return e;const t=F2(e.op,e.field),n=e.order||h2e;return n.signal?se(this.add(SE({fields:t,orders:this.signalRef(n.signal)}))):TE(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return oe(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&P("Duplicate signal name: "+q(e));const n=t instanceof v5?t:this.add($p(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||P("Unrecognized signal name: "+q(e)),this.signals[e]},signalRef(e){return this.signals[e]?se(this.signals[e]):(oe(this.lambdas,e)||(this.lambdas[e]=this.add($p(null))),se(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=ia(r,this),a=this.lambdas[r];a.params=i.$params,a.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!ee(e)?e:this.signalRef(e.signal||x9(e))},exprRef(e,t){const n={expr:ia(e,this)};return t&&(n.expr.$name=t),se(this.add(O2e(n)))},addBinding(e,t){this.bindings||P("Nested signals do not support binding: "+q(e)),this.bindings.push(xe({signal:e},t))},addScaleProj(e,t){oe(this.scales,e)&&P("Duplicate scale or projection name: "+q(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,G2e(t))},addProjection(e,t){this.addScaleProj(e,P2e(t))},getScale(e){return this.scales[e]||P("Unrecognized scale name: "+q(e)),this.scales[e]},scaleRef(e){return se(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return oe(this.data,e)&&P("Duplicate data set name: "+q(e)),this.data[e]=t},getData(e){return this.data[e]||P("Undefined data set name: "+q(e)),this.data[e]},addDataPipeline(e,t){return oe(this.data,e)&&P("Duplicate data set name: "+q(e)),this.addData(e,O0.fromEntries(this,t))}};function x9(e){return(j(e)?Dbe:Lbe)(e)}function Dbe(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+(ee(i)?i.signal||x9(i):q(i))}return n+"]"}function Lbe(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+q(r)+":"+(ee(i)?i.signal||x9(i):q(i));return t+"}"}function Fbe(){const e="sans-serif",r="#4c78a8",i="#000",a="#888",o="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:o}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:a,grid:!1,gridWidth:1,gridColor:o,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:a,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:o,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:a,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function Bbe(e,t,n){return ee(e)||P("Input Vega specification must be an object."),t=eu(Fbe(),t,e.config),Obe(e,new HR(t,n)).toRuntime()}var $be="5.22.1";xe(bc,F0e,_fe,Qfe,Cde,Ide,uhe,Gde,dhe,phe,She,Lhe);const Nbe=Object.freeze(Object.defineProperty({__proto__:null,Bounds:xt,CanvasHandler:bh,CanvasRenderer:Tp,DATE:Kn,DAY:on,DAYOFYEAR:ra,Dataflow:Yl,Debug:OB,Error:d4,EventStream:t2,Gradient:UN,GroupItem:m2,HOURS:hr,Handler:es,Info:kB,Item:h2,MILLISECONDS:vi,MINUTES:mr,MONTH:hn,Marks:pr,MultiPulse:L4,None:MB,Operator:Xe,Parameters:e2,Pulse:$o,QUARTER:Jn,RenderType:Oo,Renderer:ha,ResourceLoader:$x,SECONDS:Br,SVGHandler:Qx,SVGRenderer:a_,SVGStringRenderer:o_,Scenegraph:Jx,TIME_UNITS:A4,Transform:I,View:uR,WEEK:Et,Warn:h4,YEAR:Yt,accessor:nr,accessorFields:dn,accessorName:bt,array:Q,ascending:qg,bandwidthNRD:N4,bin:Z$,bootstrapCI:R$,boundClip:ZI,boundContext:mh,boundItem:W3,boundMark:cI,boundStroke:no,changeset:V0,clampRange:PB,codegenExpression:ZZ,compare:b4,constant:bn,cumulativeLogNormal:z4,cumulativeNormal:r2,cumulativeUniform:H4,dayofyear:KB,debounce:v4,defaultLocale:M4,definition:$$,densityLogNormal:j4,densityNormal:I4,densityUniform:W4,domChild:Un,domClear:Qr,domCreate:Mo,domFind:Kx,dotbin:P$,error:P,expressionFunction:Tt,extend:xe,extent:na,extentIndex:jB,falsy:mo,fastmap:nu,field:Xn,flush:zB,font:v2,fontFamily:yh,fontSize:da,format:X1,formatLocale:dp,formats:C4,hasOwnProperty:oe,id:nh,identity:yn,inferType:A$,inferTypes:S$,ingest:Pe,inherits:H,inrange:$l,interpolate:Mx,interpolateColors:f2,interpolateRange:CN,intersect:BI,intersectBoxLine:Nl,intersectPath:Nx,intersectPoint:Ix,intersectRule:KN,isArray:j,isBoolean:ms,isDate:Bo,isFunction:_e,isIterable:GB,isNumber:He,isObject:ee,isRegExp:UB,isString:J,isTuple:Kg,key:x4,lerp:WB,lineHeight:Ko,loader:Xg,locale:w$,logger:m4,lruCache:HB,markup:i_,merge:YB,mergeConfig:eu,multiLineOffset:qx,one:Qc,pad:qB,panLinear:BB,panLog:$B,panPow:NB,panSymlog:IB,parse:Bbe,parseExpression:Y_,parseSelector:gs,path:Yc,pathCurves:Lx,pathEqual:RI,pathParse:wc,pathRectangle:YN,pathRender:ud,pathSymbols:HN,pathTrail:qN,peek:Oe,point:_2,projection:b_,quantileLogNormal:G4,quantileNormal:i2,quantileUniform:Y4,quantiles:B4,quantizeInterpolator:DN,quarter:ZB,quartiles:$4,get random(){return $r},randomInteger:Ise,randomKDE:R4,randomLCG:Nse,randomLogNormal:z$,randomMixture:G$,randomNormal:Z4,randomUniform:U$,read:k$,regressionExp:H$,regressionLinear:q4,regressionLoess:V$,regressionLog:W$,regressionPoly:q$,regressionPow:Y$,regressionQuad:V4,renderModule:w2,repeat:uf,resetDefaultLocale:Foe,resetSVGClipId:XN,resetSVGDefIds:Iue,responseType:M$,runtimeContext:JZ,sampleCurve:o2,sampleLogNormal:P4,sampleNormal:n2,sampleUniform:U4,scale:Ie,sceneEqual:s_,sceneFromJSON:fI,scenePickVisit:yp,sceneToJSON:uI,sceneVisit:xi,sceneZOrder:Zx,scheme:kx,serializeXML:EI,setRandom:Bse,span:rh,splitAccessPath:fa,stringValue:q,textMetrics:ui,timeBin:p$,timeFloor:a$,timeFormatLocale:sd,timeInterval:ru,timeOffset:l$,timeSequence:f$,timeUnitSpecifier:JB,timeUnits:S4,toBoolean:_4,toDate:w4,toNumber:cn,toSet:bi,toString:T4,transform:N$,transforms:bc,truncate:VB,truthy:Fr,tupleid:le,typeParsers:$3,utcFloor:o$,utcInterval:iu,utcOffset:c$,utcSequence:d$,utcdayofyear:t$,utcquarter:RB,utcweek:n$,version:$be,visitArray:vo,week:QB,writeConfig:tu,zero:Ao,zoomLinear:p4,zoomLog:g4,zoomPow:fp,zoomSymlog:y4},Symbol.toStringTag,{value:"Module"}));function Ibe(e,t,n){let r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}var Zbe={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},Rbe={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},Pbe={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const jbe=Array.prototype.slice,Ds=(e,t,n)=>{const r=n?n(t[0]):t[0];return r[e].apply(r,jbe.call(t,1))},zbe=(e,t,n,r,i,a,o)=>new Date(e,t||0,n??1,r||0,i||0,a||0,o||0);var Gbe={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:zbe,date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return Ds("join",arguments)},indexof:function(){return Ds("indexOf",arguments)},lastindexof:function(){return Ds("lastIndexOf",arguments)},slice:function(){return Ds("slice",arguments)},reverse:e=>e.slice().reverse(),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return Ds("substring",arguments,String)},split:function(){return Ds("split",arguments,String)},replace:function(){return Ds("replace",arguments,String)},trim:e=>String(e).trim(),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const Ube=["view","item","group","xy","x","y"],Wbe={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:n==="datum"?e.datum:n==="event"?e.event:n==="item"?e.item:Zbe[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);const i=e(t.property);return n&&(e.memberDepth-=1),r[i]},CallExpression:(e,t)=>{const n=t.arguments;let r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),r==="if"?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||Gbe[r]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>Rbe[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>Pbe[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>t.operator==="&&"?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((n,r)=>{e.memberDepth+=1;const i=e(r.key);return e.memberDepth-=1,n[i]=e(r.value),n},{})};function Uu(e,t,n,r,i,a){const o=s=>Wbe[s.type](o,s);return o.memberDepth=0,o.fn=Object.create(t),o.params=n,o.datum=r,o.event=i,o.item=a,Ube.forEach(s=>o.fn[s]=(...l)=>i.vega[s](...l)),o(e)}var Hbe={operator(e,t){const n=t.ast,r=e.functions;return i=>Uu(n,r,i)},parameter(e,t){const n=t.ast,r=e.functions;return(i,a)=>Uu(n,r,a,i)},event(e,t){const n=t.ast,r=e.functions;return i=>Uu(n,r,void 0,void 0,i)},handler(e,t){const n=t.ast,r=e.functions;return(i,a)=>{const o=a.item&&a.item.datum;return Uu(n,r,i,o,a)}},encode(e,t){const{marktype:n,channels:r}=t,i=e.functions,a=n==="group"||n==="image"||n==="rect";return(o,s)=>{const l=o.datum;let c=0,u;for(const f in r)u=Uu(r[f].ast,i,s,l,void 0,o),o[f]!==u&&(o[f]=u,c=1);return n!=="rule"&&Ibe(o,r,a),c}}};const Ybe="vega-lite",qbe='Dominik Moritz, Kanit "Ham" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',Vbe="5.5.0",Xbe=["Kanit Wongsuphasawat (http://kanitw.yellowpigz.com)","Dominik Moritz (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com)","Jeffrey Heer (https://jheer.org)"],Jbe="https://vega.github.io/vega-lite/",Kbe="Vega-Lite is a concise high-level language for interactive visualization.",Qbe=["vega","chart","visualization"],eve="build/vega-lite.js",tve="build/vega-lite.min.js",nve="build/vega-lite.min.js",rve="build/src/index",ive="build/src/index.d.ts",ave={vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2pdf:"./bin/vl2pdf",vl2vg:"./bin/vl2vg"},ove=["bin","build","src","vega-lite*","tsconfig.json"],sve={changelog:"conventional-changelog -p angular -r 2",prebuild:"yarn clean:build",build:"yarn build:only","build:only":"tsc -p tsconfig.build.json && rollup -c","prebuild:examples":"yarn build:only","build:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","prebuild:examples-full":"yarn build:only","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn build:jekyll && scripts/generate-toc","build:site":"rollup -c site/rollup.config.js","build:jekyll":"pushd site && bundle exec jekyll build -q && popd","build:versions":"scripts/update-version.sh",clean:"yarn clean:build && del-cli 'site/data/*' 'examples/compiled/*.png' && find site/examples ! -name 'index.md' ! -name 'data' -type f -delete","clean:build":"del-cli 'build/*' !build/vega-lite-schema.json","predeploy:site":"yarn presite","deploy:site":"gh-pages -d site",data:"rsync -r node_modules/vega-datasets/data/* site/data",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only","site:only":"pushd site && bundle exec jekyll serve -I -l && popd",prettierbase:"prettier '**/*.{md,css,yml}'",eslintbase:"eslint .",format:"yarn eslintbase --fix && yarn prettierbase --write",lint:"yarn eslintbase && yarn prettierbase --check",jest:"NODE_OPTIONS=--experimental-vm-modules npx jest",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn test:runtime","test:cover":"yarn jest --collectCoverage test/","test:inspect":"node --inspect-brk --experimental-vm-modules ./node_modules/.bin/jest --runInBand test","test:runtime":"NODE_OPTIONS=--experimental-vm-modules TZ=America/Los_Angeles npx jest test-runtime/ --config test-runtime/jest-config.json","test:runtime:generate":"yarn build:only && del-cli test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime",watch:"tsc -p tsconfig.build.json -w","watch:site":"yarn build:site -w","watch:test":"yarn jest --watch test/","watch:test:runtime":"NODE_OPTIONS=--experimental-vm-modules TZ=America/Los_Angeles npx jest --watch test-runtime/ --config test-runtime/jest-config.json",release:"yarn run prebuild && yarn build && yarn shipit",shipit:"auto shipit"},lve={type:"git",url:"https://github.com/vega/vega-lite.git"},cve="BSD-3-Clause",uve={url:"https://github.com/vega/vega-lite/issues"},fve={"@auto-it/conventional-commits":"^10.37.6","@auto-it/first-time-contributor":"^10.37.6","@babel/core":"^7.19.1","@babel/preset-env":"^7.19.1","@babel/preset-typescript":"^7.18.6","@rollup/plugin-alias":"^4.0.0","@rollup/plugin-babel":"^6.0.0","@rollup/plugin-commonjs":"^23.0.0","@rollup/plugin-json":"^4.1.0","@types/jest":"^27.4.1","@rollup/plugin-node-resolve":"^14.1.0","@types/chai":"^4.3.3","@types/d3":"^7.4.0","@types/mkdirp":"^1.0.2","@types/pako":"^2.0.0","@typescript-eslint/eslint-plugin":"^5.38.0","@typescript-eslint/parser":"^5.38.0",ajv:"^8.11.0","ajv-formats":"^2.1.1",auto:"^10.37.6",chai:"^4.3.6",cheerio:"^1.0.0-rc.12","conventional-changelog-cli":"^2.2.2",d3:"^7.6.1","del-cli":"^5.0.0",eslint:"^8.23.1","eslint-config-prettier":"^8.5.0","eslint-plugin-jest":"^27.0.4","eslint-plugin-prettier":"^4.2.1","gh-pages":"^4.0.0",jest:"^27.5.1","highlight.js":"^11.6.0","jest-dev-server":"^6.1.1",mkdirp:"^1.0.4",pako:"^2.0.4",prettier:"^2.7.1",puppeteer:"^15.0.0",rollup:"^2.79.1","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-sourcemaps":"^0.6.3","rollup-plugin-terser":"^7.0.2",serve:"^14.0.1",terser:"^5.15.0","ts-jest":"^29.0.1","ts-json-schema-generator":"^1.1.1","vega-cli":"^5.22.1",typescript:"~4.8.3","vega-datasets":"~2.5.1","vega-embed":"^6.21.0","vega-tooltip":"^0.28.0","yaml-front-matter":"^4.1.1"},dve={"@types/clone":"~2.1.1",clone:"~2.1.2","fast-deep-equal":"~3.1.3","fast-json-stable-stringify":"~2.1.0","json-stringify-pretty-compact":"~3.0.0",tslib:"~2.4.0","vega-event-selector":"~3.0.0","vega-expression":"~5.0.0","vega-util":"~1.17.0",yargs:"~17.6.0"},hve={vega:"^5.22.0"},mve={node:">=12"},pve={name:Ybe,author:qbe,version:Vbe,collaborators:Xbe,homepage:Jbe,description:Kbe,keywords:Qbe,main:eve,unpkg:tve,jsdelivr:nve,module:rve,types:ive,bin:ave,files:ove,scripts:sve,repository:lve,license:cve,bugs:uve,devDependencies:fve,dependencies:dve,peerDependencies:hve,engines:mve};var E5={},gve={get exports(){return E5},set exports(e){E5=e}};(function(e){var t=function(){function n(d,h){return h!=null&&d instanceof h}var r;try{r=Map}catch{r=function(){}}var i;try{i=Set}catch{i=function(){}}var a;try{a=Promise}catch{a=function(){}}function o(d,h,m,g,p){typeof h=="object"&&(m=h.depth,g=h.prototype,p=h.includeNonEnumerable,h=h.circular);var y=[],b=[],v=typeof Buffer<"u";typeof h>"u"&&(h=!0),typeof m>"u"&&(m=1/0);function x(_,T){if(_===null)return null;if(T===0)return _;var w,S;if(typeof _!="object")return _;if(n(_,r))w=new r;else if(n(_,i))w=new i;else if(n(_,a))w=new a(function(F,$){_.then(function(N){F(x(N,T-1))},function(N){$(x(N,T-1))})});else if(o.__isArray(_))w=[];else if(o.__isRegExp(_))w=new RegExp(_.source,f(_)),_.lastIndex&&(w.lastIndex=_.lastIndex);else if(o.__isDate(_))w=new Date(_.getTime());else{if(v&&Buffer.isBuffer(_))return Buffer.allocUnsafe?w=Buffer.allocUnsafe(_.length):w=new Buffer(_.length),_.copy(w),w;n(_,Error)?w=Object.create(_):typeof g>"u"?(S=Object.getPrototypeOf(_),w=Object.create(S)):(w=Object.create(g),S=g)}if(h){var C=y.indexOf(_);if(C!=-1)return b[C];y.push(_),b.push(w)}n(_,r)&&_.forEach(function(F,$){var N=x($,T-1),R=x(F,T-1);w.set(N,R)}),n(_,i)&&_.forEach(function(F){var $=x(F,T-1);w.add($)});for(var M in _){var A;S&&(A=Object.getOwnPropertyDescriptor(S,M)),!(A&&A.set==null)&&(w[M]=x(_[M],T-1))}if(Object.getOwnPropertySymbols)for(var L=Object.getOwnPropertySymbols(_),M=0;M<L.length;M++){var D=L[M],E=Object.getOwnPropertyDescriptor(_,D);E&&!E.enumerable&&!p||(w[D]=x(_[D],T-1),E.enumerable||Object.defineProperty(w,D,{enumerable:!1}))}if(p)for(var O=Object.getOwnPropertyNames(_),M=0;M<O.length;M++){var k=O[M],E=Object.getOwnPropertyDescriptor(_,k);E&&E.enumerable||(w[k]=x(_[k],T-1),Object.defineProperty(w,k,{enumerable:!1}))}return w}return x(d,m)}o.clonePrototype=function(h){if(h===null)return null;var m=function(){};return m.prototype=h,new m};function s(d){return Object.prototype.toString.call(d)}o.__objToStr=s;function l(d){return typeof d=="object"&&s(d)==="[object Date]"}o.__isDate=l;function c(d){return typeof d=="object"&&s(d)==="[object Array]"}o.__isArray=c;function u(d){return typeof d=="object"&&s(d)==="[object RegExp]"}o.__isRegExp=u;function f(d){var h="";return d.global&&(h+="g"),d.ignoreCase&&(h+="i"),d.multiline&&(h+="m"),h}return o.__getRegExpFlags=f,o}();e.exports&&(e.exports=t)})(gve);const yve=E5;var bve=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(a=Object.keys(t),r=a.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;i--!==0;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n},_9=function(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});var n=typeof t.cycles=="boolean"?t.cycles:!1,r=t.cmp&&function(a){return function(o){return function(s,l){var c={key:s,value:o[s]},u={key:l,value:o[l]};return a(c,u)}}}(t.cmp),i=[];return function a(o){if(o&&o.toJSON&&typeof o.toJSON=="function"&&(o=o.toJSON()),o!==void 0){if(typeof o=="number")return isFinite(o)?""+o:"null";if(typeof o!="object")return JSON.stringify(o);var s,l;if(Array.isArray(o)){for(l="[",s=0;s<o.length;s++)s&&(l+=","),l+=a(o[s])||"null";return l+"]"}if(o===null)return"null";if(i.indexOf(o)!==-1){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var c=i.push(o)-1,u=Object.keys(o).sort(r&&r(o));for(l="",s=0;s<u.length;s++){var f=u[s],d=a(o[f]);d&&(l&&(l+=","),l+=JSON.stringify(f)+":"+d)}return i.splice(c,1),"{"+l+"}"}}(e)};function w9(e){return!!e.or}function T9(e){return!!e.and}function A9(e){return!!e.not}function pm(e,t){if(A9(e))pm(e.not,t);else if(T9(e))for(const n of e.and)pm(n,t);else if(w9(e))for(const n of e.or)pm(n,t);else t(e)}function Vl(e,t){return A9(e)?{not:Vl(e.not,t)}:T9(e)?{and:e.and.map(n=>Vl(n,t))}:w9(e)?{or:e.or.map(n=>Vl(n,t))}:t(e)}const zi=bve,ve=yve;function YR(e){throw new Error(e)}function kc(e,t){const n={};for(const r of t)oe(e,r)&&(n[r]=e[r]);return n}function Yn(e,t){const n=Object.assign({},e);for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>_9(e)).join(",")})`};const et=_9;function Ce(e){if(He(e))return e;const t=J(e)?e:_9(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function M5(e){return e===!1||e===null}function Me(e,t){return e.includes(t)}function C0(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function S9(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function qR(e,...t){for(const n of t)vve(e,n??{});return e}function vve(e,t){for(const n of G(t))tu(e,n,t[n],!0)}function Gi(e,t){const n=[],r={};let i;for(const a of e)i=t(a),!(i in r)&&(r[i]=1,n.push(a));return n}function xve(e,t){const n=G(e),r=G(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function VR(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function E9(e,t){for(const n of e)if(t.has(n))return!0;return!1}function k5(e){const t=new Set;for(const n of e){const i=fa(n).map((o,s)=>s===0?o:`[${o}]`),a=i.map((o,s)=>i.slice(0,s+1).join(""));for(const o of a)t.add(o)}return t}function M9(e,t){return e===void 0||t===void 0?!0:E9(k5(e),k5(t))}function We(e){return G(e).length===0}const G=Object.keys,gn=Object.values,rs=Object.entries;function _d(e){return e===!0||e===!1}function st(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function Nf(e,t){return A9(e)?`!(${Nf(e.not,t)})`:T9(e)?`(${e.and.map(n=>Nf(n,t)).join(") && (")})`:w9(e)?`(${e.or.map(n=>Nf(n,t)).join(") || (")})`:t(e)}function Np(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&Np(e[n],t)&&delete e[n],We(e)}function Sh(e){return e.charAt(0).toUpperCase()+e.substr(1)}function k9(e,t="datum"){const n=fa(e),r=[];for(let i=1;i<=n.length;i++){const a=`[${n.slice(0,i).map(q).join("][")}]`;r.push(`${t}${a}`)}return r.join(" && ")}function XR(e,t="datum"){return`${t}[${q(fa(e).join("."))}]`}function _ve(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Nr(e){return`${fa(e).map(_ve).join("\\.")}`}function D0(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function O9(e){return`${fa(e).join(".")}`}function Oc(e){return e?fa(e).length:0}function _t(...e){for(const t of e)if(t!==void 0)return t}let JR=42;function KR(e){const t=++JR;return e?String(e)+t:t}function wve(){JR=42}function QR(e){return eP(e)?e:`__${e}`}function eP(e){return e.startsWith("__")}function wd(e){if(e!==void 0)return(e%360+360)%360}function P2(e){return He(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}var Eh=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Ga="row",Ua="column",j2="facet",ft="x",jt="y",ki="x2",pa="y2",ys="xOffset",fu="yOffset",Oi="radius",ao="radius2",jr="theta",oo="theta2",ga="latitude",ya="longitude",Ci="latitude2",Ir="longitude2",Qn="color",ba="fill",va="stroke",er="shape",so="size",el="angle",lo="opacity",bs="fillOpacity",vs="strokeOpacity",xs="strokeWidth",_s="strokeDash",Mh="text",kh="order",Oh="detail",z2="key",L0="tooltip",G2="href",U2="url",W2="description",Tve={x:1,y:1,x2:1,y2:1},tP={theta:1,theta2:1,radius:1,radius2:1};function nP(e){return e in tP}const C9={longitude:1,longitude2:1,latitude:1,latitude2:1};function Ave(e){switch(e){case ga:return"y";case Ci:return"y2";case ya:return"x";case Ir:return"x2"}}function Sve(e){return e in C9}const Eve=G(C9),D9=Object.assign(Object.assign(Object.assign(Object.assign({},Tve),tP),C9),{xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1});function Xl(e){return e===Qn||e===ba||e===va}const rP={row:1,column:1,facet:1},kr=G(rP),L9=Object.assign(Object.assign({},D9),rP),Mve=G(L9),kve=Eh(L9,["order","detail","tooltip"]),Ove=Eh(kve,["row","column","facet"]);function Cve(e){return!!Ove[e]}function iP(e){return!!L9[e]}const Dve=[ki,pa,Ci,Ir,oo,ao];function aP(e){return tl(e)!==e}function tl(e){switch(e){case ki:return ft;case pa:return jt;case Ci:return ga;case Ir:return ya;case oo:return jr;case ao:return Oi}return e}function is(e){if(nP(e))switch(e){case jr:return"startAngle";case oo:return"endAngle";case Oi:return"outerRadius";case ao:return"innerRadius"}return e}function xa(e){switch(e){case ft:return ki;case jt:return pa;case ga:return Ci;case ya:return Ir;case jr:return oo;case Oi:return ao}}function tr(e){switch(e){case ft:case ki:return"width";case jt:case pa:return"height"}}function Lve(e){switch(e){case ft:return"xOffset";case jt:return"yOffset";case ki:return"x2Offset";case pa:return"y2Offset";case jr:return"thetaOffset";case Oi:return"radiusOffset";case oo:return"theta2Offset";case ao:return"radius2Offset"}}function oP(e){switch(e){case ft:return"xOffset";case jt:return"yOffset"}}function sP(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const Fve=G(D9),F9=Eh(D9,["x","y","x2","y2","xOffset","yOffset","latitude","longitude","latitude2","longitude2","theta","theta2","radius","radius2"]),Bve=G(F9),B9={x:1,y:1},_a=G(B9);function zt(e){return e in B9}const $9={theta:1,radius:1},$ve=G($9);function H2(e){return e==="width"?ft:jt}const lP={xOffset:1,yOffset:1};function du(e){return e in lP}const cP=Eh(F9,["text","tooltip","href","url","description","detail","key","order"]),Nve=G(cP);function Ive(e){return!!F9[e]}function Zve(e){switch(e){case Qn:case ba:case va:case so:case er:case lo:case xs:case _s:return!0;case bs:case vs:case el:return!1}}const uP=Object.assign(Object.assign(Object.assign(Object.assign({},B9),$9),lP),cP),Y2=G(uP);function ws(e){return!!uP[e]}function Rve(e,t){return jve(e)[t]}const fP={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},Pve=Eh(fP,["geoshape"]);function jve(e){switch(e){case Qn:case ba:case va:case W2:case Oh:case z2:case L0:case G2:case kh:case lo:case bs:case vs:case xs:case j2:case Ga:case Ua:return fP;case ft:case jt:case ys:case fu:case ga:case ya:return Pve;case ki:case pa:case Ci:case Ir:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case so:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case _s:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case er:return{point:"always",geoshape:"always"};case Mh:return{text:"always"};case el:return{point:"always",square:"always",text:"always"};case U2:return{image:"always"};case jr:return{text:"always",arc:"always"};case Oi:return{text:"always",arc:"always"};case oo:case ao:return{arc:"always"}}}function Jb(e){switch(e){case ft:case jt:case jr:case Oi:case ys:case fu:case so:case el:case xs:case lo:case bs:case vs:case ki:case pa:case oo:case ao:return;case j2:case Ga:case Ua:case er:case _s:case Mh:case L0:case G2:case U2:case W2:return"discrete";case Qn:case ba:case va:return"flexible";case ga:case ya:case Ci:case Ir:case Oh:case z2:case kh:return}}const zve={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Gve={count:1,min:1,max:1};function eo(e){return!!e&&!!e.argmin}function Ts(e){return!!e&&!!e.argmax}function N9(e){return J(e)&&!!zve[e]}const Uve=new Set(["count","valid","missing","distinct"]);function dP(e){return J(e)&&Uve.has(e)}function Wve(e){return J(e)&&Me(["min","max"],e)}const Hve=new Set(["count","sum","distinct","valid","missing"]),Yve=new Set(["mean","average","median","q1","q3","min","max"]);function hP(e){return ms(e)&&(e=iy(e,void 0)),"bin"+G(e).map(t=>q2(e[t])?st(`_${t}_${rs(e[t])}`):st(`_${t}_${e[t]}`)).join("")}function tt(e){return e===!0||nl(e)&&!e.binned}function Wt(e){return e==="binned"||nl(e)&&e.binned===!0}function nl(e){return ee(e)}function q2(e){return e==null?void 0:e.param}function PE(e){switch(e){case Ga:case Ua:case so:case Qn:case ba:case va:case xs:case lo:case bs:case vs:case er:return 6;case _s:return 4;default:return 10}}function Ch(e){return!!(e!=null&&e.expr)}function Gn(e){const t=G(e||{}),n={};for(const r of t)n[r]=ur(e[r]);return n}var qve=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function mP(e){const{anchor:t,frame:n,offset:r,orient:i,angle:a,limit:o,color:s,subtitleColor:l,subtitleFont:c,subtitleFontSize:u,subtitleFontStyle:f,subtitleFontWeight:d,subtitleLineHeight:h,subtitlePadding:m}=e,g=qve(e,["anchor","frame","offset","orient","angle","limit","color","subtitleColor","subtitleFont","subtitleFontSize","subtitleFontStyle","subtitleFontWeight","subtitleLineHeight","subtitlePadding"]),p=Object.assign(Object.assign({},g),s?{fill:s}:{}),y=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t?{anchor:t}:{}),n?{frame:n}:{}),r?{offset:r}:{}),i?{orient:i}:{}),a!==void 0?{angle:a}:{}),o!==void 0?{limit:o}:{}),b=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},l?{subtitleColor:l}:{}),c?{subtitleFont:c}:{}),u?{subtitleFontSize:u}:{}),f?{subtitleFontStyle:f}:{}),d?{subtitleFontWeight:d}:{}),h?{subtitleLineHeight:h}:{}),m?{subtitlePadding:m}:{}),v=kc(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:p,subtitleMarkConfig:v,nonMarkTitleProperties:y,subtitle:b}}function wo(e){return J(e)||j(e)&&J(e[0])}function ae(e){return!!(e!=null&&e.signal)}function As(e){return!!e.step}function Vve(e){return j(e)?!1:"fields"in e&&!("data"in e)}function Xve(e){return j(e)?!1:"fields"in e&&"data"in e}function Ra(e){return j(e)?!1:"field"in e&&"data"in e}const Jve={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},Kve=G(Jve),Qve={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},O5=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];var I9=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function pP(e){const t=j(e.condition)?e.condition.map(jE):jE(e.condition);return Object.assign(Object.assign({},ur(e)),{condition:t})}function ur(e){if(Ch(e)){const{expr:t}=e,n=I9(e,["expr"]);return Object.assign({signal:t},n)}return e}function jE(e){if(Ch(e)){const{expr:t}=e,n=I9(e,["expr"]);return Object.assign({signal:t},n)}return e}function rt(e){if(Ch(e)){const{expr:t}=e,n=I9(e,["expr"]);return Object.assign({signal:t},n)}return ae(e)?e:e!==void 0?{value:e}:void 0}function e3e(e){return ae(e)?e.signal:q(e)}function zE(e){return ae(e)?e.signal:q(e.value)}function Wa(e){return ae(e)?e.signal:e==null?null:q(e)}function t3e(e,t,n){for(const r of n){const i=F0(r,t.markDef,t.config);i!==void 0&&(e[r]=rt(i))}return e}function gP(e){var t;return[].concat(e.type,(t=e.style)!==null&&t!==void 0?t:[])}function je(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:a}=r;return i&&t[i]!==void 0?t[i]:t[e]!==void 0?t[e]:a&&(!i||i===e)?void 0:F0(e,t,n,r)}function F0(e,t,n,{vgChannel:r}={}){return _t(r?Ip(e,t,n.style):void 0,Ip(e,t,n.style),r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function Ip(e,t,n){return yP(e,gP(t),n)}function yP(e,t,n){t=Q(t);let r;for(const i of t){const a=n[i];a&&a[e]!==void 0&&(r=a[e])}return r}function bP(e,t){return Q(e).reduce((n,r)=>{var i;return n.field.push(V(r,t)),n.order.push((i=r.sort)!==null&&i!==void 0?i:"ascending"),n},{field:[],order:[]})}function vP(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if(zi(i,r))return;n.push(r)}),n}function xP(e,t){return zi(e,t)||!t?e:e?[...Q(e),...Q(t)].join(", "):t}function _P(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((wo(n)||ae(n))&&(wo(r)||ae(r)))return{explicit:e.explicit,value:xP(n,r)};if(wo(n)||ae(n))return{explicit:e.explicit,value:n};if(wo(r)||ae(r))return{explicit:e.explicit,value:r};if(!wo(n)&&!ae(n)&&!wo(r)&&!ae(r))return{explicit:e.explicit,value:vP(n,r)};throw new Error("It should never reach here")}function Z9(e){return`Invalid specification ${et(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const n3e='Autosize "fit" only works for single views and layered views.';function GE(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function UE(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function WE(e){return e?`Dropping "fit-${e}" because spec has discrete ${tr(e)}.`:'Dropping "fit" because spec has discrete size.'}function R9(e){return`Unknown field for ${e}. Cannot calculate view size.`}function HE(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function r3e(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function i3e(e){return`The "nearest" transform is not supported for ${e} marks.`}function wP(e){return`Selection not supported for ${e} yet.`}function a3e(e){return`Cannot find a selection named "${e}".`}const o3e="Scale bindings are currently only supported for scales with unbinned, continuous domains.",s3e="Legend bindings are only supported for selections over an individual field or encoding channel.";function l3e(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function c3e(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const u3e="The same selection must be used to override scale domains in a layered view.",f3e='Interval selections should be initialized using "x" and/or "y" keys.';function d3e(e){return`Unknown repeated value "${e}".`}function YE(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const h3e="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function m3e(e){return`Unrecognized parse "${e}".`}function qE(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const p3e="Attempt to add the same child twice.";function g3e(e){return`Ignoring an invalid transform: ${et(e)}.`}const y3e='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function VE(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function b3e(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${et(t)} is overridden by a child projection ${et(n)}.`}const v3e="Arc marks uses theta channel rather than angle, replacing angle with theta.";function x3e(e){return`${e}Offset dropped because ${e} is continuous`}function _3e(e){return`There is no ${e} encoding. Replacing ${e}Offset encoding as ${e}.`}function w3e(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${et(n)}}.`}function TP(e){return`Invalid field type "${e}".`}function T3e(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function A3e(e){return`Invalid aggregation operator "${e}".`}function AP(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function S3e(e){return`Position range does not support relative band size for ${e}.`}function C5(e,t){return`Dropping ${et(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const E3e="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function V2(e,t,n){return`${e} dropped as it is incompatible with "${t}"${n?` when ${n}`:""}.`}function M3e(e){return`${e} encoding has no scale, so specified scale is ignored.`}function k3e(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function O3e(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function C3e(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function D3e(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function Kb(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function L3e(e){return`The ${e} for range marks cannot be an expression`}function F3e(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function B3e(e,t){return`Specified orient "${e}" overridden with "${t}".`}function $3e(e){return`Cannot use the scale property "${e}" with non-color channel.`}function N3e(e){return`Cannot use the relative band size with ${e} scale.`}function I3e(e){return`Using unaggregated domain with raw field has no effect (${et(e)}).`}function Z3e(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function R3e(e){return`Unaggregated domain is currently unsupported for log scale (${et(e)}).`}function P3e(e){return`Cannot apply size to non-oriented mark "${e}".`}function j3e(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function z3e(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function SP(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function EP(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function G3e(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${et(n)} and ${et(r)}). Using ${et(n)}.`}function U3e(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${et(n)} and ${et(r)}). Using the union of the two domains.`}function W3e(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function H3e(e){return`Dropping sort property ${et(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const XE="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",Y3e="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",q3e="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",V3e="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function X3e(e){return`Cannot stack "${e}" if there is already "${e}2".`}function J3e(e){return`Cannot stack non-linear scale (${e}).`}function K3e(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function Zp(e,t){return`Invalid ${e}: ${et(t)}.`}function Q3e(e){return`Dropping day from datetime ${et(e)} as day cannot be combined with other units.`}function e5e(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function t5e(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function n5e(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function JE(e){return`1D error band does not support ${e}.`}function MP(e){return`Channel ${e} is required for "binned" bin.`}function r5e(e){return`Channel ${e} should not be used with "binned" bin.`}function i5e(e){return`Domain for ${e} is required for threshold scale.`}globalThis&&globalThis.__classPrivateFieldSet;globalThis&&globalThis.__classPrivateFieldGet;const kP=m4(h4);let Cc=kP;function a5e(e){return Cc=e,Cc}function o5e(){return Cc=kP,Cc}function U(...e){Cc.warn(...e)}function s5e(...e){Cc.debug(...e)}function rl(e){if(e&&ee(e)){for(const t of j9)if(t in e)return!0}return!1}const OP=["january","february","march","april","may","june","july","august","september","october","november","december"],l5e=OP.map(e=>e.substr(0,3)),CP=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],c5e=CP.map(e=>e.substr(0,3));function u5e(e){if(P2(e)&&(e=+e),He(e))return e>4&&U(Zp("quarter",e)),e-1;throw new Error(Zp("quarter",e))}function f5e(e){if(P2(e)&&(e=+e),He(e))return e-1;{const t=e.toLowerCase(),n=OP.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=l5e.indexOf(r);if(i!==-1)return i;throw new Error(Zp("month",e))}}function d5e(e){if(P2(e)&&(e=+e),He(e))return e%7;{const t=e.toLowerCase(),n=CP.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=c5e.indexOf(r);if(i!==-1)return i;throw new Error(Zp("day",e))}}function P9(e,t){const n=[];if(t&&e.day!==void 0&&G(e).length>1&&(U(Q3e(e)),e=ve(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?f5e(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?u5e(e.quarter):e.quarter;n.push(He(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?d5e(e.day):e.day;n.push(He(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function Td(e){const n=P9(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function h5e(e){const n=P9(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function m5e(e){const t=P9(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}var p5e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const DP={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},j9=G(DP);function g5e(e){return!!DP[e]}function z9(e){return e.startsWith("utc")}function y5e(e){return e.substr(3)}const b5e={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function G9(e){return j9.filter(t=>LP(e,t))}function LP(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function v5e(e,t,{end:n}={end:!1}){const r=k9(t),i=z9(e)?"utc":"";function a(l){return l==="quarter"?`(${i}quarter(${r})-1)`:`${i}${l}(${r})`}let o;const s={};for(const l of j9)LP(e,l)&&(s[l]=a(l),o=l);return n&&(s[o]+="+1"),h5e(s)}function FP(e){if(!e)return;const t=G9(e);return`timeUnitSpecifier(${et(t)}, ${et(b5e)})`}function x5e(e,t,n){if(!e)return;const r=FP(e);return`${n||z9(e)?"utc":"time"}Format(${t}, ${r})`}function vn(e){if(!e)return;let t;return J(e)?t={unit:e}:ee(e)&&(t=Object.assign(Object.assign({},e),e.unit?{unit:e.unit}:{})),z9(t.unit)&&(t.utc=!0,t.unit=y5e(t.unit)),t}function _5e(e){const t=vn(e),{utc:n}=t,r=p5e(t,["utc"]);return r.unit?(n?"utc":"")+G(r).map(i=>st(`${i==="unit"?"":`_${i}_`}${r[i]}`)).join(""):(n?"utc":"")+"timeunit"+G(r).map(i=>st(`_${i}_${r[i]}`)).join("")}function w5e(e){return e==null?void 0:e.param}function U9(e){return!!(e!=null&&e.field)&&e.equal!==void 0}function W9(e){return!!(e!=null&&e.field)&&e.lt!==void 0}function H9(e){return!!(e!=null&&e.field)&&e.lte!==void 0}function Y9(e){return!!(e!=null&&e.field)&&e.gt!==void 0}function q9(e){return!!(e!=null&&e.field)&&e.gte!==void 0}function V9(e){if(e!=null&&e.field){if(j(e.range)&&e.range.length===2)return!0;if(ae(e.range))return!0}return!1}function X9(e){return!!(e!=null&&e.field)&&(j(e.oneOf)||j(e.in))}function T5e(e){return!!(e!=null&&e.field)&&e.valid!==void 0}function BP(e){return X9(e)||U9(e)||V9(e)||W9(e)||Y9(e)||H9(e)||q9(e)}function Li(e,t){return ay(e,{timeUnit:t,wrapTime:!0})}function A5e(e,t){return e.map(n=>Li(n,t))}function $P(e,t=!0){var n;const{field:r}=e,i=(n=vn(e.timeUnit))===null||n===void 0?void 0:n.unit,a=i?`time(${v5e(i,r)})`:V(e,{expr:"datum"});if(U9(e))return`${a}===${Li(e.equal,i)}`;if(W9(e)){const o=e.lt;return`${a}<${Li(o,i)}`}else if(Y9(e)){const o=e.gt;return`${a}>${Li(o,i)}`}else if(H9(e)){const o=e.lte;return`${a}<=${Li(o,i)}`}else if(q9(e)){const o=e.gte;return`${a}>=${Li(o,i)}`}else{if(X9(e))return`indexof([${A5e(e.oneOf,i).join(",")}], ${a}) !== -1`;if(T5e(e))return J9(a,e.valid);if(V9(e)){const{range:o}=e,s=ae(o)?{signal:`${o.signal}[0]`}:o[0],l=ae(o)?{signal:`${o.signal}[1]`}:o[1];if(s!==null&&l!==null&&t)return"inrange("+a+", ["+Li(s,i)+", "+Li(l,i)+"])";const c=[];return s!==null&&c.push(`${a} >= ${Li(s,i)}`),l!==null&&c.push(`${a} <= ${Li(l,i)}`),c.length>0?c.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${et(e)}`)}function J9(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function S5e(e){var t;return BP(e)&&e.timeUnit?Object.assign(Object.assign({},e),{timeUnit:(t=vn(e.timeUnit))===null||t===void 0?void 0:t.unit}):e}const Dh={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function E5e(e){return e==="quantitative"||e==="temporal"}function NP(e){return e==="ordinal"||e==="nominal"}const B0=Dh.quantitative,K9=Dh.ordinal,Dc=Dh.temporal,Q9=Dh.nominal,hu=Dh.geojson;function M5e(e){if(e)switch(e=e.toLowerCase(),e){case"q":case B0:return"quantitative";case"t":case Dc:return"temporal";case"o":case K9:return"ordinal";case"n":case Q9:return"nominal";case hu:return"geojson"}}var k5e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const qn={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},D5={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function O5e(e,t){const n=D5[e],r=D5[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const C5e={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function KE(e){return C5e[e]}const IP=new Set(["linear","log","pow","sqrt","symlog"]),ZP=new Set([...IP,"time","utc"]);function RP(e){return IP.has(e)}const PP=new Set(["quantile","quantize","threshold"]),D5e=new Set([...ZP,...PP,"sequential","identity"]),L5e=new Set(["ordinal","bin-ordinal","point","band"]);function Gt(e){return L5e.has(e)}function yr(e){return D5e.has(e)}function oi(e){return ZP.has(e)}function Lc(e){return PP.has(e)}const F5e={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0};function B5e(e){return!J(e)&&!!e.name}function jP(e){return e==null?void 0:e.param}function $5e(e){return e==null?void 0:e.unionWith}function N5e(e){return ee(e)&&"field"in e}const I5e={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},Z5e=k5e(I5e,["type","domain","range","rangeMax","rangeMin","scheme"]),R5e=G(Z5e);function L5(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return oi(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return oi(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"clamp":return oi(e);case"nice":return oi(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return yr(e)&&!Me(["log","time","utc","threshold","quantile"],e)}}function zP(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return Xl(e)?void 0:$3e(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function P5e(e,t){return Me([K9,Q9],t)?e===void 0||Gt(e):t===Dc?Me([qn.TIME,qn.UTC,void 0],e):t===B0?RP(e)||Lc(e)||e===void 0:!0}function j5e(e,t,n=!1){if(!ws(e))return!1;switch(e){case ft:case jt:case ys:case fu:case jr:case Oi:return oi(t)||t==="band"?!0:t==="point"?!n:!1;case so:case xs:case lo:case bs:case vs:case el:return oi(t)||Lc(t)||Me(["band","point","ordinal"],t);case Qn:case ba:case va:return t!=="band";case _s:case er:return t==="ordinal"||Lc(t)}}const In={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},GP=In.arc,X2=In.area,J2=In.bar,z5e=In.image,K2=In.line,Q2=In.point,G5e=In.rect,Rp=In.rule,UP=In.text,e6=In.tick,U5e=In.trail,t6=In.circle,n6=In.square,WP=In.geoshape;function Ss(e){return["line","area","trail"].includes(e)}function HP(e){return["rect","bar","image","arc"].includes(e)}const W5e=new Set(G(In));function aa(e){return e.type}const H5e=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],Y5e=["fill","fillOpacity"],q5e=[...H5e,...Y5e],V5e={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},QE=G(V5e),X5e={area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]},J5e={color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},K5e={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},YP=G(K5e);function $0(e){return e&&e.band!=null}const Q5e={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},qP=5,e7e={binSpacing:1,continuousBandSize:qP,timeUnitBandPosition:.5},t7e={binSpacing:0,continuousBandSize:qP,timeUnitBandPosition:.5},n7e={thickness:1};function r7e(e){return aa(e)?e.type:e}function r6(e){const{channel:t,channelDef:n,markDef:r,scale:i,config:a}=e,o=a6(e);return W(n)&&!dP(n.aggregate)&&i&&oi(i.get("type"))?i7e({fieldDef:n,channel:t,markDef:r,ref:o,config:a}):o}function i7e({fieldDef:e,channel:t,markDef:n,ref:r,config:i}){return Ss(n.type)?r:je("invalid",n,i)===null?[a7e(e,t),r]:r}function a7e(e,t){const n=i6(e,!0),i=tl(t)==="y"?{field:{group:"height"}}:{value:0};return Object.assign({test:n},i)}function i6(e,t=!0){return J9(J(e)?e:V(e,{expr:"datum"}),!t)}function o7e(e){const{datum:t}=e;return rl(t)?Td(t):`${et(t)}`}function s0(e,t,n,r){const i={};if(t&&(i.scale=t),wa(e)){const{datum:a}=e;rl(a)?i.signal=Td(a):ae(a)?i.signal=a.signal:Ch(a)?i.signal=a.expr:i.value=a}else i.field=V(e,n);if(r){const{offset:a,band:o}=r;a&&(i.offset=a),o&&(i.band=o)}return i}function Pp({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,bandPosition:a=.5}){const o=0<a&&a<1?"datum":void 0,s=V(t,{expr:o,suffix:i}),l=n!==void 0?V(n,{expr:o}):V(t,{suffix:"end",expr:o}),c={};if(a===0||a===1){c.scale=e;const u=a===0?s:l;c.field=u}else{const u=ae(a)?`${a.signal} * ${s} + (1-${a.signal}) * ${l}`:`${a} * ${s} + ${1-a} * ${l}`;c.signal=`scale("${e}", ${u})`}return r&&(c.offset=r),c}function a6({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:a,scale:o,stack:s,offset:l,defaultRef:c,bandPosition:u}){var f;if(t){if(ge(t)){const d=o==null?void 0:o.get("type");if(Zr(t)){u??(u=nj({fieldDef:t,fieldDef2:n,markDef:r,config:i}));const{bin:h,timeUnit:m,type:g}=t;if(tt(h)||u&&m&&g===Dc)return s!=null&&s.impute?s0(t,a,{binSuffix:"mid"},{offset:l}):u&&!Gt(d)?Pp({scaleName:a,fieldOrDatumDef:t,bandPosition:u,offset:l}):s0(t,a,$h(t,e)?{binSuffix:"range"}:{},{offset:l});if(Wt(h)){if(W(n))return Pp({scaleName:a,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:u,offset:l});U(MP(e===ft?ki:pa))}}return s0(t,a,Gt(d)?{binSuffix:"range"}:{},{offset:l,band:d==="band"?(f=u??t.bandPosition)!==null&&f!==void 0?f:.5:void 0})}else if(_i(t)){const d=t.value,h=l?{offset:l}:{};return Object.assign(Object.assign({},If(e,d)),h)}}return _e(c)&&(c=c()),c&&Object.assign(Object.assign({},c),l?{offset:l}:{})}function If(e,t){return Me(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:Me(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:rt(t)}function N0(e){return e&&e!=="number"&&e!=="time"}function VP(e,t,n){return`${e}(${t}${n?`, ${et(n)}`:""})`}const s7e=" – ";function o6({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:a}){var o,s;if(N0(n))return si({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:a});const l=XP(e,r,i),c=Fc(e);if(t===void 0&&n===void 0&&a.customFormatTypes){if(c==="quantitative"){if(i&&a.normalizedNumberFormatType)return si({fieldOrDatumDef:e,format:a.normalizedNumberFormat,formatType:a.normalizedNumberFormatType,expr:r,config:a});if(a.numberFormatType)return si({fieldOrDatumDef:e,format:a.numberFormat,formatType:a.numberFormatType,expr:r,config:a})}if(c==="temporal"&&a.timeFormatType&&W(e)&&e.timeUnit===void 0)return si({fieldOrDatumDef:e,format:a.timeFormat,formatType:a.timeFormatType,expr:r,config:a})}if($c(e)){const u=c7e({field:l,timeUnit:W(e)?(o=vn(e.timeUnit))===null||o===void 0?void 0:o.unit:void 0,format:t,formatType:a.timeFormatType,rawTimeFormat:a.timeFormat,isUTCScale:il(e)&&((s=e.scale)===null||s===void 0?void 0:s.type)===qn.UTC});return u?{signal:u}:void 0}if(t=F5({type:c,specifiedFormat:t,config:a,normalizeStack:i}),W(e)&&tt(e.bin)){const u=V(e,{expr:r,binSuffix:"end"});return{signal:Lh(l,u,t,n,a)}}else return t||Fc(e)==="quantitative"?{signal:`${QP(l,t)}`}:{signal:`isValid(${l}) ? ${l} : ""+${l}`}}function XP(e,t,n){return W(e)?n?`${V(e,{expr:t,suffix:"end"})}-${V(e,{expr:t,suffix:"start"})}`:V(e,{expr:t}):o7e(e)}function si({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:a,field:o}){if(o??(o=XP(e,r,i)),o!=="datum.value"&&W(e)&&tt(e.bin)){const s=V(e,{expr:r,binSuffix:"end"});return{signal:Lh(o,s,t,n,a)}}return{signal:VP(n,o,t)}}function JP(e,t,n,r,i,a){var o;if(!N0(r)&&!(n===void 0&&r===void 0&&i.customFormatTypes&&Fc(e)==="quantitative"&&(i.normalizedNumberFormatType&&Bc(e)&&e.stack==="normalize"||i.numberFormatType))){if(Bc(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return F5({type:"quantitative",config:i,normalizeStack:!0});if($c(e)){const s=W(e)?(o=vn(e.timeUnit))===null||o===void 0?void 0:o.unit:void 0;return s===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:l7e({specifiedFormat:n,timeUnit:s,config:i,omitTimeFormatConfig:a})}return F5({type:t,specifiedFormat:n,config:i})}}function KP(e,t,n){var r;if(e&&(ae(e)||e==="number"||e==="time"))return e;if($c(t)&&n!=="time"&&n!=="utc")return W(t)&&(!((r=vn(t==null?void 0:t.timeUnit))===null||r===void 0)&&r.utc)?"utc":"time"}function F5({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(J(t))return t;if(e===B0)return r?n.normalizedNumberFormat:n.numberFormat}function l7e({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:FP(t)}:r?void 0:n.timeFormat)}function QP(e,t){return`format(${e}, "${t||""}")`}function eM(e,t,n,r){var i;return N0(n)?VP(n,e,t):QP(e,(i=J(t)?t:void 0)!==null&&i!==void 0?i:r.numberFormat)}function Lh(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return Lh(e,t,i.numberFormat,i.numberFormatType,i);const a=eM(e,n,r,i),o=eM(t,n,r,i);return`${J9(e,!1)} ? "null" : ${a} + "${s7e}" + ${o}`}function c7e({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:a}){return!t||n?!t&&r?`${r}(${e}, '${n}')`:(n=J(n)?n:i,`${a?"utc":"time"}Format(${e}, '${n}')`):x5e(t,e,a)}const ey="min",u7e={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function tM(e){return e in u7e}function ej(e){return!!(e!=null&&e.encoding)}function Vi(e){return e&&(e.op==="count"||!!e.field)}function tj(e){return e&&j(e)}function Fh(e){return"row"in e||"column"in e}function s6(e){return!!e&&"header"in e}function ty(e){return"facet"in e}var B5=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function f7e(e){return e.param}function d7e(e){return e&&!J(e)&&"repeat"in e}function nM(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return Object.assign(Object.assign(Object.assign(Object.assign({},n?{timeUnit:n}:{}),r?{bin:r}:{}),i?{aggregate:i}:{}),{field:t})}function l6(e){return"sort"in e}function nj({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if(ge(e)&&e.bandPosition!==void 0)return e.bandPosition;if(W(e)){const{timeUnit:i,bin:a}=e;if(i&&!t)return HP(n.type)?0:F0("timeUnitBandPosition",n,r);if(tt(a))return .5}}function rj({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:a,useVlSizeChannel:o}){var s,l,c;const u=tr(e),f=je(o?"size":u,r,i,{vgChannel:u});if(f!==void 0)return f;if(W(t)){const{timeUnit:d,bin:h}=t;if(d&&!n)return{band:F0("timeUnitBandSize",r,i)};if(tt(h)&&!Gt(a))return{band:1}}if(HP(r.type))return a?Gt(a)?((s=i[r.type])===null||s===void 0?void 0:s.discreteBandSize)||{band:1}:(l=i[r.type])===null||l===void 0?void 0:l.continuousBandSize:(c=i[r.type])===null||c===void 0?void 0:c.discreteBandSize}function ij(e,t,n,r){return tt(e.bin)||e.timeUnit&&Zr(e)&&e.type==="temporal"?nj({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function ny(e){return e&&"condition"in e}function ry(e){const t=e==null?void 0:e.condition;return!!t&&!j(t)&&W(t)}function Bh(e){const t=e==null?void 0:e.condition;return!!t&&!j(t)&&ge(t)}function h7e(e){const t=e==null?void 0:e.condition;return!!t&&(j(t)||_i(t))}function W(e){return e&&(!!e.field||e.aggregate==="count")}function Fc(e){return e==null?void 0:e.type}function wa(e){return e&&"datum"in e}function Ui(e){return Zr(e)&&!jp(e)||$5(e)}function $5(e){return wa(e)&&He(e.datum)}function ge(e){return W(e)||wa(e)}function Zr(e){return e&&("field"in e||e.aggregate==="count")&&"type"in e}function _i(e){return e&&"value"in e&&"value"in e}function il(e){return e&&("scale"in e||"sort"in e)}function Bc(e){return e&&("axis"in e||"stack"in e||"impute"in e)}function aj(e){return e&&"legend"in e}function oj(e){return e&&("format"in e||"formatType"in e)}function m7e(e){return Yn(e,["legend","axis","header","scale"])}function p7e(e){return"op"in e}function V(e,t={}){var n,r,i;let a=e.field;const o=t.prefix;let s=t.suffix,l="";if(y7e(e))a=QR("count");else{let c;if(!t.nofn)if(p7e(e))c=e.op;else{const{bin:u,aggregate:f,timeUnit:d}=e;tt(u)?(c=hP(u),s=((n=t.binSuffix)!==null&&n!==void 0?n:"")+((r=t.suffix)!==null&&r!==void 0?r:"")):f?Ts(f)?(l=`["${a}"]`,a=`argmax_${f.argmax}`):eo(f)?(l=`["${a}"]`,a=`argmin_${f.argmin}`):c=String(f):d&&(c=_5e(d),s=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+((i=t.suffix)!==null&&i!==void 0?i:""))}c&&(a=a?`${c}_${a}`:c)}return s&&(a=`${a}_${s}`),o&&(a=`${o}_${a}`),t.forAs?O9(a):t.expr?XR(a,t.expr)+l:Nr(a)+l}function jp(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return W(e)&&!!e.bin;case"temporal":return!1}throw new Error(TP(e.type))}function g7e(e){var t;return il(e)&&Lc((t=e.scale)===null||t===void 0?void 0:t.type)}function y7e(e){return e.aggregate==="count"}function b7e(e,t){var n;const{field:r,bin:i,timeUnit:a,aggregate:o}=e;if(o==="count")return t.countTitle;if(tt(i))return`${r} (binned)`;if(a){const s=(n=vn(a))===null||n===void 0?void 0:n.unit;if(s)return`${r} (${G9(s).join("-")})`}else if(o)return Ts(o)?`${r} for max ${o.argmax}`:eo(o)?`${r} for min ${o.argmin}`:`${Sh(o)} of ${r}`;return r}function v7e(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(Ts(t))return`${i} for argmax(${t.argmax})`;if(eo(t))return`${i} for argmin(${t.argmin})`;const a=vn(r),o=t||(a==null?void 0:a.unit)||(a==null?void 0:a.maxbins)&&"timeunit"||tt(n)&&"bin";return o?`${o.toUpperCase()}(${i})`:i}const sj=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return v7e(e);default:return b7e(e,t)}};let lj=sj;function cj(e){lj=e}function x7e(){cj(sj)}function Jl(e,t,{allowDisabling:n,includeDefault:r=!0}){var i,a;const o=(i=c6(e))===null||i===void 0?void 0:i.title;if(!W(e))return o??e.title;const s=e,l=r?u6(s,t):void 0;return n?_t(o,s.title,l):(a=o??s.title)!==null&&a!==void 0?a:l}function c6(e){if(Bc(e)&&e.axis)return e.axis;if(aj(e)&&e.legend)return e.legend;if(s6(e)&&e.header)return e.header}function u6(e,t){return lj(e,t)}function zp(e){var t;if(oj(e)){const{format:n,formatType:r}=e;return{format:n,formatType:r}}else{const n=(t=c6(e))!==null&&t!==void 0?t:{},{format:r,formatType:i}=n;return{format:r,formatType:i}}}function _7e(e,t){var n;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(l6(e)&&j(e.sort))return"ordinal";const{aggregate:r,bin:i,timeUnit:a}=e;if(a)return"temporal";if(i||r&&!Ts(r)&&!eo(r))return"quantitative";if(il(e)&&(!((n=e.scale)===null||n===void 0)&&n.type))switch(D5[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function oa(e){if(W(e))return e;if(ry(e))return e.condition}function Mt(e){if(ge(e))return e;if(Bh(e))return e.condition}function uj(e,t,n,r={}){if(J(e)||He(e)||ms(e)){const i=J(e)?"string":He(e)?"number":"boolean";return U(w3e(t,i,e)),{value:e}}return ge(e)?Gp(e,t,n,r):Bh(e)?Object.assign(Object.assign({},e),{condition:Gp(e.condition,t,n,r)}):e}function Gp(e,t,n,r){if(oj(e)){const{format:i,formatType:a}=e,o=B5(e,["format","formatType"]);if(N0(a)&&!n.customFormatTypes)return U(VE(t)),Gp(o,t,n,r)}else{const i=Bc(e)?"axis":aj(e)?"legend":s6(e)?"header":null;if(i&&e[i]){const a=e[i],{format:o,formatType:s}=a,l=B5(a,["format","formatType"]);if(N0(s)&&!n.customFormatTypes)return U(VE(t)),Gp(Object.assign(Object.assign({},e),{[i]:l}),t,n,r)}}return W(e)?f6(e,t,r):w7e(e)}function w7e(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=He(n)?"quantitative":J(n)?"nominal":rl(n)?"temporal":void 0,Object.assign(Object.assign({},e),{type:t})}function f6(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:a,field:o}=e,s=Object.assign({},e);if(!n&&r&&!N9(r)&&!Ts(r)&&!eo(r)&&(U(A3e(r)),delete s.aggregate),i&&(s.timeUnit=vn(i)),o&&(s.field=`${o}`),tt(a)&&(s.bin=iy(a,t)),Wt(a)&&!zt(t)&&U(r5e(t)),Zr(s)){const{type:l}=s,c=M5e(l);l!==c&&(s.type=c),l!=="quantitative"&&dP(r)&&(U(T3e(l,r)),s.type="quantitative")}else if(!aP(t)){const l=_7e(s,t);s.type=l}if(Zr(s)){const{compatible:l,warning:c}=T7e(s,t)||{};l===!1&&U(c)}if(l6(s)&&J(s.sort)){const{sort:l}=s;if(tM(l))return Object.assign(Object.assign({},s),{sort:{encoding:l}});const c=l.substr(1);if(l.charAt(0)==="-"&&tM(c))return Object.assign(Object.assign({},s),{sort:{encoding:c,order:"descending"}})}if(s6(s)){const{header:l}=s;if(l){const{orient:c}=l,u=B5(l,["orient"]);if(c)return Object.assign(Object.assign({},s),{header:Object.assign(Object.assign({},u),{labelOrient:l.labelOrient||c,titleOrient:l.titleOrient||c})})}}return s}function iy(e,t){return ms(e)?{maxbins:PE(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?Object.assign(Object.assign({},e),{maxbins:PE(t)}):e}const Sl={compatible:!0};function T7e(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case Ga:case Ua:case j2:return jp(e)?Sl:{compatible:!1,warning:O3e(t)};case ft:case jt:case ys:case fu:case Qn:case ba:case va:case Mh:case Oh:case z2:case L0:case G2:case U2:case el:case jr:case Oi:case W2:return Sl;case ya:case Ir:case ga:case Ci:return n!==B0?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:Sl;case lo:case bs:case vs:case xs:case so:case oo:case ao:case ki:case pa:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:Sl;case er:case _s:return!jp(e)&&!g7e(e)?{compatible:!1,warning:C3e(t)}:Sl;case kh:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:Sl}}function $c(e){const{formatType:t}=zp(e);return t==="time"||!t&&A7e(e)}function A7e(e){return e&&(e.type==="temporal"||W(e)&&!!e.timeUnit)}function ay(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){var a;const o=t&&((a=vn(t))===null||a===void 0?void 0:a.unit);let s=o||n==="temporal",l;return Ch(e)?l=e.expr:ae(e)?l=e.signal:rl(e)?(s=!0,l=Td(e)):(J(e)||He(e))&&s&&(l=`datetime(${et(e)})`,g5e(o)&&(He(e)&&e<1e4||J(e)&&isNaN(Date.parse(e)))&&(l=Td({[o]:e}))),l?r&&s?`time(${l})`:l:i?void 0:et(e)}function fj(e,t){const{type:n}=e;return t.map(r=>{const i=ay(r,{timeUnit:W(e)?e.timeUnit:void 0,type:n,undefinedIfExprNotRequired:!0});return i!==void 0?{signal:i}:r})}function $h(e,t){return tt(e.bin)?ws(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const rM={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function Nh(e){return e==null?void 0:e.condition}const dj=["domain","grid","labels","ticks","title"],S7e={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},hj={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},E7e=Object.assign(Object.assign({},hj),{style:1,labelExpr:1,encoding:1});function iM(e){return!!E7e[e]}const M7e={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},mj=G(M7e);function co(e){return"mark"in e}class oy{constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return co(t)?r7e(t.mark)===this.name:!1}}var k7e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function l0(e,t){const n=e&&e[t];return n?j(n)?C0(n,r=>!!r.field):W(n)||ry(n):!1}function pj(e,t){const n=e&&e[t];return n?j(n)?C0(n,r=>!!r.field):W(n)||wa(n)||Bh(n):!1}function N5(e,t){if(zt(t)){const n=e[t];if((W(n)||wa(n))&&NP(n.type)){const r=oP(t);return pj(e,r)}}return!1}function d6(e){return C0(Mve,t=>{if(l0(e,t)){const n=e[t];if(j(n))return C0(n,r=>!!r.aggregate);{const r=oa(n);return r&&!!r.aggregate}}return!1})}function gj(e,t){const n=[],r=[],i=[],a=[],o={};return h6(e,(s,l)=>{if(W(s)){const{field:c,aggregate:u,bin:f,timeUnit:d}=s,h=k7e(s,["field","aggregate","bin","timeUnit"]);if(u||d||f){const m=c6(s),g=m==null?void 0:m.title;let p=V(s,{forAs:!0});const y=Object.assign(Object.assign(Object.assign({},g?[]:{title:Jl(s,t,{allowDisabling:!0})}),h),{field:p});if(u){let b;if(Ts(u)?(b="argmax",p=V({op:"argmax",field:u.argmax},{forAs:!0}),y.field=`${p}.${c}`):eo(u)?(b="argmin",p=V({op:"argmin",field:u.argmin},{forAs:!0}),y.field=`${p}.${c}`):u!=="boxplot"&&u!=="errorbar"&&u!=="errorband"&&(b=u),b){const v={op:b,as:p};c&&(v.field=c),a.push(v)}}else if(n.push(p),Zr(s)&&tt(f)){if(r.push({bin:f,field:c,as:p}),n.push(V(s,{binSuffix:"end"})),$h(s,l)&&n.push(V(s,{binSuffix:"range"})),zt(l)){const b={field:`${p}_end`};o[`${l}2`]=b}y.bin="binned",aP(l)||(y.type=B0)}else if(d){i.push({timeUnit:d,field:c,as:p});const b=Zr(s)&&s.type!==Dc&&"time";b&&(l===Mh||l===L0?y.formatType=b:Ive(l)?y.legend=Object.assign({formatType:b},y.legend):zt(l)&&(y.axis=Object.assign({formatType:b},y.axis)))}o[l]=y}else n.push(c),o[l]=e[l]}else o[l]=e[l]}),{bins:r,timeUnits:i,aggregate:a,groupby:n,encoding:o}}function O7e(e,t,n){const r=Rve(t,n);if(r){if(r==="binned"){const i=e[t===ki?ft:jt];return!!(W(i)&&W(e[t])&&Wt(i.bin))}}else return!1;return!0}function C7e(e,t,n,r){const i={};for(const a of G(e))iP(a)||U(k3e(a));for(let a of Fve){if(!e[a])continue;const o=e[a];if(du(a)){const s=sP(a),l=i[s];if(W(l)){if(E5e(l.type)&&W(o)){U(x3e(s));continue}}else a=s,U(_3e(s))}if(a==="angle"&&t==="arc"&&!e.theta&&(U(v3e),a=jr),!O7e(e,a,t)){U(V2(a,t));continue}if(a===so&&t==="line"){const s=oa(e[a]);if(s!=null&&s.aggregate){U(E3e);continue}}if(a===Qn&&(n?"fill"in e:"stroke"in e)){U(AP("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(a===Oh||a===kh&&!j(o)&&!_i(o)||a===L0&&j(o))o&&(i[a]=Q(o).reduce((s,l)=>(W(l)?s.push(f6(l,a)):U(C5(l,a)),s),[]));else{if(a===L0&&o===null)i[a]=null;else if(!W(o)&&!wa(o)&&!_i(o)&&!ny(o)&&!ae(o)){U(C5(o,a));continue}i[a]=uj(o,a,r)}}return i}function sy(e,t){const n={};for(const r of G(e)){const i=uj(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function D7e(e){const t=[];for(const n of G(e))if(l0(e,n)){const r=e[n],i=Q(r);for(const a of i)W(a)?t.push(a):ry(a)&&t.push(a.condition)}return t}function h6(e,t,n){if(e)for(const r of G(e)){const i=e[r];if(j(i))for(const a of i)t.call(n,a,r);else t.call(n,i,r)}}function L7e(e,t,n,r){return e?G(e).reduce((i,a)=>{const o=e[a];return j(o)?o.reduce((s,l)=>t.call(r,s,l,a),i):t.call(r,i,o,a)},n):n}function yj(e,t){return G(t).reduce((n,r)=>{switch(r){case ft:case jt:case G2:case W2:case U2:case ki:case pa:case ys:case fu:case jr:case oo:case Oi:case ao:case ga:case ya:case Ci:case Ir:case Mh:case er:case el:case L0:return n;case kh:if(e==="line"||e==="trail")return n;case Oh:case z2:{const i=t[r];if(j(i)||W(i))for(const a of Q(i))a.aggregate||n.push(V(a,{}));return n}case so:if(e==="trail")return n;case Qn:case ba:case va:case lo:case bs:case vs:case _s:case xs:{const i=oa(t[r]);return i&&!i.aggregate&&n.push(V(i,{})),n}}},[])}var bj=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function F7e(e){const{tooltip:t}=e,n=bj(e,["tooltip"]);if(!t)return{filteredEncoding:n};let r,i;if(j(t)){for(const a of t)a.aggregate?(r||(r=[]),r.push(a)):(i||(i=[]),i.push(a));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return j(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function I5(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:o,titlePrefix:s})=>{const l=r?` of ${m6(t)}`:"";return{field:o+t.field,type:t.type,title:ae(s)?{signal:`${s}"${escape(l)}"`}:s+l}}),a=D7e(n).map(m7e);return{tooltip:[...i,...Gi(a,Ce)]}}function m6(e){const{title:t,field:n}=e;return _t(t,n)}function p6(e,t,n,r,i){const{scale:a,axis:o}=n;return({partName:s,mark:l,positionPrefix:c,endPositionPrefix:u=void 0,extraEncoding:f={}})=>{const d=m6(n);return vj(e,s,i,{mark:l,encoding:Object.assign(Object.assign(Object.assign({[t]:Object.assign(Object.assign(Object.assign({field:`${c}_${n.field}`,type:n.type},d!==void 0?{title:d}:{}),a!==void 0?{scale:a}:{}),o!==void 0?{axis:o}:{})},J(u)?{[`${t}2`]:{field:`${u}_${n.field}`}}:{}),r),f)})}}function vj(e,t,n,r){const{clip:i,color:a,opacity:o}=e,s=e.type;return e[t]||e[t]===void 0&&n[t]?[Object.assign(Object.assign({},r),{mark:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n[t]),i?{clip:i}:{}),a?{color:a}:{}),o?{opacity:o}:{}),aa(r.mark)?r.mark:{type:r.mark}),{style:`${s}-${String(t)}`}),ms(e[t])?{}:e[t])})]:[]}function xj(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",a=r[i],o=r[`${i}2`],s=r[`${i}Error`],l=r[`${i}Error2`];return{continuousAxisChannelDef:T1(a,n),continuousAxisChannelDef2:T1(o,n),continuousAxisChannelDefError:T1(s,n),continuousAxisChannelDefError2:T1(l,n),continuousAxis:i}}function T1(e,t){if(e!=null&&e.aggregate){const{aggregate:n}=e,r=bj(e,["aggregate"]);return n!==t&&U(n5e(n,t)),r}else return e}function _j(e,t){const{mark:n,encoding:r}=e,{x:i,y:a}=r;if(aa(n)&&n.orient)return n.orient;if(Ui(i)){if(Ui(a)){const o=W(i)&&i.aggregate,s=W(a)&&a.aggregate;if(!o&&s===t)return"vertical";if(!s&&o===t)return"horizontal";if(o===t&&s===t)throw new Error("Both x and y cannot have aggregate");return $c(a)&&!$c(i)?"horizontal":"vertical"}return"horizontal"}else{if(Ui(a))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}var gm=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Up="boxplot",B7e=["box","median","outliers","rule","ticks"],$7e=new oy(Up,Tj);function wj(e){return He(e)?"tukey":e}function Tj(e,{config:t}){var n,r;e=Object.assign(Object.assign({},e),{encoding:sy(e.encoding,t)});const{mark:i,encoding:a,params:o,projection:s}=e,l=gm(e,["mark","encoding","params","projection"]),c=aa(i)?i:{type:i};o&&U(wP("boxplot"));const u=(n=c.extent)!==null&&n!==void 0?n:t.boxplot.extent,f=je("size",c,t),d=c.invalid,h=wj(u),{bins:m,timeUnits:g,transform:p,continuousAxisChannelDef:y,continuousAxis:b,groupby:v,aggregate:x,encodingWithoutContinuousAxis:_,ticksOrient:T,boxOrient:w,customTooltipWithoutAggregatedField:S}=N7e(e,u,t),{color:C,size:M}=_,A=gm(_,["color","size"]),L=ce=>p6(c,b,y,ce,t.boxplot),D=L(A),E=L(_),O=L(Object.assign(Object.assign({},A),M?{size:M}:{})),k=I5([{fieldPrefix:h==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:h==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],y,_),F={type:"tick",color:"black",opacity:1,orient:T,invalid:d,aria:!1},$=h==="min-max"?k:I5([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],y,_),N=[...D({partName:"rule",mark:{type:"rule",invalid:d,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:$}),...D({partName:"rule",mark:{type:"rule",invalid:d,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:$}),...D({partName:"ticks",mark:F,positionPrefix:"lower_whisker",extraEncoding:$}),...D({partName:"ticks",mark:F,positionPrefix:"upper_whisker",extraEncoding:$})],R=[...h!=="tukey"?N:[],...E({partName:"box",mark:Object.assign(Object.assign({type:"bar"},f?{size:f}:{}),{orient:w,invalid:d,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:k}),...O({partName:"median",mark:Object.assign(Object.assign(Object.assign({type:"tick",invalid:d},ee(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{}),f?{size:f}:{}),{orient:T,aria:!1}),positionPrefix:"mid_box",extraEncoding:k})];if(h==="min-max")return Object.assign(Object.assign({},l),{transform:((r=l.transform)!==null&&r!==void 0?r:[]).concat(p),layer:R});const Y=`datum["lower_box_${y.field}"]`,K=`datum["upper_box_${y.field}"]`,me=`(${K} - ${Y})`,pe=`${Y} - ${u} * ${me}`,fe=`${K} + ${u} * ${me}`,Le=`datum["${y.field}"]`,Te={joinaggregate:Aj(y.field),groupby:v},Be={transform:[{filter:`(${pe} <= ${Le}) && (${Le} <= ${fe})`},{aggregate:[{op:"min",field:y.field,as:`lower_whisker_${y.field}`},{op:"max",field:y.field,as:`upper_whisker_${y.field}`},{op:"min",field:`lower_box_${y.field}`,as:`lower_box_${y.field}`},{op:"max",field:`upper_box_${y.field}`,as:`upper_box_${y.field}`},...x],groupby:v}],layer:N},X=gm(A,["tooltip"]),{scale:he,axis:ye}=y,z=m6(y),Re=Yn(ye,["title"]),Se=vj(c,"outliers",t.boxplot,{transform:[{filter:`(${Le} < ${pe}) || (${Le} > ${fe})`}],mark:"point",encoding:Object.assign(Object.assign(Object.assign({[b]:Object.assign(Object.assign(Object.assign({field:y.field,type:y.type},z!==void 0?{title:z}:{}),he!==void 0?{scale:he}:{}),We(Re)?{}:{axis:Re})},X),C?{color:C}:{}),S?{tooltip:S}:{})})[0];let lt;const at=[...m,...g,Te];return Se?lt={transform:at,layer:[Se,Be]}:(lt=Be,lt.transform.unshift(...at)),Object.assign(Object.assign({},l),{layer:[lt,{transform:p,layer:R}]})}function Aj(e){return[{op:"q1",field:e,as:`lower_box_${e}`},{op:"q3",field:e,as:`upper_box_${e}`}]}function N7e(e,t,n){const r=_j(e,Up),{continuousAxisChannelDef:i,continuousAxis:a}=xj(e,r,Up),o=i.field,s=wj(t),l=[...Aj(o),{op:"median",field:o,as:`mid_box_${o}`},{op:"min",field:o,as:(s==="min-max"?"lower_whisker_":"min_")+o},{op:"max",field:o,as:(s==="min-max"?"upper_whisker_":"max_")+o}],c=s==="min-max"||s==="tukey"?[]:[{calculate:`datum["upper_box_${o}"] - datum["lower_box_${o}"]`,as:`iqr_${o}`},{calculate:`min(datum["upper_box_${o}"] + datum["iqr_${o}"] * ${t}, datum["max_${o}"])`,as:`upper_whisker_${o}`},{calculate:`max(datum["lower_box_${o}"] - datum["iqr_${o}"] * ${t}, datum["min_${o}"])`,as:`lower_whisker_${o}`}],u=e.encoding,f=a;u[f];const d=gm(u,[typeof f=="symbol"?f:f+""]),{customTooltipWithoutAggregatedField:h,filteredEncoding:m}=F7e(d),{bins:g,timeUnits:p,aggregate:y,groupby:b,encoding:v}=gj(m,n),x=r==="vertical"?"horizontal":"vertical",_=r,T=[...g,...p,{aggregate:[...y,...l],groupby:b},...c];return{bins:g,timeUnits:p,transform:T,groupby:b,aggregate:y,continuousAxisChannelDef:i,continuousAxis:a,encodingWithoutContinuousAxis:v,ticksOrient:x,boxOrient:_,customTooltipWithoutAggregatedField:h}}var aM=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const g6="errorbar",I7e=["ticks","rule"],Z7e=new oy(g6,Sj);function Sj(e,{config:t}){e=Object.assign(Object.assign({},e),{encoding:sy(e.encoding,t)});const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:a,ticksOrient:o,markDef:s,outerSpec:l,tooltipEncoding:c}=Ej(e,g6,t);delete a.size;const u=p6(s,i,r,a,t.errorbar),f=s.thickness,d=s.size,h=Object.assign(Object.assign({type:"tick",orient:o,aria:!1},f!==void 0?{thickness:f}:{}),d!==void 0?{size:d}:{}),m=[...u({partName:"ticks",mark:h,positionPrefix:"lower",extraEncoding:c}),...u({partName:"ticks",mark:h,positionPrefix:"upper",extraEncoding:c}),...u({partName:"rule",mark:Object.assign({type:"rule",ariaRoleDescription:"errorbar"},f!==void 0?{size:f}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:c})];return Object.assign(Object.assign(Object.assign({},l),{transform:n}),m.length>1?{layer:m}:Object.assign({},m[0]))}function R7e(e,t){const{encoding:n}=e;if(P7e(n))return{orient:_j(e,t),inputType:"raw"};const r=j7e(n),i=z7e(n),a=n.x,o=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const s=n.x2,l=n.y2;if(ge(s)&&ge(l))throw new Error(`${t} cannot have both x2 and y2`);if(ge(s)){if(Ui(a))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(ge(l)){if(Ui(o))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const s=n.xError,l=n.xError2,c=n.yError,u=n.yError2;if(ge(l)&&!ge(s))throw new Error(`${t} cannot have xError2 without xError`);if(ge(u)&&!ge(c))throw new Error(`${t} cannot have yError2 without yError`);if(ge(s)&&ge(c))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(ge(s)){if(Ui(a))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(ge(c)){if(Ui(o))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function P7e(e){return(ge(e.x)||ge(e.y))&&!ge(e.x2)&&!ge(e.y2)&&!ge(e.xError)&&!ge(e.xError2)&&!ge(e.yError)&&!ge(e.yError2)}function j7e(e){return ge(e.x2)||ge(e.y2)}function z7e(e){return ge(e.xError)||ge(e.xError2)||ge(e.yError)||ge(e.yError2)}function Ej(e,t,n){var r;const{mark:i,encoding:a,params:o,projection:s}=e,l=aM(e,["mark","encoding","params","projection"]),c=aa(i)?i:{type:i};o&&U(wP(t));const{orient:u,inputType:f}=R7e(e,t),{continuousAxisChannelDef:d,continuousAxisChannelDef2:h,continuousAxisChannelDefError:m,continuousAxisChannelDefError2:g,continuousAxis:p}=xj(e,u,t),{errorBarSpecificAggregate:y,postAggregateCalculates:b,tooltipSummary:v,tooltipTitleWithFieldName:x}=G7e(c,d,h,m,g,f,t,n),_=a,T=p;_[T];const w=p==="x"?"x2":"y2";_[w];const S=p==="x"?"xError":"yError";_[S];const C=p==="x"?"xError2":"yError2";_[C];const M=aM(_,[typeof T=="symbol"?T:T+"",typeof w=="symbol"?w:w+"",typeof S=="symbol"?S:S+"",typeof C=="symbol"?C:C+""]),{bins:A,timeUnits:L,aggregate:D,groupby:E,encoding:O}=gj(M,n),k=[...D,...y],F=f!=="raw"?[]:E,$=I5(v,d,O,x);return{transform:[...(r=l.transform)!==null&&r!==void 0?r:[],...A,...L,...k.length===0?[]:[{aggregate:k,groupby:F}],...b],groupby:F,continuousAxisChannelDef:d,continuousAxis:p,encodingWithoutContinuousAxis:O,ticksOrient:u==="vertical"?"horizontal":"vertical",markDef:c,outerSpec:l,tooltipEncoding:$}}function G7e(e,t,n,r,i,a,o,s){let l=[],c=[];const u=t.field;let f,d=!1;if(a==="raw"){const h=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":s.errorbar.center,m=e.extent?e.extent:h==="mean"?"stderr":"iqr";if(h==="median"!=(m==="iqr")&&U(t5e(h,m,o)),m==="stderr"||m==="stdev")l=[{op:m,field:u,as:`extent_${u}`},{op:h,field:u,as:`center_${u}`}],c=[{calculate:`datum["center_${u}"] + datum["extent_${u}"]`,as:`upper_${u}`},{calculate:`datum["center_${u}"] - datum["extent_${u}"]`,as:`lower_${u}`}],f=[{fieldPrefix:"center_",titlePrefix:Sh(h)},{fieldPrefix:"upper_",titlePrefix:oM(h,m,"+")},{fieldPrefix:"lower_",titlePrefix:oM(h,m,"-")}],d=!0;else{let g,p,y;m==="ci"?(g="mean",p="ci0",y="ci1"):(g="median",p="q1",y="q3"),l=[{op:p,field:u,as:`lower_${u}`},{op:y,field:u,as:`upper_${u}`},{op:g,field:u,as:`center_${u}`}],f=[{fieldPrefix:"upper_",titlePrefix:Jl({field:u,aggregate:y,type:"quantitative"},s,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Jl({field:u,aggregate:p,type:"quantitative"},s,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Jl({field:u,aggregate:g,type:"quantitative"},s,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&U(e5e(e.center,e.extent)),a==="aggregated-upper-lower"?(f=[],c=[{calculate:`datum["${n.field}"]`,as:`upper_${u}`},{calculate:`datum["${u}"]`,as:`lower_${u}`}]):a==="aggregated-error"&&(f=[{fieldPrefix:"",titlePrefix:u}],c=[{calculate:`datum["${u}"] + datum["${r.field}"]`,as:`upper_${u}`}],i?c.push({calculate:`datum["${u}"] + datum["${i.field}"]`,as:`lower_${u}`}):c.push({calculate:`datum["${u}"] - datum["${r.field}"]`,as:`lower_${u}`}));for(const h of c)f.push({fieldPrefix:h.as.substring(0,6),titlePrefix:D0(D0(h.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:c,errorBarSpecificAggregate:l,tooltipSummary:f,tooltipTitleWithFieldName:d}}function oM(e,t,n){return`${Sh(e)} ${n} ${t}`}const y6="errorband",U7e=["band","borders"],W7e=new oy(y6,Mj);function Mj(e,{config:t}){e=Object.assign(Object.assign({},e),{encoding:sy(e.encoding,t)});const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:a,markDef:o,outerSpec:s,tooltipEncoding:l}=Ej(e,y6,t),c=o,u=p6(c,i,r,a,t.errorband),f=e.encoding.x!==void 0&&e.encoding.y!==void 0;let d={type:f?"area":"rect"},h={type:f?"line":"rule"};const m=Object.assign(Object.assign({},c.interpolate?{interpolate:c.interpolate}:{}),c.tension&&c.interpolate?{tension:c.tension}:{});return f?(d=Object.assign(Object.assign(Object.assign({},d),m),{ariaRoleDescription:"errorband"}),h=Object.assign(Object.assign(Object.assign({},h),m),{aria:!1})):c.interpolate?U(JE("interpolate")):c.tension&&U(JE("tension")),Object.assign(Object.assign({},s),{transform:n,layer:[...u({partName:"band",mark:d,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l}),...u({partName:"borders",mark:h,positionPrefix:"lower",extraEncoding:l}),...u({partName:"borders",mark:h,positionPrefix:"upper",extraEncoding:l})]})}const kj={};function b6(e,t,n){const r=new oy(e,t);kj[e]={normalizer:r,parts:n}}function H7e(){return G(kj)}b6(Up,Tj,B7e);b6(g6,Sj,I7e);b6(y6,Mj,U7e);const Y7e=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],Oj={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},Cj={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},q7e=G(Oj),V7e=G(Cj),X7e={header:1,headerRow:1,headerColumn:1,headerFacet:1},Dj=G(X7e),Lj=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],J7e={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},K7e={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},sa="_vgsid_",Q7e={point:{on:"click",fields:[sa],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function v6(e){return e==="legend"||!!(e!=null&&e.legend)}function Qb(e){return v6(e)&&ee(e)}function x6(e){return!!(e!=null&&e.select)}var e8e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Fj(e){const t=[];for(const n of e||[]){if(x6(n))continue;const{expr:r,bind:i}=n,a=e8e(n,["expr","bind"]);if(i&&r){const o=Object.assign(Object.assign({},a),{bind:i,init:r});t.push(o)}else{const o=Object.assign(Object.assign(Object.assign({},a),r?{update:r}:{}),i?{bind:i}:{});t.push(o)}}return t}function t8e(e){return ly(e)||w6(e)||_6(e)}function _6(e){return"concat"in e}function ly(e){return"vconcat"in e}function w6(e){return"hconcat"in e}function Bj({step:e,offsetIsDiscrete:t}){var n;return t?(n=e.for)!==null&&n!==void 0?n:"offset":"position"}function la(e){return ee(e)&&e.step!==void 0}function sM(e){return e.view||e.width||e.height}const lM=20,n8e={align:1,bounds:1,center:1,columns:1,spacing:1},r8e=G(n8e);function i8e(e,t,n){var r,i;const a=n[t],o={},{spacing:s,columns:l}=a;s!==void 0&&(o.spacing=s),l!==void 0&&(ty(e)&&!Fh(e.facet)||_6(e))&&(o.columns=l),ly(e)&&(o.columns=1);for(const c of r8e)if(e[c]!==void 0)if(c==="spacing"){const u=e[c];o[c]=He(u)?u:{row:(r=u.row)!==null&&r!==void 0?r:s,column:(i=u.column)!==null&&i!==void 0?i:s}}else o[c]=e[c];return o}var a8e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Z5(e,t){var n;return(n=e[t])!==null&&n!==void 0?n:e[t==="width"?"continuousWidth":"continuousHeight"]}function Wp(e,t){const n=Hp(e,t);return la(n)?n.step:$j}function Hp(e,t){var n;const r=(n=e[t])!==null&&n!==void 0?n:e[t==="width"?"discreteWidth":"discreteHeight"];return _t(r,{step:e.step})}const $j=20,o8e={continuousWidth:200,continuousHeight:200,step:$j},s8e={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:o8e,mark:J5e,arc:{},area:{},bar:e7e,circle:{},geoshape:{},image:{},line:{},point:{},rect:t7e,rule:{color:"black"},square:{},text:{color:"black"},tick:n7e,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:F5e,projection:{},legend:J7e,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:Q7e,style:{},title:{},facet:{spacing:lM},concat:{spacing:lM},normalizedNumberFormat:".0%"},Oa=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],cM={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},uM={blue:Oa[0],orange:Oa[1],red:Oa[2],teal:Oa[3],green:Oa[4],yellow:Oa[5],purple:Oa[6],pink:Oa[7],brown:Oa[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function l8e(e={}){return{signals:[{name:"color",value:ee(e)?Object.assign(Object.assign({},uM),e):uM}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function c8e(e){return{signals:[{name:"fontSize",value:ee(e)?Object.assign(Object.assign({},cM),e):cM}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function u8e(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function Nj(e){const t=G(e||{}),n={};for(const r of t){const i=e[r];n[r]=Nh(i)?pP(i):ur(i)}return n}function f8e(e){const t=G(e),n={};for(const r of t)n[r]=Nj(e[r]);return n}const d8e=[...YP,...mj,...Dj,"background","padding","legend","lineBreak","scale","style","title","view"];function Ij(e={}){const{color:t,font:n,fontSize:r,selection:i}=e,a=a8e(e,["color","font","fontSize","selection"]),o=eu({},ve(s8e),n?u8e(n):{},t?l8e(t):{},r?c8e(r):{},a||{});i&&tu(o,"selection",i,!0);const s=Yn(o,d8e);for(const l of["background","lineBreak","padding"])o[l]&&(s[l]=ur(o[l]));for(const l of YP)o[l]&&(s[l]=Gn(o[l]));for(const l of mj)o[l]&&(s[l]=Nj(o[l]));for(const l of Dj)o[l]&&(s[l]=Gn(o[l]));return o.legend&&(s.legend=Gn(o.legend)),o.scale&&(s.scale=Gn(o.scale)),o.style&&(s.style=f8e(o.style)),o.title&&(s.title=Gn(o.title)),o.view&&(s.view=Gn(o.view)),s}const h8e=new Set(["view",...W5e]),m8e=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],p8e=Object.assign({view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},X5e);function g8e(e){e=ve(e);for(const t of m8e)delete e[t];if(e.axis)for(const t in e.axis)Nh(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of Y7e)delete e.legend[t];if(e.mark){for(const t of QE)delete e.mark[t];e.mark.tooltip&&ee(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(Fj(e.params)),delete e.params);for(const t of h8e){for(const r of QE)delete e[t][r];const n=p8e[t];if(n)for(const r of n)delete e[t][r];b8e(e,t)}for(const t of H7e())delete e[t];y8e(e);for(const t in e)ee(e[t])&&We(e[t])&&delete e[t];return We(e)?void 0:e}function y8e(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=mP(e.title);We(t)||(e.style["group-title"]=Object.assign(Object.assign({},e.style["group-title"]),t)),We(n)||(e.style["group-subtitle"]=Object.assign(Object.assign({},e.style["group-subtitle"]),n)),We(r)?delete e.title:e.title=r}function b8e(e,t,n,r){const i=r?e[t][r]:e[t];t==="view"&&(n="cell");const a=Object.assign(Object.assign({},i),e.style[n??t]);We(a)||(e.style[n??t]=a),r||delete e[t]}function cy(e){return"layer"in e}function v8e(e){return"repeat"in e}function x8e(e){return!j(e.repeat)&&e.repeat.layer}var _8e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class T6{map(t,n){return ty(t)?this.mapFacet(t,n):v8e(t)?this.mapRepeat(t,n):w6(t)?this.mapHConcat(t,n):ly(t)?this.mapVConcat(t,n):_6(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(cy(t))return this.mapLayer(t,n);if(co(t))return this.mapUnit(t,n);throw new Error(Z9(t))}mapLayer(t,n){return Object.assign(Object.assign({},t),{layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))})}mapHConcat(t,n){return Object.assign(Object.assign({},t),{hconcat:t.hconcat.map(r=>this.map(r,n))})}mapVConcat(t,n){return Object.assign(Object.assign({},t),{vconcat:t.vconcat.map(r=>this.map(r,n))})}mapConcat(t,n){const{concat:r}=t,i=_8e(t,["concat"]);return Object.assign(Object.assign({},i),{concat:r.map(a=>this.map(a,n))})}mapFacet(t,n){return Object.assign(Object.assign({},t),{spec:this.map(t.spec,n)})}mapRepeat(t,n){return Object.assign(Object.assign({},t),{spec:this.map(t.spec,n)})}}const w8e={zero:1,center:1,normalize:1};function T8e(e){return e in w8e}const A8e=new Set([GP,J2,X2,Rp,Q2,t6,n6,K2,UP,e6]),S8e=new Set([J2,X2,GP]);function El(e){return W(e)&&Fc(e)==="quantitative"&&!e.bin}function fM(e,t){var n,r;const i=t==="x"?"y":"radius",a=e[t],o=e[i];if(W(a)&&W(o))if(El(a)&&El(o)){if(a.stack)return t;if(o.stack)return i;const s=W(a)&&!!a.aggregate,l=W(o)&&!!o.aggregate;if(s!==l)return s?t:i;{const c=(n=a.scale)===null||n===void 0?void 0:n.type,u=(r=o.scale)===null||r===void 0?void 0:r.type;if(c&&c!=="linear")return i;if(u&&u!=="linear")return t}}else{if(El(a))return t;if(El(o))return i}else{if(El(a))return t;if(El(o))return i}}function E8e(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function Zj(e,t){var n,r;const i=aa(e)?e.type:e;if(!A8e.has(i))return null;const a=fM(t,"x")||fM(t,"theta");if(!a)return null;const o=t[a],s=W(o)?V(o,{}):void 0,l=E8e(a),c=[],u=new Set;if(t[l]){const h=t[l],m=W(h)?V(h,{}):void 0;m&&m!==s&&(c.push(l),u.add(m));const g=l==="x"?"xOffset":"yOffset",p=t[g],y=W(p)?V(p,{}):void 0;y&&y!==s&&(c.push(g),u.add(y))}const f=Bve.reduce((h,m)=>{if(m!=="tooltip"&&l0(t,m)){const g=t[m];for(const p of Q(g)){const y=oa(p);if(y.aggregate)continue;const b=V(y,{});(!b||!u.has(b))&&h.push({channel:m,fieldDef:y})}}return h},[]);let d;return o.stack!==void 0?ms(o.stack)?d=o.stack?"zero":null:d=o.stack:S8e.has(i)&&(d="zero"),!d||!T8e(d)||d6(t)&&f.length===0?null:!((n=o==null?void 0:o.scale)===null||n===void 0)&&n.type&&((r=o==null?void 0:o.scale)===null||r===void 0?void 0:r.type)!==qn.LINEAR?(U(J3e(o.scale.type)),null):ge(t[xa(a)])?(o.stack!==void 0&&U(X3e(a)),null):(W(o)&&o.aggregate&&!Hve.has(o.aggregate)&&U(K3e(o.aggregate)),{groupbyChannels:c,groupbyFields:u,fieldChannel:a,impute:o.impute===null?!1:Ss(i),stackBy:f,offset:d})}var Rj=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function M8e(e){const t=Rj(e,["point","line"]);return G(t).length>1?t:t.type}function k8e(e){for(const t of["line","area","rule","trail"])e[t]&&(e=Object.assign(Object.assign({},e),{[t]:Yn(e[t],["point","line"])}));return e}function ev(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?ee(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?ee(t.point)?t.point:{}:void 0}function dM(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class O8e{constructor(){this.name="path-overlay"}hasMatchingType(t,n){if(co(t)){const{mark:r,encoding:i}=t,a=aa(r)?r:{type:r};switch(a.type){case"line":case"rule":case"trail":return!!ev(a,n[a.type],i);case"area":return!!ev(a,n[a.type],i)||!!dM(a,n[a.type])}}return!1}run(t,n,r){const{config:i}=n,{params:a,projection:o,mark:s,encoding:l}=t,c=Rj(t,["params","projection","mark","encoding"]),u=sy(l,i),f=aa(s)?s:{type:s},d=ev(f,i[f.type],u),h=f.type==="area"&&dM(f,i[f.type]),m=[Object.assign(Object.assign({},a?{params:a}:{}),{mark:M8e(Object.assign(Object.assign({},f.type==="area"&&f.opacity===void 0&&f.fillOpacity===void 0?{opacity:.7}:{}),f)),encoding:Yn(u,["shape"])})],g=Zj(f,u);let p=u;if(g){const{fieldChannel:y,offset:b}=g;p=Object.assign(Object.assign({},u),{[y]:Object.assign(Object.assign({},u[y]),b?{stack:b}:{})})}return p=Yn(p,["y2","x2"]),h&&m.push(Object.assign(Object.assign({},o?{projection:o}:{}),{mark:Object.assign(Object.assign({type:"line"},kc(f,["clip","interpolate","tension","tooltip"])),h),encoding:p})),d&&m.push(Object.assign(Object.assign({},o?{projection:o}:{}),{mark:Object.assign(Object.assign({type:"point",opacity:1,filled:!0},kc(f,["clip","tooltip"])),d),encoding:p})),r(Object.assign(Object.assign({},c),{layer:m}),Object.assign(Object.assign({},n),{config:k8e(i)}))}}var C8e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function D8e(e,t){return t?Fh(e)?jj(e,t):Pj(e,t):e}function tv(e,t){return t?jj(e,t):e}function R5(e,t,n){const r=t[e];if(d7e(r)){if(r.repeat in n)return Object.assign(Object.assign({},t),{[e]:n[r.repeat]});U(d3e(r.repeat));return}return t}function Pj(e,t){if(e=R5("field",e,t),e!==void 0){if(e===null)return null;if(l6(e)&&Vi(e.sort)){const n=R5("field",e.sort,t);e=Object.assign(Object.assign({},e),n?{sort:n}:{})}return e}}function hM(e,t){if(W(e))return Pj(e,t);{const n=R5("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function mM(e,t){if(ge(e)){const n=hM(e,t);if(n)return n;if(ny(e))return{condition:e.condition}}else{if(Bh(e)){const n=hM(e.condition,t);return n?Object.assign(Object.assign({},e),{condition:n}):C8e(e,["condition"])}return e}}function jj(e,t){const n={};for(const r in e)if(oe(e,r)){const i=e[r];if(j(i))n[r]=i.map(a=>mM(a,t)).filter(a=>a);else{const a=mM(i,t);a!==void 0&&(n[r]=a)}}return n}class L8e{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(co(t)){const{encoding:n,mark:r}=t;if(r==="line"||aa(r)&&r.type==="line")for(const i of Dve){const a=tl(i),o=n[a];if(n[i]&&(W(o)&&!Wt(o.bin)||wa(o)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:a}=t;return U(F3e(!!i.x2,!!i.y2)),r(Object.assign(Object.assign({},t),{mark:ee(a)?Object.assign(Object.assign({},a),{type:"rule"}):"rule"}),n)}}var ho=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class F8e extends T6{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[$7e,Z7e,W7e,new O8e,new L8e]}map(t,n){if(co(t)){const r=l0(t.encoding,Ga),i=l0(t.encoding,Ua),a=l0(t.encoding,j2);if(r||i||a)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:r,parentProjection:i}=n,a=tv(t.encoding,n.repeater),o=Object.assign(Object.assign({},t),a?{encoding:a}:{});if(r||i)return this.mapUnitWithParentEncodingOrProjection(o,n);const s=this.mapLayerOrUnit.bind(this);for(const l of this.nonFacetUnitNormalizers)if(l.hasMatchingType(o,n.config))return l.run(o,n,s);return o}mapRepeat(t,n){return x8e(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:r,spec:i}=t,a=ho(t,["repeat","spec"]),{row:o,column:s,layer:l}=r,{repeater:c={},repeaterPrefix:u=""}=n;return o||s?this.mapRepeat(Object.assign(Object.assign({},t),{repeat:Object.assign(Object.assign({},o?{row:o}:{}),s?{column:s}:{}),spec:{repeat:{layer:l},spec:i}}),n):Object.assign(Object.assign({},a),{layer:l.map(f=>{const d=Object.assign(Object.assign({},c),{layer:f}),h=`${(i.name||"")+u}child__layer_${st(f)}`,m=this.mapLayerOrUnit(i,Object.assign(Object.assign({},n),{repeater:d,repeaterPrefix:h}));return m.name=h,m})})}mapNonLayerRepeat(t,n){var r;const{repeat:i,spec:a,data:o}=t,s=ho(t,["repeat","spec","data"]);!j(i)&&t.columns&&(t=Yn(t,["columns"]),U(YE("repeat")));const l=[],{repeater:c={},repeaterPrefix:u=""}=n,f=!j(i)&&i.row||[c?c.row:null],d=!j(i)&&i.column||[c?c.column:null],h=j(i)&&i||[c?c.repeat:null];for(const g of h)for(const p of f)for(const y of d){const b={repeat:g,row:p,column:y,layer:c.layer},v=(a.name||"")+u+"child__"+(j(i)?`${st(g)}`:(i.row?`row_${st(p)}`:"")+(i.column?`column_${st(y)}`:"")),x=this.map(a,Object.assign(Object.assign({},n),{repeater:b,repeaterPrefix:v}));x.name=v,l.push(Yn(x,["data"]))}const m=j(i)?t.columns:i.column?i.column.length:1;return Object.assign(Object.assign({data:(r=a.data)!==null&&r!==void 0?r:o,align:"all"},s),{columns:m,concat:l})}mapFacet(t,n){const{facet:r}=t;return Fh(r)&&t.columns&&(t=Yn(t,["columns"]),U(YE("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:r,projection:i}=t,{parentEncoding:a,parentProjection:o,config:s}=n,l=gM({parentProjection:o,projection:i}),c=pM({parentEncoding:a,encoding:tv(r,n.repeater)});return this.mapUnit(Object.assign(Object.assign(Object.assign({},t),l?{projection:l}:{}),c?{encoding:c}:{}),{config:s})}mapFacetedUnit(t,n){const r=t.encoding,{row:i,column:a,facet:o}=r,s=ho(r,["row","column","facet"]),{mark:l,width:c,projection:u,height:f,view:d,params:h,encoding:m}=t,g=ho(t,["mark","width","projection","height","view","params","encoding"]),{facetMapping:p,layout:y}=this.getFacetMappingAndLayout({row:i,column:a,facet:o},n),b=tv(s,n.repeater);return this.mapFacet(Object.assign(Object.assign(Object.assign({},g),y),{facet:p,spec:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},c?{width:c}:{}),f?{height:f}:{}),d?{view:d}:{}),u?{projection:u}:{}),{mark:l,encoding:b}),h?{params:h}:{})}),n)}getFacetMappingAndLayout(t,n){var r;const{row:i,column:a,facet:o}=t;if(i||a){o&&U(D3e([...i?[Ga]:[],...a?[Ua]:[]]));const s={},l={};for(const c of[Ga,Ua]){const u=t[c];if(u){const f=ho(u,["align","center","spacing","columns"]);s[c]=f;for(const d of["align","center","spacing"])u[d]!==void 0&&((r=l[d])!==null&&r!==void 0||(l[d]={}),l[d][c]=u[d])}}return{facetMapping:s,layout:l}}else{const{align:s,center:l,spacing:c,columns:u}=o,f=ho(o,["align","center","spacing","columns"]);return{facetMapping:D8e(f,n.repeater),layout:Object.assign(Object.assign(Object.assign(Object.assign({},s?{align:s}:{}),l?{center:l}:{}),c?{spacing:c}:{}),u?{columns:u}:{})}}}mapLayer(t,n){var{parentEncoding:r,parentProjection:i}=n,a=ho(n,["parentEncoding","parentProjection"]);const{encoding:o,projection:s}=t,l=ho(t,["encoding","projection"]),c=Object.assign(Object.assign({},a),{parentEncoding:pM({parentEncoding:r,encoding:o,layer:!0}),parentProjection:gM({parentProjection:i,projection:s})});return super.mapLayer(l,c)}}function pM({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...G(e),...G(t)]);for(const a of i){const o=t[a],s=e[a];if(ge(o)){const l=Object.assign(Object.assign({},s),o);r[a]=l}else Bh(o)?r[a]=Object.assign(Object.assign({},o),{condition:Object.assign(Object.assign({},s),o.condition)}):o||o===null?r[a]=o:(n||_i(s)||ae(s)||ge(s)||j(s))&&(r[a]=s)}}else r=t;return!r||We(r)?void 0:r}function gM(e){const{parentProjection:t,projection:n}=e;return t&&n&&U(b3e({parentProjection:t,projection:n})),n??t}function A6(e){return"filter"in e}function B8e(e){return(e==null?void 0:e.stop)!==void 0}function zj(e){return"lookup"in e}function $8e(e){return"data"in e}function N8e(e){return"param"in e}function I8e(e){return"pivot"in e}function Z8e(e){return"density"in e}function R8e(e){return"quantile"in e}function P8e(e){return"regression"in e}function j8e(e){return"loess"in e}function z8e(e){return"sample"in e}function G8e(e){return"window"in e}function U8e(e){return"joinaggregate"in e}function W8e(e){return"flatten"in e}function H8e(e){return"calculate"in e}function Gj(e){return"bin"in e}function Y8e(e){return"impute"in e}function q8e(e){return"timeUnit"in e}function V8e(e){return"aggregate"in e}function X8e(e){return"stack"in e}function J8e(e){return"fold"in e}function K8e(e){return e.map(t=>A6(t)?{filter:Vl(t.filter,S5e)}:t)}var Zo=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class Q8e extends T6{map(t,n){var r,i;return(r=n.emptySelections)!==null&&r!==void 0||(n.emptySelections={}),(i=n.selectionPredicates)!==null&&i!==void 0||(n.selectionPredicates={}),t=yM(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=yM(t,n),t.encoding){const r={};for(const[i,a]of rs(t.encoding))r[i]=Uj(a,n);t=Object.assign(Object.assign({},t),{encoding:r})}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const r=t,{selection:i}=r,a=Zo(r,["selection"]);return i?Object.assign(Object.assign({},a),{params:rs(i).map(([o,s])=>{var l;const c=s,{init:u,bind:f,empty:d}=c,h=Zo(c,["init","bind","empty"]);h.type==="single"?(h.type="point",h.toggle=!1):h.type==="multi"&&(h.type="point"),n.emptySelections[o]=d!=="none";for(const m of gn((l=n.selectionPredicates[o])!==null&&l!==void 0?l:{}))m.empty=d!=="none";return{name:o,value:u,select:h,bind:f}})}):t}}function yM(e,t){const{transform:n}=e,r=Zo(e,["transform"]);if(n){const i=n.map(a=>{if(A6(a))return{filter:P5(a,t)};if(Gj(a)&&nl(a.bin))return Object.assign(Object.assign({},a),{bin:Wj(a.bin)});if(zj(a)){const o=a.from,{selection:s}=o,l=Zo(o,["selection"]);return s?Object.assign(Object.assign({},a),{from:Object.assign({param:s},l)}):a}return a});return Object.assign(Object.assign({},r),{transform:i})}return e}function Uj(e,t){var n,r;const i=ve(e);if(W(i)&&nl(i.bin)&&(i.bin=Wj(i.bin)),il(i)&&(!((r=(n=i.scale)===null||n===void 0?void 0:n.domain)===null||r===void 0)&&r.selection)){const a=i.scale.domain,{selection:o}=a,s=Zo(a,["selection"]);i.scale.domain=Object.assign(Object.assign({},s),o?{param:o}:{})}if(ny(i))if(j(i.condition))i.condition=i.condition.map(a=>{const{selection:o,param:s,test:l}=a,c=Zo(a,["selection","param","test"]);return s?a:Object.assign(Object.assign({},c),{test:P5(a,t)})});else{const a=Uj(i.condition,t),{selection:o,param:s,test:l}=a,c=Zo(a,["selection","param","test"]);i.condition=s?i.condition:Object.assign(Object.assign({},c),{test:P5(i.condition,t)})}return i}function Wj(e){const t=e.extent;if(t!=null&&t.selection){const{selection:n}=t,r=Zo(t,["selection"]);return Object.assign(Object.assign({},e),{extent:Object.assign(Object.assign({},r),{param:n})})}return e}function P5(e,t){const n=r=>Vl(r,i=>{var a,o,s;const l=(a=t.emptySelections[i])!==null&&a!==void 0?a:!0,c={param:i,empty:l};return(o=(s=t.selectionPredicates)[i])!==null&&o!==void 0||(s[i]=[]),t.selectionPredicates[i].push(c),c});return e.selection?n(e.selection):Vl(e.test||e.filter,r=>r.selection?n(r.selection):r)}class j5 extends T6{map(t,n){var r;const i=(r=n.selections)!==null&&r!==void 0?r:[];if(t.params&&!co(t)){const a=[];for(const o of t.params)x6(o)?i.push(o):a.push(o);t.params=a}return n.selections=i,super.map(t,Hj(t,n))}mapUnit(t,n){var r;const i=n.selections;if(!i||!i.length)return t;const a=((r=n.path)!==null&&r!==void 0?r:[]).concat(t.name),o=[];for(const s of i)if(!s.views||!s.views.length)o.push(s);else for(const l of s.views)(J(l)&&(l===t.name||a.indexOf(l)>=0)||j(l)&&l.map(c=>a.indexOf(c)).every((c,u,f)=>c!==-1&&(u===0||c>f[u-1])))&&o.push(s);return o.length&&(t.params=o),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=j5.prototype[e];j5.prototype[e]=function(n,r){return t.call(this,n,Hj(n,r))}}function Hj(e,t){var n;return e.name?Object.assign(Object.assign({},t),{path:((n=t.path)!==null&&n!==void 0?n:[]).concat(e.name)}):t}function Yj(e,t){t===void 0&&(t=Ij(e.config));const n=r4e(e,t),{width:r,height:i}=e,a=i4e(n,{width:r,height:i,autosize:e.autosize},t);return Object.assign(Object.assign({},n),a?{autosize:a}:{})}const e4e=new F8e,t4e=new Q8e,n4e=new j5;function r4e(e,t={}){const n={config:t};return n4e.map(e4e.map(t4e.map(e,n),n),n)}function bM(e){return J(e)?{type:e}:e??{}}function i4e(e,t,n){let{width:r,height:i}=t;const a=co(e)||cy(e),o={};a?r=="container"&&i=="container"?(o.type="fit",o.contains="padding"):r=="container"?(o.type="fit-x",o.contains="padding"):i=="container"&&(o.type="fit-y",o.contains="padding"):(r=="container"&&(U(GE("width")),r=void 0),i=="container"&&(U(GE("height")),i=void 0));const s=Object.assign(Object.assign(Object.assign({type:"pad"},o),n?bM(n.autosize):{}),bM(e.autosize));if(s.type==="fit"&&!a&&(U(n3e),s.type="pad"),r=="container"&&!(s.type=="fit"||s.type=="fit-x")&&U(UE("width")),i=="container"&&!(s.type=="fit"||s.type=="fit-y")&&U(UE("height")),!zi(s,{type:"pad"}))return s}function a4e(e){return e==="fit"||e==="fit-x"||e==="fit-y"}function o4e(e){return e?`fit-${H2(e)}`:"fit"}const s4e=["background","padding"];function vM(e,t){const n={};for(const r of s4e)e&&e[r]!==void 0&&(n[r]=ur(e[r]));return t&&(n.params=e.params),n}class uo{constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new uo(ve(this.explicit),ve(this.implicit))}combine(){return Object.assign(Object.assign({},this.explicit),this.implicit)}get(t){return _t(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of G(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function $i(e){return{explicit:!0,value:e}}function ar(e){return{explicit:!1,value:e}}function qj(e){return(t,n,r,i)=>{const a=e(t.value,n.value);return a>0?t:a<0?n:uy(t,n,r,i)}}function uy(e,t,n,r){return e.explicit&&t.explicit&&U(G3e(n,r,e.value,t.value)),e}function as(e,t,n,r,i=uy){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:zi(e.value,t.value)?e:i(e,t,n,r)}class l4e extends uo{constructor(t={},n={},r=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function Nc(e){return"url"in e}function Ad(e){return"values"in e}function Vj(e){return"name"in e&&!Nc(e)&&!Ad(e)&&!Ro(e)}function Ro(e){return e&&(Xj(e)||Jj(e)||S6(e))}function Xj(e){return"sequence"in e}function Jj(e){return"sphere"in e}function S6(e){return"graticule"in e}var Qe;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup"})(Qe||(Qe={}));var c4e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function I0(e,t=!0,n=yn){if(j(e)){const r=e.map(i=>I0(i,t,n));return t?`[${r.join(", ")}]`:r}else if(rl(e))return n(t?Td(e):m5e(e));return t?n(et(e)):e}function u4e(e,t){var n;for(const r of gn((n=e.component.selection)!==null&&n!==void 0?n:{})){const i=r.name;let a=`${i}${ls}, ${r.resolve==="global"?"true":`{unit: ${Ic(e)}}`}`;for(const o of dy)o.defined(r)&&(o.signals&&(t=o.signals(e,r,t)),o.modifyExpr&&(a=o.modifyExpr(e,r,a)));t.push({name:i+G4e,on:[{events:{signal:r.name+ls},update:`modify(${q(r.name+Z0)}, ${a})`}]})}return E6(t)}function f4e(e,t){if(e.component.selection&&G(e.component.selection).length){const n=q(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:gs("mousemove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return E6(t)}function d4e(e,t){var n;let r=!1;for(const i of gn((n=e.component.selection)!==null&&n!==void 0?n:{})){const a=i.name,o=q(a+Z0);if(t.filter(l=>l.name===a).length===0){const l=i.resolve==="global"?"union":i.resolve,c=i.type==="point"?", true, true)":")";t.push({name:i.name,update:`${hz}(${o}, ${q(l)}${c}`})}r=!0;for(const l of dy)l.defined(i)&&l.topLevelSignals&&(t=l.topLevelSignals(e,i,t))}return r&&t.filter(a=>a.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]}),E6(t)}function h4e(e,t){var n;const r=[...t],i=Ic(e,{escape:!1});for(const a of gn((n=e.component.selection)!==null&&n!==void 0?n:{})){const o={name:a.name+Z0};if(a.project.hasSelectionId&&(o.transform=[{type:"collect",sort:{field:sa}}]),a.init){const l=a.project.items.map(c=>c4e(c,["signals"]));o.values=a.project.hasSelectionId?a.init.map(c=>({unit:i,[sa]:I0(c,!1)[0]})):a.init.map(c=>({unit:i,fields:l,values:I0(c,!1)}))}r.filter(l=>l.name===a.name+Z0).length||r.push(o)}return r}function Kj(e,t){var n;for(const r of gn((n=e.component.selection)!==null&&n!==void 0?n:{}))for(const i of dy)i.defined(r)&&i.marks&&(t=i.marks(e,r,t));return t}function m4e(e,t){for(const n of e.children)vt(n)&&(t=Kj(n,t));return t}function p4e(e,t,n,r){const i=bz(e,t.param,t);return{signal:yr(n.get("type"))&&j(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function E6(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}class qe{constructor(t,n){this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){U(p3e);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}class Dn extends qe{constructor(t,n,r,i){super(t,n),this.type=r,this.refCounts=i,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${KR()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}var xM=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class Xi extends qe{constructor(t,n){super(t),this.formula=n}clone(){return new Xi(null,ve(this.formula))}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,a)=>{const{field:o,timeUnit:s}=a;if(s){const l=V(a,{forAs:!0});i[Ce({as:l,field:o,timeUnit:s})]={as:l,field:o,timeUnit:s}}return i},{});return We(r)?null:new Xi(t,r)}static makeFromTransform(t,n){const r=Object.assign({},n),{timeUnit:i}=r,a=xM(r,["timeUnit"]),o=vn(i),s=Object.assign(Object.assign({},a),{timeUnit:o});return new Xi(t,{[Ce(s)]:s})}merge(t){this.formula=Object.assign({},this.formula);for(const n in t.formula)this.formula[n]||(this.formula[n]=t.formula[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}removeFormulas(t){const n={};for(const[r,i]of rs(this.formula))t.has(i.as)||(n[r]=i);this.formula=n}producedFields(){return new Set(gn(this.formula).map(t=>t.as))}dependentFields(){return new Set(gn(this.formula).map(t=>t.field))}hash(){return`TimeUnit ${Ce(this.formula)}`}assemble(){const t=[];for(const n of gn(this.formula)){const{field:r,as:i,timeUnit:a}=n,o=vn(a),{unit:s,utc:l}=o,c=xM(o,["unit","utc"]);t.push(Object.assign(Object.assign(Object.assign(Object.assign({field:Nr(r),type:"timeunit"},s?{units:G9(s)}:{}),l?{timezone:"utc"}:{}),c),{as:[i,`${i}_end`]}))}return t}}var g4e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Ih="_tuple_fields";class y4e{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const b4e={defined:()=>!0,parse:(e,t,n)=>{var r;const i=t.name,a=(r=t.project)!==null&&r!==void 0?r:t.project=new y4e,o={},s={},l=new Set,c=(g,p)=>{const y=p==="visual"?g.channel:g.field;let b=st(`${i}_${y}`);for(let v=1;l.has(b);v++)b=st(`${i}_${y}_${v}`);return l.add(b),{[p]:b}},u=t.type,f=e.config.selection[u],d=n.value!==void 0?Q(n.value):null;let{fields:h,encodings:m}=ee(n.select)?n.select:{};if(!h&&!m&&d){for(const g of d)if(ee(g))for(const p of G(g))Cve(p)?(m||(m=[])).push(p):u==="interval"?(U(f3e),m=f.encodings):(h||(h=[])).push(p)}!h&&!m&&(m=f.encodings,"fields"in f&&(h=f.fields));for(const g of m??[]){const p=e.fieldDef(g);if(p){let y=p.field;if(p.aggregate){U(r3e(g,p.aggregate));continue}else if(!y){U(HE(g));continue}if(p.timeUnit){y=e.vgField(g);const b={timeUnit:p.timeUnit,as:y,field:p.field};s[Ce(b)]=b}if(!o[y]){let b="E";if(u==="interval"){const x=e.getScaleComponent(g).get("type");yr(x)&&(b="R")}else p.bin&&(b="R-RE");const v={field:y,channel:g,type:b};v.signals=Object.assign(Object.assign({},c(v,"data")),c(v,"visual")),a.items.push(o[y]=v),a.hasField[y]=a.hasChannel[g]=o[y],a.hasSelectionId=a.hasSelectionId||y===sa}}else U(HE(g))}for(const g of h??[]){if(a.hasField[g])continue;const p={type:"E",field:g};p.signals=Object.assign({},c(p,"data")),a.items.push(p),a.hasField[g]=p,a.hasSelectionId=a.hasSelectionId||g===sa}d&&(t.init=d.map(g=>a.items.map(p=>ee(g)?g[p.channel]!==void 0?g[p.channel]:g[p.field]:g))),We(s)||(a.timeUnit=new Xi(null,s))},signals:(e,t,n)=>{const r=t.name+Ih;return n.filter(a=>a.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(a=>{const o=g4e(a,["signals","hasLegend"]);return o.field=Nr(o.field),o})})}},os={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!ws(i))continue;const a=e.getScaleComponent(i),o=a?a.get("type"):void 0;if(!a||!yr(o)){U(o3e);continue}a.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(o=>n.filter(s=>s.name===o.signals.data).length===0);if(!e.parent||G5(e)||r.length===0)return n;const i=n.filter(o=>o.name===t.name)[0];let a=i.update;if(a.indexOf(hz)>=0)i.update=`{${r.map(o=>`${q(Nr(o.field))}: ${o.signals.data}`).join(", ")}}`;else{for(const o of r){const s=`${q(Nr(o.field))}: ${o.signals.data}`;a.includes(s)||(a=`${a.substring(0,a.length-1)}, ${s}}`)}i.update=a}return n.concat(r.map(o=>({name:o.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!G5(e))for(const r of t.scales){const i=n.filter(a=>a.name===r.signals.data)[0];i.push="outer",delete i.value,delete i.update}return n}};function z5(e,t){return`domain(${q(e.scaleName(t))})`}function G5(e){var t;return e.parent&&bu(e.parent)&&((t=!e.parent.parent)!==null&&t!==void 0?t:G5(e.parent.parent))}var v4e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Kl="_brush",U5="_scale_trigger",x4e={defined:e=>e.type==="interval",signals:(e,t,n)=>{const r=t.name,i=r+Ih,a=os.defined(t),o=t.init?t.init[0]:null,s=[],l=[];if(t.translate&&!a){const u=`!event.item || event.item.mark.name !== ${q(r+Kl)}`;Qj(t,(f,d)=>{var h,m;const g=Q((h=(m=d.between[0]).filter)!==null&&h!==void 0?h:m.filter=[]);return g.includes(u)||g.push(u),f})}t.project.items.forEach((u,f)=>{const d=u.channel;if(d!==ft&&d!==jt){U("Interval selections only support x and y encoding channels.");return}const h=o?o[f]:null,m=_4e(e,t,u,h),g=u.signals.data,p=u.signals.visual,y=q(e.scaleName(d)),b=e.getScaleComponent(d).get("type"),v=yr(b)?"+":"";n.push(...m),s.push(g),l.push({scaleName:e.scaleName(d),expr:`(!isArray(${g}) || (${v}invert(${y}, ${p})[0] === ${v}${g}[0] && ${v}invert(${y}, ${p})[1] === ${v}${g}[1]))`})}),!a&&l.length&&n.push({name:r+U5,value:{},on:[{events:l.map(u=>({scale:u.scaleName})),update:`${l.map(u=>u.expr).join(" && ")} ? ${r+U5} : {}`}]});const c=`unit: ${Ic(e)}, fields: ${i}, values`;return n.concat(Object.assign(Object.assign({name:r+ls},o?{init:`{${c}: ${I0(o)}}`}:{}),s.length?{on:[{events:[{signal:s.join(" || ")}],update:`${s.join(" && ")} ? {${c}: [${s}]} : null`}]}:{}))},marks:(e,t,n)=>{const r=t.name,{x:i,y:a}=t.project.hasChannel,o=i==null?void 0:i.signals.visual,s=a==null?void 0:a.signals.visual,l=`data(${q(t.name+Z0)})`;if(os.defined(t)||!i&&!a)return n;const c={x:i!==void 0?{signal:`${o}[0]`}:{value:0},y:a!==void 0?{signal:`${s}[0]`}:{value:0},x2:i!==void 0?{signal:`${o}[1]`}:{field:{group:"width"}},y2:a!==void 0?{signal:`${s}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const p of G(c))c[p]=[Object.assign({test:`${l}.length && ${l}[0].unit === ${Ic(e)}`},c[p]),{value:0}];const u=t.mark,{fill:f,fillOpacity:d,cursor:h}=u,m=v4e(u,["fill","fillOpacity","cursor"]),g=G(m).reduce((p,y)=>(p[y]=[{test:[i!==void 0&&`${o}[0] !== ${o}[1]`,a!==void 0&&`${s}[0] !== ${s}[1]`].filter(b=>b).join(" && "),value:m[y]},{value:null}],p),{});return[{name:`${r+Kl}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:f},fillOpacity:{value:d}},update:c}},...n,{name:r+Kl,type:"rect",clip:!0,encode:{enter:Object.assign(Object.assign({},h?{cursor:{value:h}}:{}),{fill:{value:"transparent"}}),update:Object.assign(Object.assign({},c),g)}}]}};function _4e(e,t,n,r){const i=n.channel,a=n.signals.visual,o=n.signals.data,s=os.defined(t),l=q(e.scaleName(i)),c=e.getScaleComponent(i),u=c?c.get("type"):void 0,f=g=>`scale(${l}, ${g})`,d=e.getSizeSignalRef(i===ft?"width":"height").signal,h=`${i}(unit)`,m=Qj(t,(g,p)=>[...g,{events:p.between[0],update:`[${h}, ${h}]`},{events:p,update:`[${a}[0], clamp(${h}, 0, ${d})]`}]);return m.push({events:{signal:t.name+U5},update:yr(u)?`[${f(`${o}[0]`)}, ${f(`${o}[1]`)}]`:"[0, 0]"}),s?[{name:o,on:[]}]:[Object.assign(Object.assign({name:a},r?{init:I0(r,!0,f)}:{value:[]}),{on:m}),Object.assign(Object.assign({name:o},r?{init:I0(r)}:{}),{on:[{events:{signal:a},update:`${a}[0] === ${a}[1] ? null : invert(${l}, ${a})`}]})]}function Qj(e,t){return e.events.reduce((n,r)=>r.between?t(n,r):(U(`${r} is not an ordered event stream for interval selections.`),n),[])}const w4e={defined:e=>e.type==="point",signals:(e,t,n)=>{var r;const i=t.name,a=i+Ih,o=t.project,s="(item().isVoronoi ? datum.datum : datum)",l=gn((r=e.component.selection)!==null&&r!==void 0?r:{}).reduce((d,h)=>h.type==="interval"?d.concat(h.name+Kl):d,[]).map(d=>`indexof(item().mark.name, '${d}') < 0`).join(" && "),c=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${l?` && ${l}`:""}`;let u=`unit: ${Ic(e)}, `;if(t.project.hasSelectionId)u+=`${sa}: ${s}[${q(sa)}]`;else{const d=o.items.map(h=>{const m=e.fieldDef(h.channel);return m!=null&&m.bin?`[${s}[${q(e.vgField(h.channel,{}))}], ${s}[${q(e.vgField(h.channel,{binSuffix:"end"}))}]]`:`${s}[${q(h.field)}]`}).join(", ");u+=`fields: ${a}, values: [${d}]`}const f=t.events;return n.concat([{name:i+ls,on:f?[{events:f,update:`${c} ? {${u}} : null`,force:!0}]:[]}])}};function mu(e,t,n,r){const i=ny(t)&&t.condition,a=r(t);if(i){const s=Q(i).map(l=>{const c=r(l);if(f7e(l)){const{param:u,empty:f}=l,d=yz(e,{param:u,empty:f});return Object.assign({test:d},c)}else{const u=Vp(e,l.test);return Object.assign({test:u},c)}});return{[n]:[...s,...a!==void 0?[a]:[]]}}else return a!==void 0?{[n]:a}:{}}function M6(e,t="text"){const n=e.encoding[t];return mu(e,n,t,r=>fy(r,e.config))}function fy(e,t,n="datum"){if(e){if(_i(e))return rt(e.value);if(ge(e)){const{format:r,formatType:i}=zp(e);return o6({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function ez(e,t={}){const{encoding:n,markDef:r,config:i,stack:a}=e,o=n.tooltip;if(j(o))return{tooltip:_M({tooltip:o},a,i,t)};{const s=t.reactiveGeom?"datum.datum":"datum";return mu(e,o,"tooltip",l=>{const c=fy(l,i,s);if(c)return c;if(l===null)return;let u=je("tooltip",r,i);if(u===!0&&(u={content:"encoding"}),J(u))return{value:u};if(ee(u))return ae(u)?u:u.content==="encoding"?_M(n,a,i,t):{signal:s}})}}function tz(e,t,n,{reactiveGeom:r}={}){const i={},a=r?"datum.datum":"datum",o=[];function s(c,u){const f=tl(u),d=Zr(c)?c:Object.assign(Object.assign({},c),{type:e[f].type}),h=d.title||u6(d,n),m=Q(h).join(", ");let g;if(zt(u)){const p=u==="x"?"x2":"y2",y=oa(e[p]);if(Wt(d.bin)&&y){const b=V(d,{expr:a}),v=V(y,{expr:a}),{format:x,formatType:_}=zp(d);g=Lh(b,v,x,_,n),i[p]=!0}}if((zt(u)||u===jr||u===Oi)&&t&&t.fieldChannel===u&&t.offset==="normalize"){const{format:p,formatType:y}=zp(d);g=o6({fieldOrDatumDef:d,format:p,formatType:y,expr:a,config:n,normalizeStack:!0}).signal}g??(g=fy(d,n,a).signal),o.push({channel:u,key:m,value:g})}h6(e,(c,u)=>{W(c)?s(c,u):ry(c)&&s(c.condition,u)});const l={};for(const{channel:c,key:u,value:f}of o)!i[c]&&!l[u]&&(l[u]=f);return l}function _M(e,t,n,{reactiveGeom:r}={}){const i=tz(e,t,n,{reactiveGeom:r}),a=rs(i).map(([o,s])=>`"${o}": ${s}`);return a.length>0?{signal:`{${a.join(", ")}}`}:void 0}function T4e(e){const{markDef:t,config:n}=e,r=je("aria",t,n);return r===!1?{}:Object.assign(Object.assign(Object.assign({},r?{aria:r}:{}),A4e(e)),S4e(e))}function A4e(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=je("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:t in Qve?{}:{ariaRoleDescription:{value:t}}}function S4e(e){const{encoding:t,markDef:n,config:r,stack:i}=e,a=t.description;if(a)return mu(e,a,"description",l=>fy(l,e.config));const o=je("description",n,r);if(o!=null)return{description:rt(o)};if(r.aria===!1)return{};const s=tz(t,i,r);if(!We(s))return{description:{signal:rs(s).map(([l,c],u)=>`"${u>0?"; ":""}${l}: " + (${c})`).join(" + ")}}}function Bt(e,t,n={}){const{markDef:r,encoding:i,config:a}=t,{vgChannel:o}=n;let{defaultRef:s,defaultValue:l}=n;s===void 0&&(l??(l=je(e,r,a,{vgChannel:o,ignoreVgConfig:!0})),l!==void 0&&(s=rt(l)));const c=i[e];return mu(t,c,o??e,u=>a6({channel:e,channelDef:u,markDef:r,config:a,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:s}))}function nz(e,t={filled:void 0}){var n,r,i,a;const{markDef:o,encoding:s,config:l}=e,{type:c}=o,u=(n=t.filled)!==null&&n!==void 0?n:je("filled",o,l),f=Me(["bar","point","circle","square","geoshape"],c)?"transparent":void 0,d=(i=(r=je(u===!0?"color":void 0,o,l,{vgChannel:"fill"}))!==null&&r!==void 0?r:l.mark[u===!0&&"color"])!==null&&i!==void 0?i:f,h=(a=je(u===!1?"color":void 0,o,l,{vgChannel:"stroke"}))!==null&&a!==void 0?a:l.mark[u===!1&&"color"],m=u?"fill":"stroke",g=Object.assign(Object.assign({},d?{fill:rt(d)}:{}),h?{stroke:rt(h)}:{});return o.color&&(u?o.fill:o.stroke)&&U(AP("property",{fill:"fill"in o,stroke:"stroke"in o})),Object.assign(Object.assign(Object.assign(Object.assign({},g),Bt("color",e,{vgChannel:m,defaultValue:u?d:h})),Bt("fill",e,{defaultValue:s.fill?d:void 0})),Bt("stroke",e,{defaultValue:s.stroke?h:void 0}))}function E4e(e){const{encoding:t,mark:n}=e,r=t.order;return!Ss(n)&&_i(r)?mu(e,r,"zindex",i=>rt(i.value)):{}}function Sd({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const a=`${e}Offset`,o=t[a],s=n[a];if((a==="xOffset"||a==="yOffset")&&s)return{offsetType:"encoding",offset:a6({channel:a,channelDef:s,markDef:t,config:r==null?void 0:r.config,scaleName:r.scaleName(a),scale:r.getScaleComponent(a),stack:null,defaultRef:rt(o),bandPosition:i})};const l=t[a];return l?{offsetType:"visual",offset:l}:{}}function un(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:a,config:o,stack:s}=t,l=i[e],c=i[xa(e)],u=t.scaleName(e),f=t.getScaleComponent(e),{offset:d,offsetType:h}=Sd({channel:e,markDef:a,encoding:i,model:t,bandPosition:.5}),m=k6({model:t,defaultPos:n,channel:e,scaleName:u,scale:f}),g=!l&&zt(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:M4e({channel:e,channelDef:l,channel2Def:c,markDef:a,config:o,scaleName:u,scale:f,stack:s,offset:d,defaultRef:m,bandPosition:h==="encoding"?0:void 0});return g?{[r||e]:g}:void 0}function M4e(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:a,markDef:o}=e;if(ge(n)&&i&&t===i.fieldChannel){if(W(n)){let s=n.bandPosition;if(s===void 0&&o.type==="text"&&(t==="radius"||t==="theta")&&(s=.5),s!==void 0)return Pp({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:s,offset:a})}return s0(n,r,{suffix:"end"},{offset:a})}return r6(e)}function k6({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:a,config:o}=e;return()=>{const s=tl(n),l=is(n),c=je(n,a,o,{vgChannel:l});if(c!==void 0)return If(n,c);switch(t){case"zeroOrMin":case"zeroOrMax":if(r){const u=i.get("type");if(!Me([qn.LOG,qn.TIME,qn.UTC],u)){if(i.domainDefinitelyIncludesZero())return{scale:r,value:0}}}if(t==="zeroOrMin")return s==="y"?{field:{group:"height"}}:{value:0};switch(s){case"radius":return{signal:`min(${e.width.signal},${e.height.signal})/2`};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":{const u=e[tr(n)];return Object.assign(Object.assign({},u),{mult:.5})}}}}const k4e={left:"x",center:"xc",right:"x2"},O4e={top:"y",middle:"yc",bottom:"y2"};function rz(e,t,n,r="middle"){if(e==="radius"||e==="theta")return is(e);const i=e==="x"?"align":"baseline",a=je(i,t,n);let o;return ae(a)?(U(L3e(i)),o=void 0):o=a,e==="x"?k4e[o||(r==="top"?"left":"center")]:O4e[o||r]}function Yp(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?iz(e,t,{defaultPos:n,defaultPos2:r}):un(e,t,{defaultPos:n})}function iz(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:a}=t,o=xa(e),s=tr(e),l=C4e(t,r,o),c=l[s]?rz(e,i,a):is(e);return Object.assign(Object.assign({},un(e,t,{defaultPos:n,vgChannel:c})),l)}function C4e(e,t,n){const{encoding:r,mark:i,markDef:a,stack:o,config:s}=e,l=tl(n),c=tr(n),u=is(n),f=r[l],d=e.scaleName(l),h=e.getScaleComponent(l),{offset:m}=n in r||n in a?Sd({channel:n,markDef:a,encoding:r,model:e}):Sd({channel:l,markDef:a,encoding:r,model:e});if(!f&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const p=tr(n),y=e.markDef[p];return y!=null?{[p]:{value:y}}:{[u]:{field:e.getName(n)}}}const g=D4e({channel:n,channelDef:f,channel2Def:r[n],markDef:a,config:s,scaleName:d,scale:h,stack:o,offset:m,defaultRef:void 0});return g!==void 0?{[u]:g}:A1(n,a)||A1(n,{[n]:Ip(n,a,s.style),[c]:Ip(c,a,s.style)})||A1(n,s[i])||A1(n,s.mark)||{[u]:k6({model:e,defaultPos:t,channel:n,scaleName:d,scale:h})()}}function D4e({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:a,scale:o,stack:s,offset:l,defaultRef:c}){return ge(t)&&s&&e.charAt(0)===s.fieldChannel.charAt(0)?s0(t,a,{suffix:"start"},{offset:l}):r6({channel:e,channelDef:n,scaleName:a,scale:o,stack:s,markDef:r,config:i,offset:l,defaultRef:c})}function A1(e,t){const n=tr(e),r=is(e);if(t[r]!==void 0)return{[r]:If(e,t[r])};if(t[e]!==void 0)return{[r]:If(e,t[e])};if(t[n]){const i=t[n];if($0(i))U(S3e(n));else return{[n]:If(e,i)}}}function ss(e,t){var n,r;const{config:i,encoding:a,markDef:o}=e,s=o.type,l=xa(t),c=tr(t),u=a[t],f=a[l],d=e.getScaleComponent(t),h=d?d.get("type"):void 0,m=o.orient,g=(r=(n=a[c])!==null&&n!==void 0?n:a.size)!==null&&r!==void 0?r:je("size",o,i,{vgChannel:c}),p=s==="bar"&&(t==="x"?m==="vertical":m==="horizontal");return W(u)&&(tt(u.bin)||Wt(u.bin)||u.timeUnit&&!f)&&!(g&&!$0(g))&&!Gt(h)?B4e({fieldDef:u,fieldDef2:f,channel:t,model:e}):(ge(u)&&Gt(h)||p)&&!f?F4e(u,t,e):iz(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function L4e(e,t,n,r,i){if($0(i))if(n){const o=n.get("type");if(o==="band"){let s=`bandwidth('${t}')`;return i.band!==1&&(s=`${i.band} * ${s}`),{signal:`max(0.25, ${s})`}}else i.band!==1&&(U(N3e(o)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(ae(i))return i;if(i)return{value:i}}if(n){const o=n.get("range");if(As(o)&&He(o.step))return{value:o.step-2}}return{value:Wp(r.view,e)-2}}function F4e(e,t,n){const{markDef:r,encoding:i,config:a,stack:o}=n,s=r.orient,l=n.scaleName(t),c=n.getScaleComponent(t),u=tr(t),f=xa(t),d=Lve(t),h=n.scaleName(d),m=s==="horizontal"&&t==="y"||s==="vertical"&&t==="x";let g;(i.size||r.size)&&(m?g=Bt("size",n,{vgChannel:u,defaultRef:rt(r.size)}):U(P3e(r.type)));const p=!!g,y=rj({channel:t,fieldDef:e,markDef:r,config:a,scaleType:c==null?void 0:c.get("type"),useVlSizeChannel:m});g=g||{[u]:L4e(u,h||l,c,a,y)};const b=(c==null?void 0:c.get("type"))==="band"&&$0(y)&&!p?"top":"middle",v=rz(t,r,a,b),x=v==="xc"||v==="yc",{offset:_,offsetType:T}=Sd({channel:t,markDef:r,encoding:i,model:n,bandPosition:x?.5:0}),w=r6({channel:t,channelDef:e,markDef:r,config:a,scaleName:l,scale:c,stack:o,offset:_,defaultRef:k6({model:n,defaultPos:"mid",channel:t,scaleName:l,scale:c}),bandPosition:x?T==="encoding"?0:.5:ae(y)?{signal:`(1-${y})/2`}:$0(y)?(1-y.band)/2:0});if(u)return Object.assign({[v]:w},g);{const S=is(f),C=g[u],M=_?Object.assign(Object.assign({},C),{offset:_}):C;return{[v]:w,[S]:j(w)?[w[0],Object.assign(Object.assign({},w[1]),{offset:M})]:Object.assign(Object.assign({},w),{offset:M})}}}function Wu(e,t,n,r,i){if(nP(e))return 0;const a=e==="x"||e==="y2"?-t/2:t/2;if(ae(n)||ae(i)||ae(r)){const o=Wa(n),s=Wa(i),l=Wa(r),c=l?`${l} + `:"",u=o?`(${o} ? -1 : 1) * `:"",f=s?`(${s} + ${a})`:a;return{signal:c+u+f}}else return i=i||0,r+(n?-i-a:+i+a)}function B4e({fieldDef:e,fieldDef2:t,channel:n,model:r}){var i,a,o;const{config:s,markDef:l,encoding:c}=r,u=r.getScaleComponent(n),f=r.scaleName(n),d=u?u.get("type"):void 0,h=u.get("reverse"),m=rj({channel:n,fieldDef:e,markDef:l,config:s,scaleType:d}),g=(i=r.component.axes[n])===null||i===void 0?void 0:i[0],p=(a=g==null?void 0:g.get("translate"))!==null&&a!==void 0?a:.5,y=zt(n)&&(o=je("binSpacing",l,s))!==null&&o!==void 0?o:0,b=xa(n),v=is(n),x=is(b),{offset:_}=Sd({channel:n,markDef:l,encoding:c,model:r,bandPosition:0}),T=ae(m)?{signal:`(1-${m.signal})/2`}:$0(m)?(1-m.band)/2:.5;if(tt(e.bin)||e.timeUnit)return{[x]:wM({fieldDef:e,scaleName:f,bandPosition:T,offset:Wu(b,y,h,p,_)}),[v]:wM({fieldDef:e,scaleName:f,bandPosition:ae(T)?{signal:`1-${T.signal}`}:1-T,offset:Wu(n,y,h,p,_)})};if(Wt(e.bin)){const w=s0(e,f,{},{offset:Wu(b,y,h,p,_)});if(W(t))return{[x]:w,[v]:s0(t,f,{},{offset:Wu(n,y,h,p,_)})};if(nl(e.bin)&&e.bin.step)return{[x]:w,[v]:{signal:`scale("${f}", ${V(e,{expr:"datum"})} + ${e.bin.step})`,offset:Wu(n,y,h,p,_)}}}U(MP(b))}function wM({fieldDef:e,scaleName:t,bandPosition:n,offset:r}){return Pp({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r})}const $4e=new Set(["aria","width","height"]);function zr(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?nz(e):{};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},N4e(e.markDef,t)),TM(e,"fill",n)),TM(e,"stroke",r)),Bt("opacity",e)),Bt("fillOpacity",e)),Bt("strokeOpacity",e)),Bt("strokeWidth",e)),Bt("strokeDash",e)),E4e(e)),ez(e)),M6(e,"href")),T4e(e))}function TM(e,t,n){const{config:r,mark:i,markDef:a}=e;if(je("invalid",a,r)==="hide"&&n&&!Ss(i)){const s=I4e(e,{invalid:!0,channels:Y2});if(s)return{[t]:[{test:s,value:null},...Q(n)]}}return n?{[t]:n}:{}}function N4e(e,t){return Kve.reduce((n,r)=>(!$4e.has(r)&&e[r]!==void 0&&t[r]!=="ignore"&&(n[r]=rt(e[r])),n),{})}function I4e(e,{invalid:t=!1,channels:n}){const r=n.reduce((a,o)=>{const s=e.getScaleComponent(o);if(s){const l=s.get("type"),c=e.vgField(o,{expr:"datum"});c&&yr(l)&&(a[c]=!0)}return a},{}),i=G(r);if(i.length>0){const a=t?"||":"&&";return i.map(o=>i6(o,t)).join(` ${a} `)}}function O6(e){const{config:t,markDef:n}=e;if(je("invalid",n,t)){const i=Z4e(e,{channels:_a});if(i)return{defined:{signal:i}}}return{}}function Z4e(e,{invalid:t=!1,channels:n}){const r=n.reduce((a,o)=>{var s;const l=e.getScaleComponent(o);if(l){const c=l.get("type"),u=e.vgField(o,{expr:"datum",binSuffix:!((s=e.stack)===null||s===void 0)&&s.impute?"mid":void 0});u&&yr(c)&&(a[u]=!0)}return a},{}),i=G(r);if(i.length>0){const a=t?"||":"&&";return i.map(o=>i6(o,t)).join(` ${a} `)}}function AM(e,t){if(t!==void 0)return{[e]:rt(t)}}const nv="voronoi",az={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(nv)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,a=e.mark;if(Ss(a))return U(i3e(a)),n;const o={name:e.getName(nv),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:Object.assign({fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},ez(e,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let s=0,l=!1;return n.forEach((c,u)=>{var f;const d=(f=c.name)!==null&&f!==void 0?f:"";d===e.component.mark[0].name?s=u:d.indexOf(nv)>=0&&(l=!0)}),l||n.splice(s+1,0,o),n}},oz={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!v6(e.bind),parse:(e,t,n)=>mz(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,a=t.bind,o=t.init&&t.init[0],s=az.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((l,c)=>{var u,f;const d=st(`${r}_${l.field}`);n.filter(m=>m.name===d).length||n.unshift(Object.assign(Object.assign({name:d},o?{init:I0(o[c])}:{value:null}),{on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${s}[${q(l.field)}] : null`}]:[],bind:(f=(u=a[l.field])!==null&&u!==void 0?u:a[l.channel])!==null&&f!==void 0?f:a}))}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,a=n.filter(c=>c.name===r+ls)[0],o=r+Ih,s=i.items.map(c=>st(`${r}_${c.field}`)),l=s.map(c=>`${c} !== null`).join(" && ");return s.length&&(a.update=`${l} ? {fields: ${o}, values: [${s.join(", ")}]} : null`),delete a.value,delete a.on,n}},qp="_toggle",sz={defined:e=>e.type==="point"&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+qp,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+ls,r=t.name+qp;return`${r} ? null : ${n}, `+(t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${Ic(e)}}, `)+`${r} ? ${n} : null`}},R4e={defined:e=>e.clear!==void 0&&e.clear!==!1,parse:(e,t)=>{t.clear&&(t.clear=J(t.clear)?gs(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(oz.defined(t))for(const r of t.project.items){const i=n.findIndex(a=>a.name===st(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,a){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:a})}if(t.type==="interval")for(const i of t.project.items){const a=n.findIndex(o=>o.name===i.signals.visual);if(r(a,"[0, 0]"),a===-1){const o=n.findIndex(s=>s.name===i.signals.data);r(o,"null")}}else{let i=n.findIndex(a=>a.name===t.name+ls);r(i,"null"),sz.defined(t)&&(i=n.findIndex(a=>a.name===t.name+qp),r(i,"false"))}return n}},lz={defined:e=>{const t=e.resolve==="global"&&e.bind&&v6(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==sa;return t&&!n&&U(s3e),t&&n},parse:(e,t,n)=>{var r;const i=ve(n);if(i.select=J(i.select)?{type:i.select,toggle:t.toggle}:Object.assign(Object.assign({},i.select),{toggle:t.toggle}),mz(t,i),ee(n.select)&&(n.select.on||n.select.clear)){const s='event.item && indexof(event.item.mark.role, "legend") < 0';for(const l of t.events)l.filter=Q((r=l.filter)!==null&&r!==void 0?r:[]),l.filter.includes(s)||l.filter.push(s)}const a=Qb(t.bind)?t.bind.legend:"click",o=J(a)?gs(a,"view"):Q(a);t.bind={legend:{merge:o}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=Qb(t.bind)&&t.bind.legend,a=o=>s=>{const l=ve(s);return l.markname=o,l};for(const o of t.project.items){if(!o.hasLegend)continue;const s=`${st(o.field)}_legend`,l=`${r}_${s}`;if(n.filter(u=>u.name===l).length===0){const u=i.merge.map(a(`${s}_symbols`)).concat(i.merge.map(a(`${s}_labels`))).concat(i.merge.map(a(`${s}_entries`)));n.unshift(Object.assign(Object.assign({name:l},t.init?{}:{value:null}),{on:[{events:u,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${l}`,force:!0}]}))}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,a=n.find(d=>d.name===r+ls),o=r+Ih,s=i.items.filter(d=>d.hasLegend).map(d=>st(`${r}_${st(d.field)}_legend`)),c=`${s.map(d=>`${d} !== null`).join(" && ")} ? {fields: ${o}, values: [${s.join(", ")}]} : null`;t.events&&s.length>0?a.on.push({events:s.map(d=>({signal:d})),update:c}):s.length>0&&(a.update=c,delete a.value,delete a.on);const u=n.find(d=>d.name===r+qp),f=Qb(t.bind)&&t.bind.legend;return u&&(t.events?u.on.push(Object.assign(Object.assign({},u.on[0]),{events:f})):u.on[0].events=f),n}};function P4e(e,t,n){var r,i,a,o;const s=(r=e.fieldDef(t))===null||r===void 0?void 0:r.field;for(const l of gn((i=e.component.selection)!==null&&i!==void 0?i:{})){const c=(a=l.project.hasField[s])!==null&&a!==void 0?a:l.project.hasChannel[t];if(c&&lz.defined(l)){const u=(o=n.get("selections"))!==null&&o!==void 0?o:[];u.push(l.name),n.set("selections",u,!1),c.hasLegend=!0}}}const cz="_translate_anchor",uz="_translate_delta",j4e={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=os.defined(t),a=r+cz,{x:o,y:s}=t.project.hasChannel;let l=gs(t.translate,"scope");return i||(l=l.map(c=>(c.between[0].markname=r+Kl,c))),n.push({name:a,value:{},on:[{events:l.map(c=>c.between[0]),update:"{x: x(unit), y: y(unit)"+(o!==void 0?`, extent_x: ${i?z5(e,ft):`slice(${o.signals.visual})`}`:"")+(s!==void 0?`, extent_y: ${i?z5(e,jt):`slice(${s.signals.visual})`}`:"")+"}"}]},{name:r+uz,value:{},on:[{events:l,update:`{x: ${a}.x - x(unit), y: ${a}.y - y(unit)}`}]}),o!==void 0&&SM(e,t,o,"width",n),s!==void 0&&SM(e,t,s,"height",n),n}};function SM(e,t,n,r,i){var a,o;const s=t.name,l=s+cz,c=s+uz,u=n.channel,f=os.defined(t),d=i.filter(w=>w.name===n.signals[f?"data":"visual"])[0],h=e.getSizeSignalRef(r).signal,m=e.getScaleComponent(u),g=m.get("type"),p=m.get("reverse"),y=f?u===ft?p?"":"-":p?"-":"":"",b=`${l}.extent_${u}`,v=`${y}${c}.${u} / ${f?`${h}`:`span(${b})`}`,x=f?g==="log"?"panLog":g==="symlog"?"panSymlog":g==="pow"?"panPow":"panLinear":"panLinear",_=f?g==="pow"?`, ${(a=m.get("exponent"))!==null&&a!==void 0?a:1}`:g==="symlog"?`, ${(o=m.get("constant"))!==null&&o!==void 0?o:1}`:"":"",T=`${x}(${b}, ${v}${_})`;d.on.push({events:{signal:c},update:f?T:`clampRange(${T}, 0, ${h})`})}const fz="_zoom_anchor",dz="_zoom_delta",z4e={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=os.defined(t),a=r+dz,{x:o,y:s}=t.project.hasChannel,l=q(e.scaleName(ft)),c=q(e.scaleName(jt));let u=gs(t.zoom,"scope");return i||(u=u.map(f=>(f.markname=r+Kl,f))),n.push({name:r+fz,on:[{events:u,update:i?"{"+[l?`x: invert(${l}, x(unit))`:"",c?`y: invert(${c}, y(unit))`:""].filter(f=>!!f).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:a,on:[{events:u,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),o!==void 0&&EM(e,t,o,"width",n),s!==void 0&&EM(e,t,s,"height",n),n}};function EM(e,t,n,r,i){var a,o;const s=t.name,l=n.channel,c=os.defined(t),u=i.filter(x=>x.name===n.signals[c?"data":"visual"])[0],f=e.getSizeSignalRef(r).signal,d=e.getScaleComponent(l),h=d.get("type"),m=c?z5(e,l):u.name,g=s+dz,p=`${s}${fz}.${l}`,y=c?h==="log"?"zoomLog":h==="symlog"?"zoomSymlog":h==="pow"?"zoomPow":"zoomLinear":"zoomLinear",b=c?h==="pow"?`, ${(a=d.get("exponent"))!==null&&a!==void 0?a:1}`:h==="symlog"?`, ${(o=d.get("constant"))!==null&&o!==void 0?o:1}`:"":"",v=`${y}(${m}, ${p}, ${g}${b})`;u.on.push({events:{signal:g},update:c?v:`clampRange(${v}, 0, ${f})`})}const Z0="_store",ls="_tuple",G4e="_modify",hz="vlSelectionResolve",dy=[w4e,x4e,b4e,sz,oz,os,lz,R4e,j4e,z4e,az];function U4e(e){let t=e.parent;for(;t&&!hi(t);)t=t.parent;return t}function Ic(e,{escape:t}={escape:!0}){let n=t?q(e.name):e.name;const r=U4e(e);if(r){const{facet:i}=r;for(const a of kr)i[a]&&(n+=` + '__facet_${a}_' + (facet[${q(r.vgField(a))}])`)}return n}function C6(e){var t;return gn((t=e.component.selection)!==null&&t!==void 0?t:{}).reduce((n,r)=>n||r.project.hasSelectionId,!1)}function mz(e,t){(J(t.select)||!t.select.on)&&delete e.events,(J(t.select)||!t.select.clear)&&delete e.clear,(J(t.select)||!t.select.toggle)&&delete e.toggle}function W5(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...W5(e.object)),t.push(...W5(e.property))),t)}function pz(e){return e.object.type==="MemberExpression"?pz(e.object):e.object.name==="datum"}function gz(e){const t=Y_(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&pz(r)&&n.add(W5(r).slice(1).join("."))}),n}class pu extends qe{constructor(t,n,r){super(t),this.model=n,this.filter=r,this.expr=Vp(this.model,this.filter,this),this._dependentFields=gz(this.expr)}clone(){return new pu(null,this.model,ve(this.filter))}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function W4e(e,t){var n;const r={},i=e.config.selection;if(!t||!t.length)return r;for(const a of t){const o=st(a.name),s=a.select,l=J(s)?s:s.type,c=ee(s)?ve(s):{type:l},u=i[l];for(const d in u)d==="fields"||d==="encodings"||(d==="mark"&&(c[d]=Object.assign(Object.assign({},u[d]),c[d])),(c[d]===void 0||c[d]===!0)&&(c[d]=(n=u[d])!==null&&n!==void 0?n:c[d]));const f=r[o]=Object.assign(Object.assign({},c),{name:o,type:l,init:a.value,bind:a.bind,events:J(c.on)?gs(c.on,"scope"):Q(ve(c.on))});for(const d of dy)d.defined(f)&&d.parse&&d.parse(e,f,a)}return r}function yz(e,t,n,r="datum"){const i=J(t)?t:t.param,a=st(i),o=q(a+Z0);let s;try{s=e.getSelectionComponent(a,i)}catch{return`!!${a}`}if(s.project.timeUnit){const d=n??e.component.data.raw,h=s.project.timeUnit.clone();d.parent?h.insertAsParentOf(d):d.parent=h}const l=s.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",c=s.resolve==="global"?")":`, ${q(s.resolve)})`,u=`${l}${o}, ${r}${c}`,f=`length(data(${o}))`;return t.empty===!1?`${f} && ${u}`:`!${f} || ${u}`}function bz(e,t,n){const r=st(t),i=n.encoding;let a=n.field,o;try{o=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!a)a=o.project.items[0].field,o.project.items.length>1&&U(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${q(a)}.`);else if(i&&!a){const s=o.project.items.filter(l=>l.channel===i);!s.length||s.length>1?(a=o.project.items[0].field,U((s.length?"Multiple ":"No ")+`matching ${q(i)} encoding found for selection ${q(n.param)}. Using "field": ${q(a)}.`)):a=s[0].field}return`${o.name}[${q(Nr(a))}]`}function H4e(e,t){var n;for(const[r,i]of rs((n=e.component.selection)!==null&&n!==void 0?n:{})){const a=e.getName(`lookup_${r}`);e.component.data.outputNodes[a]=i.materialized=new Dn(new pu(t,e,{param:r}),a,Qe.Lookup,e.component.data.outputNodeRefCounts)}}function Vp(e,t,n){return Nf(t,r=>J(r)?r:w5e(r)?yz(e,r,n):$P(r))}var S1=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Y4e(e,t){if(e)return j(e)&&!wo(e)?e.map(n=>u6(n,t)).join(", "):e}function rv(e,t,n,r){var i,a,o,s,l;(i=e.encode)!==null&&i!==void 0||(e.encode={}),(a=(s=e.encode)[t])!==null&&a!==void 0||(s[t]={}),(o=(l=e.encode[t]).update)!==null&&o!==void 0||(l.update={}),e.encode[t].update[n]=r}function _f(e,t,n,r={header:!1}){var i,a;const o=e.combine(),{disable:s,orient:l,scale:c,labelExpr:u,title:f,zindex:d}=o,h=S1(o,["disable","orient","scale","labelExpr","title","zindex"]);if(!s){for(const m in h){const g=S7e[m],p=h[m];if(g&&g!==t&&g!=="both")delete h[m];else if(Nh(p)){const{condition:y}=p,b=S1(p,["condition"]),v=Q(y),x=rM[m];if(x){const{vgProp:_,part:T}=x,w=[...v.map(S=>{const{test:C}=S,M=S1(S,["test"]);return Object.assign({test:Vp(null,C)},M)}),b];rv(h,T,_,w),delete h[m]}else if(x===null){const _={signal:v.map(T=>{const{test:w}=T,S=S1(T,["test"]);return`${Vp(null,w)} ? ${zE(S)} : `}).join("")+zE(b)};h[m]=_}}else if(ae(p)){const y=rM[m];if(y){const{vgProp:b,part:v}=y;rv(h,v,b,p),delete h[m]}}Me(["labelAlign","labelBaseline"],m)&&h[m]===null&&delete h[m]}if(t==="grid"){if(!h.grid)return;if(h.encode){const{grid:m}=h.encode;h.encode=Object.assign({},m?{grid:m}:{}),We(h.encode)&&delete h.encode}return Object.assign(Object.assign({scale:c,orient:l},h),{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:_t(d,0)})}else{if(!r.header&&e.mainExtracted)return;if(u!==void 0){let g=u;!((a=(i=h.encode)===null||i===void 0?void 0:i.labels)===null||a===void 0)&&a.update&&ae(h.encode.labels.update.text)&&(g=D0(u,"datum.label",h.encode.labels.update.text.signal)),rv(h,"labels","text",{signal:g})}if(h.labelAlign===null&&delete h.labelAlign,h.encode){for(const g of dj)e.hasAxisPart(g)||delete h.encode[g];We(h.encode)&&delete h.encode}const m=Y4e(f,n);return Object.assign(Object.assign(Object.assign(Object.assign({scale:c,orient:l,grid:!1},m?{title:m}:{}),h),n.aria===!1?{aria:!1}:{}),{zindex:_t(d,0)})}}}function vz(e){const{axes:t}=e.component,n=[];for(const r of _a)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const a=r==="x"?"height":"width",o=e.getSizeSignalRef(a).signal;a!==o&&n.push({name:a,update:o})}}return n}function q4e(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>_f(i,"grid",t)),...r.map(i=>_f(i,"grid",t)),...n.map(i=>_f(i,"main",t)),...r.map(i=>_f(i,"main",t))].filter(i=>i)}function MM(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const a=n==="x"?"bottom":"left",o=t[n==="x"?"axisBottom":"axisLeft"]||{},s=t[n==="x"?"axisTop":"axisRight"]||{},l=new Set([...G(o),...G(s)]),c={};for(const u of l.values())c[u]={signal:`${r.signal} === "${a}" ? ${Wa(o[u])} : ${Wa(s[u])}`};return c}return t[i]})])}function V4e(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:RP(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],a=e==="x"?"axisX":"axisY",o=ae(n)?"axisOrient":`axis${Sh(n)}`,s=[...i,...i.map(c=>a+c.substr(4))],l=["axis",o,a];return{vlOnlyAxisConfig:MM(s,r,e,n),vgAxisConfig:MM(l,r,e,n),axisConfigStyle:X4e([...l,...s],r)}}function X4e(e,t){var n;const r=[{}];for(const i of e){let a=(n=t[i])===null||n===void 0?void 0:n.style;if(a){a=Q(a);for(const o of a)r.push(t.style[o])}}return Object.assign.apply(null,r)}function H5(e,t,n,r={}){var i;const a=yP(e,n,t);if(a!==void 0)return{configFrom:"style",configValue:a};for(const o of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(((i=r[o])===null||i===void 0?void 0:i[e])!==void 0)return{configFrom:o,configValue:r[o][e]};return{}}const kM={scale:({model:e,channel:t})=>e.scaleName(t),format:({fieldOrDatumDef:e,config:t,axis:n})=>{const{format:r,formatType:i}=n;return JP(e,e.type,r,i,t,!0)},formatType:({axis:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return KP(r,t,n)},grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>{var r;return(r=t.grid)!==null&&r!==void 0?r:J4e(n,e)},gridScale:({model:e,channel:t})=>K4e(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||_z(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||xz(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>{var r;return(r=e.labelFlush)!==null&&r!==void 0?r:exe(t.type,n)},labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>{var r;return(r=e.labelOverlap)!==null&&r!==void 0?r:txe(t.type,n,W(t)&&!!t.timeUnit,W(t)?t.sort:void 0)},orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{var a;const o=e==="x"?"width":e==="y"?"height":void 0,s=o?t.getSizeSignalRef(o):void 0;return(a=n.tickCount)!==null&&a!==void 0?a:rxe({fieldOrDatumDef:r,scaleType:i,size:s,values:n.values})},title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=wz(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),a=n==="x"?"x2":"y2",o=t.fieldDef(a);return vP(i?[nM(i)]:[],W(o)?[nM(o)]:[])},values:({axis:e,fieldOrDatumDef:t})=>ixe(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>{var r;return(r=e.zindex)!==null&&r!==void 0?r:axe(n,t)}};function J4e(e,t){return!Gt(e)&&W(t)&&!tt(t==null?void 0:t.bin)&&!Wt(t==null?void 0:t.bin)}function K4e(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function Q4e(e,t,n,r,i){const a=t==null?void 0:t.labelAngle;if(a!==void 0)return ae(a)?a:wd(a);{const{configValue:o}=H5("labelAngle",r,t==null?void 0:t.style,i);return o!==void 0?wd(o):n===ft&&Me([Q9,K9],e.type)&&!(W(e)&&e.timeUnit)?270:void 0}}function Y5(e){return`(((${e.signal} % 360) + 360) % 360)`}function xz(e,t,n,r){if(e!==void 0)if(n==="x"){if(ae(e)){const i=Y5(e),a=ae(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${a} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(ae(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(ae(e)){const i=Y5(e),a=ae(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${a} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(ae(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function _z(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,a=r?"bottom":"left";if(ae(e)){const o=Y5(e),s=ae(t)?`(${t.signal} === "${a}")`:t===a;return{signal:`(${i?`(${o} + 90)`:o} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${o} && ${o} < ${180+i}) === ${s} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(ae(t)){const o=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${o} "${a}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===a)?"left":"right"}function exe(e,t){if(t==="x"&&Me(["quantitative","temporal"],e))return!0}function txe(e,t,n,r){if(n&&!ee(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function nxe(e){return e==="x"?"bottom":"left"}function rxe({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){var i;if(!r&&!Gt(t)&&t!=="log"){if(W(e)){if(tt(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&Me(["month","hours","day","quarter"],(i=vn(e.timeUnit))===null||i===void 0?void 0:i.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function wz(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),a=r?r.title:void 0,o=i?i.title:void 0;if(a&&o)return xP(a,o);if(a)return a;if(o)return o;if(a!==void 0)return a;if(o!==void 0)return o}function ixe(e,t){const n=e.values;if(j(n))return fj(t,n);if(ae(n))return n}function axe(e,t){return e==="rect"&&jp(t)?1:0}class Zc extends qe{constructor(t,n){super(t),this.transform=n,this._dependentFields=gz(this.transform.calculate)}clone(){return new Zc(null,ve(this.transform))}static parseAllForSortIndex(t,n){return n.forEachFieldDef((r,i)=>{if(il(r)&&tj(r.sort)){const{field:a,timeUnit:o}=r,s=r.sort,l=s.map((c,u)=>`${$P({field:a,timeUnit:o,equal:c})} ? ${u} : `).join("")+s.length;t=new Zc(t,{calculate:l,as:Rc(r,i,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${Ce(this.transform)}`}}function Rc(e,t,n){return V(e,Object.assign({prefix:t,suffix:"sort_index"},n??{}))}function hy(e,t){return Me(["top","bottom"],t)?"column":Me(["left","right"],t)||e==="row"?"row":"column"}function Pc(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return _t((t||{})[e],i[e],n.header[e])}function my(e,t,n,r){const i={};for(const a of e){const o=Pc(a,t||{},n,r);o!==void 0&&(i[a]=o)}return i}const D6=["row","column"],L6=["header","footer"];function oxe(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:a,titleAngle:o,titleOrient:s}=my(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),l=hy(t,s),c=wd(o);return{name:`${t}-title`,type:"group",role:`${l}-title`,title:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:n},t==="row"?{orient:"left"}:{}),{style:"guide-title"}),Az(c,l)),Tz(l,c,a)),Sz(r,i,t,q7e,Oj))}}function Tz(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=_z(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function Az(e,t){const n=xz(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function sxe(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of L6)if(n[i])for(const a of n[i]){const o=cxe(e,t,i,n,a);o!=null&&r.push(o)}return r}function lxe(e,t){var n;const{sort:r}=e;return Vi(r)?{field:V(r,{expr:"datum"}),order:(n=r.order)!==null&&n!==void 0?n:"ascending"}:j(r)?{field:Rc(e,t,{expr:"datum"}),order:"ascending"}:{field:V(e,{expr:"datum"}),order:r??"ascending"}}function q5(e,t,n){const{format:r,formatType:i,labelAngle:a,labelAnchor:o,labelOrient:s,labelExpr:l}=my(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),c=o6({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,u=hy(t,s);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:{signal:l?D0(D0(l,"datum.label",c),"datum.value",V(e,{expr:"parent"})):c}},t==="row"?{orient:"left"}:{}),{style:"guide-label",frame:"group"}),Az(a,u)),Tz(u,a,o)),Sz(n,e,t,V7e,Cj))}function cxe(e,t,n,r,i){if(i){let a=null;const{facetFieldDef:o}=r,s=e.config?e.config:void 0;if(o&&i.labels){const{labelOrient:f}=my(["labelOrient"],o.header,s,t);(t==="row"&&!Me(["top","bottom"],f)||t==="column"&&!Me(["left","right"],f))&&(a=q5(o,t,s))}const l=hi(e)&&!Fh(e.facet),c=i.axes,u=(c==null?void 0:c.length)>0;if(a||u){const f=t==="row"?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`},r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:lxe(o,t)}:{}),u&&l?{from:{data:e.getName(`facet_domain_${t}`)}}:{}),a?{title:a}:{}),i.sizeSignal?{encode:{update:{[f]:i.sizeSignal}}}:{}),u?{axes:c}:{})}}return null}const uxe={column:{start:0,end:1},row:{start:1,end:0}};function fxe(e,t){return uxe[t][e]}function dxe(e,t){const n={};for(const r of kr){const i=e[r];if(i!=null&&i.facetFieldDef){const{titleAnchor:a,titleOrient:o}=my(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),s=hy(r,o),l=fxe(a,s);l!==void 0&&(n[s]=l)}}return We(n)?void 0:n}function Sz(e,t,n,r,i){const a={};for(const o of r){if(!i[o])continue;const s=Pc(o,t==null?void 0:t.header,e,n);s!==void 0&&(a[i[o]]=s)}return a}function F6(e){return[...E1(e,"width"),...E1(e,"height"),...E1(e,"childWidth"),...E1(e,"childHeight")]}function E1(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(!r||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const a=e.getScaleComponent(n);if(a){const o=a.get("type"),s=a.get("range");if(Gt(o)&&As(s)){const l=e.scaleName(n);return hi(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[OM(l,s)]:[OM(l,s),{name:i,update:Ez(l,a,`domain('${l}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const a=i.endsWith("width"),o=a?"containerSize()[0]":"containerSize()[1]",s=Z5(e.config.view,a?"width":"height"),l=`isFinite(${o}) ? ${o} : ${s}`;return[{name:i,init:l,on:[{update:l,events:"window:resize"}]}]}else return[{name:i,value:r}]}function OM(e,t){const n=`${e}_step`;return ae(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function Ez(e,t,n){const r=t.get("type"),i=t.get("padding"),a=_t(t.get("paddingOuter"),i);let o=t.get("paddingInner");return o=r==="band"?o!==void 0?o:i:1,`bandspace(${n}, ${Wa(o)}, ${Wa(a)}) * ${e}_step`}function Mz(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function kz(e,t){return G(e).reduce((n,r)=>{const i=e[r];return Object.assign(Object.assign({},n),mu(t,i,r,a=>rt(a.value)))},{})}function Oz(e,t){if(hi(t))return e==="theta"?"independent":"shared";if(bu(t))return"shared";if(P6(t))return zt(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function B6(e,t){const n=e.scale[t],r=zt(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&U(W3e(t)),"independent"):e[r][t]||"shared"}const hxe=Object.assign(Object.assign({},K7e),{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),Cz=G(hxe);class mxe extends uo{}const CM={symbols:pxe,gradient:gxe,labels:yxe,entries:bxe};function pxe(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:a}){var o,s,l,c,u,f,d,h;if(a!=="symbol")return;const{markDef:m,encoding:g,config:p,mark:y}=n,b=m.filled&&y!=="trail";let v=Object.assign(Object.assign({},t3e({},n,q5e)),nz(n,{filled:b}));const x=(o=i.get("symbolOpacity"))!==null&&o!==void 0?o:p.legend.symbolOpacity,_=(s=i.get("symbolFillColor"))!==null&&s!==void 0?s:p.legend.symbolFillColor,T=(l=i.get("symbolStrokeColor"))!==null&&l!==void 0?l:p.legend.symbolStrokeColor,w=x===void 0?(c=Dz(g.opacity))!==null&&c!==void 0?c:m.opacity:void 0;if(v.fill){if(r==="fill"||b&&r===Qn)delete v.fill;else if(v.fill.field)_?delete v.fill:(v.fill=rt((u=p.legend.symbolBaseFillColor)!==null&&u!==void 0?u:"black"),v.fillOpacity=rt(w??1));else if(j(v.fill)){const S=(h=(d=V5((f=g.fill)!==null&&f!==void 0?f:g.color))!==null&&d!==void 0?d:m.fill)!==null&&h!==void 0?h:b&&m.color;S&&(v.fill=rt(S))}}if(v.stroke){if(r==="stroke"||!b&&r===Qn)delete v.stroke;else if(v.stroke.field||T)delete v.stroke;else if(j(v.stroke)){const S=_t(V5(g.stroke||g.color),m.stroke,b?m.color:void 0);S&&(v.stroke={value:S})}}if(r!==lo){const S=W(t)&&Fz(n,i,t);S?v.opacity=[Object.assign({test:S},rt(w??1)),rt(p.legend.unselectedOpacity)]:w&&(v.opacity=rt(w))}return v=Object.assign(Object.assign({},v),e),We(v)?void 0:v}function gxe(e,{model:t,legendType:n,legendCmpt:r}){var i;if(n!=="gradient")return;const{config:a,markDef:o,encoding:s}=t;let l={};const u=((i=r.get("gradientOpacity"))!==null&&i!==void 0?i:a.legend.gradientOpacity)===void 0?Dz(s.opacity)||o.opacity:void 0;return u&&(l.opacity=rt(u)),l=Object.assign(Object.assign({},l),e),We(l)?void 0:l}function yxe(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const a=n.legend(r)||{},o=n.config,s=W(t)?Fz(n,i,t):void 0,l=s?[{test:s,value:1},{value:o.legend.unselectedOpacity}]:void 0,{format:c,formatType:u}=a;let f;N0(u)?f=si({fieldOrDatumDef:t,field:"datum.value",format:c,formatType:u,config:o}):c===void 0&&u===void 0&&o.customFormatTypes&&(t.type==="quantitative"&&o.numberFormatType?f=si({fieldOrDatumDef:t,field:"datum.value",format:o.numberFormat,formatType:o.numberFormatType,config:o}):t.type==="temporal"&&o.timeFormatType&&W(t)&&t.timeUnit===void 0&&(f=si({fieldOrDatumDef:t,field:"datum.value",format:o.timeFormat,formatType:o.timeFormatType,config:o})));const d=Object.assign(Object.assign(Object.assign({},l?{opacity:l}:{}),f?{text:f}:{}),e);return We(d)?void 0:d}function bxe(e,{legendCmpt:t}){const n=t.get("selections");return n!=null&&n.length?Object.assign(Object.assign({},e),{fill:{value:"transparent"}}):e}function Dz(e){return Lz(e,(t,n)=>Math.max(t,n.value))}function V5(e){return Lz(e,(t,n)=>_t(t,n.value))}function Lz(e,t){if(h7e(e))return Q(e.condition).reduce(t,e.value);if(_i(e))return e.value}function Fz(e,t,n){const r=t.get("selections");if(!(r!=null&&r.length))return;const i=q(n.field);return r.map(a=>`(!length(data(${q(st(a)+Z0)})) || (${a}[${i}] && indexof(${a}[${i}], datum.value) >= 0))`).join(" || ")}const DM={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return JP(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return KP(r,t,n)},gradientLength:e=>{var t,n;const{legend:r,legendConfig:i}=e;return(n=(t=r.gradientLength)!==null&&t!==void 0?t:i.gradientLength)!==null&&n!==void 0?n:Sxe(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>{var r,i;return(i=(r=e.labelOverlap)!==null&&r!==void 0?r:t.labelOverlap)!==null&&i!==void 0?i:Exe(n)},symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>{var i;return(i=e.symbolType)!==null&&i!==void 0?i:xxe(t.type,n,r.shape,t.shape)},title:({fieldOrDatumDef:e,config:t})=>Jl(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(Xl(n)&&oi(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>vxe(t,e)};function vxe(e,t){const n=e.values;if(j(n))return fj(t,n);if(ae(n))return n}function xxe(e,t,n,r){var i;if(t!=="shape"){const a=(i=V5(n))!==null&&i!==void 0?i:r;if(a)return a}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function _xe(e){const{legend:t}=e;return _t(t.type,wxe(e))}function wxe({channel:e,timeUnit:t,scaleType:n}){if(Xl(e)){if(Me(["quarter","month","day"],t))return"symbol";if(oi(n))return"gradient"}return"symbol"}function Txe({legendConfig:e,legendType:t,orient:n,legend:r}){var i,a;return(a=(i=r.direction)!==null&&i!==void 0?i:e[t?"gradientDirection":"symbolDirection"])!==null&&a!==void 0?a:Axe(n,t)}function Axe(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function Sxe({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:a,gradientHorizontalMinLength:o,gradientVerticalMaxLength:s,gradientVerticalMinLength:l}=e;if(oi(i))return n==="horizontal"?r==="top"||r==="bottom"?LM(t,"width",o,a):o:LM(t,"height",l,s)}function LM(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function Exe(e){if(Me(["quantile","threshold","log","symlog"],e))return"greedy"}function Bz(e){const t=vt(e)?Mxe(e):Dxe(e);return e.component.legends=t,t}function Mxe(e){const{encoding:t}=e,n={};for(const r of[Qn,...Lj]){const i=Mt(t[r]);!i||!e.getScaleComponent(r)||r===er&&W(i)&&i.type===hu||(n[r]=Cxe(e,r))}return n}function kxe(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function Oxe(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!(n!=null&&n.values);case"title":if(t==="title"&&e===(r==null?void 0:r.title))return!0}return e===(n||{})[t]}function Cxe(e,t){var n,r,i;let a=e.legend(t);const{markDef:o,encoding:s,config:l}=e,c=l.legend,u=new mxe({},kxe(e,t));P4e(e,t,u);const f=a!==void 0?!a:c.disable;if(u.set("disable",f,a!==void 0),f)return u;a=a||{};const d=e.getScaleComponent(t).get("type"),h=Mt(s[t]),m=W(h)?(n=vn(h.timeUnit))===null||n===void 0?void 0:n.unit:void 0,g=a.orient||l.legend.orient||"right",p=_xe({legend:a,channel:t,timeUnit:m,scaleType:d}),y=Txe({legend:a,legendType:p,orient:g,legendConfig:c}),b={legend:a,channel:t,model:e,markDef:o,encoding:s,fieldOrDatumDef:h,legendConfig:c,config:l,scaleType:d,orient:g,legendType:p,direction:y};for(const w of Cz){if(p==="gradient"&&w.startsWith("symbol")||p==="symbol"&&w.startsWith("gradient"))continue;const S=w in DM?DM[w](b):a[w];if(S!==void 0){const C=Oxe(S,w,a,e.fieldDef(t));(C||l.legend[w]===void 0)&&u.set(w,S,C)}}const v=(r=a==null?void 0:a.encoding)!==null&&r!==void 0?r:{},x=u.get("selections"),_={},T={fieldOrDatumDef:h,model:e,channel:t,legendCmpt:u,legendType:p};for(const w of["labels","legend","title","symbols","gradient","entries"]){const S=kz((i=v[w])!==null&&i!==void 0?i:{},e),C=w in CM?CM[w](S,T):S;C!==void 0&&!We(C)&&(_[w]=Object.assign(Object.assign(Object.assign({},x!=null&&x.length&&W(h)?{name:`${st(h.field)}_legend_${w}`}:{}),x!=null&&x.length?{interactive:!!x}:{}),{update:C}))}return We(_)||u.set("encode",_,!!(a!=null&&a.encoding)),u}function Dxe(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){Bz(r);for(const i of G(r.component.legends))n.legend[i]=B6(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=$z(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of G(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function $z(e,t){var n,r,i,a;if(!e)return t.clone();const o=e.getWithExplicit("orient"),s=t.getWithExplicit("orient");if(o.explicit&&s.explicit&&o.value!==s.value)return;let l=!1;for(const c of Cz){const u=as(e.getWithExplicit(c),t.getWithExplicit(c),c,"legend",(f,d)=>{switch(c){case"symbolType":return Lxe(f,d);case"title":return _P(f,d);case"type":return l=!0,ar("symbol")}return uy(f,d,c,"legend")});e.setWithExplicit(c,u)}return l&&(!((r=(n=e.implicit)===null||n===void 0?void 0:n.encode)===null||r===void 0)&&r.gradient&&Np(e.implicit,["encode","gradient"]),!((a=(i=e.explicit)===null||i===void 0?void 0:i.encode)===null||a===void 0)&&a.gradient&&Np(e.explicit,["encode","gradient"])),e}function Lxe(e,t){return t.value==="circle"?t:e}var Fxe=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Bxe(e,t,n,r){var i,a,o,s,l;(i=e.encode)!==null&&i!==void 0||(e.encode={}),(a=(s=e.encode)[t])!==null&&a!==void 0||(s[t]={}),(o=(l=e.encode[t]).update)!==null&&o!==void 0||(l.update={}),e.encode[t].update[n]=r}function Nz(e){const t=e.component.legends,n={};for(const i of G(t)){const a=e.getScaleComponent(i),o=et(a.get("domains"));if(n[o])for(const s of n[o])$z(s,t[i])||n[o].push(t[i]);else n[o]=[t[i].clone()]}return gn(n).flat().map(i=>$xe(i,e.config)).filter(i=>i!==void 0)}function $xe(e,t){var n,r,i;const a=e.combine(),{disable:o,labelExpr:s,selections:l}=a,c=Fxe(a,["disable","labelExpr","selections"]);if(!o){if(t.aria===!1&&c.aria==null&&(c.aria=!1),!((n=c.encode)===null||n===void 0)&&n.symbols){const u=c.encode.symbols.update;u.fill&&u.fill.value!=="transparent"&&!u.stroke&&!c.stroke&&(u.stroke={value:"transparent"});for(const f of Lj)c[f]&&delete u[f]}if(c.title||delete c.title,s!==void 0){let u=s;!((i=(r=c.encode)===null||r===void 0?void 0:r.labels)===null||i===void 0)&&i.update&&ae(c.encode.labels.update.text)&&(u=D0(s,"datum.label",c.encode.labels.update.text.signal)),Bxe(c,"labels","text",{signal:u})}return c}}function Nxe(e){return bu(e)||P6(e)?Ixe(e):Iz(e)}function Ixe(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),Iz(e))}function Iz(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(o=>o.signal).join(", ")}]`},a=t.data.reduce((o,s)=>{const l=ae(s)?s.signal:`data('${e.lookupDataSource(s)}')`;return Me(o,l)||o.push(l),o},[]);if(a.length<=0)throw new Error("Projection's fit didn't find any data sources");return[Object.assign({name:r,size:i,fit:{signal:a.length>1?`[${a.join(", ")}]`:a[0]}},n)]}else return[Object.assign(Object.assign({name:r},{translate:{signal:"[width / 2, height / 2]"}}),n)]}const Zxe=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class Zz extends uo{constructor(t,n,r,i){super(Object.assign({},n),{name:t}),this.specifiedProjection=n,this.size=r,this.data=i,this.merged=!1}get isFit(){return!!this.data}}function Rz(e){e.component.projection=vt(e)?Rxe(e):zxe(e)}function Rxe(e){var t;if(e.hasProjection){const n=Gn(e.specifiedProjection),r=!(n&&(n.scale!=null||n.translate!=null)),i=r?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,a=r?Pxe(e):void 0,o=new Zz(e.projectionName(!0),Object.assign(Object.assign({},(t=Gn(e.config.projection))!==null&&t!==void 0?t:{}),n??{}),i,a);return o.get("type")||o.set("type","equalEarth",!1),o}}function Pxe(e){const t=[],{encoding:n}=e;for(const r of[[ya,ga],[Ir,Ci]])(Mt(n[r[0]])||Mt(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(er)&&e.typedFieldDef(er).type===hu&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(Qe.Main)),t}function jxe(e,t){const n=S9(Zxe,i=>!!(!oe(e.explicit,i)&&!oe(t.explicit,i)||oe(e.explicit,i)&&oe(t.explicit,i)&&zi(e.get(i),t.get(i))));if(zi(e.size,t.size)){if(n)return e;if(zi(e.explicit,{}))return t;if(zi(t.explicit,{}))return e}return null}function zxe(e){if(e.children.length===0)return;let t;for(const r of e.children)Rz(r);const n=S9(e.children,r=>{const i=r.component.projection;if(i)if(t){const a=jxe(t,i);return a&&(t=a),!!a}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new Zz(r,t.specifiedProjection,t.size,ve(t.data));for(const a of e.children){const o=a.component.projection;o&&(o.isFit&&i.data.push(...a.component.projection.data),a.renameProjection(o.get("name"),r),o.merged=!0)}return i}}var Gxe=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Uxe(e,t,n,r){var i,a;if($h(t,n)){const o=vt(e)?(a=(i=e.axis(n))!==null&&i!==void 0?i:e.legend(n))!==null&&a!==void 0?a:{}:{},s=V(t,{expr:"datum"}),l=V(t,{expr:"datum",binSuffix:"end"});return{formulaAs:V(t,{binSuffix:"range",forAs:!0}),formula:Lh(s,l,o.format,o.formatType,r)}}return{}}function Pz(e,t){return`${hP(e)}_${t}`}function Wxe(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function $6(e,t,n){var r;const i=(r=iy(n,void 0))!==null&&r!==void 0?r:{},a=Pz(i,t);return e.getName(`${a}_bins`)}function Hxe(e){return"as"in e}function FM(e,t,n){let r,i;Hxe(e)?r=J(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[V(e,{forAs:!0}),V(e,{binSuffix:"end",forAs:!0})];const a=Object.assign({},iy(t,void 0)),o=Pz(a,e.field),{signal:s,extentSignal:l}=Wxe(n,o);if(q2(a.extent)){const u=a.extent;i=bz(n,u.param,u),delete a.extent}const c=Object.assign(Object.assign(Object.assign({bin:a,field:e.field,as:[r]},s?{signal:s}:{}),l?{extentSignal:l}:{}),i?{span:i}:{});return{key:o,binComponent:c}}class Ji extends qe{constructor(t,n){super(t),this.bins=n}clone(){return new Ji(null,ve(this.bins))}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,a,o)=>{if(Zr(a)&&tt(a.bin)){const{key:s,binComponent:l}=FM(a,a.bin,n);i[s]=Object.assign(Object.assign(Object.assign({},l),i[s]),Uxe(n,a,o,n.config))}return i},{});return We(r)?null:new Ji(t,r)}static makeFromTransform(t,n,r){const{key:i,binComponent:a}=FM(n,n.bin,r);return new Ji(t,{[i]:a})}merge(t,n){for(const r of G(t.bins))r in this.bins?(n(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=Gi([...this.bins[r].as,...t.bins[r].as],Ce)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set(gn(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(gn(this.bins).map(t=>t.field))}hash(){return`Bin ${Ce(this.bins)}`}assemble(){return gn(this.bins).flatMap(t=>{const n=[],[r,...i]=t.as,a=t.bin,{extent:o}=a,s=Gxe(a,["extent"]),l=Object.assign(Object.assign(Object.assign({type:"bin",field:Nr(t.field),as:r,signal:t.signal},q2(o)?{extent:null}:{extent:o}),t.span?{span:{signal:`span(${t.span})`}}:{}),s);!o&&t.extentSignal&&(n.push({type:"extent",field:Nr(t.field),signal:t.extentSignal}),l.extent={signal:t.extentSignal}),n.push(l);for(const c of i)for(let u=0;u<2;u++)n.push({type:"formula",expr:V({field:r[u]},{expr:"datum"}),as:c[u]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}function Yxe(e,t,n,r){var i;const a=vt(r)?r.encoding[xa(t)]:void 0;if(Zr(n)&&vt(r)&&ij(n,a,r.markDef,r.config))e.add(V(n,{})),e.add(V(n,{suffix:"end"})),n.bin&&$h(n,t)&&e.add(V(n,{binSuffix:"range"}));else if(Sve(t)){const o=Ave(t);e.add(r.getName(o))}else e.add(V(n));return il(n)&&N5e((i=n.scale)===null||i===void 0?void 0:i.range)&&e.add(n.scale.range.field),e}function qxe(e,t){var n;for(const r of G(t)){const i=t[r];for(const a of G(i))r in e?e[r][a]=new Set([...(n=e[r][a])!==null&&n!==void 0?n:[],...i[a]]):e[r]={[a]:i[a]}}}class di extends qe{constructor(t,n,r){super(t),this.dimensions=n,this.measures=r}clone(){return new di(null,new Set(this.dimensions),ve(this.measures))}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let r=!1;n.forEachFieldDef(o=>{o.aggregate&&(r=!0)});const i={},a=new Set;return!r||(n.forEachFieldDef((o,s)=>{var l,c,u,f;const{aggregate:d,field:h}=o;if(d)if(d==="count")(l=i["*"])!==null&&l!==void 0||(i["*"]={}),i["*"].count=new Set([V(o,{forAs:!0})]);else{if(eo(d)||Ts(d)){const m=eo(d)?"argmin":"argmax",g=d[m];(c=i[g])!==null&&c!==void 0||(i[g]={}),i[g][m]=new Set([V({op:m,field:g},{forAs:!0})])}else(u=i[h])!==null&&u!==void 0||(i[h]={}),i[h][d]=new Set([V(o,{forAs:!0})]);ws(s)&&n.scaleDomain(s)==="unaggregated"&&((f=i[h])!==null&&f!==void 0||(i[h]={}),i[h].min=new Set([V({field:h,aggregate:"min"},{forAs:!0})]),i[h].max=new Set([V({field:h,aggregate:"max"},{forAs:!0})]))}else Yxe(a,s,o,n)}),a.size+G(i).length===0)?null:new di(t,a,i)}static makeFromTransform(t,n){var r,i,a;const o=new Set,s={};for(const l of n.aggregate){const{op:c,field:u,as:f}=l;c&&(c==="count"?((r=s["*"])!==null&&r!==void 0||(s["*"]={}),s["*"].count=new Set([f||V(l,{forAs:!0})])):((i=s[u])!==null&&i!==void 0||(s[u]={}),s[u][c]=new Set([f||V(l,{forAs:!0})])))}for(const l of(a=n.groupby)!==null&&a!==void 0?a:[])o.add(l);return o.size+G(s).length===0?null:new di(t,o,s)}merge(t){return VR(this.dimensions,t.dimensions)?(qxe(this.measures,t.measures),!0):(s5e("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...G(this.measures)])}producedFields(){const t=new Set;for(const n of G(this.measures))for(const r of G(this.measures[n])){const i=this.measures[n][r];i.size===0?t.add(`${r}_${n}`):i.forEach(t.add,t)}return t}hash(){return`Aggregate ${Ce({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],r=[];for(const a of G(this.measures))for(const o of G(this.measures[a]))for(const s of this.measures[a][o])r.push(s),t.push(o),n.push(a==="*"?null:Nr(a));return{type:"aggregate",groupby:[...this.dimensions].map(Nr),ops:t,fields:n,as:r}}}class gu extends qe{constructor(t,n,r,i){super(t),this.model=n,this.name=r,this.data=i;for(const a of kr){const o=n.facet[a];if(o){const{bin:s,sort:l}=o;this[a]=Object.assign({name:n.getName(`${a}_domain`),fields:[V(o),...tt(s)?[V(o,{binSuffix:"end"})]:[]]},Vi(l)?{sortField:l}:j(l)?{sortIndexField:Rc(o,a)}:{})}}this.childModel=n.child}hash(){let t="Facet";for(const n of kr)this[n]&&(t+=` ${n.charAt(0)}:${Ce(this[n])}`);return t}get fields(){var t;const n=[];for(const r of kr)!((t=this[r])===null||t===void 0)&&t.fields&&n.push(...this[r].fields);return n}dependentFields(){const t=new Set(this.fields);for(const n of kr)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of _a){const r=this.childModel.component.scales[n];if(r&&!r.merged){const i=r.get("type"),a=r.get("range");if(Gt(i)&&As(a)){const o=py(this.childModel,n),s=R6(o);s?t[n]=s:U(R9(n))}}}return t}assembleRowColumnHeaderData(t,n,r){const i={row:"y",column:"x",facet:void 0}[t],a=[],o=[],s=[];i&&r&&r[i]&&(n?(a.push(`distinct_${r[i]}`),o.push("max")):(a.push(r[i]),o.push("distinct")),s.push(`distinct_${r[i]}`));const{sortField:l,sortIndexField:c}=this[t];if(l){const{op:u=ey,field:f}=l;a.push(f),o.push(u),s.push(V(l,{forAs:!0}))}else c&&(a.push(c),o.push("max"),s.push(c));return{name:this[t].name,source:n??this.data,transform:[Object.assign({type:"aggregate",groupby:this[t].fields},a.length?{fields:a,ops:o,as:s}:{})]}}assembleFacetHeaderData(t){var n,r;const{columns:i}=this.model.layout,{layoutHeaders:a}=this.model.component,o=[],s={};for(const u of D6){for(const f of L6){const d=(n=a[u]&&a[u][f])!==null&&n!==void 0?n:[];for(const h of d)if(((r=h.axes)===null||r===void 0?void 0:r.length)>0){s[u]=!0;break}}if(s[u]){const f=`length(data("${this.facet.name}"))`,d=u==="row"?i?{signal:`ceil(${f} / ${i})`}:1:i?{signal:`min(${f}, ${i})`}:{signal:f};o.push({name:`${this.facet.name}_${u}`,transform:[{type:"sequence",start:0,stop:d}]})}}const{row:l,column:c}=s;return(l||c)&&o.unshift(this.assembleRowColumnHeaderData("facet",null,t)),o}assemble(){var t,n;const r=[];let i=null;const a=this.getChildIndependentFieldsWithStep(),{column:o,row:s,facet:l}=this;if(o&&s&&(a.x||a.y)){i=`cross_${this.column.name}_${this.row.name}`;const c=[].concat((t=a.x)!==null&&t!==void 0?t:[],(n=a.y)!==null&&n!==void 0?n:[]),u=c.map(()=>"distinct");r.push({name:i,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:c,ops:u}]})}for(const c of[Ua,Ga])this[c]&&r.push(this.assembleRowColumnHeaderData(c,i,a));if(l){const c=this.assembleFacetHeaderData(a);c&&r.push(...c)}return r}}function BM(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function Vxe(e,t){const n=k9(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=BM(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=BM(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return U(m3e(t)),null}function Xxe(e){const t={};return pm(e.filter,n=>{var r;if(BP(n)){let i=null;U9(n)?i=ur(n.equal):H9(n)?i=ur(n.lte):W9(n)?i=ur(n.lt):Y9(n)?i=ur(n.gt):q9(n)?i=ur(n.gte):V9(n)?i=n.range[0]:X9(n)&&(i=((r=n.oneOf)!==null&&r!==void 0?r:n.in)[0]),i&&(rl(i)?t[n.field]="date":He(i)?t[n.field]="number":J(i)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function Jxe(e){const t={};function n(r){$c(r)?t[r.field]="date":r.type==="quantitative"&&Wve(r.aggregate)?t[r.field]="number":Oc(r.field)>1?r.field in t||(t[r.field]="flatten"):il(r)&&Vi(r.sort)&&Oc(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((vt(e)||hi(e))&&e.forEachFieldDef((r,i)=>{if(Zr(r))n(r);else{const a=tl(i),o=e.fieldDef(a);n(Object.assign(Object.assign({},r),{type:o.type}))}}),vt(e)){const{mark:r,markDef:i,encoding:a}=e;if(Ss(r)&&!e.encoding.order){const o=i.orient==="horizontal"?"y":"x",s=a[o];W(s)&&s.type==="quantitative"&&!(s.field in t)&&(t[s.field]="number")}}return t}function Kxe(e){const t={};if(vt(e)&&e.component.selection)for(const n of G(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&Oc(i.field)>1&&(t[i.field]="flatten")}return t}class fn extends qe{constructor(t,n){super(t),this._parse=n}clone(){return new fn(null,ve(this._parse))}hash(){return`Parse ${Ce(this._parse)}`}static makeExplicit(t,n,r){var i;let a={};const o=n.data;return!Ro(o)&&(!((i=o==null?void 0:o.format)===null||i===void 0)&&i.parse)&&(a=o.format.parse),this.makeWithAncestors(t,a,{},r)}static makeWithAncestors(t,n,r,i){for(const s of G(r)){const l=i.getWithExplicit(s);l.value!==void 0&&(l.explicit||l.value===r[s]||l.value==="derived"||r[s]==="flatten"?delete r[s]:U(qE(s,r[s],l.value)))}for(const s of G(n)){const l=i.get(s);l!==void 0&&(l===n[s]?delete n[s]:U(qE(s,n[s],l)))}const a=new uo(n,r);i.copyAll(a);const o={};for(const s of G(a.combine())){const l=a.get(s);l!==null&&(o[s]=l)}return G(o).length===0||i.parseNothing?null:new fn(t,o)}get parse(){return this._parse}merge(t){this._parse=Object.assign(Object.assign({},this._parse),t.parse),t.remove()}assembleFormatParse(){const t={};for(const n of G(this._parse)){const r=this._parse[n];Oc(n)===1&&(t[n]=r)}return t}producedFields(){return new Set(G(this._parse))}dependentFields(){return new Set(G(this._parse))}assembleTransforms(t=!1){return G(this._parse).filter(n=>t?Oc(n)>1:!0).map(n=>{const r=Vxe(n,this._parse[n]);return r?{type:"formula",expr:r,as:O9(n)}:null}).filter(n=>n!==null)}}class cs extends qe{clone(){return new cs(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([sa])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:sa}}}class Zh extends qe{constructor(t,n){super(t),this.params=n}clone(){return new Zh(null,this.params)}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${Ce(this.params)}`}assemble(){return Object.assign({type:"graticule"},this.params===!0?{}:this.params)}}class Rh extends qe{constructor(t,n){super(t),this.params=n}clone(){return new Rh(null,this.params)}dependentFields(){return new Set}producedFields(){var t;return new Set([(t=this.params.as)!==null&&t!==void 0?t:"data"])}hash(){return`Hash ${Ce(this.params)}`}assemble(){return Object.assign({type:"sequence"},this.params)}}class R0 extends qe{constructor(t){super(null),t??(t={name:"source"});let n;if(Ro(t)||(n=t.format?Object.assign({},Yn(t.format,["parse"])):{}),Ad(t))this._data={values:t.values};else if(Nc(t)){if(this._data={url:t.url},!n.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];Me(["json","csv","tsv","dsv","topojson"],r)||(r="json"),n.type=r}}else Jj(t)?this._data={values:[{type:"Sphere"}]}:(Vj(t)||Ro(t))&&(this._data={});this._generator=Ro(t),t.name&&(this._name=t.name),n&&!We(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return Object.assign(Object.assign({name:this._name},this._data),{transform:[]})}}var $M=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Qxe=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},wf;function N6(e){return e instanceof R0||e instanceof Zh||e instanceof Rh}class I6{constructor(){wf.set(this,void 0),$M(this,wf,!1,"f")}setModified(){$M(this,wf,!0,"f")}get modifiedFlag(){return Qxe(this,wf,"f")}}wf=new WeakMap;class al extends I6{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,a)=>a[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class Z6 extends I6{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class e_e extends Z6{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of G(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class t_e extends Z6{constructor(t){super(),this.requiresSelectionId=t&&C6(t)}run(t){t instanceof cs&&(this.requiresSelectionId&&(N6(t.parent)||t.parent instanceof di||t.parent instanceof fn)||(this.setModified(),t.remove()))}}class n_e extends I6{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof Xi&&(r=t.producedFields(),E9(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class r_e extends Z6{constructor(){super()}run(t){t instanceof Dn&&!t.isRequired()&&(this.setModified(),t.remove())}}class i_e extends al{run(t){if(!N6(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof fn)if(t instanceof fn)this.setModified(),t.merge(n);else{if(M9(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class a_e extends al{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof fn);if(t.numChildren()>1&&r.length>=1){const i={},a=new Set;for(const o of r){const s=o.parse;for(const l of G(s))l in i?i[l]!==s[l]&&a.add(l):i[l]=s[l]}for(const o of a)delete i[o];if(!We(i)){this.setModified();const o=new fn(t,i);for(const s of n){if(s instanceof fn)for(const l of G(i))delete s.parse[l];t.removeChild(s),s.parent=o,s instanceof fn&&G(s.parse).length===0&&s.remove()}}}}}class o_e extends al{run(t){t instanceof Dn||t.numChildren()>0||t instanceof gu||t instanceof R0||(this.setModified(),t.remove())}}class s_e extends al{run(t){const n=t.children.filter(i=>i instanceof Xi),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class l_e extends al{run(t){const n=t.children.filter(i=>i instanceof di),r={};for(const i of n){const a=Ce(i.groupBy);a in r||(r[a]=[]),r[a].push(i)}for(const i of G(r)){const a=r[i];if(a.length>1){const o=a.pop();for(const s of a)o.merge(s)&&(t.removeChild(s),s.parent=o,s.remove(),this.setModified())}}}}class c_e extends al{constructor(t){super(),this.model=t}run(t){const n=!(N6(t)||t instanceof pu||t instanceof fn||t instanceof cs),r=[],i=[];for(const a of t.children)a instanceof Ji&&(n&&!M9(t.producedFields(),a.dependentFields())?r.push(a):i.push(a));if(r.length>0){const a=r.pop();for(const o of r)a.merge(o,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof Ji?t.merge(a,this.model.renameSignal.bind(this.model)):a.swapWithParent()}if(i.length>1){const a=i.pop();for(const o of i)a.merge(o,this.model.renameSignal.bind(this.model));this.setModified()}}}class u_e extends al{run(t){const n=[...t.children];if(!C0(n,o=>o instanceof Dn)||t.numChildren()<=1)return;const i=[];let a;for(const o of n)if(o instanceof Dn){let s=o;for(;s.numChildren()===1;){const[l]=s.children;if(l instanceof Dn)s=l;else break}i.push(...s.children),a?(t.removeChild(o),o.parent=a.parent,a.parent.removeChild(a),a.parent=s,this.setModified()):a=s}else i.push(o);if(i.length){this.setModified();for(const o of i)o.parent.removeChild(o),o.parent=a}}}class ol extends qe{constructor(t,n){super(t),this.transform=n}clone(){return new ol(null,ve(this.transform))}addDimensions(t){this.transform.groupby=Gi(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){var n;return(n=t.as)!==null&&n!==void 0?n:V(t)}hash(){return`JoinAggregateTransform ${Ce(this.transform)}`}assemble(){const t=[],n=[],r=[];for(const a of this.transform.joinaggregate)n.push(a.op),r.push(this.getDefaultName(a)),t.push(a.field===void 0?null:a.field);const i=this.transform.groupby;return Object.assign({type:"joinaggregate",as:r,ops:n,fields:t},i!==void 0?{groupby:i}:{})}}function f_e(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=V(r);return i&&t.push(i),t},[])}function d_e(e){return j(e)&&e.every(t=>J(t))&&e.length>1}class Ha extends qe{constructor(t,n){super(t),this._stack=n}clone(){return new Ha(null,ve(this._stack))}static makeFromTransform(t,n){const{stack:r,groupby:i,as:a,offset:o="zero"}=n,s=[],l=[];if(n.sort!==void 0)for(const f of n.sort)s.push(f.field),l.push(_t(f.order,"ascending"));const c={field:s,order:l};let u;return d_e(a)?u=a:J(a)?u=[a,`${a}_end`]:u=[`${n.stack}_start`,`${n.stack}_end`],new Ha(t,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:o,sort:c,facetby:[],as:u})}static makeFromEncoding(t,n){const r=n.stack,{encoding:i}=n;if(!r)return null;const{groupbyChannels:a,fieldChannel:o,offset:s,impute:l}=r,c=a.map(h=>{const m=i[h];return oa(m)}).filter(h=>!!h),u=f_e(n),f=n.encoding.order;let d;return j(f)||W(f)?d=bP(f):d=u.reduce((h,m)=>(h.field.push(m),h.order.push(o==="y"?"descending":"ascending"),h),{field:[],order:[]}),new Ha(t,{dimensionFieldDefs:c,stackField:n.vgField(o),facetby:[],stackby:u,sort:d,offset:s,impute:l,as:[n.vgField(o,{suffix:"start",forAs:!0}),n.vgField(o,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${Ce(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:n,groupby:r}=this._stack;return t.length>0?t.map(i=>i.bin?n?[V(i,{binSuffix:"mid"})]:[V(i,{}),V(i,{binSuffix:"end"})]:[V(i)]).flat():r??[]}assemble(){const t=[],{facetby:n,dimensionFieldDefs:r,stackField:i,stackby:a,sort:o,offset:s,impute:l,as:c}=this._stack;if(l)for(const u of r){const{bandPosition:f=.5,bin:d}=u;if(d){const h=V(u,{expr:"datum"}),m=V(u,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${f}*${h}+${1-f}*${m}`,as:V(u,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:i,groupby:[...a,...n],key:V(u,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:i,sort:o,as:c,offset:s}),t}}class yu extends qe{constructor(t,n){super(t),this.transform=n}clone(){return new yu(null,ve(this.transform))}addDimensions(t){this.transform.groupby=Gi(this.transform.groupby.concat(t),n=>n)}dependentFields(){var t,n;const r=new Set;return((t=this.transform.groupby)!==null&&t!==void 0?t:[]).forEach(r.add,r),((n=this.transform.sort)!==null&&n!==void 0?n:[]).forEach(i=>r.add(i.field)),this.transform.window.map(i=>i.field).filter(i=>i!==void 0).forEach(r.add,r),r}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){var n;return(n=t.as)!==null&&n!==void 0?n:V(t)}hash(){return`WindowTransform ${Ce(this.transform)}`}assemble(){var t;const n=[],r=[],i=[],a=[];for(const d of this.transform.window)r.push(d.op),i.push(this.getDefaultName(d)),a.push(d.param===void 0?null:d.param),n.push(d.field===void 0?null:d.field);const o=this.transform.frame,s=this.transform.groupby;if(o&&o[0]===null&&o[1]===null&&r.every(d=>N9(d)))return Object.assign({type:"joinaggregate",as:i,ops:r,fields:n},s!==void 0?{groupby:s}:{});const l=[],c=[];if(this.transform.sort!==void 0)for(const d of this.transform.sort)l.push(d.field),c.push((t=d.order)!==null&&t!==void 0?t:"ascending");const u={field:l,order:c},f=this.transform.ignorePeers;return Object.assign(Object.assign(Object.assign({type:"window",params:a,as:i,ops:r,fields:n,sort:u},f!==void 0?{ignorePeers:f}:{}),s!==void 0?{groupby:s}:{}),o!==void 0?{frame:o}:{})}}function h_e(e){function t(n){if(!(n instanceof gu)){const r=n.clone();if(r instanceof Dn){const i=J5+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof di||r instanceof Ha||r instanceof yu||r instanceof ol)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function X5(e){if(e instanceof gu)if(e.numChildren()===1&&!(e.children[0]instanceof Dn)){const t=e.children[0];(t instanceof di||t instanceof Ha||t instanceof yu||t instanceof ol)&&t.addDimensions(e.fields),t.swapWithParent(),X5(e)}else{const t=e.model.component.data.main;jz(t);const n=h_e(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(X5)}function jz(e){if(e instanceof Dn&&e.type===Qe.Main&&e.numChildren()===1){const t=e.children[0];t instanceof gu||(t.swapWithParent(),jz(e))}}const J5="scale_",M1=5;function K5(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!K5(t.children))return!1}return!0}function Gr(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function NM(e,t,n){let r=e.sources,i=!1;return i=Gr(new r_e,r)||i,i=Gr(new t_e(t),r)||i,r=r.filter(a=>a.numChildren()>0),i=Gr(new o_e,r)||i,r=r.filter(a=>a.numChildren()>0),n||(i=Gr(new i_e,r)||i,i=Gr(new c_e(t),r)||i,i=Gr(new n_e,r)||i,i=Gr(new a_e,r)||i,i=Gr(new l_e,r)||i,i=Gr(new s_e,r)||i,i=Gr(new e_e,r)||i,i=Gr(new u_e,r)||i),e.sources=r,i}function m_e(e,t){K5(e.sources);let n=0,r=0;for(let i=0;i<M1&&NM(e,t,!0);i++)n++;e.sources.map(X5);for(let i=0;i<M1&&NM(e,t,!1);i++)r++;K5(e.sources),Math.max(n,r)===M1&&U(`Maximum optimization runs(${M1}) reached.`)}class Vn{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new Vn(()=>t(n))}}var p_e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function zz(e){vt(e)?g_e(e):y_e(e)}function g_e(e){const t=e.component.scales;for(const n of G(t)){const r=v_e(e,n);if(t[n].setWithExplicit("domains",r),__e(e,n),e.component.data.isFaceted){let a=e;for(;!hi(a)&&a.parent;)a=a.parent;if(a.component.resolve.scale[n]==="shared")for(const s of r.value)Ra(s)&&(s.data=J5+s.data.replace(J5,""))}}}function y_e(e){for(const n of e.children)zz(n);const t=e.component.scales;for(const n of G(t)){let r,i=null;for(const a of e.children){const o=a.component.scales[n];if(o){r===void 0?r=o.getWithExplicit("domains"):r=as(r,o.getWithExplicit("domains"),"domains","scale",Q5);const s=o.get("selectionExtent");i&&s&&i.param!==s.param&&U(u3e),i=s}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function b_e(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:a}=IM(t,n);if(!i){U(a);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=IM(t,n);if(i)return"unaggregated"}return e}function v_e(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=b_e(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]=Object.assign(Object.assign({},e.specifiedScales[t]),{domain:i})),t==="x"&&Mt(r.x2)?Mt(r.x)?as(go(n,i,e,"x"),go(n,i,e,"x2"),"domain","scale",Q5):go(n,i,e,"x2"):t==="y"&&Mt(r.y2)?Mt(r.y)?as(go(n,i,e,"y"),go(n,i,e,"y2"),"domain","scale",Q5):go(n,i,e,"y2"):go(n,i,e,t)}function x_e(e,t,n){return e.map(r=>({signal:`{data: ${ay(r,{timeUnit:n,type:t})}}`}))}function iv(e,t,n){var r;const i=(r=vn(n))===null||r===void 0?void 0:r.unit;return t==="temporal"||i?x_e(e,t,i):[e]}function go(e,t,n,r){const{encoding:i}=n,a=Mt(i[r]),{type:o}=a,s=a.timeUnit;if($5e(t)){const f=go(e,void 0,n,r),d=iv(t.unionWith,o,s);return $i([...d,...f.value])}else{if(ae(t))return $i([t]);if(t&&t!=="unaggregated"&&!jP(t))return $i(iv(t,o,s))}const l=n.stack;if(l&&r===l.fieldChannel){if(l.offset==="normalize")return ar([[0,1]]);const f=n.requestDataName(Qe.Main);return ar([{data:f,field:n.vgField(r,{suffix:"start"})},{data:f,field:n.vgField(r,{suffix:"end"})}])}const c=ws(r)&&W(a)?w_e(n,r,e):void 0;if(wa(a)){const f=iv([a.datum],o,s);return ar(f)}const u=a;if(t==="unaggregated"){const f=n.requestDataName(Qe.Main),{field:d}=a;return ar([{data:f,field:V({field:d,aggregate:"min"})},{data:f,field:V({field:d,aggregate:"max"})}])}else if(tt(u.bin)){if(Gt(e))return ar(e==="bin-ordinal"?[]:[{data:_d(c)?n.requestDataName(Qe.Main):n.requestDataName(Qe.Raw),field:n.vgField(r,$h(u,r)?{binSuffix:"range"}:{}),sort:c===!0||!ee(c)?{field:n.vgField(r,{}),op:"min"}:c}]);{const{bin:f}=u;if(tt(f)){const d=$6(n,u.field,f);return ar([new Vn(()=>{const h=n.getSignalName(d);return`[${h}.start, ${h}.stop]`})])}else return ar([{data:n.requestDataName(Qe.Main),field:n.vgField(r,{})}])}}else if(u.timeUnit&&Me(["time","utc"],e)&&ij(u,vt(n)?n.encoding[xa(r)]:void 0,n.markDef,n.config)){const f=n.requestDataName(Qe.Main);return ar([{data:f,field:n.vgField(r)},{data:f,field:n.vgField(r,{suffix:"end"})}])}else return ar(c?[{data:_d(c)?n.requestDataName(Qe.Main):n.requestDataName(Qe.Raw),field:n.vgField(r),sort:c}]:[{data:n.requestDataName(Qe.Main),field:n.vgField(r)}])}function av(e,t){const{op:n,field:r,order:i}=e;return Object.assign(Object.assign({op:n??(t?"sum":ey)},r?{field:Nr(r)}:{}),i?{order:i}:{})}function __e(e,t){var n;const r=e.component.scales[t],i=e.specifiedScales[t].domain,a=(n=e.fieldDef(t))===null||n===void 0?void 0:n.bin,o=jP(i)&&i,s=nl(a)&&q2(a.extent)&&a.extent;(o||s)&&r.set("selectionExtent",o??s,!0)}function w_e(e,t,n){if(!Gt(n))return;const r=e.fieldDef(t),i=r.sort;if(tj(i))return{op:"min",field:Rc(r,t),order:"ascending"};const{stack:a}=e,o=a?new Set([...a.groupbyFields,...a.stackBy.map(s=>s.fieldDef.field)]):void 0;if(Vi(i)){const s=a&&!o.has(i.field);return av(i,s)}else if(ej(i)){const{encoding:s,order:l}=i,c=e.fieldDef(s),{aggregate:u,field:f}=c,d=a&&!o.has(f);if(eo(u)||Ts(u))return av({field:V(c),order:l},d);if(N9(u)||!u)return av({op:u,field:f,order:l},d)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(Me(["ascending",void 0],i))return!0}}function IM(e,t){const{aggregate:n,type:r}=e;return n?J(n)&&!Yve.has(n)?{valid:!1,reason:Z3e(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:R3e(e)}:{valid:!0}:{valid:!1,reason:I3e(e)}}function Q5(e,t,n,r){return e.explicit&&t.explicit&&U(U3e(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function T_e(e){const t=Gi(e.map(o=>Ra(o)?p_e(o,["sort"]):o),Ce),n=Gi(e.map(o=>{if(Ra(o)){const s=o.sort;return s!==void 0&&!_d(s)&&("op"in s&&s.op==="count"&&delete s.field,s.order==="ascending"&&delete s.order),s}}).filter(o=>o!==void 0),Ce);if(t.length===0)return;if(t.length===1){const o=e[0];if(Ra(o)&&n.length>0){let s=n[0];if(n.length>1)U(XE),s=!0;else if(ee(s)&&"field"in s){const l=s.field;o.field===l&&(s=s.order?{order:s.order}:!0)}return Object.assign(Object.assign({},o),{sort:s})}return o}const r=Gi(n.map(o=>_d(o)||!("op"in o)||J(o.op)&&o.op in Gve?o:(U(H3e(o)),!0)),Ce);let i;r.length===1?i=r[0]:r.length>1&&(U(XE),i=!0);const a=Gi(e.map(o=>Ra(o)?o.data:null),o=>o);return a.length===1&&a[0]!==null?Object.assign({data:a[0],fields:t.map(s=>s.field)},i?{sort:i}:{}):Object.assign({fields:t},i?{sort:i}:{})}function R6(e){if(Ra(e)&&J(e.field))return e.field;if(Vve(e)){let t;for(const n of e.fields)if(Ra(n)&&J(n.field)){if(!t)t=n.field;else if(t!==n.field)return U(Y3e),t}return U(q3e),t}else if(Xve(e)){U(V3e);const t=e.fields[0];return J(t)?t:void 0}}function py(e,t){const r=e.component.scales[t].get("domains").map(i=>(Ra(i)&&(i.data=e.lookupDataSource(i.data)),i));return T_e(r)}var A_e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Gz(e){return bu(e)||P6(e)?e.children.reduce((t,n)=>t.concat(Gz(n)),ZM(e)):ZM(e)}function ZM(e){return G(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:a,type:o,selectionExtent:s,domains:l,range:c,reverse:u}=i,f=A_e(i,["name","type","selectionExtent","domains","range","reverse"]),d=S_e(i.range,a,n,e),h=py(e,n),m=s?p4e(e,s,r,h):null;return t.push(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:a,type:o},h?{domain:h}:{}),m?{domainRaw:m}:{}),{range:d}),u!==void 0?{reverse:u}:{}),f)),t},[])}function S_e(e,t,n,r){if(zt(n)){if(As(e))return{step:{signal:`${t}_step`}}}else if(ee(e)&&Ra(e))return Object.assign(Object.assign({},e),{data:r.lookupDataSource(e.data)});return e}class Uz extends uo{constructor(t,n){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",n)}domainDefinitelyIncludesZero(){return this.get("zero")!==!1?!0:C0(this.get("domains"),t=>j(t)&&t.length===2&&t[0]<=0&&t[1]>=0)}}const E_e=["range","scheme"];function M_e(e){const t=e.component.scales;for(const n of Y2){const r=t[n];if(!r)continue;const i=k_e(n,e);r.setWithExplicit("range",i)}}function RM(e,t){const n=e.fieldDef(t);if(n!=null&&n.bin){const{bin:r,field:i}=n,a=tr(t),o=e.getName(a);if(ee(r)&&r.binned&&r.step!==void 0)return new Vn(()=>{const s=e.scaleName(t),l=`(domain("${s}")[1] - domain("${s}")[0]) / ${r.step}`;return`${e.getSignalName(o)} / (${l})`});if(tt(r)){const s=$6(e,i,r);return new Vn(()=>{const l=e.getSignalName(s),c=`(${l}.stop - ${l}.start) / ${l}.step`;return`${e.getSignalName(o)} / (${c})`})}}}function k_e(e,t){const n=t.specifiedScales[e],{size:r}=t,a=t.getScaleComponent(e).get("type");for(const f of E_e)if(n[f]!==void 0){const d=L5(a,f),h=zP(e,f);if(!d)U(SP(a,f,e));else if(h)U(h);else switch(f){case"range":{const m=n.range;if(j(m)){if(zt(e))return $i(m.map(g=>{if(g==="width"||g==="height"){const p=t.getName(g),y=t.getSignalName.bind(t);return Vn.fromName(y,p)}return g}))}else if(ee(m))return $i({data:t.requestDataName(Qe.Main),field:m.field,sort:{op:"min",field:t.vgField(e)}});return $i(m)}case"scheme":return $i(O_e(n[f]))}}const o=e===ft||e==="xOffset"?"width":"height",s=r[o];if(la(s)){if(zt(e))if(Gt(a)){const f=Wz(s,t,e);if(f)return $i({step:f})}else U(EP(o));else if(du(e)){const f=e===ys?"x":"y";if(t.getScaleComponent(f).get("type")==="band"){const m=Hz(s,a);if(m)return $i(m)}}}const{rangeMin:l,rangeMax:c}=n,u=C_e(e,t);return(l!==void 0||c!==void 0)&&L5(a,"rangeMin")&&j(u)&&u.length===2?$i([l??u[0],c??u[1]]):ar(u)}function O_e(e){return B5e(e)?Object.assign({scheme:e.name},Yn(e,["name"])):{scheme:e}}function C_e(e,t){const{size:n,config:r,mark:i,encoding:a}=t,o=t.getSignalName.bind(t),{type:s}=Mt(a[e]),c=t.getScaleComponent(e).get("type"),{domain:u,domainMid:f}=t.specifiedScales[e];switch(e){case ft:case jt:{if(Me(["point","band"],c)){const m=Yz(e,n,r.view);if(la(m))return{step:Wz(m,t,e)}}const d=tr(e),h=t.getName(d);return e===jt&&yr(c)?[Vn.fromName(o,h),0]:[0,Vn.fromName(o,h)]}case ys:case fu:return D_e(e,t,c);case so:{const d=t.component.scales[e].get("zero"),h=qz(i,d,r),m=B_e(i,n,t,r);return Lc(c)?F_e(h,m,L_e(c,r,u,e)):[h,m]}case jr:return[0,Math.PI*2];case el:return[0,360];case Oi:return[0,new Vn(()=>{const d=t.getSignalName("width"),h=t.getSignalName("height");return`min(${d},${h})/2`})];case xs:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case _s:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case er:return"symbol";case Qn:case ba:case va:return c==="ordinal"?s==="nominal"?"category":"ordinal":f!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case lo:case bs:case vs:return[r.scale.minOpacity,r.scale.maxOpacity]}}function Wz(e,t,n){var r,i,a,o,s;const{encoding:l}=t,c=t.getScaleComponent(n),u=oP(n),f=l[u];if(Bj({step:e,offsetIsDiscrete:ge(f)&&NP(f.type)})==="offset"&&pj(l,u)){const h=t.getScaleComponent(u);let g=`domain('${t.scaleName(u)}').length`;if(h.get("type")==="band"){const y=(i=(r=h.get("paddingInner"))!==null&&r!==void 0?r:h.get("padding"))!==null&&i!==void 0?i:0,b=(o=(a=h.get("paddingOuter"))!==null&&a!==void 0?a:h.get("padding"))!==null&&o!==void 0?o:0;g=`bandspace(${g}, ${y}, ${b})`}const p=(s=c.get("paddingInner"))!==null&&s!==void 0?s:c.get("padding");return{signal:`${e.step} * ${g} / (1-${e3e(p)})`}}else return e.step}function Hz(e,t){if(Bj({step:e,offsetIsDiscrete:Gt(t)})==="offset")return{step:e.step}}function D_e(e,t,n){const r=e===ys?"x":"y",a=t.getScaleComponent(r).get("type"),o=t.scaleName(r);if(a==="band"){const s=Yz(r,t.size,t.config.view);if(la(s)){const l=Hz(s,n);if(l)return l}return[0,{signal:`bandwidth('${o}')`}]}else return YR(`Cannot use ${e} scale if ${r} scale is not discrete.`)}function Yz(e,t,n){const r=e===ft?"width":"height",i=t[r];return i||Hp(n,r)}function L_e(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&j(n)?n.length+1:(U(i5e(r)),3)}}function F_e(e,t,n){const r=()=>{const i=Wa(t),a=Wa(e),o=`(${i} - ${a}) / (${n} - 1)`;return`sequence(${a}, ${i} + ${o}, ${o})`};return ae(t)?new Vn(r):{signal:r()}}function qz(e,t,n){if(t)return ae(t)?{signal:`${t.signal} ? 0 : ${qz(e,!1,n)}`}:0;switch(e){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(V2("size",e))}const PM=.95;function B_e(e,t,n,r){const i={x:RM(n,"x"),y:RM(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const a=jM(t,i,r.view);return He(a)?a-1:new Vn(()=>`${a.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const a=jM(t,i,r.view);return He(a)?Math.pow(PM*a,2):new Vn(()=>`pow(${PM} * ${a.signal}, 2)`)}}throw new Error(V2("size",e))}function jM(e,t,n){const r=la(e.width)?e.width.step:Wp(n,"width"),i=la(e.height)?e.height.step:Wp(n,"height");return t.x||t.y?new Vn(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function Vz(e,t){vt(e)?$_e(e,t):Jz(e,t)}function $_e(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:a,specifiedScales:o}=e;for(const s of G(n)){const l=o[s],c=n[s],u=e.getScaleComponent(s),f=Mt(i[s]),d=l[t],h=u.get("type"),m=u.get("padding"),g=u.get("paddingInner"),p=L5(h,t),y=zP(s,t);if(d!==void 0&&(p?y&&U(y):U(SP(h,t,s))),p&&y===void 0)if(d!==void 0){const b=f.timeUnit,v=f.type;switch(t){case"domainMax":case"domainMin":rl(l[t])||v==="temporal"||b?c.set(t,{signal:ay(l[t],{type:v,timeUnit:b})},!0):c.set(t,l[t],!0);break;default:c.copyKeyFromObject(t,l)}}else{const b=t in zM?zM[t]({model:e,channel:s,fieldOrDatumDef:f,scaleType:h,scalePadding:m,scalePaddingInner:g,domain:l.domain,domainMin:l.domainMin,domainMax:l.domainMax,markDef:a,config:r,hasNestedOffsetScale:N5(i,s),hasSecondaryRangeChannel:!!i[xa(s)]}):r.scale[t];b!==void 0&&c.set(t,b,!1)}}}const zM={bins:({model:e,fieldOrDatumDef:t})=>W(t)?N_e(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>I_e(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:a})=>Z_e(e,t,n,r,i,a),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>R_e(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:a})=>P_e(e,t,n.type,r,i.scale,a),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:a})=>j_e(e,t,n,r,i.scale,a),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=W(e)?e.sort:void 0;return z_e(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:a,hasSecondaryRangeChannel:o})=>G_e(e,t,n,r,i,a.scale,o)};function Xz(e){vt(e)?M_e(e):Jz(e,"range")}function Jz(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?Xz(r):Vz(r,t);for(const r of G(n)){let i;for(const a of e.children){const o=a.component.scales[r];if(o){const s=o.getWithExplicit(t);i=as(i,s,t,"scale",qj((l,c)=>{switch(t){case"range":return l.step&&c.step?l.step-c.step:0}return 0}))}}n[r].setWithExplicit(t,i)}}function N_e(e,t){const n=t.bin;if(tt(n)){const r=$6(e,t.field,n);return new Vn(()=>e.getSignalName(r))}else if(Wt(n)&&nl(n)&&n.step!==void 0)return{step:n.step}}function I_e(e,t){if(Me([Qn,ba,va],e)&&t!=="nominal")return"hcl"}function Z_e(e,t,n,r,i,a){var o;if(!(!((o=oa(a))===null||o===void 0)&&o.bin||j(n)||i!=null||r!=null||Me([qn.TIME,qn.UTC],e)))return zt(t)?!0:void 0}function R_e(e,t,n,r,i,a){if(zt(e)){if(oi(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:o,orient:s}=i;if(o==="bar"&&!(W(r)&&(r.bin||r.timeUnit))&&(s==="vertical"&&e==="x"||s==="horizontal"&&e==="y"))return a.continuousBandSize}if(t===qn.POINT)return n.pointPadding}}function P_e(e,t,n,r,i,a=!1){if(e===void 0){if(zt(t)){const{bandPaddingInner:o,barBandPaddingInner:s,rectBandPaddingInner:l,bandWithNestedOffsetPaddingInner:c}=i;return a?c:_t(o,n==="bar"?s:l)}else if(du(t)&&r===qn.BAND)return i.offsetBandPaddingInner}}function j_e(e,t,n,r,i,a=!1){if(e===void 0){if(zt(t)){const{bandPaddingOuter:o,bandWithNestedOffsetPaddingOuter:s}=i;if(a)return s;if(n===qn.BAND)return _t(o,ae(r)?{signal:`${r.signal}/2`}:r/2)}else if(du(t)){if(n===qn.POINT)return .5;if(n===qn.BAND)return i.offsetBandPaddingOuter}}}function z_e(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return yr(e)&&t==="descending"?ae(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(yr(e)&&t==="descending")return!0}function G_e(e,t,n,r,i,a,o){if(!!n&&n!=="unaggregated"&&yr(i)){if(j(n)){const l=n[0],c=n[n.length-1];if(l<=0&&c>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!Lc(i))return!0;if(!(W(t)&&t.bin)&&Me([..._a,...$ve],e)){const{orient:l,type:c}=r;return Me(["bar","area","line","trail"],c)&&(l==="horizontal"&&e==="y"||l==="vertical"&&e==="x")?!1:Me(["bar","area"],c)&&!o?!0:a==null?void 0:a.zero}return!1}function U_e(e,t,n,r,i=!1){const a=W_e(t,n,r,i),{type:o}=e;return ws(t)?o!==void 0?j5e(t,o)?W(n)&&!P5e(o,n.type)?(U(z3e(o,a)),a):o:(U(j3e(t,o,a)),a):a:null}function W_e(e,t,n,r){var i;switch(t.type){case"nominal":case"ordinal":{if(Xl(e)||Jb(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&U(Kb(e,"ordinal")),"ordinal";if(zt(e)||du(e)){if(Me(["rect","bar","image","rule"],n.type)||r)return"band"}else if(n.type==="arc"&&e in $9)return"band";const a=n[tr(e)];return $0(a)||Bc(t)&&(!((i=t.axis)===null||i===void 0)&&i.tickBand)?"band":"point"}case"temporal":return Xl(e)?"time":Jb(e)==="discrete"?(U(Kb(e,"temporal")),"ordinal"):W(t)&&t.timeUnit&&vn(t.timeUnit).utc?"utc":"time";case"quantitative":return Xl(e)?W(t)&&tt(t.bin)?"bin-ordinal":"linear":Jb(e)==="discrete"?(U(Kb(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(TP(t.type))}function H_e(e,{ignoreRange:t}={}){Kz(e),zz(e);for(const n of R5e)Vz(e,n);t||Xz(e)}function Kz(e){vt(e)?e.component.scales=Y_e(e):e.component.scales=V_e(e)}function Y_e(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const a of Y2){const o=Mt(t[a]);if(o&&n===WP&&a===er&&o.type===hu)continue;let s=o&&o.scale;if(du(a)){const l=sP(a);if(!N5(t,l)){s&&U(M3e(a));continue}}if(o&&s!==null&&s!==!1){s??(s={});const l=N5(t,a),c=U_e(s,a,o,r,l);i[a]=new Uz(e.scaleName(`${a}`,!0),{value:c,explicit:s.type===c})}}return i}const q_e=qj((e,t)=>KE(e)-KE(t));function V_e(e){var t,n;const r=e.component.scales={},i={},a=e.component.resolve;for(const o of e.children){Kz(o);for(const s of G(o.component.scales))if((t=(n=a.scale)[s])!==null&&t!==void 0||(n[s]=Oz(s,e)),a.scale[s]==="shared"){const l=i[s],c=o.component.scales[s].getWithExplicit("type");l?O5e(l.value,c.value)?i[s]=as(l,c,"type","scale",q_e):(a.scale[s]="independent",delete i[s]):i[s]=c}}for(const o of G(i)){const s=e.scaleName(o,!0),l=i[o];r[o]=new Uz(s,l);for(const c of e.children){const u=c.component.scales[o];u&&(c.renameScale(u.get("name"),s),u.merged=!0)}}return r}var ov=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class sv{constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function vt(e){return(e==null?void 0:e.type)==="unit"}function hi(e){return(e==null?void 0:e.type)==="facet"}function P6(e){return(e==null?void 0:e.type)==="concat"}function bu(e){return(e==null?void 0:e.type)==="layer"}class j6{constructor(t,n,r,i,a,o,s){var l,c;this.type=n,this.parent=r,this.config=a,this.correctDataNames=u=>{var f,d,h;return!((f=u.from)===null||f===void 0)&&f.data&&(u.from.data=this.lookupDataSource(u.from.data)),!((h=(d=u.from)===null||d===void 0?void 0:d.facet)===null||h===void 0)&&h.data&&(u.from.facet.data=this.lookupDataSource(u.from.facet.data)),u},this.parent=r,this.config=a,this.view=Gn(s),this.name=(l=t.name)!==null&&l!==void 0?l:i,this.title=wo(t.title)?{text:t.title}:t.title?Gn(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new sv,this.projectionNameMap=r?r.projectionNameMap:new sv,this.signalNameMap=r?r.signalNameMap:new sv,this.data=t.data,this.description=t.description,this.transforms=K8e((c=t.transform)!==null&&c!==void 0?c:[]),this.layout=n==="layer"||n==="unit"?{}:i8e(t,n,a),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:ty(t)||(r==null?void 0:r.component.data.isFaceted)&&t.data===void 0},layoutSize:new uo,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({scale:{},axis:{},legend:{}},o?ve(o):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){H_e(this)}parseProjection(){Rz(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){Bz(this)}assembleEncodeFromView(t){const n=ov(t,["style"]),r={};for(const i of G(n)){const a=n[i];a!==void 0&&(r[i]=rt(a))}return r}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=rt(this.description)),this.type==="unit"||this.type==="layer")?Object.assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},n??{}):We(n)?void 0:n}assembleLayout(){if(!this.layout)return;const t=this.layout,{spacing:n}=t,r=ov(t,["spacing"]),{component:i,config:a}=this,o=dxe(i.layoutHeaders,a);return Object.assign(Object.assign(Object.assign({padding:n},this.assembleDefaultLayout()),r),o?{titleBand:o}:{})}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of kr)t[r].title&&n.push(oxe(this,r));for(const r of D6)n=n.concat(sxe(this,r));return n}assembleAxes(){return q4e(this.component.axes,this.config)}assembleLegends(){return Nz(this)}assembleProjections(){return Nxe(this)}assembleTitle(){var t,n,r;const i=(t=this.title)!==null&&t!==void 0?t:{},{encoding:a}=i,o=ov(i,["encoding"]),s=Object.assign(Object.assign(Object.assign({},mP(this.config.title).nonMarkTitleProperties),o),a?{encode:{update:a}}:{});if(s.text)return Me(["unit","layer"],this.type)?Me(["middle",void 0],s.anchor)&&((n=s.frame)!==null&&n!==void 0||(s.frame="group")):(r=s.anchor)!==null&&r!==void 0||(s.anchor="start"),We(s)?void 0:s}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||hi(this.parent)?Gz(this):[];i.length>0&&(n.scales=i);const a=this.assembleAxes();a.length>0&&(n.axes=a);const o=this.assembleLegends();return o.length>0&&(n.legends=o),n}getName(t){return st((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(Qe[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(hi(this.parent)){const n=Mz(t),r=H2(n),i=this.component.scales[r];if(i&&!i.merged){const a=i.get("type"),o=i.get("range");if(Gt(a)&&As(o)){const s=i.get("name"),l=py(this,r),c=R6(l);if(c){const u=V({aggregate:"distinct",field:c},{expr:"datum"});return{signal:Ez(s,i,u)}}else return U(R9(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(iP(t)&&ws(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(a3e(n));return r}hasAxisOrientSignalRef(){var t,n;return((t=this.component.axes.x)===null||t===void 0?void 0:t.some(r=>r.hasOrientSignalRef()))||((n=this.component.axes.y)===null||n===void 0?void 0:n.some(r=>r.hasOrientSignalRef()))}}class Qz extends j6{vgField(t,n={}){const r=this.fieldDef(t);if(r)return V(r,n)}reduceFieldDef(t,n){return L7e(this.getMapping(),(r,i,a)=>{const o=oa(i);return o?t(r,o,a):r},n)}forEachFieldDef(t,n){h6(this.getMapping(),(r,i)=>{const a=oa(r);a&&t(a,i)},n)}}var X_e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class gy extends qe{constructor(t,n){var r,i,a;super(t),this.transform=n,this.transform=ve(n);const o=(r=this.transform.as)!==null&&r!==void 0?r:[void 0,void 0];this.transform.as=[(i=o[0])!==null&&i!==void 0?i:"value",(a=o[1])!==null&&a!==void 0?a:"density"],n.groupby&&n.minsteps==null&&n.maxsteps==null&&n.steps==null&&(this.transform.steps=200)}clone(){return new gy(null,ve(this.transform))}dependentFields(){var t;return new Set([this.transform.density,...(t=this.transform.groupby)!==null&&t!==void 0?t:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${Ce(this.transform)}`}assemble(){const t=this.transform,{density:n}=t,r=X_e(t,["density"]);return Object.assign({type:"kde",field:n},r)}}class Ed extends qe{constructor(t,n){super(t),this.filter=n}clone(){return new Ed(null,Object.assign({},this.filter))}static make(t,n){const{config:r,mark:i,markDef:a}=n;if(je("invalid",a,r)!=="filter")return null;const s=n.reduceFieldDef((l,c,u)=>{const f=ws(u)&&n.getScaleComponent(u);if(f){const d=f.get("type");yr(d)&&c.aggregate!=="count"&&!Ss(i)&&(l[c.field]=c)}return l},{});return G(s).length?new Ed(t,s):null}dependentFields(){return new Set(G(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${Ce(this.filter)}`}assemble(){const t=G(this.filter).reduce((n,r)=>{const i=this.filter[r],a=V(i,{expr:"datum"});return i!==null&&(i.type==="temporal"?n.push(`(isDate(${a}) || (isValid(${a}) && isFinite(+${a})))`):i.type==="quantitative"&&(n.push(`isValid(${a})`),n.push(`isFinite(+${a})`))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}class yy extends qe{constructor(t,n){super(t),this.transform=n,this.transform=ve(n);const{flatten:r,as:i=[]}=this.transform;this.transform.as=r.map((a,o)=>{var s;return(s=i[o])!==null&&s!==void 0?s:a})}clone(){return new yy(this.parent,ve(this.transform))}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${Ce(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class by extends qe{constructor(t,n){var r,i,a;super(t),this.transform=n,this.transform=ve(n);const o=(r=this.transform.as)!==null&&r!==void 0?r:[void 0,void 0];this.transform.as=[(i=o[0])!==null&&i!==void 0?i:"key",(a=o[1])!==null&&a!==void 0?a:"value"]}clone(){return new by(null,ve(this.transform))}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${Ce(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class Ql extends qe{constructor(t,n,r,i){super(t),this.fields=n,this.geojson=r,this.signal=i}clone(){return new Ql(null,ve(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let r=0;for(const i of[[ya,ga],[Ir,Ci]]){const a=i.map(o=>{const s=Mt(n.encoding[o]);return W(s)?s.field:wa(s)?{expr:`${s.datum}`}:_i(s)?{expr:`${s.value}`}:void 0});(a[0]||a[1])&&(t=new Ql(t,a,null,n.getName(`geojson_${r++}`)))}if(n.channelHasField(er)){const i=n.typedFieldDef(er);i.type===hu&&(t=new Ql(t,null,i.field,n.getName(`geojson_${r++}`)))}return t}dependentFields(){var t;const n=((t=this.fields)!==null&&t!==void 0?t:[]).filter(J);return new Set([...this.geojson?[this.geojson]:[],...n])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${Ce(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],Object.assign(Object.assign(Object.assign({type:"geojson"},this.fields?{fields:this.fields}:{}),this.geojson?{geojson:this.geojson}:{}),{signal:this.signal})]}}class Md extends qe{constructor(t,n,r,i){super(t),this.projection=n,this.fields=r,this.as=i}clone(){return new Md(null,this.projection,ve(this.fields),ve(this.as))}static parseAll(t,n){if(!n.projectionName())return t;for(const r of[[ya,ga],[Ir,Ci]]){const i=r.map(o=>{const s=Mt(n.encoding[o]);return W(s)?s.field:wa(s)?{expr:`${s.datum}`}:_i(s)?{expr:`${s.value}`}:void 0}),a=r[0]===Ir?"2":"";(i[0]||i[1])&&(t=new Md(t,n.projectionName(),i,[n.getName(`x${a}`),n.getName(`y${a}`)]))}return t}dependentFields(){return new Set(this.fields.filter(J))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${Ce(this.fields)} ${Ce(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class c0 extends qe{constructor(t,n){super(t),this.transform=n}clone(){return new c0(null,ve(this.transform))}dependentFields(){var t;return new Set([this.transform.impute,this.transform.key,...(t=this.transform.groupby)!==null&&t!==void 0?t:[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:r,step:i}=t;return{signal:`sequence(${[n,r,...i?[i]:[]].join(",")})`}}static makeFromTransform(t,n){return new c0(t,n)}static makeFromEncoding(t,n){const r=n.encoding,i=r.x,a=r.y;if(W(i)&&W(a)){const o=i.impute?i:a.impute?a:void 0;if(o===void 0)return;const s=i.impute?a:a.impute?i:void 0,{method:l,value:c,frame:u,keyvals:f}=o.impute,d=yj(n.mark,r);return new c0(t,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({impute:o.field,key:s.field},l?{method:l}:{}),c!==void 0?{value:c}:{}),u?{frame:u}:{}),f!==void 0?{keyvals:f}:{}),d.length?{groupby:d}:{}))}return null}hash(){return`Impute ${Ce(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:r,method:i,groupby:a,value:o,frame:s=[null,null]}=this.transform,l=Object.assign(Object.assign(Object.assign(Object.assign({type:"impute",field:t,key:n},r?{keyvals:B8e(r)?this.processSequence(r):r}:{}),{method:"value"}),a?{groupby:a}:{}),{value:!i||i==="value"?o:null});if(i&&i!=="value"){const c=Object.assign({type:"window",as:[`imputed_${t}_value`],ops:[i],fields:[t],frame:s,ignorePeers:!1},a?{groupby:a}:{}),u={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[l,c,u]}else return[l]}}var J_e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class vy extends qe{constructor(t,n){var r,i,a;super(t),this.transform=n,this.transform=ve(n);const o=(r=this.transform.as)!==null&&r!==void 0?r:[void 0,void 0];this.transform.as=[(i=o[0])!==null&&i!==void 0?i:n.on,(a=o[1])!==null&&a!==void 0?a:n.loess]}clone(){return new vy(null,ve(this.transform))}dependentFields(){var t;return new Set([this.transform.loess,this.transform.on,...(t=this.transform.groupby)!==null&&t!==void 0?t:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${Ce(this.transform)}`}assemble(){const t=this.transform,{loess:n,on:r}=t,i=J_e(t,["loess","on"]);return Object.assign({type:"loess",x:r,y:n},i)}}class kd extends qe{constructor(t,n,r){super(t),this.transform=n,this.secondary=r}clone(){return new kd(null,ve(this.transform),this.secondary)}static make(t,n,r,i){const a=n.component.data.sources,{from:o}=r;let s=null;if($8e(o)){let l=nG(o.data,a);l||(l=new R0(o.data),a.push(l));const c=n.getName(`lookup_${i}`);s=new Dn(l,c,Qe.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[c]=s}else if(N8e(o)){const l=o.param;r=Object.assign({as:l},r);let c;try{c=n.getSelectionComponent(st(l),l)}catch{throw new Error(l3e(l))}if(s=c.materialized,!s)throw new Error(c3e(l))}return new kd(t,r,s.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?Q(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${Ce({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t=Object.assign({values:this.transform.from.fields},this.transform.as?{as:Q(this.transform.as)}:{});else{let n=this.transform.as;J(n)||(U(y3e),n="_lookup"),t={as:[n]}}return Object.assign(Object.assign({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},t),this.transform.default?{default:this.transform.default}:{})}}var K_e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class xy extends qe{constructor(t,n){var r,i,a;super(t),this.transform=n,this.transform=ve(n);const o=(r=this.transform.as)!==null&&r!==void 0?r:[void 0,void 0];this.transform.as=[(i=o[0])!==null&&i!==void 0?i:"prob",(a=o[1])!==null&&a!==void 0?a:"value"]}clone(){return new xy(null,ve(this.transform))}dependentFields(){var t;return new Set([this.transform.quantile,...(t=this.transform.groupby)!==null&&t!==void 0?t:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${Ce(this.transform)}`}assemble(){const t=this.transform,{quantile:n}=t,r=K_e(t,["quantile"]);return Object.assign({type:"quantile",field:n},r)}}var Q_e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class _y extends qe{constructor(t,n){var r,i,a;super(t),this.transform=n,this.transform=ve(n);const o=(r=this.transform.as)!==null&&r!==void 0?r:[void 0,void 0];this.transform.as=[(i=o[0])!==null&&i!==void 0?i:n.on,(a=o[1])!==null&&a!==void 0?a:n.regression]}clone(){return new _y(null,ve(this.transform))}dependentFields(){var t;return new Set([this.transform.regression,this.transform.on,...(t=this.transform.groupby)!==null&&t!==void 0?t:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${Ce(this.transform)}`}assemble(){const t=this.transform,{regression:n,on:r}=t,i=Q_e(t,["regression","on"]);return Object.assign({type:"regression",x:r,y:n},i)}}class wy extends qe{constructor(t,n){super(t),this.transform=n}clone(){return new wy(null,ve(this.transform))}addDimensions(t){var n;this.transform.groupby=Gi(((n=this.transform.groupby)!==null&&n!==void 0?n:[]).concat(t),r=>r)}producedFields(){}dependentFields(){var t;return new Set([this.transform.pivot,this.transform.value,...(t=this.transform.groupby)!==null&&t!==void 0?t:[]])}hash(){return`PivotTransform ${Ce(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:r,limit:i,op:a}=this.transform;return Object.assign(Object.assign(Object.assign({type:"pivot",field:t,value:n},i!==void 0?{limit:i}:{}),a!==void 0?{op:a}:{}),r!==void 0?{groupby:r}:{})}}class Ty extends qe{constructor(t,n){super(t),this.transform=n}clone(){return new Ty(null,ve(this.transform))}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${Ce(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function eG(e){let t=0;function n(r,i){var a;if(r instanceof R0&&!r.isGenerator&&!Nc(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof fn&&(r.parent instanceof R0&&!i.source?(i.format=Object.assign(Object.assign({},(a=i.format)!==null&&a!==void 0?a:{}),{parse:r.assembleFormatParse()}),i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof gu){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof Zh||r instanceof Rh||r instanceof Ed||r instanceof pu||r instanceof Zc||r instanceof Md||r instanceof di||r instanceof kd||r instanceof yu||r instanceof ol||r instanceof by||r instanceof yy||r instanceof gy||r instanceof vy||r instanceof xy||r instanceof _y||r instanceof cs||r instanceof Ty||r instanceof wy)&&i.transform.push(r.assemble()),(r instanceof Ji||r instanceof Xi||r instanceof c0||r instanceof Ha||r instanceof Ql)&&i.transform.push(...r.assemble()),r instanceof Dn&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof Dn?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof Dn&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let o=i.name;!i.source||i.transform.length>0?e.push(i):o=i.source;for(const s of r.children)n(s,{name:null,source:o,transform:[]});break}}}return n}function e9e(e){const t=[],n=eG(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function t9e(e,t){var n,r;const i=[],a=eG(i);let o=0;for(const l of e.sources){l.hasName()||(l.dataName=`source_${o++}`);const c=l.assemble();a(l,c)}for(const l of i)l.transform.length===0&&delete l.transform;let s=0;for(const[l,c]of i.entries())((n=c.transform)!==null&&n!==void 0?n:[]).length===0&&!c.source&&i.splice(s++,0,i.splice(l,1)[0]);for(const l of i)for(const c of(r=l.transform)!==null&&r!==void 0?r:[])c.type==="lookup"&&(c.from=e.outputNodes[c.from].getSource());for(const l of i)l.name in t&&(l.values=t[l.name]);return i}function n9e(e){return e==="top"||e==="left"||ae(e)?"header":"footer"}function r9e(e){for(const t of kr)i9e(e,t);GM(e,"x"),GM(e,"y")}function i9e(e,t){var n;const{facet:r,config:i,child:a,component:o}=e;if(e.channelHasField(t)){const s=r[t],l=Pc("title",null,i,t);let c=Jl(s,i,{allowDisabling:!0,includeDefault:l===void 0||!!l});a.component.layoutHeaders[t].title&&(c=j(c)?c.join(", "):c,c+=` / ${a.component.layoutHeaders[t].title}`,a.component.layoutHeaders[t].title=null);const u=Pc("labelOrient",s.header,i,t),f=s.header!==null?_t((n=s.header)===null||n===void 0?void 0:n.labels,i.header.labels,!0):!1,d=Me(["bottom","right"],u)?"footer":"header";o.layoutHeaders[t]={title:s.header!==null?c:null,facetFieldDef:s,[d]:t==="facet"?[]:[tG(e,t,f)]}}}function tG(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function GM(e,t){var n;const{child:r}=e;if(r.component.axes[t]){const{layoutHeaders:i,resolve:a}=e.component;if(a.axis[t]=B6(a,t),a.axis[t]==="shared"){const o=t==="x"?"column":"row",s=i[o];for(const l of r.component.axes[t]){const c=n9e(l.get("orient"));(n=s[c])!==null&&n!==void 0||(s[c]=[tG(e,o,!1)]);const u=_f(l,"main",e.config,{header:!0});u&&s[c][0].axes.push(u),l.mainExtracted=!0}}}}function a9e(e){z6(e),Xp(e,"width"),Xp(e,"height")}function o9e(e){z6(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";Xp(e,t),Xp(e,n)}function z6(e){for(const t of e.children)t.parseLayoutSize()}function Xp(e,t){var n;const r=Mz(t),i=H2(r),a=e.component.resolve,o=e.component.layoutSize;let s;for(const l of e.children){const c=l.component.layoutSize.getWithExplicit(r),u=(n=a.scale[i])!==null&&n!==void 0?n:Oz(i,e);if(u==="independent"&&c.value==="step"){s=void 0;break}if(s){if(u==="independent"&&s.value!==c.value){s=void 0;break}s=as(s,c,r,"")}else s=c}if(s){for(const l of e.children)e.renameSignal(l.getName(r),e.getName(t)),l.component.layoutSize.set(r,"merged",!1);o.setWithExplicit(t,s)}else o.setWithExplicit(t,{explicit:!1,value:void 0})}function s9e(e){const{size:t,component:n}=e;for(const r of _a){const i=tr(r);if(t[i]){const a=t[i];n.layoutSize.set(i,la(a)?"step":a,!0)}else{const a=l9e(e,i);n.layoutSize.set(i,a,!1)}}}function l9e(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const a=i.get("type"),o=i.get("range");if(Gt(a)){const s=Hp(r.view,t);return As(o)||la(s)?"step":s}else return Z5(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return Z5(r.view,t);{const a=Hp(r.view,t);return la(a)?a.step:a}}}function e7(e,t,n){return V(t,Object.assign({suffix:`by_${V(e)}`},n??{}))}class Zf extends Qz{constructor(t,n,r,i){super(t,"facet",n,r,i,t.resolve),this.child=Y6(t.spec,this,this.getName("child"),void 0,i),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!Fh(t))return{facet:this.initFacetFieldDef(t,"facet")};const n=G(t),r={};for(const i of n){if(![Ga,Ua].includes(i)){U(V2(i,"facet"));break}const a=t[i];if(a.field===void 0){U(C5(a,i));break}r[i]=this.initFacetFieldDef(a,i)}return r}initFacetFieldDef(t,n){const r=f6(t,n);return r.header?r.header=Gn(r.header):r.header===null&&(r.header=null),r}channelHasField(t){return!!this.facet[t]}fieldDef(t){return this.facet[t]}parseData(){this.component.data=Ay(this),this.child.parseData()}parseLayoutSize(){z6(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),r9e(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){var t,n,r;const i={};for(const a of kr)for(const o of L6){const s=this.component.layoutHeaders[a],l=s[o],{facetFieldDef:c}=s;if(c){const u=Pc("titleOrient",c.header,this.config,a);if(["right","bottom"].includes(u)){const f=hy(a,u);(t=i.titleAnchor)!==null&&t!==void 0||(i.titleAnchor={}),i.titleAnchor[f]="end"}}if(l!=null&&l[0]){const u=a==="row"?"height":"width",f=o==="header"?"headerBand":"footerBand";a!=="facet"&&!this.child.component.layoutSize.get(u)&&((n=i[f])!==null&&n!==void 0||(i[f]={}),i[f][a]=.5),s.title&&((r=i.offset)!==null&&r!==void 0||(i.offset={}),i.offset[a==="row"?"rowTitle":"columnTitle"]=10)}}return i}assembleDefaultLayout(){const{column:t,row:n}=this.facet,r=t?this.columnDistinctSignal():n?1:void 0;let i="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(i="none"),Object.assign(Object.assign(Object.assign({},this.getHeaderLayoutMixins()),r?{columns:r}:{}),{bounds:"full",align:i})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof Zf))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof Zf?Object.assign(Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:V(this.facet.column,{prefix:"distinct"})}}}}:{}),super.assembleGroup(t)):super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],r=[];if(this.child instanceof Zf){if(this.child.channelHasField("column")){const i=V(this.child.facet.column);t.push(i),n.push("distinct"),r.push(`distinct_${i}`)}}else for(const i of _a){const a=this.child.component.scales[i];if(a&&!a.merged){const o=a.get("type"),s=a.get("range");if(Gt(o)&&As(s)){const l=py(this.child,i),c=R6(l);c?(t.push(c),n.push("distinct"),r.push(`distinct_${c}`)):U(R9(i))}}}return{fields:t,ops:n,as:r}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:r,column:i}=this.facet,{fields:a,ops:o,as:s}=this.getCardinalityAggregateForChild(),l=[];for(const u of kr){const f=this.facet[u];if(f){l.push(V(f));const{bin:d,sort:h}=f;if(tt(d)&&l.push(V(f,{binSuffix:"end"})),Vi(h)){const{field:m,op:g=ey}=h,p=e7(f,h);r&&i?(a.push(p),o.push("max"),s.push(p)):(a.push(m),o.push(g),s.push(p))}else if(j(h)){const m=Rc(f,u);a.push(m),o.push("max"),s.push(m)}}}const c=!!r&&!!i;return Object.assign({name:t,data:n,groupby:l},c||a.length>0?{aggregate:Object.assign(Object.assign({},c?{cross:c}:{}),a.length?{fields:a,ops:o,as:s}:{})}:{})}facetSortFields(t){const{facet:n}=this,r=n[t];return r?Vi(r.sort)?[e7(r,r.sort,{expr:"datum"})]:j(r.sort)?[Rc(r,t,{expr:"datum"})]:[V(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,r=n[t];if(r){const{sort:i}=r;return[(Vi(i)?i.order:!j(i)&&i)||"ascending"]}return[]}assembleLabelTitle(){var t;const{facet:n,config:r}=this;if(n.facet)return q5(n.facet,"facet",r);const i={row:["top","bottom"],column:["left","right"]};for(const a of D6)if(n[a]){const o=Pc("labelOrient",(t=n[a])===null||t===void 0?void 0:t.header,r,a);if(i[a].includes(o))return q5(n[a],a,r)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,r=e9e(n),i=t.assembleGroupEncodeEntry(!1),a=this.assembleLabelTitle()||t.assembleTitle(),o=t.assembleGroupStyle();return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:this.getName("cell"),type:"group"},a?{title:a}:{}),o?{style:o}:{}),{from:{facet:this.assembleFacet()},sort:{field:kr.map(l=>this.facetSortFields(l)).flat(),order:kr.map(l=>this.facetSortOrder(l)).flat()}}),r.length>0?{data:r}:{}),i?{encode:{update:i}}:{}),t.assembleGroup(f4e(this,[])))]}getMapping(){return this.facet}}function c9e(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const a of[n,r])if(Vi(a.sort)){const{field:o,op:s=ey}=a.sort;e=i=new ol(e,{joinaggregate:[{op:s,field:o,as:e7(a,a.sort,{forAs:!0})}],groupby:[V(a)]})}return i}return null}function nG(e,t){var n,r,i,a;for(const o of t){const s=o.data;if(e.name&&o.hasName()&&e.name!==o.dataName)continue;const l=(n=e.format)===null||n===void 0?void 0:n.mesh,c=(r=s.format)===null||r===void 0?void 0:r.feature;if(l&&c)continue;const u=(i=e.format)===null||i===void 0?void 0:i.feature;if((u||c)&&u!==c)continue;const f=(a=s.format)===null||a===void 0?void 0:a.mesh;if(!((l||f)&&l!==f)){if(Ad(e)&&Ad(s)){if(zi(e.values,s.values))return o}else if(Nc(e)&&Nc(s)){if(e.url===s.url)return o}else if(Vj(e)&&e.name===o.dataName)return o}}return null}function u9e(e,t){if(e.data||!e.parent){if(e.data===null){const r=new R0({values:[]});return t.push(r),r}const n=nG(e.data,t);if(n)return Ro(e.data)||(n.data.format=qR({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new R0(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function f9e(e,t,n){var r,i;let a=0;for(const o of t.transforms){let s,l;if(H8e(o))l=e=new Zc(e,o),s="derived";else if(A6(o)){const c=Xxe(o);l=e=(r=fn.makeWithAncestors(e,{},c,n))!==null&&r!==void 0?r:e,e=new pu(e,t,o.filter)}else if(Gj(o))l=e=Ji.makeFromTransform(e,o,t),s="number";else if(q8e(o))s="date",n.getWithExplicit(o.field).value===void 0&&(e=new fn(e,{[o.field]:s}),n.set(o.field,s,!1)),l=e=Xi.makeFromTransform(e,o);else if(V8e(o))l=e=di.makeFromTransform(e,o),s="number",C6(t)&&(e=new cs(e));else if(zj(o))l=e=kd.make(e,t,o,a++),s="derived";else if(G8e(o))l=e=new yu(e,o),s="number";else if(U8e(o))l=e=new ol(e,o),s="number";else if(X8e(o))l=e=Ha.makeFromTransform(e,o),s="derived";else if(J8e(o))l=e=new by(e,o),s="derived";else if(W8e(o))l=e=new yy(e,o),s="derived";else if(I8e(o))l=e=new wy(e,o),s="derived";else if(z8e(o))e=new Ty(e,o);else if(Y8e(o))l=e=c0.makeFromTransform(e,o),s="derived";else if(Z8e(o))l=e=new gy(e,o),s="derived";else if(R8e(o))l=e=new xy(e,o),s="derived";else if(P8e(o))l=e=new _y(e,o),s="derived";else if(j8e(o))l=e=new vy(e,o),s="derived";else{U(g3e(o));continue}if(l&&s!==void 0)for(const c of(i=l.producedFields())!==null&&i!==void 0?i:[])n.set(c,s,!1)}return e}function Ay(e){var t,n,r,i,a,o,s,l,c,u;let f=u9e(e,e.component.data.sources);const{outputNodes:d,outputNodeRefCounts:h}=e.component.data,m=e.data,p=!(m&&(Ro(m)||Nc(m)||Ad(m)))&&e.parent?e.parent.component.data.ancestorParse.clone():new l4e;Ro(m)?(Xj(m)?f=new Rh(f,m.sequence):S6(m)&&(f=new Zh(f,m.graticule)),p.parseNothing=!0):((t=m==null?void 0:m.format)===null||t===void 0?void 0:t.parse)===null&&(p.parseNothing=!0),f=(n=fn.makeExplicit(f,e,p))!==null&&n!==void 0?n:f,f=new cs(f);const y=e.parent&&bu(e.parent);(vt(e)||hi(e))&&y&&(f=(r=Ji.makeFromEncoding(f,e))!==null&&r!==void 0?r:f),e.transforms.length>0&&(f=f9e(f,e,p));const b=Kxe(e),v=Jxe(e);f=(i=fn.makeWithAncestors(f,{},Object.assign(Object.assign({},b),v),p))!==null&&i!==void 0?i:f,vt(e)&&(f=Ql.parseAll(f,e),f=Md.parseAll(f,e)),(vt(e)||hi(e))&&(y||(f=(a=Ji.makeFromEncoding(f,e))!==null&&a!==void 0?a:f),f=(o=Xi.makeFromEncoding(f,e))!==null&&o!==void 0?o:f,f=Zc.parseAllForSortIndex(f,e));const x=e.getDataName(Qe.Raw),_=new Dn(f,x,Qe.Raw,h);if(d[x]=_,f=_,vt(e)){const C=di.makeFromEncoding(f,e);C&&(f=C,C6(e)&&(f=new cs(f))),f=(s=c0.makeFromEncoding(f,e))!==null&&s!==void 0?s:f,f=(l=Ha.makeFromEncoding(f,e))!==null&&l!==void 0?l:f}vt(e)&&(f=(c=Ed.make(f,e))!==null&&c!==void 0?c:f);const T=e.getDataName(Qe.Main),w=new Dn(f,T,Qe.Main,h);d[T]=w,f=w,vt(e)&&H4e(e,w);let S=null;if(hi(e)){const C=e.getName("facet");f=(u=c9e(f,e.facet))!==null&&u!==void 0?u:f,S=new gu(f,e,C,w.getSource()),d[C]=S}return Object.assign(Object.assign({},e.component.data),{outputNodes:d,outputNodeRefCounts:h,raw:_,main:w,facetRoot:S,ancestorParse:p})}class d9e extends j6{constructor(t,n,r,i){var a,o,s,l;super(t,"concat",n,r,i,t.resolve),(((o=(a=t.resolve)===null||a===void 0?void 0:a.axis)===null||o===void 0?void 0:o.x)==="shared"||((l=(s=t.resolve)===null||s===void 0?void 0:s.axis)===null||l===void 0?void 0:l.y)==="shared")&&U(h3e),this.children=this.getChildren(t).map((c,u)=>Y6(c,this,this.getName(`concat_${u}`),void 0,i))}parseData(){this.component.data=Ay(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of G(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return ly(t)?t.vconcat:w6(t)?t.hconcat:t.concat}parseLayoutSize(){o9e(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=F6(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),r=t.assembleGroupStyle(),i=t.assembleGroupEncodeEntry(!1);return Object.assign(Object.assign(Object.assign(Object.assign({type:"group",name:t.getName("group")},n?{title:n}:{}),r?{style:r}:{}),i?{encode:{update:i}}:{}),t.assembleGroup())})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return Object.assign(Object.assign({},t!=null?{columns:t}:{}),{bounds:"full",align:"each"})}}function h9e(e){return e===!1||e===null}const m9e=Object.assign(Object.assign({disable:1,gridScale:1,scale:1},hj),{labelExpr:1,encode:1}),rG=G(m9e);class G6 extends uo{constructor(t={},n={},r=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=r}clone(){return new G6(ve(this.explicit),ve(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!h9e(this.get(t))}hasOrientSignalRef(){return ae(this.explicit.orient)}}function p9e(e,t,n){var r;const{encoding:i,config:a}=e,o=(r=Mt(i[t]))!==null&&r!==void 0?r:Mt(i[xa(t)]),s=e.axis(t)||{},{format:l,formatType:c}=s;if(N0(c))return Object.assign({text:si({fieldOrDatumDef:o,field:"datum.value",format:l,formatType:c,config:a})},n);if(l===void 0&&c===void 0&&a.customFormatTypes){if(Fc(o)==="quantitative"){if(Bc(o)&&o.stack==="normalize"&&a.normalizedNumberFormatType)return Object.assign({text:si({fieldOrDatumDef:o,field:"datum.value",format:a.normalizedNumberFormat,formatType:a.normalizedNumberFormatType,config:a})},n);if(a.numberFormatType)return Object.assign({text:si({fieldOrDatumDef:o,field:"datum.value",format:a.numberFormat,formatType:a.numberFormatType,config:a})},n)}if(Fc(o)==="temporal"&&a.timeFormatType&&W(o)&&!o.timeUnit)return Object.assign({text:si({fieldOrDatumDef:o,field:"datum.value",format:a.timeFormat,formatType:a.timeFormatType,config:a})},n)}return n}function g9e(e){return _a.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[T9e(n,e)]),t),{})}const y9e={bottom:"top",top:"bottom",left:"right",right:"left"};function b9e(e){var t;const{axes:n,resolve:r}=e.component,i={top:0,bottom:0,right:0,left:0};for(const a of e.children){a.parseAxesAndHeaders();for(const o of G(a.component.axes))r.axis[o]=B6(e.component.resolve,o),r.axis[o]==="shared"&&(n[o]=v9e(n[o],a.component.axes[o]),n[o]||(r.axis[o]="independent",delete n[o]))}for(const a of _a){for(const o of e.children)if(o.component.axes[a]){if(r.axis[a]==="independent"){n[a]=((t=n[a])!==null&&t!==void 0?t:[]).concat(o.component.axes[a]);for(const s of o.component.axes[a]){const{value:l,explicit:c}=s.getWithExplicit("orient");if(!ae(l)){if(i[l]>0&&!c){const u=y9e[l];i[l]>i[u]&&s.set("orient",u,!1)}i[l]++}}}delete o.component.axes[a]}if(r.axis[a]==="independent"&&n[a]&&n[a].length>1)for(const o of n[a])o.get("grid")&&!o.explicit.grid&&(o.implicit.grid=!1)}}function v9e(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],a=t[r];if(!!i!=!!a)return;if(i&&a){const o=i.getWithExplicit("orient"),s=a.getWithExplicit("orient");if(o.explicit&&s.explicit&&o.value!==s.value)return;e[r]=x9e(i,a)}}}else return t.map(n=>n.clone());return e}function x9e(e,t){for(const n of rG){const r=as(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,a)=>{switch(n){case"title":return _P(i,a);case"gridScale":return{explicit:i.explicit,value:_t(i.value,a.value)}}return uy(i,a,n,"axis")});e.setWithExplicit(n,r)}return e}function _9e(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(ae(n.labelAngle)?n.labelAngle:wd(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===wz(r,i))return!0}return e===n[t]}const w9e=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function T9e(e,t){var n,r,i;let a=t.axis(e);const o=new G6,s=Mt(t.encoding[e]),{mark:l,config:c}=t,u=(a==null?void 0:a.orient)||((n=c[e==="x"?"axisX":"axisY"])===null||n===void 0?void 0:n.orient)||((r=c.axis)===null||r===void 0?void 0:r.orient)||nxe(e),f=t.getScaleComponent(e).get("type"),d=V4e(e,f,u,t.config),h=a!==void 0?!a:H5("disable",c.style,a==null?void 0:a.style,d).configValue;if(o.set("disable",h,a!==void 0),h)return o;a=a||{};const m=Q4e(s,a,e,c.style,d),g={fieldOrDatumDef:s,axis:a,channel:e,model:t,scaleType:f,orient:u,labelAngle:m,mark:l,config:c};for(const b of rG){const v=b in kM?kM[b](g):iM(b)?a[b]:void 0,x=v!==void 0,_=_9e(v,b,a,t,e);if(x&&_)o.set(b,v,_);else{const{configValue:T=void 0,configFrom:w=void 0}=iM(b)&&b!=="values"?H5(b,c.style,a.style,d):{},S=T!==void 0;x&&!S?o.set(b,v,_):(w!=="vgAxisConfig"||w9e.has(b)&&S||Nh(T)||ae(T))&&o.set(b,T,!1)}}const p=(i=a.encoding)!==null&&i!==void 0?i:{},y=dj.reduce((b,v)=>{var x;if(!o.hasAxisPart(v))return b;const _=kz((x=p[v])!==null&&x!==void 0?x:{},t),T=v==="labels"?p9e(t,e,_):_;return T!==void 0&&!We(T)&&(b[v]={update:T}),b},{});return We(y)||o.set("encode",y,!!a.encoding||a.labelAngle!==void 0),o}function A9e({encoding:e,size:t}){for(const n of _a){const r=tr(n);la(t[r])&&Ui(e[n])&&(delete t[r],U(EP(r)))}return t}function S9e(e,t,n){const r=Gn(e),i=je("orient",r,n);if(r.orient=O9e(r.type,t,i),i!==void 0&&i!==r.orient&&U(B3e(r.orient,i)),r.type==="bar"&&r.orient){const s=je("cornerRadiusEnd",r,n);if(s!==void 0){const l=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:Q5e[r.orient];for(const c of l)r[c]=s;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}return je("opacity",r,n)===void 0&&(r.opacity=M9e(r.type,t)),je("cursor",r,n)===void 0&&(r.cursor=E9e(r,t,n)),r}function E9e(e,t,n){return t.href||e.href||je("href",e,n)?"pointer":e.cursor}function M9e(e,t){if(Me([Q2,e6,t6,n6],e)&&!d6(t))return .7}function k9e(e,t,{graticule:n}){if(n)return!1;const r=F0("filled",e,t),i=e.type;return _t(r,i!==Q2&&i!==K2&&i!==Rp)}function O9e(e,t,n){switch(e){case Q2:case t6:case n6:case UP:case G5e:case z5e:return}const{x:r,y:i,x2:a,y2:o}=t;switch(e){case J2:if(W(r)&&(Wt(r.bin)||W(i)&&i.aggregate&&!r.aggregate))return"vertical";if(W(i)&&(Wt(i.bin)||W(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(o||a){if(n)return n;if(!a)return(W(r)&&r.type===B0&&!tt(r.bin)||$5(r))&&W(i)&&Wt(i.bin)?"horizontal":"vertical";if(!o)return(W(i)&&i.type===B0&&!tt(i.bin)||$5(i))&&W(r)&&Wt(r.bin)?"vertical":"horizontal"}case Rp:if(a&&!(W(r)&&Wt(r.bin))&&o&&!(W(i)&&Wt(i.bin)))return;case X2:if(o)return W(i)&&Wt(i.bin)?"horizontal":"vertical";if(a)return W(r)&&Wt(r.bin)?"vertical":"horizontal";if(e===Rp){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case K2:case e6:{const s=Ui(r),l=Ui(i);if(n)return n;if(s&&!l)return e!=="tick"?"horizontal":"vertical";if(!s&&l)return e!=="tick"?"vertical":"horizontal";if(s&&l){const c=r,u=i,f=c.type===Dc,d=u.type===Dc;return f&&!d?e!=="tick"?"vertical":"horizontal":!f&&d?e!=="tick"?"horizontal":"vertical":!c.aggregate&&u.aggregate?e!=="tick"?"vertical":"horizontal":c.aggregate&&!u.aggregate&&e!=="tick"?"horizontal":"vertical"}else return}}return"vertical"}const C9e={vgMark:"arc",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},zr(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),un("x",e,{defaultPos:"mid"})),un("y",e,{defaultPos:"mid"})),ss(e,"radius")),ss(e,"theta"))},D9e={vgMark:"area",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign({},zr(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"})),Yp("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"})),Yp("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"})),O6(e))},L9e={vgMark:"rect",encodeEntry:e=>Object.assign(Object.assign(Object.assign({},zr(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),ss(e,"x")),ss(e,"y"))},F9e={vgMark:"shape",encodeEntry:e=>Object.assign({},zr(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[Object.assign({type:"geoshape",projection:e.projectionName()},n&&W(n)&&n.type===hu?{field:V(n,{expr:"datum"})}:{})]}},B9e={vgMark:"image",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign({},zr(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"})),ss(e,"x")),ss(e,"y")),M6(e,"url"))},$9e={vgMark:"line",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},zr(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),un("x",e,{defaultPos:"mid"})),un("y",e,{defaultPos:"mid"})),Bt("size",e,{vgChannel:"strokeWidth"})),O6(e))},N9e={vgMark:"trail",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},zr(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),un("x",e,{defaultPos:"mid"})),un("y",e,{defaultPos:"mid"})),Bt("size",e)),O6(e))};function U6(e,t){const{config:n}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},zr(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),un("x",e,{defaultPos:"mid"})),un("y",e,{defaultPos:"mid"})),Bt("size",e)),Bt("angle",e)),I9e(e,n,t))}function I9e(e,t,n){return n?{shape:{value:n}}:Bt("shape",e)}const Z9e={vgMark:"symbol",encodeEntry:e=>U6(e)},R9e={vgMark:"symbol",encodeEntry:e=>U6(e,"circle")},P9e={vgMark:"symbol",encodeEntry:e=>U6(e,"square")},j9e={vgMark:"rect",encodeEntry:e=>Object.assign(Object.assign(Object.assign({},zr(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),ss(e,"x")),ss(e,"y"))},z9e={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:Object.assign(Object.assign(Object.assign(Object.assign({},zr(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Yp("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"})),Yp("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"})),Bt("size",e,{vgChannel:"strokeWidth"}))}},G9e={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},zr(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"})),un("x",e,{defaultPos:"mid"})),un("y",e,{defaultPos:"mid"})),M6(e)),Bt("size",e,{vgChannel:"fontSize"})),Bt("angle",e)),AM("align",U9e(e.markDef,n,t))),AM("baseline",W9e(e.markDef,n,t))),un("radius",e,{defaultPos:null})),un("theta",e,{defaultPos:null}))}};function U9e(e,t,n){if(je("align",e,n)===void 0)return"center"}function W9e(e,t,n){if(je("baseline",e,n)===void 0)return"middle"}const H9e={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"width":"height",a=r==="horizontal"?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},zr(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),un("x",e,{defaultPos:"mid",vgChannel:"xc"})),un("y",e,{defaultPos:"mid",vgChannel:"yc"})),Bt("size",e,{defaultValue:Y9e(e),vgChannel:i})),{[a]:rt(je("thickness",n,t))})}};function Y9e(e){var t;const{config:n,markDef:r}=e,{orient:i}=r,a=i==="horizontal"?"width":"height",o=e.getScaleComponent(i==="horizontal"?"x":"y"),s=(t=je("size",r,n,{vgChannel:a}))!==null&&t!==void 0?t:n.tick.bandSize;if(s!==void 0)return s;{const l=o?o.get("range"):void 0;return l&&As(l)&&He(l.step)?l.step*3/4:Wp(n.view,a)*3/4}}const k1={arc:C9e,area:D9e,bar:L9e,circle:R9e,geoshape:F9e,image:B9e,line:$9e,point:Z9e,rect:j9e,rule:z9e,square:P9e,text:G9e,tick:H9e,trail:N9e};function q9e(e){if(Me([K2,X2,U5e],e.mark)){const t=yj(e.mark,e.encoding);if(t.length>0)return V9e(e,t)}else if(e.mark===J2){const t=O5.some(n=>je(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return X9e(e)}return W6(e)}const UM="faceted_path_";function V9e(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:UM+e.requestDataName(Qe.Main),data:e.requestDataName(Qe.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:W6(e,{fromPrefix:UM})}]}const WM="stack_group_";function X9e(e){var t;const[n]=W6(e,{fromPrefix:WM}),r=e.scaleName(e.stack.fieldChannel),i=(u={})=>e.vgField(e.stack.fieldChannel,u),a=(u,f)=>{const d=[i({prefix:"min",suffix:"start",expr:f}),i({prefix:"max",suffix:"start",expr:f}),i({prefix:"min",suffix:"end",expr:f}),i({prefix:"max",suffix:"end",expr:f})];return`${u}(${d.map(h=>`scale('${r}',${h})`).join(",")})`};let o,s;e.stack.fieldChannel==="x"?(o=Object.assign(Object.assign({},kc(n.encode.update,["y","yc","y2","height",...O5])),{x:{signal:a("min","datum")},x2:{signal:a("max","datum")},clip:{value:!0}}),s={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},n.encode.update=Object.assign(Object.assign({},Yn(n.encode.update,["y","yc","y2"])),{height:{field:{group:"height"}}})):(o=Object.assign(Object.assign({},kc(n.encode.update,["x","xc","x2","width"])),{y:{signal:a("min","datum")},y2:{signal:a("max","datum")},clip:{value:!0}}),s={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},n.encode.update=Object.assign(Object.assign({},Yn(n.encode.update,["x","xc","x2"])),{width:{field:{group:"width"}}}));for(const u of O5){const f=F0(u,e.markDef,e.config);n.encode.update[u]?(o[u]=n.encode.update[u],delete n.encode.update[u]):f&&(o[u]=rt(f)),f&&(n.encode.update[u]={value:0})}const l=[];if(((t=e.stack.groupbyChannels)===null||t===void 0?void 0:t.length)>0)for(const u of e.stack.groupbyChannels){const f=e.fieldDef(u),d=V(f);d&&l.push(d),(f!=null&&f.bin||f!=null&&f.timeUnit)&&l.push(V(f,{binSuffix:"end"}))}return o=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((u,f)=>{if(n.encode.update[f])return Object.assign(Object.assign({},u),{[f]:n.encode.update[f]});{const d=F0(f,e.markDef,e.config);return d!==void 0?Object.assign(Object.assign({},u),{[f]:rt(d)}):u}},o),o.stroke&&(o.strokeForeground={value:!0},o.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(Qe.Main),name:WM+e.requestDataName(Qe.Main),groupby:l,aggregate:{fields:[i({suffix:"start"}),i({suffix:"start"}),i({suffix:"end"}),i({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:o},marks:[{type:"group",encode:{update:s},marks:[n]}]}]}function J9e(e){var t;const{encoding:n,stack:r,mark:i,markDef:a,config:o}=e,s=n.order;if(!(!j(s)&&_i(s)&&M5(s.value)||!s&&M5(je("order",a,o)))){if((j(s)||W(s))&&!r)return bP(s,{expr:"datum"});if(Ss(i)){const l=a.orient==="horizontal"?"y":"x",c=n[l];if(W(c)){const u=c.sort;if(j(u))return{field:V(c,{prefix:l,suffix:"sort_index",expr:"datum"})};if(Vi(u))return{field:V({aggregate:d6(e.encoding)?u.op:void 0,field:u.field},{expr:"datum"})};if(ej(u)){const f=e.fieldDef(u.encoding);return{field:V(f,{expr:"datum"}),order:u.order}}else return u===null?void 0:{field:V(c,{binSuffix:!((t=e.stack)===null||t===void 0)&&t.impute?"mid":void 0,expr:"datum"})}}return}}}function W6(e,t={fromPrefix:""}){const{mark:n,markDef:r,encoding:i,config:a}=e,o=_t(r.clip,K9e(e),Q9e(e)),s=gP(r),l=i.key,c=J9e(e),u=e6e(e),f=je("aria",r,a),d=k1[n].postEncodingTransform?k1[n].postEncodingTransform(e):null;return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName("marks"),type:k1[n].vgMark},o?{clip:!0}:{}),s?{style:s}:{}),l?{key:l.field}:{}),c?{sort:c}:{}),u||{}),f===!1?{aria:f}:{}),{from:{data:t.fromPrefix+e.requestDataName(Qe.Main)},encode:{update:k1[n].encodeEntry(e)}}),d?{transform:d}:{})]}function K9e(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t!=null&&t.get("selectionExtent")||n!=null&&n.get("selectionExtent")?!0:void 0}function Q9e(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function e6e(e){if(!e.component.selection)return null;const t=G(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=G(r.component.selection).length,r=r.parent;return n?{interactive:t>0||!!e.encoding.tooltip}:null}class iG extends Qz{constructor(t,n,r,i={},a){var o;super(t,"unit",n,r,a,void 0,sM(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[];const s=aa(t.mark)?Object.assign({},t.mark):{type:t.mark},l=s.type;s.filled===void 0&&(s.filled=k9e(s,a,{graticule:t.data&&S6(t.data)}));const c=this.encoding=C7e(t.encoding||{},l,s.filled,a);this.markDef=S9e(s,c,a),this.size=A9e({encoding:c,size:sM(t)?Object.assign(Object.assign(Object.assign({},i),t.width?{width:t.width}:{}),t.height?{height:t.height}:{}):i}),this.stack=Zj(l,c),this.specifiedScales=this.initScales(l,c),this.specifiedAxes=this.initAxes(c),this.specifiedLegends=this.initLegends(c),this.specifiedProjection=t.projection,this.selection=((o=t.params)!==null&&o!==void 0?o:[]).filter(u=>x6(u))}get hasProjection(){const{encoding:t}=this,n=this.mark===WP,r=t&&Eve.some(i=>ge(t[i]));return n||r}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return Y2.reduce((r,i)=>{var a;const o=Mt(n[i]);return o&&(r[i]=this.initScale((a=o.scale)!==null&&a!==void 0?a:{})),r},{})}initScale(t){const{domain:n,range:r}=t,i=Gn(t);return j(n)&&(i.domain=n.map(ur)),j(r)&&(i.range=r.map(ur)),i}initAxes(t){return _a.reduce((n,r)=>{const i=t[r];if(ge(i)||r===ft&&ge(t.x2)||r===jt&&ge(t.y2)){const a=ge(i)?i.axis:void 0;n[r]=a&&this.initAxis(Object.assign({},a))}return n},{})}initAxis(t){const n=G(t),r={};for(const i of n){const a=t[i];r[i]=Nh(a)?pP(a):ur(a)}return r}initLegends(t){return Nve.reduce((n,r)=>{const i=Mt(t[r]);if(i&&Zve(r)){const a=i.legend;n[r]=a&&Gn(a)}return n},{})}parseData(){this.component.data=Ay(this)}parseLayoutSize(){s9e(this)}parseSelections(){this.component.selection=W4e(this,this.selection)}parseMarkGroup(){this.component.mark=q9e(this)}parseAxesAndHeaders(){this.component.axes=g9e(this)}assembleSelectionTopLevelSignals(t){return d4e(this,t)}assembleSignals(){return[...vz(this),...u4e(this,[])]}assembleSelectionData(t){return h4e(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return F6(this)}assembleMarks(){var t;let n=(t=this.component.mark)!==null&&t!==void 0?t:[];return(!this.parent||!bu(this.parent))&&(n=Kj(this,n)),n.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};if(t!==void 0)return t;if(this.encoding.x||this.encoding.y)return"cell"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return l0(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return oa(n)}typedFieldDef(t){const n=this.fieldDef(t);return Zr(n)?n:null}}class H6 extends j6{constructor(t,n,r,i,a){super(t,"layer",n,r,a,t.resolve,t.view);const o=Object.assign(Object.assign(Object.assign({},i),t.width?{width:t.width}:{}),t.height?{height:t.height}:{});this.children=t.layer.map((s,l)=>{if(cy(s))return new H6(s,this,this.getName(`layer_${l}`),o,a);if(co(s))return new iG(s,this,this.getName(`layer_${l}`),o,a);throw new Error(Z9(s))})}parseData(){this.component.data=Ay(this);for(const t of this.children)t.parseData()}parseLayoutSize(){a9e(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of G(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){b9e(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),vz(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),F6(this))}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleGroupStyle(){const t=new Set;for(const r of this.children)for(const i of Q(r.assembleGroupStyle()))t.add(i);const n=Array.from(t);return n.length>1?n:n.length===1?n[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return m4e(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),Nz(this))}}function Y6(e,t,n,r,i){if(ty(e))return new Zf(e,t,n,i);if(cy(e))return new H6(e,t,n,r,i);if(co(e))return new iG(e,t,n,r,i);if(t8e(e))return new d9e(e,t,n,i);throw new Error(Z9(e))}var t6e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function n6e(e,t={}){t.logger&&a5e(t.logger),t.fieldTitle&&cj(t.fieldTitle);try{const n=Ij(eu(t.config,e.config)),r=Yj(e,n),i=Y6(r,null,"",void 0,n);return i.parse(),m_e(i.component.data,i),{spec:i6e(i,r6e(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&o5e(),t.fieldTitle&&x7e()}}function r6e(e,t,n,r){const i=r.component.layoutSize.get("width"),a=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):J(t)&&(t={type:t}),i&&a&&a4e(t.type)){if(i==="step"&&a==="step")U(WE()),t.type="pad";else if(i==="step"||a==="step"){const o=i==="step"?"width":"height";U(WE(H2(o)));const s=o==="width"?"height":"width";t.type=o4e(s)}}return Object.assign(Object.assign(Object.assign({},G(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t}),vM(n,!1)),vM(e,!0))}function i6e(e,t,n={},r){const i=e.config?g8e(e.config):void 0,a=[].concat(e.assembleSelectionData([]),t9e(e.component.data,n)),o=e.assembleProjections(),s=e.assembleTitle(),l=e.assembleGroupStyle(),c=e.assembleGroupEncodeEntry(!0);let u=e.assembleLayoutSignals();u=u.filter(h=>(h.name==="width"||h.name==="height")&&h.value!==void 0?(t[h.name]=+h.value,!1):!0);const{params:f}=t,d=t6e(t,["params"]);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({$schema:"https://vega.github.io/schema/vega/v5.json"},e.description?{description:e.description}:{}),d),s?{title:s}:{}),l?{style:l}:{}),c?{encode:{update:c}}:{}),{data:a}),o.length>0?{projections:o}:{}),e.assembleGroup([...u,...e.assembleSelectionTopLevelSignals([]),...Fj(f)])),i?{config:i}:{}),r?{usermeta:r}:{})}const a6e=pve.version,o6e=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:Oc,accessPathWithDatum:k9,compile:n6e,contains:Me,deepEqual:zi,deleteNestedProperty:Np,duplicate:ve,entries:rs,every:S9,fieldIntersection:M9,flatAccessWithDatum:XR,getFirstDefined:_t,hasIntersection:E9,hash:Ce,internalField:QR,isBoolean:_d,isEmpty:We,isEqual:xve,isInternalField:eP,isNullOrFalse:M5,isNumeric:P2,keys:G,logicalExpr:Nf,mergeDeep:qR,never:YR,normalize:Yj,normalizeAngle:wd,omit:Yn,pick:kc,prefixGenerator:k5,removePathFromField:O9,replaceAll:D0,replacePathInField:Nr,resetIdCounter:wve,setEqual:VR,some:C0,stringify:et,titleCase:Sh,unique:Gi,uniqueId:KR,vals:gn,varName:st,version:a6e},Symbol.toStringTag,{value:"Module"}));function aG(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}var s6e="vega-themes",l6e="2.10.0",c6e="Themes for stylized Vega and Vega-Lite visualizations.",u6e=["vega","vega-lite","themes","style"],f6e="BSD-3-Clause",d6e={name:"UW Interactive Data Lab",url:"https://idl.cs.washington.edu"},h6e=[{name:"Emily Gu",url:"https://github.com/emilygu"},{name:"Arvind Satyanarayan",url:"http://arvindsatya.com"},{name:"Jeffrey Heer",url:"https://idl.cs.washington.edu"},{name:"Dominik Moritz",url:"https://www.domoritz.de"}],m6e="build/vega-themes.js",q6="build/vega-themes.module.js",p6e="build/vega-themes.min.js",g6e="build/vega-themes.min.js",y6e="build/vega-themes.module.d.ts",b6e={type:"git",url:"https://github.com/vega/vega-themes.git"},v6e=["src","build"],x6e={prebuild:"yarn clean",build:"rollup -c",clean:"rimraf build && rimraf examples/build","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples",preversion:"yarn lint",serve:"browser-sync start -s -f build examples --serveStatic examples",start:"yarn build && concurrently --kill-others -n Server,Rollup 'yarn serve' 'rollup -c -w'",prepare:"beemo create-config",eslintbase:"beemo eslint .",format:"yarn eslintbase --fix",lint:"yarn eslintbase",release:"auto shipit"},_6e={"@auto-it/conventional-commits":"^10.32.2","@auto-it/first-time-contributor":"^10.32.2","@rollup/plugin-json":"^4.1.0","@rollup/plugin-node-resolve":"^13.0.6","rollup-plugin-ts":"^1.4.7",auto:"^10.32.2","browser-sync":"^2.27.7",concurrently:"^6.4.0","gh-pages":"^3.2.3",rollup:"^2.60.0","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-terser":"^7.0.2",typescript:"^4.4.4",vega:"^5.19.1","vega-lite":"^5.0.0","vega-lite-dev-config":"^0.20.0"},w6e={vega:"*","vega-lite":"*"},T6e={name:s6e,version:l6e,description:c6e,keywords:u6e,license:f6e,author:d6e,contributors:h6e,main:m6e,module:q6,unpkg:p6e,jsdelivr:g6e,types:y6e,repository:b6e,files:v6e,scripts:x6e,devDependencies:_6e,peerDependencies:w6e};const Ml="#fff",A6e="#888",S6e={background:"#333",title:{color:Ml,subtitleColor:Ml},style:{"guide-label":{fill:Ml},"guide-title":{fill:Ml}},axis:{domainColor:Ml,gridColor:A6e,tickColor:Ml}},Ls="#4572a7",E6e={background:"#fff",arc:{fill:Ls},area:{fill:Ls},line:{stroke:Ls,strokeWidth:2},path:{stroke:Ls},rect:{fill:Ls},shape:{stroke:Ls},symbol:{fill:Ls,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},Fs="#30a2da",lv="#cbcbcb",M6e="#999",k6e="#333",HM="#f0f0f0",YM="#333",O6e={arc:{fill:Fs},area:{fill:Fs},axis:{domainColor:lv,grid:!0,gridColor:lv,gridWidth:1,labelColor:M6e,labelFontSize:10,titleColor:k6e,tickColor:lv,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:HM,group:{fill:HM},legend:{labelColor:YM,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:YM,titleFontSize:14,titlePadding:10},line:{stroke:Fs,strokeWidth:2},path:{stroke:Fs,strokeWidth:.5},rect:{fill:Fs},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:Fs},bar:{binSpacing:2,fill:Fs,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},Bs="#000",C6e={group:{fill:"#e5e5e5"},arc:{fill:Bs},area:{fill:Bs},line:{stroke:Bs},path:{stroke:Bs},rect:{fill:Bs},shape:{stroke:Bs},symbol:{fill:Bs,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},D6e=22,L6e="normal",qM="Benton Gothic, sans-serif",VM=11.5,F6e="normal",$s="#82c6df",cv="Benton Gothic Bold, sans-serif",XM="normal",JM=13,Hu={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},B6e={background:"#ffffff",title:{anchor:"start",color:"#000000",font:cv,fontSize:D6e,fontWeight:L6e},arc:{fill:$s},area:{fill:$s},line:{stroke:$s,strokeWidth:2},path:{stroke:$s},rect:{fill:$s},shape:{stroke:$s},symbol:{fill:$s,size:30},axis:{labelFont:qM,labelFontSize:VM,labelFontWeight:F6e,titleFont:cv,titleFontSize:JM,titleFontWeight:XM},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:qM,labelFontSize:VM,symbolType:"square",titleFont:cv,titleFontSize:JM,titleFontWeight:XM},range:{category:Hu["category-6"],diverging:Hu["fireandice-6"],heatmap:Hu["fire-7"],ordinal:Hu["fire-7"],ramp:Hu["fire-7"]}},Ns="#ab5787",O1="#979797",$6e={background:"#f9f9f9",arc:{fill:Ns},area:{fill:Ns},line:{stroke:Ns},path:{stroke:Ns},rect:{fill:Ns},shape:{stroke:Ns},symbol:{fill:Ns,size:30},axis:{domainColor:O1,domainWidth:.5,gridWidth:.2,labelColor:O1,tickColor:O1,tickWidth:.2,titleColor:O1},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},Is="#3e5c69",N6e={background:"#fff",arc:{fill:Is},area:{fill:Is},line:{stroke:Is},path:{stroke:Is},rect:{fill:Is},shape:{stroke:Is},symbol:{fill:Is},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Ar="#1696d2",KM="#000000",I6e="#FFFFFF",C1="Lato",uv="Lato",Z6e="Lato",R6e="#DEDDDD",P6e=18,Yu={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},j6e={background:I6e,title:{anchor:"start",fontSize:P6e,font:C1},axisX:{domain:!0,domainColor:KM,domainWidth:1,grid:!1,labelFontSize:12,labelFont:uv,labelAngle:0,tickColor:KM,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:C1},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:R6e,gridWidth:1,labelFontSize:12,labelFont:uv,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:C1,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:uv,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:C1,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Yu["six-groups-cat-1"],diverging:Yu["diverging-colors"],heatmap:Yu["diverging-colors"],ordinal:Yu["six-groups-seq"],ramp:Yu["shades-blue"]},area:{fill:Ar},rect:{fill:Ar},line:{color:Ar,stroke:Ar,strokeWidth:5},trail:{color:Ar,stroke:Ar,strokeWidth:0,size:1},path:{stroke:Ar,strokeWidth:.5},point:{filled:!0},text:{font:Z6e,color:Ar,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:Ar,stroke:null}},arc:{fill:Ar},shape:{stroke:Ar},symbol:{fill:Ar,size:30}},Zs="#3366CC",QM="#ccc",D1="Arial, sans-serif",z6e={arc:{fill:Zs},area:{fill:Zs},path:{stroke:Zs},rect:{fill:Zs},shape:{stroke:Zs},symbol:{stroke:Zs},circle:{fill:Zs},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:D1,fontSize:12},"guide-title":{font:D1,fontSize:12},"group-title":{font:D1,fontSize:12}},title:{font:D1,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:QM,tickColor:QM,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},V6=e=>e*(1/3+1),ek=V6(9),tk=V6(10),nk=V6(12),qu="Segoe UI",rk="wf_standard-font, helvetica, arial, sans-serif",ik="#252423",Vu="#605E5C",ak="transparent",G6e="#C8C6C4",Wr="#118DFF",U6e="#12239E",W6e="#E66C37",H6e="#6B007B",Y6e="#E044A7",q6e="#744EC2",V6e="#D9B300",X6e="#D64550",oG=Wr,sG="#DEEFFF",ok=[sG,oG],J6e=[sG,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",oG],K6e={view:{stroke:ak},background:ak,font:qu,header:{titleFont:rk,titleFontSize:nk,titleColor:ik,labelFont:qu,labelFontSize:tk,labelColor:Vu},axis:{ticks:!1,grid:!1,domain:!1,labelColor:Vu,labelFontSize:ek,titleFont:rk,titleColor:ik,titleFontSize:nk,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:G6e,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:Wr},line:{stroke:Wr,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:qu,fontSize:ek,fill:Vu},arc:{fill:Wr},area:{fill:Wr,line:!0,opacity:.6},path:{stroke:Wr},rect:{fill:Wr},point:{fill:Wr,filled:!0,size:75},shape:{stroke:Wr},symbol:{fill:Wr,strokeWidth:1.5,size:50},legend:{titleFont:qu,titleFontWeight:"bold",titleColor:Vu,labelFont:qu,labelFontSize:tk,labelColor:Vu,symbolType:"circle",symbolSize:75},range:{category:[Wr,U6e,W6e,H6e,Y6e,q6e,V6e,X6e],diverging:ok,heatmap:ok,ordinal:J6e}},Q6e=T6e.version,ewe=Object.freeze(Object.defineProperty({__proto__:null,dark:S6e,excel:E6e,fivethirtyeight:O6e,ggplot2:C6e,googlecharts:z6e,latimes:B6e,powerbi:K6e,quartz:$6e,urbaninstitute:j6e,version:Q6e,vox:N6e},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function twe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function nwe(e,t,n){if(j(e))return`[${e.map(r=>t(J(r)?r:sk(r,n))).join(", ")}]`;if(ee(e)){let r="";const i=e,{title:a,image:o}=i,s=twe(i,["title","image"]);a&&(r+=`<h2>${t(a)}</h2>`),o&&(r+=`<img src="${t(o)}">`);const l=Object.keys(s);if(l.length>0){r+="<table>";for(const c of l){let u=s[c];u!==void 0&&(ee(u)&&(u=sk(u,n)),r+=`<tr><td class="key">${t(c)}:</td><td class="value">${t(u)}</td></tr>`)}r+="</table>"}return r||"{}"}return t(e)}function rwe(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function sk(e,t){return JSON.stringify(e,rwe(t))}var iwe=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element img {
  max-width: 200px;
  max-height: 200px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const lG="vg-tooltip-element",awe={offsetX:10,offsetY:10,id:lG,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:owe,maxDepth:2,formatTooltip:nwe};function owe(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function swe(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return iwe.toString().replace(lG,e)}function lwe(e,t,n,r){let i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);let a=e.clientY+r;return a+t.height>window.innerHeight&&(a=+e.clientY-r-t.height),{x:i,y:a}}class cwe{constructor(t){this.options=Object.assign(Object.assign({},awe),t);const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=swe(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}tooltipHandler(t,n,r,i){var a;if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),((a=document.fullscreenElement)!==null&&a!==void 0?a:document.body).appendChild(this.el)),i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(i,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:o,y:s}=lwe(n,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${s}px; left: ${o}px`)}}function uwe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lk(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(c){n(c);return}s.done?t(l):Promise.resolve(l).then(r,i)}function Jp(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(l){lk(a,r,i,o,s,"next",l)}function s(l){lk(a,r,i,o,s,"throw",l)}o(void 0)})}}var cG=Object.prototype,Ks=cG.hasOwnProperty,Ri,X6=typeof Symbol=="function"?Symbol:{},Sy=X6.iterator||"@@iterator",fwe=X6.asyncIterator||"@@asyncIterator",Kp=X6.toStringTag||"@@toStringTag";function uG(e,t,n,r){var i=t&&t.prototype instanceof t7?t:t7,a=Object.create(i.prototype),o=new n7(r||[]);return a._invoke=gwe(e,n,o),a}function J6(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}var ck="suspendedStart",dwe="suspendedYield",uk="executing",L1="completed",ti={};function t7(){}function Ey(){}function jc(){}var K6={};K6[Sy]=function(){return this};var fv=Object.getPrototypeOf,F1=fv&&fv(fv(Q6([])));F1&&F1!==cG&&Ks.call(F1,Sy)&&(K6=F1);var vu=jc.prototype=t7.prototype=Object.create(K6);Ey.prototype=vu.constructor=jc;jc.constructor=Ey;jc[Kp]=Ey.displayName="GeneratorFunction";function fG(e){["next","throw","return"].forEach(function(t){e[t]=function(n){return this._invoke(t,n)}})}function dG(e){var t=typeof e=="function"&&e.constructor;return t?t===Ey||(t.displayName||t.name)==="GeneratorFunction":!1}function hwe(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,jc):(e.__proto__=jc,Kp in e||(e[Kp]="GeneratorFunction")),e.prototype=Object.create(vu),e}function mwe(e){return{__await:e}}function My(e,t){function n(a,o,s,l){var c=J6(e[a],e,o);if(c.type==="throw")l(c.arg);else{var u=c.arg,f=u.value;return f&&typeof f=="object"&&Ks.call(f,"__await")?t.resolve(f.__await).then(function(d){n("next",d,s,l)},function(d){n("throw",d,s,l)}):t.resolve(f).then(function(d){u.value=d,s(u)},function(d){return n("throw",d,s,l)})}}var r;function i(a,o){function s(){return new t(function(l,c){n(a,o,l,c)})}return r=r?r.then(s,s):s()}this._invoke=i}fG(My.prototype);My.prototype[fwe]=function(){return this};function pwe(e,t,n,r,i){i===void 0&&(i=Promise);var a=new My(uG(e,t,n,r),i);return dG(t)?a:a.next().then(function(o){return o.done?o.value:a.next()})}function gwe(e,t,n){var r=ck;return function(a,o){if(r===uk)throw new Error("Generator is already running");if(r===L1){if(a==="throw")throw o;return mG()}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var l=hG(s,n);if(l){if(l===ti)continue;return l}}if(n.method==="next")n.sent=n._sent=n.arg;else if(n.method==="throw"){if(r===ck)throw r=L1,n.arg;n.dispatchException(n.arg)}else n.method==="return"&&n.abrupt("return",n.arg);r=uk;var c=J6(e,t,n);if(c.type==="normal"){if(r=n.done?L1:dwe,c.arg===ti)continue;return{value:c.arg,done:n.done}}else c.type==="throw"&&(r=L1,n.method="throw",n.arg=c.arg)}}}function hG(e,t){var n=e.iterator[t.method];if(n===Ri){if(t.delegate=null,t.method==="throw"){if(e.iterator.return&&(t.method="return",t.arg=Ri,hG(e,t),t.method==="throw"))return ti;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return ti}var r=J6(n,e.iterator,t.arg);if(r.type==="throw")return t.method="throw",t.arg=r.arg,t.delegate=null,ti;var i=r.arg;if(!i)return t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,ti;if(i.done)t[e.resultName]=i.value,t.next=e.nextLoc,t.method!=="return"&&(t.method="next",t.arg=Ri);else return i;return t.delegate=null,ti}fG(vu);vu[Kp]="Generator";vu[Sy]=function(){return this};vu.toString=function(){return"[object Generator]"};function ywe(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function dv(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function n7(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(ywe,this),this.reset(!0)}function bwe(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function r(){for(;t.length;){var i=t.pop();if(i in e)return r.value=i,r.done=!1,r}return r.done=!0,r}}function Q6(e){if(e){var t=e[Sy];if(t)return t.call(e);if(typeof e.next=="function")return e;if(!isNaN(e.length)){var n=-1,r=function i(){for(;++n<e.length;)if(Ks.call(e,n))return i.value=e[n],i.done=!1,i;return i.value=Ri,i.done=!0,i};return r.next=r}}return{next:mG}}function mG(){return{value:Ri,done:!0}}n7.prototype={constructor:n7,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=Ri,this.done=!1,this.delegate=null,this.method="next",this.arg=Ri,this.tryEntries.forEach(dv),!t)for(var n in this)n.charAt(0)==="t"&&Ks.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=Ri)},stop:function(){this.done=!0;var t=this.tryEntries[0],n=t.completion;if(n.type==="throw")throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(c,u){return o.type="throw",o.arg=t,n.next=c,u&&(n.method="next",n.arg=Ri),!!u}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if(a.tryLoc==="root")return r("end");if(a.tryLoc<=this.prev){var s=Ks.call(a,"catchLoc"),l=Ks.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else if(l){if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&Ks.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&(t==="break"||t==="continue")&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=n,a?(this.method="next",this.next=a.finallyLoc,ti):this.complete(o)},complete:function(t,n){if(t.type==="throw")throw t.arg;return t.type==="break"||t.type==="continue"?this.next=t.arg:t.type==="return"?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):t.type==="normal"&&n&&(this.next=n),ti},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),dv(r),ti}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var i=r.completion;if(i.type==="throw"){var a=i.arg;dv(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:Q6(t),resultName:n,nextLoc:r},this.method==="next"&&(this.arg=Ri),ti}};var Wi={wrap:uG,isGeneratorFunction:dG,AsyncIterator:My,mark:hwe,awrap:mwe,async:pwe,keys:bwe,values:Q6},vwe=Ze;Ze.Node=P0;Ze.create=Ze;function Ze(e){var t=this;if(t instanceof Ze||(t=new Ze),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}Ze.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t};Ze.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};Ze.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};Ze.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)_we(this,arguments[e]);return this.length};Ze.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)wwe(this,arguments[e]);return this.length};Ze.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};Ze.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};Ze.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;n!==null;r++)e.call(t,n.value,r,this),n=n.next};Ze.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;n!==null;r--)e.call(t,n.value,r,this),n=n.prev};Ze.prototype.get=function(e){for(var t=0,n=this.head;n!==null&&t<e;t++)n=n.next;if(t===e&&n!==null)return n.value};Ze.prototype.getReverse=function(e){for(var t=0,n=this.tail;n!==null&&t<e;t++)n=n.prev;if(t===e&&n!==null)return n.value};Ze.prototype.map=function(e,t){t=t||this;for(var n=new Ze,r=this.head;r!==null;)n.push(e.call(t,r.value,this)),r=r.next;return n};Ze.prototype.mapReverse=function(e,t){t=t||this;for(var n=new Ze,r=this.tail;r!==null;)n.push(e.call(t,r.value,this)),r=r.prev;return n};Ze.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)n=e(n,r.value,i),r=r.next;return n};Ze.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)n=e(n,r.value,i),r=r.prev;return n};Ze.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;n!==null;t++)e[t]=n.value,n=n.next;return e};Ze.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;n!==null;t++)e[t]=n.value,n=n.prev;return e};Ze.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new Ze;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(;i!==null&&r<t;r++,i=i.next)n.push(i.value);return n};Ze.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new Ze;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,i=this.tail;i!==null&&r>t;r--)i=i.prev;for(;i!==null&&r>e;r--,i=i.prev)n.push(i.value);return n};Ze.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,r=this.head;r!==null&&n<e;n++)r=r.next;for(var i=[],n=0;r&&n<t;n++)i.push(r.value),r=this.removeNode(r);r===null&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev);for(var n=0;n<(arguments.length<=2?0:arguments.length-2);n++)r=xwe(this,r,n+2<2||arguments.length<=n+2?void 0:arguments[n+2]);return i};Ze.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};function xwe(e,t,n){var r=t===e.head?new P0(n,null,t,e):new P0(n,t,t.next,e);return r.next===null&&(e.tail=r),r.prev===null&&(e.head=r),e.length++,r}function _we(e,t){e.tail=new P0(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function wwe(e,t){e.head=new P0(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function P0(e,t,n,r){if(!(this instanceof P0))return new P0(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{Ze.prototype[Symbol.iterator]=Wi.mark(function e(){var t;return Wi.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t=this.head;case 1:if(!t){r.next=7;break}return r.next=4,t.value;case 4:t=t.next,r.next=1;break;case 7:case"end":return r.stop()}},e,this)})}catch{}var Twe=vwe,qs=Symbol("max"),$a=Symbol("length"),kl=Symbol("lengthCalculator"),Rf=Symbol("allowStale"),Qs=Symbol("maxAge"),La=Symbol("dispose"),fk=Symbol("noDisposeOnSet"),Ft=Symbol("lruList"),Hr=Symbol("cache"),pG=Symbol("updateAgeOnGet"),hv=()=>1;class Awe{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[qs]=t.max||1/0;var n=t.length||hv;if(this[kl]=typeof n!="function"?hv:n,this[Rf]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[Qs]=t.maxAge||0,this[La]=t.dispose,this[fk]=t.noDisposeOnSet||!1,this[pG]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[qs]=t||1/0,Xu(this)}get max(){return this[qs]}set allowStale(t){this[Rf]=!!t}get allowStale(){return this[Rf]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[Qs]=t,Xu(this)}get maxAge(){return this[Qs]}set lengthCalculator(t){typeof t!="function"&&(t=hv),t!==this[kl]&&(this[kl]=t,this[$a]=0,this[Ft].forEach(n=>{n.length=this[kl](n.value,n.key),this[$a]+=n.length})),Xu(this)}get lengthCalculator(){return this[kl]}get length(){return this[$a]}get itemCount(){return this[Ft].length}rforEach(t,n){n=n||this;for(var r=this[Ft].tail;r!==null;){var i=r.prev;dk(this,t,r,n),r=i}}forEach(t,n){n=n||this;for(var r=this[Ft].head;r!==null;){var i=r.next;dk(this,t,r,n),r=i}}keys(){return this[Ft].toArray().map(t=>t.key)}values(){return this[Ft].toArray().map(t=>t.value)}reset(){this[La]&&this[Ft]&&this[Ft].length&&this[Ft].forEach(t=>this[La](t.key,t.value)),this[Hr]=new Map,this[Ft]=new Twe,this[$a]=0}dump(){return this[Ft].map(t=>Qp(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[Ft]}set(t,n,r){if(r=r||this[Qs],r&&typeof r!="number")throw new TypeError("maxAge must be a number");var i=r?Date.now():0,a=this[kl](n,t);if(this[Hr].has(t)){if(a>this[qs])return ec(this,this[Hr].get(t)),!1;var o=this[Hr].get(t),s=o.value;return this[La]&&(this[fk]||this[La](t,s.value)),s.now=i,s.maxAge=r,s.value=n,this[$a]+=a-s.length,s.length=a,this.get(t),Xu(this),!0}var l=new Swe(t,n,a,i,r);return l.length>this[qs]?(this[La]&&this[La](t,n),!1):(this[$a]+=l.length,this[Ft].unshift(l),this[Hr].set(t,this[Ft].head),Xu(this),!0)}has(t){if(!this[Hr].has(t))return!1;var n=this[Hr].get(t).value;return!Qp(this,n)}get(t){return mv(this,t,!0)}peek(t){return mv(this,t,!1)}pop(){var t=this[Ft].tail;return t?(ec(this,t),t.value):null}del(t){ec(this,this[Hr].get(t))}load(t){this.reset();for(var n=Date.now(),r=t.length-1;r>=0;r--){var i=t[r],a=i.e||0;if(a===0)this.set(i.k,i.v);else{var o=a-n;o>0&&this.set(i.k,i.v,o)}}}prune(){this[Hr].forEach((t,n)=>mv(this,n,!1))}}var mv=(e,t,n)=>{var r=e[Hr].get(t);if(r){var i=r.value;if(Qp(e,i)){if(ec(e,r),!e[Rf])return}else n&&(e[pG]&&(r.value.now=Date.now()),e[Ft].unshiftNode(r));return i.value}},Qp=(e,t)=>{if(!t||!t.maxAge&&!e[Qs])return!1;var n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[Qs]&&n>e[Qs]},Xu=e=>{if(e[$a]>e[qs])for(var t=e[Ft].tail;e[$a]>e[qs]&&t!==null;){var n=t.prev;ec(e,t),t=n}},ec=(e,t)=>{if(t){var n=t.value;e[La]&&e[La](n.key,n.value),e[$a]-=n.length,e[Hr].delete(n.key),e[Ft].removeNode(t)}};class Swe{constructor(t,n,r,i,a){this.key=t,this.value=n,this.length=r,this.now=i,this.maxAge=a||0}}var dk=(e,t,n,r)=>{var i=n.value;Qp(e,i)&&(ec(e,n),e[Rf]||(i=void 0)),i&&t.call(r,i.value,i.key,e)},Ewe=Awe,Mwe=["includePrerelease","loose","rtl"],kwe=e=>e?typeof e!="object"?{loose:!0}:Mwe.filter(t=>e[t]).reduce((t,n)=>(t[n]=!0,t),{}):{},ew=kwe,ni={exports:{}},Owe="2.0.0",Cwe=256,Dwe=Number.MAX_SAFE_INTEGER||9007199254740991,Lwe=16,tw={SEMVER_SPEC_VERSION:Owe,MAX_LENGTH:Cwe,MAX_SAFE_INTEGER:Dwe,MAX_SAFE_COMPONENT_LENGTH:Lwe},Fwe=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.error("SEMVER",...t)}:()=>{},ky=Fwe;(function(e,t){var n=tw.MAX_SAFE_COMPONENT_LENGTH,r=ky;t=e.exports={};var i=t.re=[],a=t.src=[],o=t.t={},s=0,l=(c,u,f)=>{var d=s++;r(c,d,u),o[c]=d,a[d]=u,i[d]=new RegExp(u,f?"g":void 0)};l("NUMERICIDENTIFIER","0|[1-9]\\d*"),l("NUMERICIDENTIFIERLOOSE","[0-9]+"),l("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),l("MAINVERSION","(".concat(a[o.NUMERICIDENTIFIER],")\\.")+"(".concat(a[o.NUMERICIDENTIFIER],")\\.")+"(".concat(a[o.NUMERICIDENTIFIER],")")),l("MAINVERSIONLOOSE","(".concat(a[o.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(a[o.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(a[o.NUMERICIDENTIFIERLOOSE],")")),l("PRERELEASEIDENTIFIER","(?:".concat(a[o.NUMERICIDENTIFIER],"|").concat(a[o.NONNUMERICIDENTIFIER],")")),l("PRERELEASEIDENTIFIERLOOSE","(?:".concat(a[o.NUMERICIDENTIFIERLOOSE],"|").concat(a[o.NONNUMERICIDENTIFIER],")")),l("PRERELEASE","(?:-(".concat(a[o.PRERELEASEIDENTIFIER],"(?:\\.").concat(a[o.PRERELEASEIDENTIFIER],")*))")),l("PRERELEASELOOSE","(?:-?(".concat(a[o.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(a[o.PRERELEASEIDENTIFIERLOOSE],")*))")),l("BUILDIDENTIFIER","[0-9A-Za-z-]+"),l("BUILD","(?:\\+(".concat(a[o.BUILDIDENTIFIER],"(?:\\.").concat(a[o.BUILDIDENTIFIER],")*))")),l("FULLPLAIN","v?".concat(a[o.MAINVERSION]).concat(a[o.PRERELEASE],"?").concat(a[o.BUILD],"?")),l("FULL","^".concat(a[o.FULLPLAIN],"$")),l("LOOSEPLAIN","[v=\\s]*".concat(a[o.MAINVERSIONLOOSE]).concat(a[o.PRERELEASELOOSE],"?").concat(a[o.BUILD],"?")),l("LOOSE","^".concat(a[o.LOOSEPLAIN],"$")),l("GTLT","((?:<|>)?=?)"),l("XRANGEIDENTIFIERLOOSE","".concat(a[o.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),l("XRANGEIDENTIFIER","".concat(a[o.NUMERICIDENTIFIER],"|x|X|\\*")),l("XRANGEPLAIN","[v=\\s]*(".concat(a[o.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(a[o.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(a[o.XRANGEIDENTIFIER],")")+"(?:".concat(a[o.PRERELEASE],")?").concat(a[o.BUILD],"?")+")?)?"),l("XRANGEPLAINLOOSE","[v=\\s]*(".concat(a[o.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(a[o.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(a[o.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(a[o.PRERELEASELOOSE],")?").concat(a[o.BUILD],"?")+")?)?"),l("XRANGE","^".concat(a[o.GTLT],"\\s*").concat(a[o.XRANGEPLAIN],"$")),l("XRANGELOOSE","^".concat(a[o.GTLT],"\\s*").concat(a[o.XRANGEPLAINLOOSE],"$")),l("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(n,"})")+"(?:\\.(\\d{1,".concat(n,"}))?")+"(?:\\.(\\d{1,".concat(n,"}))?")+"(?:$|[^\\d])"),l("COERCERTL",a[o.COERCE],!0),l("LONETILDE","(?:~>?)"),l("TILDETRIM","(\\s*)".concat(a[o.LONETILDE],"\\s+"),!0),t.tildeTrimReplace="$1~",l("TILDE","^".concat(a[o.LONETILDE]).concat(a[o.XRANGEPLAIN],"$")),l("TILDELOOSE","^".concat(a[o.LONETILDE]).concat(a[o.XRANGEPLAINLOOSE],"$")),l("LONECARET","(?:\\^)"),l("CARETTRIM","(\\s*)".concat(a[o.LONECARET],"\\s+"),!0),t.caretTrimReplace="$1^",l("CARET","^".concat(a[o.LONECARET]).concat(a[o.XRANGEPLAIN],"$")),l("CARETLOOSE","^".concat(a[o.LONECARET]).concat(a[o.XRANGEPLAINLOOSE],"$")),l("COMPARATORLOOSE","^".concat(a[o.GTLT],"\\s*(").concat(a[o.LOOSEPLAIN],")$|^$")),l("COMPARATOR","^".concat(a[o.GTLT],"\\s*(").concat(a[o.FULLPLAIN],")$|^$")),l("COMPARATORTRIM","(\\s*)".concat(a[o.GTLT],"\\s*(").concat(a[o.LOOSEPLAIN],"|").concat(a[o.XRANGEPLAIN],")"),!0),t.comparatorTrimReplace="$1$2$3",l("HYPHENRANGE","^\\s*(".concat(a[o.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(a[o.XRANGEPLAIN],")")+"\\s*$"),l("HYPHENRANGELOOSE","^\\s*(".concat(a[o.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(a[o.XRANGEPLAINLOOSE],")")+"\\s*$"),l("STAR","(<|>)?=?\\s*\\*"),l("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),l("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(ni,ni.exports);var hk=/^[0-9]+$/,gG=(e,t)=>{var n=hk.test(e),r=hk.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},Bwe=(e,t)=>gG(t,e),$we={compareIdentifiers:gG,rcompareIdentifiers:Bwe},B1=ky,mk=tw.MAX_LENGTH,$1=tw.MAX_SAFE_INTEGER,pk=ni.exports.re,gk=ni.exports.t,Nwe=ew,Ol=$we.compareIdentifiers;class Yr{constructor(t,n){if(n=Nwe(n),t instanceof Yr){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError("Invalid Version: ".concat(t));if(t.length>mk)throw new TypeError("version is longer than ".concat(mk," characters"));B1("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;var r=t.trim().match(n.loose?pk[gk.LOOSE]:pk[gk.FULL]);if(!r)throw new TypeError("Invalid Version: ".concat(t));if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>$1||this.major<0)throw new TypeError("Invalid major version");if(this.minor>$1||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>$1||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){var a=+i;if(a>=0&&a<$1)return a}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}toString(){return this.version}compare(t){if(B1("SemVer.compare",this.version,this.options,t),!(t instanceof Yr)){if(typeof t=="string"&&t===this.version)return 0;t=new Yr(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Yr||(t=new Yr(t,this.options)),Ol(this.major,t.major)||Ol(this.minor,t.minor)||Ol(this.patch,t.patch)}comparePre(t){if(t instanceof Yr||(t=new Yr(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var n=0;do{var r=this.prerelease[n],i=t.prerelease[n];if(B1("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Ol(r,i)}while(++n)}compareBuild(t){t instanceof Yr||(t=new Yr(t,this.options));var n=0;do{var r=this.build[n],i=t.build[n];if(B1("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Ol(r,i)}while(++n)}inc(t,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n),this.inc("pre",n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n),this.inc("pre",n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}n&&(Ol(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=[n,0]):this.prerelease=[n,0]);break;default:throw new Error("invalid increment argument: ".concat(t))}return this.format(),this.raw=this.version,this}}var nw=Yr,yk=nw,Iwe=(e,t,n)=>new yk(e,n).compare(new yk(t,n)),xu=Iwe,Zwe=xu,Rwe=(e,t,n)=>Zwe(e,t,n)===0,Pwe=Rwe,jwe=xu,zwe=(e,t,n)=>jwe(e,t,n)!==0,Gwe=zwe,Uwe=xu,Wwe=(e,t,n)=>Uwe(e,t,n)>0,Hwe=Wwe,Ywe=xu,qwe=(e,t,n)=>Ywe(e,t,n)>=0,Vwe=qwe,Xwe=xu,Jwe=(e,t,n)=>Xwe(e,t,n)<0,Kwe=Jwe,Qwe=xu,eTe=(e,t,n)=>Qwe(e,t,n)<=0,tTe=eTe,nTe=Pwe,rTe=Gwe,iTe=Hwe,aTe=Vwe,oTe=Kwe,sTe=tTe,lTe=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return nTe(e,n,r);case"!=":return rTe(e,n,r);case">":return iTe(e,n,r);case">=":return aTe(e,n,r);case"<":return oTe(e,n,r);case"<=":return sTe(e,n,r);default:throw new TypeError("Invalid operator: ".concat(t))}},cTe=lTe,pv,bk;function uTe(){if(bk)return pv;bk=1;var e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(u,f){if(f=n(f),u instanceof t){if(u.loose===!!f.loose)return u;u=u.value}o("comparator",u,f),this.options=f,this.loose=!!f.loose,this.parse(u),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(u){var f=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],d=u.match(f);if(!d)throw new TypeError("Invalid comparator: ".concat(u));this.operator=d[1]!==void 0?d[1]:"",this.operator==="="&&(this.operator=""),d[2]?this.semver=new s(d[2],this.options.loose):this.semver=e}toString(){return this.value}test(u){if(o("Comparator.test",u,this.options.loose),this.semver===e||u===e)return!0;if(typeof u=="string")try{u=new s(u,this.options)}catch{return!1}return a(u,this.operator,this.semver,this.options)}intersects(u,f){if(!(u instanceof t))throw new TypeError("a Comparator is required");if((!f||typeof f!="object")&&(f={loose:!!f,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new l(u.value,f).test(this.value);if(u.operator==="")return u.value===""?!0:new l(this.value,f).test(u.semver);var d=(this.operator===">="||this.operator===">")&&(u.operator===">="||u.operator===">"),h=(this.operator==="<="||this.operator==="<")&&(u.operator==="<="||u.operator==="<"),m=this.semver.version===u.semver.version,g=(this.operator===">="||this.operator==="<=")&&(u.operator===">="||u.operator==="<="),p=a(this.semver,"<",u.semver,f)&&(this.operator===">="||this.operator===">")&&(u.operator==="<="||u.operator==="<"),y=a(this.semver,">",u.semver,f)&&(this.operator==="<="||this.operator==="<")&&(u.operator===">="||u.operator===">");return d||h||m&&g||p||y}}pv=t;var n=ew,r=ni.exports.re,i=ni.exports.t,a=cTe,o=ky,s=nw,l=yG();return pv}function vk(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=fTe(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return a=c.done,c},e:function(c){o=!0,s=c},f:function(){try{!a&&n.return!=null&&n.return()}finally{if(o)throw s}}}}function fTe(e,t){if(e){if(typeof e=="string")return xk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xk(e,t)}}function xk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gv,_k;function yG(){if(_k)return gv;_k=1;class e{constructor(L,D){if(D=r(D),L instanceof e)return L.loose===!!D.loose&&L.includePrerelease===!!D.includePrerelease?L:new e(L.raw,D);if(L instanceof i)return this.raw=L.value,this.set=[[L]],this.format(),this;if(this.options=D,this.loose=!!D.loose,this.includePrerelease=!!D.includePrerelease,this.raw=L,this.set=L.split("||").map($=>this.parseRange($.trim())).filter($=>$.length),!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(L));if(this.set.length>1){var E=this.set[0];if(this.set=this.set.filter($=>!d($[0])),this.set.length===0)this.set=[E];else if(this.set.length>1){var O=vk(this.set),k;try{for(O.s();!(k=O.n()).done;){var F=k.value;if(F.length===1&&h(F[0])){this.set=[F];break}}}catch($){O.e($)}finally{O.f()}}}this.format()}format(){return this.range=this.set.map(L=>L.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(L){L=L.trim();var D=Object.keys(this.options).join(","),E="parseRange:".concat(D,":").concat(L),O=n.get(E);if(O)return O;var k=this.options.loose,F=k?s[l.HYPHENRANGELOOSE]:s[l.HYPHENRANGE];L=L.replace(F,C(this.options.includePrerelease)),a("hyphen replace",L),L=L.replace(s[l.COMPARATORTRIM],c),a("comparator trim",L),L=L.replace(s[l.TILDETRIM],u),L=L.replace(s[l.CARETTRIM],f),L=L.split(/\s+/).join(" ");var $=L.split(" ").map(fe=>g(fe,this.options)).join(" ").split(/\s+/).map(fe=>S(fe,this.options));k&&($=$.filter(fe=>(a("loose invalid filter",fe,this.options),!!fe.match(s[l.COMPARATORLOOSE])))),a("range list",$);var N=new Map,R=$.map(fe=>new i(fe,this.options)),Y=vk(R),K;try{for(Y.s();!(K=Y.n()).done;){var me=K.value;if(d(me))return[me];N.set(me.value,me)}}catch(fe){Y.e(fe)}finally{Y.f()}N.size>1&&N.has("")&&N.delete("");var pe=[...N.values()];return n.set(E,pe),pe}intersects(L,D){if(!(L instanceof e))throw new TypeError("a Range is required");return this.set.some(E=>m(E,D)&&L.set.some(O=>m(O,D)&&E.every(k=>O.every(F=>k.intersects(F,D)))))}test(L){if(!L)return!1;if(typeof L=="string")try{L=new o(L,this.options)}catch{return!1}for(var D=0;D<this.set.length;D++)if(M(this.set[D],L,this.options))return!0;return!1}}gv=e;var t=Ewe,n=new t({max:1e3}),r=ew,i=uTe(),a=ky,o=nw,s=ni.exports.re,l=ni.exports.t,c=ni.exports.comparatorTrimReplace,u=ni.exports.tildeTrimReplace,f=ni.exports.caretTrimReplace,d=A=>A.value==="<0.0.0-0",h=A=>A.value==="",m=(A,L)=>{for(var D=!0,E=A.slice(),O=E.pop();D&&E.length;)D=E.every(k=>O.intersects(k,L)),O=E.pop();return D},g=(A,L)=>(a("comp",A,L),A=v(A,L),a("caret",A),A=y(A,L),a("tildes",A),A=_(A,L),a("xrange",A),A=w(A,L),a("stars",A),A),p=A=>!A||A.toLowerCase()==="x"||A==="*",y=(A,L)=>A.trim().split(/\s+/).map(D=>b(D,L)).join(" "),b=(A,L)=>{var D=L.loose?s[l.TILDELOOSE]:s[l.TILDE];return A.replace(D,(E,O,k,F,$)=>{a("tilde",A,E,O,k,F,$);var N;return p(O)?N="":p(k)?N=">=".concat(O,".0.0 <").concat(+O+1,".0.0-0"):p(F)?N=">=".concat(O,".").concat(k,".0 <").concat(O,".").concat(+k+1,".0-0"):$?(a("replaceTilde pr",$),N=">=".concat(O,".").concat(k,".").concat(F,"-").concat($," <").concat(O,".").concat(+k+1,".0-0")):N=">=".concat(O,".").concat(k,".").concat(F," <").concat(O,".").concat(+k+1,".0-0"),a("tilde return",N),N})},v=(A,L)=>A.trim().split(/\s+/).map(D=>x(D,L)).join(" "),x=(A,L)=>{a("caret",A,L);var D=L.loose?s[l.CARETLOOSE]:s[l.CARET],E=L.includePrerelease?"-0":"";return A.replace(D,(O,k,F,$,N)=>{a("caret",A,O,k,F,$,N);var R;return p(k)?R="":p(F)?R=">=".concat(k,".0.0").concat(E," <").concat(+k+1,".0.0-0"):p($)?k==="0"?R=">=".concat(k,".").concat(F,".0").concat(E," <").concat(k,".").concat(+F+1,".0-0"):R=">=".concat(k,".").concat(F,".0").concat(E," <").concat(+k+1,".0.0-0"):N?(a("replaceCaret pr",N),k==="0"?F==="0"?R=">=".concat(k,".").concat(F,".").concat($,"-").concat(N," <").concat(k,".").concat(F,".").concat(+$+1,"-0"):R=">=".concat(k,".").concat(F,".").concat($,"-").concat(N," <").concat(k,".").concat(+F+1,".0-0"):R=">=".concat(k,".").concat(F,".").concat($,"-").concat(N," <").concat(+k+1,".0.0-0")):(a("no pr"),k==="0"?F==="0"?R=">=".concat(k,".").concat(F,".").concat($).concat(E," <").concat(k,".").concat(F,".").concat(+$+1,"-0"):R=">=".concat(k,".").concat(F,".").concat($).concat(E," <").concat(k,".").concat(+F+1,".0-0"):R=">=".concat(k,".").concat(F,".").concat($," <").concat(+k+1,".0.0-0")),a("caret return",R),R})},_=(A,L)=>(a("replaceXRanges",A,L),A.split(/\s+/).map(D=>T(D,L)).join(" ")),T=(A,L)=>{A=A.trim();var D=L.loose?s[l.XRANGELOOSE]:s[l.XRANGE];return A.replace(D,(E,O,k,F,$,N)=>{a("xRange",A,E,O,k,F,$,N);var R=p(k),Y=R||p(F),K=Y||p($),me=K;return O==="="&&me&&(O=""),N=L.includePrerelease?"-0":"",R?O===">"||O==="<"?E="<0.0.0-0":E="*":O&&me?(Y&&(F=0),$=0,O===">"?(O=">=",Y?(k=+k+1,F=0,$=0):(F=+F+1,$=0)):O==="<="&&(O="<",Y?k=+k+1:F=+F+1),O==="<"&&(N="-0"),E="".concat(O+k,".").concat(F,".").concat($).concat(N)):Y?E=">=".concat(k,".0.0").concat(N," <").concat(+k+1,".0.0-0"):K&&(E=">=".concat(k,".").concat(F,".0").concat(N," <").concat(k,".").concat(+F+1,".0-0")),a("xRange return",E),E})},w=(A,L)=>(a("replaceStars",A,L),A.trim().replace(s[l.STAR],"")),S=(A,L)=>(a("replaceGTE0",A,L),A.trim().replace(s[L.includePrerelease?l.GTE0PRE:l.GTE0],"")),C=A=>(L,D,E,O,k,F,$,N,R,Y,K,me,pe)=>(p(E)?D="":p(O)?D=">=".concat(E,".0.0").concat(A?"-0":""):p(k)?D=">=".concat(E,".").concat(O,".0").concat(A?"-0":""):F?D=">=".concat(D):D=">=".concat(D).concat(A?"-0":""),p(R)?N="":p(Y)?N="<".concat(+R+1,".0.0-0"):p(K)?N="<".concat(R,".").concat(+Y+1,".0-0"):me?N="<=".concat(R,".").concat(Y,".").concat(K,"-").concat(me):A?N="<".concat(R,".").concat(Y,".").concat(+K+1,"-0"):N="<=".concat(N),"".concat(D," ").concat(N).trim()),M=(A,L,D)=>{for(var E=0;E<A.length;E++)if(!A[E].test(L))return!1;if(L.prerelease.length&&!D.includePrerelease){for(var O=0;O<A.length;O++)if(a(A[O].semver),A[O].semver!==i.ANY&&A[O].semver.prerelease.length>0){var k=A[O].semver;if(k.major===L.major&&k.minor===L.minor&&k.patch===L.patch)return!0}return!1}return!0};return gv}var dTe=yG(),hTe=(e,t,n)=>{try{t=new dTe(t,n)}catch{return!1}return t.test(e)},bG=hTe;function mTe(e,t,n){var r=e.open(t),i=1e4,a=250,o=new URL(t),s=o.origin,l=~~(i/a);function c(f){f.source===r&&(l=0,e.removeEventListener("message",c,!1))}e.addEventListener("message",c,!1);function u(){l<=0||(r.postMessage(n,s),setTimeout(u,a),l-=1)}setTimeout(u,a)}var pTe=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e});function vG(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];gTe(e,o)}return e}function gTe(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];tu(e,i,t[i],!0)}}var yv;function yTe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=bTe(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return a=c.done,c},e:function(c){o=!0,s=c},f:function(){try{!a&&n.return!=null&&n.return()}finally{if(o)throw s}}}}function bTe(e,t){if(e){if(typeof e=="string")return wk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wk(e,t)}}function wk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Po(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tk(Object(n),!0).forEach(function(r){uwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Fi=Nbe,Od=o6e,N1=typeof window<"u"?window:void 0;Od===void 0&&N1!==null&&N1!==void 0&&(yv=N1.vl)!==null&&yv!==void 0&&yv.compile&&(Od=N1.vl);var vTe={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},xTe={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},Tf={vega:"Vega","vega-lite":"Vega-Lite"},eg={vega:Fi.version,"vega-lite":Od?Od.version:"not available"},_Te={vega:e=>e,"vega-lite":(e,t)=>Od.compile(e,{config:t}).spec},wTe=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,TTe="chart-wrapper";function ATe(e){return typeof e=="function"}function Ak(e,t,n,r){var i="<html><head>".concat(t,'</head><body><pre><code class="json">'),a="</code></pre>".concat(n,"</body></html>"),o=window.open("");o.document.write(i+e+a),o.document.title="".concat(Tf[r]," JSON Source")}function STe(e,t){if(e.$schema){var n=aG(e.$schema);if(t&&t!==n.library){var r;console.warn("The given visualization spec is written in ".concat(Tf[n.library],", but mode argument sets ").concat((r=Tf[t])!==null&&r!==void 0?r:t,"."))}var i=n.library;return bG(eg[i],"^".concat(n.version.slice(1)))||console.warn("The input spec uses ".concat(Tf[i]," ").concat(n.version,", but the current version of ").concat(Tf[i]," is v").concat(eg[i],".")),i}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function ETe(e){return!!(e&&"load"in e)}function Sk(e){return ETe(e)?e:Fi.loader(e)}function MTe(e){var t,n,r=(t=(n=e.usermeta)===null||n===void 0?void 0:n.embedOptions)!==null&&t!==void 0?t:{};return J(r.defaultStyle)&&(r.defaultStyle=!1),r}function Lt(e,t){return r7.apply(this,arguments)}function r7(){return r7=Jp(Wi.mark(function e(t,n){var r,i,a,o,s,l,c,u,f,d,h,m=arguments;return Wi.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(a=m.length>2&&m[2]!==void 0?m[2]:{},!J(n)){p.next=10;break}return s=Sk(a.loader),p.t0=JSON,p.next=6,s.load(n);case 6:p.t1=p.sent,o=p.t0.parse.call(p.t0,p.t1),p.next=11;break;case 10:o=n;case 11:return l=MTe(o),c=l.loader,(!s||c)&&(s=Sk((u=a.loader)!==null&&u!==void 0?u:c)),p.next=16,Ek(l,s);case 16:return f=p.sent,p.next=19,Ek(a,s);case 19:return d=p.sent,h=Po(Po({},vG(d,f)),{},{config:eu((r=d.config)!==null&&r!==void 0?r:{},(i=f.config)!==null&&i!==void 0?i:{})}),p.next=23,OTe(t,o,h,s);case 23:return p.abrupt("return",p.sent);case 24:case"end":return p.stop()}},e)})),r7.apply(this,arguments)}function Ek(e,t){return i7.apply(this,arguments)}function i7(){return i7=Jp(Wi.mark(function e(t,n){var r,i,a;return Wi.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!J(t.config)){s.next=8;break}return s.t1=JSON,s.next=4,n.load(t.config);case 4:s.t2=s.sent,s.t0=s.t1.parse.call(s.t1,s.t2),s.next=9;break;case 8:s.t0=(r=t.config)!==null&&r!==void 0?r:{};case 9:if(i=s.t0,!J(t.patch)){s.next=18;break}return s.t4=JSON,s.next=14,n.load(t.patch);case 14:s.t5=s.sent,s.t3=s.t4.parse.call(s.t4,s.t5),s.next=19;break;case 18:s.t3=t.patch;case 19:return a=s.t3,s.abrupt("return",Po(Po(Po({},t),a?{patch:a}:{}),i?{config:i}:{}));case 21:case"end":return s.stop()}},e)})),i7.apply(this,arguments)}function kTe(e){var t,n=e.getRootNode?e.getRootNode():document;return n instanceof ShadowRoot?{root:n,rootContainer:n}:{root:document,rootContainer:(t=document.head)!==null&&t!==void 0?t:document.body}}function OTe(e,t){return a7.apply(this,arguments)}function a7(){return a7=Jp(Wi.mark(function e(t,n){var r,i,a,o,s,l,c,u,f,d,h,m,g,p,y,b,v,x,_,T,w,S,C,M,A,L,D,E,O,k,F,$,N,R,Y,K,me,pe,fe,Le,Te,Be,X,he,ye,z,Re,Se,lt,at,ce,Ue=arguments;return Wi.wrap(function(xn){for(;;)switch(xn.prev=xn.next){case 0:if(ce=function(){pe&&document.removeEventListener("click",pe),$.finalize()},u=Ue.length>2&&Ue[2]!==void 0?Ue[2]:{},f=Ue.length>3?Ue[3]:void 0,d=u.theme?eu(ewe[u.theme],(r=u.config)!==null&&r!==void 0?r:{}):u.config,h=ms(u.actions)?u.actions:vG({},vTe,(i=u.actions)!==null&&i!==void 0?i:{}),m=Po(Po({},xTe),u.i18n),g=(a=u.renderer)!==null&&a!==void 0?a:"canvas",p=(o=u.logLevel)!==null&&o!==void 0?o:Fi.Warn,y=(s=u.downloadFileName)!==null&&s!==void 0?s:"visualization",b=typeof t=="string"?document.querySelector(t):t,b){xn.next=12;break}throw new Error("".concat(t," does not exist"));case 12:if(u.defaultStyle!==!1&&(v="vega-embed-style",x=kTe(b),_=x.root,T=x.rootContainer,_.getElementById(v)||(w=document.createElement("style"),w.id=v,w.innerHTML=u.defaultStyle===void 0||u.defaultStyle===!0?pTe.toString():u.defaultStyle,T.appendChild(w))),S=STe(n,u.mode),C=_Te[S](n,d),S==="vega-lite"&&C.$schema&&(M=aG(C.$schema),bG(eg.vega,"^".concat(M.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(M.version,", but current version is v").concat(eg.vega,"."))),b.classList.add("vega-embed"),h&&b.classList.add("has-actions"),b.innerHTML="",A=b,h&&(L=document.createElement("div"),L.classList.add(TTe),b.appendChild(L),A=L),D=u.patch,D&&(C=D instanceof Function?D(C):Wg(C,D,!0,!1).newDocument),u.formatLocale&&Fi.formatLocale(u.formatLocale),u.timeFormatLocale&&Fi.timeFormatLocale(u.timeFormatLocale),u.expressionFunctions)for(E in u.expressionFunctions)O=u.expressionFunctions[E],"fn"in O?Fi.expressionFunction(E,O.fn,O.visitor):O instanceof Function&&Fi.expressionFunction(E,O);return k=u.ast,F=Fi.parse(C,S==="vega-lite"?{}:d,{ast:k}),$=new(u.viewClass||Fi.View)(F,Po({loader:f,logLevel:p,renderer:g},k?{expr:(l=(c=Fi.expressionInterpreter)!==null&&c!==void 0?c:u.expr)!==null&&l!==void 0?l:Hbe}:{})),$.addSignalListener("autosize",(xr,Zn)=>{var ir=Zn.type;ir=="fit-x"?(A.classList.add("fit-x"),A.classList.remove("fit-y")):ir=="fit-y"?(A.classList.remove("fit-x"),A.classList.add("fit-y")):ir=="fit"?A.classList.add("fit-x","fit-y"):A.classList.remove("fit-x","fit-y")}),u.tooltip!==!1&&(N=ATe(u.tooltip)?u.tooltip:new cwe(u.tooltip===!0?{}:u.tooltip).call,$.tooltip(N)),R=u.hover,R===void 0&&(R=S==="vega"),R&&(Y=typeof R=="boolean"?{}:R,K=Y.hoverSet,me=Y.updateSet,$.hover(K,me)),u&&(u.width!=null&&$.width(u.width),u.height!=null&&$.height(u.height),u.padding!=null&&$.padding(u.padding)),xn.next=37,$.initialize(A,u.bind).runAsync();case 37:if(h!==!1){if(fe=b,u.defaultStyle!==!1&&(Le=document.createElement("details"),Le.title=m.CLICK_TO_VIEW_ACTIONS,b.append(Le),fe=Le,Te=document.createElement("summary"),Te.innerHTML=wTe,Le.append(Te),pe=xr=>{Le.contains(xr.target)||Le.removeAttribute("open")},document.addEventListener("click",pe)),Be=document.createElement("div"),fe.append(Be),Be.classList.add("vega-actions"),h===!0||h.export!==!1){X=yTe(["svg","png"]);try{for(ye=function(){var Zn=he.value;if(h===!0||h.export===!0||h.export[Zn]){var ir=m["".concat(Zn.toUpperCase(),"_ACTION")],ll=document.createElement("a");ll.text=ir,ll.href="#",ll.target="_blank",ll.download="".concat(y,".").concat(Zn),ll.addEventListener("mousedown",function(){var SG=Jp(Wi.mark(function rw(EG){var iw;return Wi.wrap(function(_u){for(;;)switch(_u.prev=_u.next){case 0:return EG.preventDefault(),_u.next=3,$.toImageURL(Zn,u.scaleFactor);case 3:iw=_u.sent,this.href=iw;case 5:case"end":return _u.stop()}},rw,this)}));return function(rw){return SG.apply(this,arguments)}}()),Be.append(ll)}},X.s();!(he=X.n()).done;)ye()}catch(xr){X.e(xr)}finally{X.f()}}(h===!0||h.source!==!1)&&(z=document.createElement("a"),z.text=m.SOURCE_ACTION,z.href="#",z.addEventListener("click",function(xr){var Zn,ir;Ak(xb(n),(Zn=u.sourceHeader)!==null&&Zn!==void 0?Zn:"",(ir=u.sourceFooter)!==null&&ir!==void 0?ir:"",S),xr.preventDefault()}),Be.append(z)),S==="vega-lite"&&(h===!0||h.compiled!==!1)&&(Re=document.createElement("a"),Re.text=m.COMPILED_ACTION,Re.href="#",Re.addEventListener("click",function(xr){var Zn,ir;Ak(xb(C),(Zn=u.sourceHeader)!==null&&Zn!==void 0?Zn:"",(ir=u.sourceFooter)!==null&&ir!==void 0?ir:"","vega"),xr.preventDefault()}),Be.append(Re)),(h===!0||h.editor!==!1)&&(lt=(Se=u.editorUrl)!==null&&Se!==void 0?Se:"https://vega.github.io/editor/",at=document.createElement("a"),at.text=m.EDITOR_ACTION,at.href="#",at.addEventListener("click",function(xr){mTe(window,lt,{config:d,mode:S,renderer:g,spec:xb(n)}),xr.preventDefault()}),Be.append(at))}return xn.abrupt("return",{view:$,spec:n,vgSpec:C,finalize:ce,embedOptions:u});case 39:case"end":return xn.stop()}},e)})),a7.apply(this,arguments)}const CTe=e=>{Lt(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:[{a:"A",b:28},{a:"B",b:55},{a:"C",b:33},{a:"D",b:91},{a:"E",b:81},{a:"F",b:53},{a:"G",b:19},{a:"H",b:87},{a:"I",b:52}]},mark:"tick",encoding:{x:{field:"b",type:"quantitative"}}})},xG=[{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":39.1,"Beak Depth (mm)":18.7,"Flipper Length (mm)":181,"Body Mass (g)":3750,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":39.5,"Beak Depth (mm)":17.4,"Flipper Length (mm)":186,"Body Mass (g)":3800,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":40.3,"Beak Depth (mm)":18,"Flipper Length (mm)":195,"Body Mass (g)":3250,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":null,"Beak Depth (mm)":null,"Flipper Length (mm)":null,"Body Mass (g)":null,Sex:null},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":36.7,"Beak Depth (mm)":19.3,"Flipper Length (mm)":193,"Body Mass (g)":3450,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":39.3,"Beak Depth (mm)":20.6,"Flipper Length (mm)":190,"Body Mass (g)":3650,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":38.9,"Beak Depth (mm)":17.8,"Flipper Length (mm)":181,"Body Mass (g)":3625,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":39.2,"Beak Depth (mm)":19.6,"Flipper Length (mm)":195,"Body Mass (g)":4675,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":34.1,"Beak Depth (mm)":18.1,"Flipper Length (mm)":193,"Body Mass (g)":3475,Sex:null},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":42,"Beak Depth (mm)":20.2,"Flipper Length (mm)":190,"Body Mass (g)":4250,Sex:null},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":37.8,"Beak Depth (mm)":17.1,"Flipper Length (mm)":186,"Body Mass (g)":3300,Sex:null},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":37.8,"Beak Depth (mm)":17.3,"Flipper Length (mm)":180,"Body Mass (g)":3700,Sex:null},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":41.1,"Beak Depth (mm)":17.6,"Flipper Length (mm)":182,"Body Mass (g)":3200,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":38.6,"Beak Depth (mm)":21.2,"Flipper Length (mm)":191,"Body Mass (g)":3800,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":34.6,"Beak Depth (mm)":21.1,"Flipper Length (mm)":198,"Body Mass (g)":4400,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":36.6,"Beak Depth (mm)":17.8,"Flipper Length (mm)":185,"Body Mass (g)":3700,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":38.7,"Beak Depth (mm)":19,"Flipper Length (mm)":195,"Body Mass (g)":3450,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":42.5,"Beak Depth (mm)":20.7,"Flipper Length (mm)":197,"Body Mass (g)":4500,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":34.4,"Beak Depth (mm)":18.4,"Flipper Length (mm)":184,"Body Mass (g)":3325,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":46,"Beak Depth (mm)":21.5,"Flipper Length (mm)":194,"Body Mass (g)":4200,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":37.8,"Beak Depth (mm)":18.3,"Flipper Length (mm)":174,"Body Mass (g)":3400,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":37.7,"Beak Depth (mm)":18.7,"Flipper Length (mm)":180,"Body Mass (g)":3600,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":35.9,"Beak Depth (mm)":19.2,"Flipper Length (mm)":189,"Body Mass (g)":3800,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":38.2,"Beak Depth (mm)":18.1,"Flipper Length (mm)":185,"Body Mass (g)":3950,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":38.8,"Beak Depth (mm)":17.2,"Flipper Length (mm)":180,"Body Mass (g)":3800,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":35.3,"Beak Depth (mm)":18.9,"Flipper Length (mm)":187,"Body Mass (g)":3800,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":40.6,"Beak Depth (mm)":18.6,"Flipper Length (mm)":183,"Body Mass (g)":3550,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":40.5,"Beak Depth (mm)":17.9,"Flipper Length (mm)":187,"Body Mass (g)":3200,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":37.9,"Beak Depth (mm)":18.6,"Flipper Length (mm)":172,"Body Mass (g)":3150,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":40.5,"Beak Depth (mm)":18.9,"Flipper Length (mm)":180,"Body Mass (g)":3950,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":39.5,"Beak Depth (mm)":16.7,"Flipper Length (mm)":178,"Body Mass (g)":3250,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":37.2,"Beak Depth (mm)":18.1,"Flipper Length (mm)":178,"Body Mass (g)":3900,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":39.5,"Beak Depth (mm)":17.8,"Flipper Length (mm)":188,"Body Mass (g)":3300,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":40.9,"Beak Depth (mm)":18.9,"Flipper Length (mm)":184,"Body Mass (g)":3900,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":36.4,"Beak Depth (mm)":17,"Flipper Length (mm)":195,"Body Mass (g)":3325,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":39.2,"Beak Depth (mm)":21.1,"Flipper Length (mm)":196,"Body Mass (g)":4150,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":38.8,"Beak Depth (mm)":20,"Flipper Length (mm)":190,"Body Mass (g)":3950,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":42.2,"Beak Depth (mm)":18.5,"Flipper Length (mm)":180,"Body Mass (g)":3550,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":37.6,"Beak Depth (mm)":19.3,"Flipper Length (mm)":181,"Body Mass (g)":3300,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":39.8,"Beak Depth (mm)":19.1,"Flipper Length (mm)":184,"Body Mass (g)":4650,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":36.5,"Beak Depth (mm)":18,"Flipper Length (mm)":182,"Body Mass (g)":3150,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":40.8,"Beak Depth (mm)":18.4,"Flipper Length (mm)":195,"Body Mass (g)":3900,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":36,"Beak Depth (mm)":18.5,"Flipper Length (mm)":186,"Body Mass (g)":3100,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":44.1,"Beak Depth (mm)":19.7,"Flipper Length (mm)":196,"Body Mass (g)":4400,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":37,"Beak Depth (mm)":16.9,"Flipper Length (mm)":185,"Body Mass (g)":3e3,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":39.6,"Beak Depth (mm)":18.8,"Flipper Length (mm)":190,"Body Mass (g)":4600,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":41.1,"Beak Depth (mm)":19,"Flipper Length (mm)":182,"Body Mass (g)":3425,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":37.5,"Beak Depth (mm)":18.9,"Flipper Length (mm)":179,"Body Mass (g)":2975,Sex:null},{Species:"Adelie",Island:"Dream","Beak Length (mm)":36,"Beak Depth (mm)":17.9,"Flipper Length (mm)":190,"Body Mass (g)":3450,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":42.3,"Beak Depth (mm)":21.2,"Flipper Length (mm)":191,"Body Mass (g)":4150,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":39.6,"Beak Depth (mm)":17.7,"Flipper Length (mm)":186,"Body Mass (g)":3500,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":40.1,"Beak Depth (mm)":18.9,"Flipper Length (mm)":188,"Body Mass (g)":4300,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":35,"Beak Depth (mm)":17.9,"Flipper Length (mm)":190,"Body Mass (g)":3450,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":42,"Beak Depth (mm)":19.5,"Flipper Length (mm)":200,"Body Mass (g)":4050,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":34.5,"Beak Depth (mm)":18.1,"Flipper Length (mm)":187,"Body Mass (g)":2900,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":41.4,"Beak Depth (mm)":18.6,"Flipper Length (mm)":191,"Body Mass (g)":3700,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":39,"Beak Depth (mm)":17.5,"Flipper Length (mm)":186,"Body Mass (g)":3550,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":40.6,"Beak Depth (mm)":18.8,"Flipper Length (mm)":193,"Body Mass (g)":3800,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":36.5,"Beak Depth (mm)":16.6,"Flipper Length (mm)":181,"Body Mass (g)":2850,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":37.6,"Beak Depth (mm)":19.1,"Flipper Length (mm)":194,"Body Mass (g)":3750,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":35.7,"Beak Depth (mm)":16.9,"Flipper Length (mm)":185,"Body Mass (g)":3150,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":41.3,"Beak Depth (mm)":21.1,"Flipper Length (mm)":195,"Body Mass (g)":4400,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":37.6,"Beak Depth (mm)":17,"Flipper Length (mm)":185,"Body Mass (g)":3600,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":41.1,"Beak Depth (mm)":18.2,"Flipper Length (mm)":192,"Body Mass (g)":4050,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":36.4,"Beak Depth (mm)":17.1,"Flipper Length (mm)":184,"Body Mass (g)":2850,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":41.6,"Beak Depth (mm)":18,"Flipper Length (mm)":192,"Body Mass (g)":3950,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":35.5,"Beak Depth (mm)":16.2,"Flipper Length (mm)":195,"Body Mass (g)":3350,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":41.1,"Beak Depth (mm)":19.1,"Flipper Length (mm)":188,"Body Mass (g)":4100,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":35.9,"Beak Depth (mm)":16.6,"Flipper Length (mm)":190,"Body Mass (g)":3050,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":41.8,"Beak Depth (mm)":19.4,"Flipper Length (mm)":198,"Body Mass (g)":4450,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":33.5,"Beak Depth (mm)":19,"Flipper Length (mm)":190,"Body Mass (g)":3600,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":39.7,"Beak Depth (mm)":18.4,"Flipper Length (mm)":190,"Body Mass (g)":3900,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":39.6,"Beak Depth (mm)":17.2,"Flipper Length (mm)":196,"Body Mass (g)":3550,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":45.8,"Beak Depth (mm)":18.9,"Flipper Length (mm)":197,"Body Mass (g)":4150,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":35.5,"Beak Depth (mm)":17.5,"Flipper Length (mm)":190,"Body Mass (g)":3700,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":42.8,"Beak Depth (mm)":18.5,"Flipper Length (mm)":195,"Body Mass (g)":4250,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":40.9,"Beak Depth (mm)":16.8,"Flipper Length (mm)":191,"Body Mass (g)":3700,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":37.2,"Beak Depth (mm)":19.4,"Flipper Length (mm)":184,"Body Mass (g)":3900,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":36.2,"Beak Depth (mm)":16.1,"Flipper Length (mm)":187,"Body Mass (g)":3550,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":42.1,"Beak Depth (mm)":19.1,"Flipper Length (mm)":195,"Body Mass (g)":4e3,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":34.6,"Beak Depth (mm)":17.2,"Flipper Length (mm)":189,"Body Mass (g)":3200,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":42.9,"Beak Depth (mm)":17.6,"Flipper Length (mm)":196,"Body Mass (g)":4700,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":36.7,"Beak Depth (mm)":18.8,"Flipper Length (mm)":187,"Body Mass (g)":3800,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":35.1,"Beak Depth (mm)":19.4,"Flipper Length (mm)":193,"Body Mass (g)":4200,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":37.3,"Beak Depth (mm)":17.8,"Flipper Length (mm)":191,"Body Mass (g)":3350,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":41.3,"Beak Depth (mm)":20.3,"Flipper Length (mm)":194,"Body Mass (g)":3550,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":36.3,"Beak Depth (mm)":19.5,"Flipper Length (mm)":190,"Body Mass (g)":3800,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":36.9,"Beak Depth (mm)":18.6,"Flipper Length (mm)":189,"Body Mass (g)":3500,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":38.3,"Beak Depth (mm)":19.2,"Flipper Length (mm)":189,"Body Mass (g)":3950,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":38.9,"Beak Depth (mm)":18.8,"Flipper Length (mm)":190,"Body Mass (g)":3600,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":35.7,"Beak Depth (mm)":18,"Flipper Length (mm)":202,"Body Mass (g)":3550,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":41.1,"Beak Depth (mm)":18.1,"Flipper Length (mm)":205,"Body Mass (g)":4300,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":34,"Beak Depth (mm)":17.1,"Flipper Length (mm)":185,"Body Mass (g)":3400,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":39.6,"Beak Depth (mm)":18.1,"Flipper Length (mm)":186,"Body Mass (g)":4450,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":36.2,"Beak Depth (mm)":17.3,"Flipper Length (mm)":187,"Body Mass (g)":3300,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":40.8,"Beak Depth (mm)":18.9,"Flipper Length (mm)":208,"Body Mass (g)":4300,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":38.1,"Beak Depth (mm)":18.6,"Flipper Length (mm)":190,"Body Mass (g)":3700,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":40.3,"Beak Depth (mm)":18.5,"Flipper Length (mm)":196,"Body Mass (g)":4350,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":33.1,"Beak Depth (mm)":16.1,"Flipper Length (mm)":178,"Body Mass (g)":2900,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":43.2,"Beak Depth (mm)":18.5,"Flipper Length (mm)":192,"Body Mass (g)":4100,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":35,"Beak Depth (mm)":17.9,"Flipper Length (mm)":192,"Body Mass (g)":3725,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":41,"Beak Depth (mm)":20,"Flipper Length (mm)":203,"Body Mass (g)":4725,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":37.7,"Beak Depth (mm)":16,"Flipper Length (mm)":183,"Body Mass (g)":3075,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":37.8,"Beak Depth (mm)":20,"Flipper Length (mm)":190,"Body Mass (g)":4250,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":37.9,"Beak Depth (mm)":18.6,"Flipper Length (mm)":193,"Body Mass (g)":2925,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":39.7,"Beak Depth (mm)":18.9,"Flipper Length (mm)":184,"Body Mass (g)":3550,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":38.6,"Beak Depth (mm)":17.2,"Flipper Length (mm)":199,"Body Mass (g)":3750,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":38.2,"Beak Depth (mm)":20,"Flipper Length (mm)":190,"Body Mass (g)":3900,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":38.1,"Beak Depth (mm)":17,"Flipper Length (mm)":181,"Body Mass (g)":3175,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":43.2,"Beak Depth (mm)":19,"Flipper Length (mm)":197,"Body Mass (g)":4775,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":38.1,"Beak Depth (mm)":16.5,"Flipper Length (mm)":198,"Body Mass (g)":3825,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":45.6,"Beak Depth (mm)":20.3,"Flipper Length (mm)":191,"Body Mass (g)":4600,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":39.7,"Beak Depth (mm)":17.7,"Flipper Length (mm)":193,"Body Mass (g)":3200,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":42.2,"Beak Depth (mm)":19.5,"Flipper Length (mm)":197,"Body Mass (g)":4275,Sex:"MALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":39.6,"Beak Depth (mm)":20.7,"Flipper Length (mm)":191,"Body Mass (g)":3900,Sex:"FEMALE"},{Species:"Adelie",Island:"Biscoe","Beak Length (mm)":42.7,"Beak Depth (mm)":18.3,"Flipper Length (mm)":196,"Body Mass (g)":4075,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":38.6,"Beak Depth (mm)":17,"Flipper Length (mm)":188,"Body Mass (g)":2900,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":37.3,"Beak Depth (mm)":20.5,"Flipper Length (mm)":199,"Body Mass (g)":3775,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":35.7,"Beak Depth (mm)":17,"Flipper Length (mm)":189,"Body Mass (g)":3350,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":41.1,"Beak Depth (mm)":18.6,"Flipper Length (mm)":189,"Body Mass (g)":3325,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":36.2,"Beak Depth (mm)":17.2,"Flipper Length (mm)":187,"Body Mass (g)":3150,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":37.7,"Beak Depth (mm)":19.8,"Flipper Length (mm)":198,"Body Mass (g)":3500,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":40.2,"Beak Depth (mm)":17,"Flipper Length (mm)":176,"Body Mass (g)":3450,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":41.4,"Beak Depth (mm)":18.5,"Flipper Length (mm)":202,"Body Mass (g)":3875,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":35.2,"Beak Depth (mm)":15.9,"Flipper Length (mm)":186,"Body Mass (g)":3050,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":40.6,"Beak Depth (mm)":19,"Flipper Length (mm)":199,"Body Mass (g)":4e3,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":38.8,"Beak Depth (mm)":17.6,"Flipper Length (mm)":191,"Body Mass (g)":3275,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":41.5,"Beak Depth (mm)":18.3,"Flipper Length (mm)":195,"Body Mass (g)":4300,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":39,"Beak Depth (mm)":17.1,"Flipper Length (mm)":191,"Body Mass (g)":3050,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":44.1,"Beak Depth (mm)":18,"Flipper Length (mm)":210,"Body Mass (g)":4e3,Sex:"MALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":38.5,"Beak Depth (mm)":17.9,"Flipper Length (mm)":190,"Body Mass (g)":3325,Sex:"FEMALE"},{Species:"Adelie",Island:"Torgersen","Beak Length (mm)":43.1,"Beak Depth (mm)":19.2,"Flipper Length (mm)":197,"Body Mass (g)":3500,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":36.8,"Beak Depth (mm)":18.5,"Flipper Length (mm)":193,"Body Mass (g)":3500,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":37.5,"Beak Depth (mm)":18.5,"Flipper Length (mm)":199,"Body Mass (g)":4475,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":38.1,"Beak Depth (mm)":17.6,"Flipper Length (mm)":187,"Body Mass (g)":3425,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":41.1,"Beak Depth (mm)":17.5,"Flipper Length (mm)":190,"Body Mass (g)":3900,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":35.6,"Beak Depth (mm)":17.5,"Flipper Length (mm)":191,"Body Mass (g)":3175,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":40.2,"Beak Depth (mm)":20.1,"Flipper Length (mm)":200,"Body Mass (g)":3975,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":37,"Beak Depth (mm)":16.5,"Flipper Length (mm)":185,"Body Mass (g)":3400,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":39.7,"Beak Depth (mm)":17.9,"Flipper Length (mm)":193,"Body Mass (g)":4250,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":40.2,"Beak Depth (mm)":17.1,"Flipper Length (mm)":193,"Body Mass (g)":3400,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":40.6,"Beak Depth (mm)":17.2,"Flipper Length (mm)":187,"Body Mass (g)":3475,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":32.1,"Beak Depth (mm)":15.5,"Flipper Length (mm)":188,"Body Mass (g)":3050,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":40.7,"Beak Depth (mm)":17,"Flipper Length (mm)":190,"Body Mass (g)":3725,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":37.3,"Beak Depth (mm)":16.8,"Flipper Length (mm)":192,"Body Mass (g)":3e3,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":39,"Beak Depth (mm)":18.7,"Flipper Length (mm)":185,"Body Mass (g)":3650,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":39.2,"Beak Depth (mm)":18.6,"Flipper Length (mm)":190,"Body Mass (g)":4250,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":36.6,"Beak Depth (mm)":18.4,"Flipper Length (mm)":184,"Body Mass (g)":3475,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":36,"Beak Depth (mm)":17.8,"Flipper Length (mm)":195,"Body Mass (g)":3450,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":37.8,"Beak Depth (mm)":18.1,"Flipper Length (mm)":193,"Body Mass (g)":3750,Sex:"MALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":36,"Beak Depth (mm)":17.1,"Flipper Length (mm)":187,"Body Mass (g)":3700,Sex:"FEMALE"},{Species:"Adelie",Island:"Dream","Beak Length (mm)":41.5,"Beak Depth (mm)":18.5,"Flipper Length (mm)":201,"Body Mass (g)":4e3,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":46.5,"Beak Depth (mm)":17.9,"Flipper Length (mm)":192,"Body Mass (g)":3500,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":50,"Beak Depth (mm)":19.5,"Flipper Length (mm)":196,"Body Mass (g)":3900,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":51.3,"Beak Depth (mm)":19.2,"Flipper Length (mm)":193,"Body Mass (g)":3650,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":45.4,"Beak Depth (mm)":18.7,"Flipper Length (mm)":188,"Body Mass (g)":3525,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":52.7,"Beak Depth (mm)":19.8,"Flipper Length (mm)":197,"Body Mass (g)":3725,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":45.2,"Beak Depth (mm)":17.8,"Flipper Length (mm)":198,"Body Mass (g)":3950,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":46.1,"Beak Depth (mm)":18.2,"Flipper Length (mm)":178,"Body Mass (g)":3250,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":51.3,"Beak Depth (mm)":18.2,"Flipper Length (mm)":197,"Body Mass (g)":3750,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":46,"Beak Depth (mm)":18.9,"Flipper Length (mm)":195,"Body Mass (g)":4150,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":51.3,"Beak Depth (mm)":19.9,"Flipper Length (mm)":198,"Body Mass (g)":3700,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":46.6,"Beak Depth (mm)":17.8,"Flipper Length (mm)":193,"Body Mass (g)":3800,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":51.7,"Beak Depth (mm)":20.3,"Flipper Length (mm)":194,"Body Mass (g)":3775,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":47,"Beak Depth (mm)":17.3,"Flipper Length (mm)":185,"Body Mass (g)":3700,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":52,"Beak Depth (mm)":18.1,"Flipper Length (mm)":201,"Body Mass (g)":4050,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":45.9,"Beak Depth (mm)":17.1,"Flipper Length (mm)":190,"Body Mass (g)":3575,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":50.5,"Beak Depth (mm)":19.6,"Flipper Length (mm)":201,"Body Mass (g)":4050,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":50.3,"Beak Depth (mm)":20,"Flipper Length (mm)":197,"Body Mass (g)":3300,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":58,"Beak Depth (mm)":17.8,"Flipper Length (mm)":181,"Body Mass (g)":3700,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":46.4,"Beak Depth (mm)":18.6,"Flipper Length (mm)":190,"Body Mass (g)":3450,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":49.2,"Beak Depth (mm)":18.2,"Flipper Length (mm)":195,"Body Mass (g)":4400,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":42.4,"Beak Depth (mm)":17.3,"Flipper Length (mm)":181,"Body Mass (g)":3600,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":48.5,"Beak Depth (mm)":17.5,"Flipper Length (mm)":191,"Body Mass (g)":3400,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":43.2,"Beak Depth (mm)":16.6,"Flipper Length (mm)":187,"Body Mass (g)":2900,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":50.6,"Beak Depth (mm)":19.4,"Flipper Length (mm)":193,"Body Mass (g)":3800,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":46.7,"Beak Depth (mm)":17.9,"Flipper Length (mm)":195,"Body Mass (g)":3300,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":52,"Beak Depth (mm)":19,"Flipper Length (mm)":197,"Body Mass (g)":4150,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":50.5,"Beak Depth (mm)":18.4,"Flipper Length (mm)":200,"Body Mass (g)":3400,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":49.5,"Beak Depth (mm)":19,"Flipper Length (mm)":200,"Body Mass (g)":3800,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":46.4,"Beak Depth (mm)":17.8,"Flipper Length (mm)":191,"Body Mass (g)":3700,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":52.8,"Beak Depth (mm)":20,"Flipper Length (mm)":205,"Body Mass (g)":4550,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":40.9,"Beak Depth (mm)":16.6,"Flipper Length (mm)":187,"Body Mass (g)":3200,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":54.2,"Beak Depth (mm)":20.8,"Flipper Length (mm)":201,"Body Mass (g)":4300,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":42.5,"Beak Depth (mm)":16.7,"Flipper Length (mm)":187,"Body Mass (g)":3350,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":51,"Beak Depth (mm)":18.8,"Flipper Length (mm)":203,"Body Mass (g)":4100,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":49.7,"Beak Depth (mm)":18.6,"Flipper Length (mm)":195,"Body Mass (g)":3600,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":47.5,"Beak Depth (mm)":16.8,"Flipper Length (mm)":199,"Body Mass (g)":3900,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":47.6,"Beak Depth (mm)":18.3,"Flipper Length (mm)":195,"Body Mass (g)":3850,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":52,"Beak Depth (mm)":20.7,"Flipper Length (mm)":210,"Body Mass (g)":4800,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":46.9,"Beak Depth (mm)":16.6,"Flipper Length (mm)":192,"Body Mass (g)":2700,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":53.5,"Beak Depth (mm)":19.9,"Flipper Length (mm)":205,"Body Mass (g)":4500,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":49,"Beak Depth (mm)":19.5,"Flipper Length (mm)":210,"Body Mass (g)":3950,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":46.2,"Beak Depth (mm)":17.5,"Flipper Length (mm)":187,"Body Mass (g)":3650,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":50.9,"Beak Depth (mm)":19.1,"Flipper Length (mm)":196,"Body Mass (g)":3550,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":45.5,"Beak Depth (mm)":17,"Flipper Length (mm)":196,"Body Mass (g)":3500,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":50.9,"Beak Depth (mm)":17.9,"Flipper Length (mm)":196,"Body Mass (g)":3675,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":50.8,"Beak Depth (mm)":18.5,"Flipper Length (mm)":201,"Body Mass (g)":4450,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":50.1,"Beak Depth (mm)":17.9,"Flipper Length (mm)":190,"Body Mass (g)":3400,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":49,"Beak Depth (mm)":19.6,"Flipper Length (mm)":212,"Body Mass (g)":4300,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":51.5,"Beak Depth (mm)":18.7,"Flipper Length (mm)":187,"Body Mass (g)":3250,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":49.8,"Beak Depth (mm)":17.3,"Flipper Length (mm)":198,"Body Mass (g)":3675,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":48.1,"Beak Depth (mm)":16.4,"Flipper Length (mm)":199,"Body Mass (g)":3325,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":51.4,"Beak Depth (mm)":19,"Flipper Length (mm)":201,"Body Mass (g)":3950,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":45.7,"Beak Depth (mm)":17.3,"Flipper Length (mm)":193,"Body Mass (g)":3600,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":50.7,"Beak Depth (mm)":19.7,"Flipper Length (mm)":203,"Body Mass (g)":4050,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":42.5,"Beak Depth (mm)":17.3,"Flipper Length (mm)":187,"Body Mass (g)":3350,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":52.2,"Beak Depth (mm)":18.8,"Flipper Length (mm)":197,"Body Mass (g)":3450,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":45.2,"Beak Depth (mm)":16.6,"Flipper Length (mm)":191,"Body Mass (g)":3250,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":49.3,"Beak Depth (mm)":19.9,"Flipper Length (mm)":203,"Body Mass (g)":4050,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":50.2,"Beak Depth (mm)":18.8,"Flipper Length (mm)":202,"Body Mass (g)":3800,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":45.6,"Beak Depth (mm)":19.4,"Flipper Length (mm)":194,"Body Mass (g)":3525,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":51.9,"Beak Depth (mm)":19.5,"Flipper Length (mm)":206,"Body Mass (g)":3950,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":46.8,"Beak Depth (mm)":16.5,"Flipper Length (mm)":189,"Body Mass (g)":3650,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":45.7,"Beak Depth (mm)":17,"Flipper Length (mm)":195,"Body Mass (g)":3650,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":55.8,"Beak Depth (mm)":19.8,"Flipper Length (mm)":207,"Body Mass (g)":4e3,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":43.5,"Beak Depth (mm)":18.1,"Flipper Length (mm)":202,"Body Mass (g)":3400,Sex:"FEMALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":49.6,"Beak Depth (mm)":18.2,"Flipper Length (mm)":193,"Body Mass (g)":3775,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":50.8,"Beak Depth (mm)":19,"Flipper Length (mm)":210,"Body Mass (g)":4100,Sex:"MALE"},{Species:"Chinstrap",Island:"Dream","Beak Length (mm)":50.2,"Beak Depth (mm)":18.7,"Flipper Length (mm)":198,"Body Mass (g)":3775,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.1,"Beak Depth (mm)":13.2,"Flipper Length (mm)":211,"Body Mass (g)":4500,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":50,"Beak Depth (mm)":16.3,"Flipper Length (mm)":230,"Body Mass (g)":5700,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":48.7,"Beak Depth (mm)":14.1,"Flipper Length (mm)":210,"Body Mass (g)":4450,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":50,"Beak Depth (mm)":15.2,"Flipper Length (mm)":218,"Body Mass (g)":5700,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":47.6,"Beak Depth (mm)":14.5,"Flipper Length (mm)":215,"Body Mass (g)":5400,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.5,"Beak Depth (mm)":13.5,"Flipper Length (mm)":210,"Body Mass (g)":4550,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.4,"Beak Depth (mm)":14.6,"Flipper Length (mm)":211,"Body Mass (g)":4800,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.7,"Beak Depth (mm)":15.3,"Flipper Length (mm)":219,"Body Mass (g)":5200,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":43.3,"Beak Depth (mm)":13.4,"Flipper Length (mm)":209,"Body Mass (g)":4400,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.8,"Beak Depth (mm)":15.4,"Flipper Length (mm)":215,"Body Mass (g)":5150,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":40.9,"Beak Depth (mm)":13.7,"Flipper Length (mm)":214,"Body Mass (g)":4650,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":49,"Beak Depth (mm)":16.1,"Flipper Length (mm)":216,"Body Mass (g)":5550,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.5,"Beak Depth (mm)":13.7,"Flipper Length (mm)":214,"Body Mass (g)":4650,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":48.4,"Beak Depth (mm)":14.6,"Flipper Length (mm)":213,"Body Mass (g)":5850,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.8,"Beak Depth (mm)":14.6,"Flipper Length (mm)":210,"Body Mass (g)":4200,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":49.3,"Beak Depth (mm)":15.7,"Flipper Length (mm)":217,"Body Mass (g)":5850,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":42,"Beak Depth (mm)":13.5,"Flipper Length (mm)":210,"Body Mass (g)":4150,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":49.2,"Beak Depth (mm)":15.2,"Flipper Length (mm)":221,"Body Mass (g)":6300,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.2,"Beak Depth (mm)":14.5,"Flipper Length (mm)":209,"Body Mass (g)":4800,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":48.7,"Beak Depth (mm)":15.1,"Flipper Length (mm)":222,"Body Mass (g)":5350,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":50.2,"Beak Depth (mm)":14.3,"Flipper Length (mm)":218,"Body Mass (g)":5700,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.1,"Beak Depth (mm)":14.5,"Flipper Length (mm)":215,"Body Mass (g)":5e3,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.5,"Beak Depth (mm)":14.5,"Flipper Length (mm)":213,"Body Mass (g)":4400,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.3,"Beak Depth (mm)":15.8,"Flipper Length (mm)":215,"Body Mass (g)":5050,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":42.9,"Beak Depth (mm)":13.1,"Flipper Length (mm)":215,"Body Mass (g)":5e3,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.1,"Beak Depth (mm)":15.1,"Flipper Length (mm)":215,"Body Mass (g)":5100,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":44.5,"Beak Depth (mm)":14.3,"Flipper Length (mm)":216,"Body Mass (g)":4100,Sex:null},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":47.8,"Beak Depth (mm)":15,"Flipper Length (mm)":215,"Body Mass (g)":5650,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":48.2,"Beak Depth (mm)":14.3,"Flipper Length (mm)":210,"Body Mass (g)":4600,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":50,"Beak Depth (mm)":15.3,"Flipper Length (mm)":220,"Body Mass (g)":5550,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":47.3,"Beak Depth (mm)":15.3,"Flipper Length (mm)":222,"Body Mass (g)":5250,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":42.8,"Beak Depth (mm)":14.2,"Flipper Length (mm)":209,"Body Mass (g)":4700,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.1,"Beak Depth (mm)":14.5,"Flipper Length (mm)":207,"Body Mass (g)":5050,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":59.6,"Beak Depth (mm)":17,"Flipper Length (mm)":230,"Body Mass (g)":6050,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":49.1,"Beak Depth (mm)":14.8,"Flipper Length (mm)":220,"Body Mass (g)":5150,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":48.4,"Beak Depth (mm)":16.3,"Flipper Length (mm)":220,"Body Mass (g)":5400,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":42.6,"Beak Depth (mm)":13.7,"Flipper Length (mm)":213,"Body Mass (g)":4950,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":44.4,"Beak Depth (mm)":17.3,"Flipper Length (mm)":219,"Body Mass (g)":5250,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":44,"Beak Depth (mm)":13.6,"Flipper Length (mm)":208,"Body Mass (g)":4350,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":48.7,"Beak Depth (mm)":15.7,"Flipper Length (mm)":208,"Body Mass (g)":5350,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":42.7,"Beak Depth (mm)":13.7,"Flipper Length (mm)":208,"Body Mass (g)":3950,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":49.6,"Beak Depth (mm)":16,"Flipper Length (mm)":225,"Body Mass (g)":5700,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.3,"Beak Depth (mm)":13.7,"Flipper Length (mm)":210,"Body Mass (g)":4300,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":49.6,"Beak Depth (mm)":15,"Flipper Length (mm)":216,"Body Mass (g)":4750,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":50.5,"Beak Depth (mm)":15.9,"Flipper Length (mm)":222,"Body Mass (g)":5550,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":43.6,"Beak Depth (mm)":13.9,"Flipper Length (mm)":217,"Body Mass (g)":4900,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.5,"Beak Depth (mm)":13.9,"Flipper Length (mm)":210,"Body Mass (g)":4200,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":50.5,"Beak Depth (mm)":15.9,"Flipper Length (mm)":225,"Body Mass (g)":5400,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":44.9,"Beak Depth (mm)":13.3,"Flipper Length (mm)":213,"Body Mass (g)":5100,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.2,"Beak Depth (mm)":15.8,"Flipper Length (mm)":215,"Body Mass (g)":5300,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.6,"Beak Depth (mm)":14.2,"Flipper Length (mm)":210,"Body Mass (g)":4850,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":48.5,"Beak Depth (mm)":14.1,"Flipper Length (mm)":220,"Body Mass (g)":5300,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.1,"Beak Depth (mm)":14.4,"Flipper Length (mm)":210,"Body Mass (g)":4400,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":50.1,"Beak Depth (mm)":15,"Flipper Length (mm)":225,"Body Mass (g)":5e3,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.5,"Beak Depth (mm)":14.4,"Flipper Length (mm)":217,"Body Mass (g)":4900,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45,"Beak Depth (mm)":15.4,"Flipper Length (mm)":220,"Body Mass (g)":5050,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":43.8,"Beak Depth (mm)":13.9,"Flipper Length (mm)":208,"Body Mass (g)":4300,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.5,"Beak Depth (mm)":15,"Flipper Length (mm)":220,"Body Mass (g)":5e3,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":43.2,"Beak Depth (mm)":14.5,"Flipper Length (mm)":208,"Body Mass (g)":4450,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":50.4,"Beak Depth (mm)":15.3,"Flipper Length (mm)":224,"Body Mass (g)":5550,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.3,"Beak Depth (mm)":13.8,"Flipper Length (mm)":208,"Body Mass (g)":4200,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.2,"Beak Depth (mm)":14.9,"Flipper Length (mm)":221,"Body Mass (g)":5300,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.7,"Beak Depth (mm)":13.9,"Flipper Length (mm)":214,"Body Mass (g)":4400,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":54.3,"Beak Depth (mm)":15.7,"Flipper Length (mm)":231,"Body Mass (g)":5650,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.8,"Beak Depth (mm)":14.2,"Flipper Length (mm)":219,"Body Mass (g)":4700,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":49.8,"Beak Depth (mm)":16.8,"Flipper Length (mm)":230,"Body Mass (g)":5700,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.2,"Beak Depth (mm)":14.4,"Flipper Length (mm)":214,"Body Mass (g)":4650,Sex:null},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":49.5,"Beak Depth (mm)":16.2,"Flipper Length (mm)":229,"Body Mass (g)":5800,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":43.5,"Beak Depth (mm)":14.2,"Flipper Length (mm)":220,"Body Mass (g)":4700,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":50.7,"Beak Depth (mm)":15,"Flipper Length (mm)":223,"Body Mass (g)":5550,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":47.7,"Beak Depth (mm)":15,"Flipper Length (mm)":216,"Body Mass (g)":4750,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.4,"Beak Depth (mm)":15.6,"Flipper Length (mm)":221,"Body Mass (g)":5e3,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":48.2,"Beak Depth (mm)":15.6,"Flipper Length (mm)":221,"Body Mass (g)":5100,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.5,"Beak Depth (mm)":14.8,"Flipper Length (mm)":217,"Body Mass (g)":5200,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.4,"Beak Depth (mm)":15,"Flipper Length (mm)":216,"Body Mass (g)":4700,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":48.6,"Beak Depth (mm)":16,"Flipper Length (mm)":230,"Body Mass (g)":5800,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":47.5,"Beak Depth (mm)":14.2,"Flipper Length (mm)":209,"Body Mass (g)":4600,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":51.1,"Beak Depth (mm)":16.3,"Flipper Length (mm)":220,"Body Mass (g)":6e3,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.2,"Beak Depth (mm)":13.8,"Flipper Length (mm)":215,"Body Mass (g)":4750,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.2,"Beak Depth (mm)":16.4,"Flipper Length (mm)":223,"Body Mass (g)":5950,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":49.1,"Beak Depth (mm)":14.5,"Flipper Length (mm)":212,"Body Mass (g)":4625,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":52.5,"Beak Depth (mm)":15.6,"Flipper Length (mm)":221,"Body Mass (g)":5450,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":47.4,"Beak Depth (mm)":14.6,"Flipper Length (mm)":212,"Body Mass (g)":4725,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":50,"Beak Depth (mm)":15.9,"Flipper Length (mm)":224,"Body Mass (g)":5350,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":44.9,"Beak Depth (mm)":13.8,"Flipper Length (mm)":212,"Body Mass (g)":4750,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":50.8,"Beak Depth (mm)":17.3,"Flipper Length (mm)":228,"Body Mass (g)":5600,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":43.4,"Beak Depth (mm)":14.4,"Flipper Length (mm)":218,"Body Mass (g)":4600,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":51.3,"Beak Depth (mm)":14.2,"Flipper Length (mm)":218,"Body Mass (g)":5300,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":47.5,"Beak Depth (mm)":14,"Flipper Length (mm)":212,"Body Mass (g)":4875,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":52.1,"Beak Depth (mm)":17,"Flipper Length (mm)":230,"Body Mass (g)":5550,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":47.5,"Beak Depth (mm)":15,"Flipper Length (mm)":218,"Body Mass (g)":4950,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":52.2,"Beak Depth (mm)":17.1,"Flipper Length (mm)":228,"Body Mass (g)":5400,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.5,"Beak Depth (mm)":14.5,"Flipper Length (mm)":212,"Body Mass (g)":4750,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":49.5,"Beak Depth (mm)":16.1,"Flipper Length (mm)":224,"Body Mass (g)":5650,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":44.5,"Beak Depth (mm)":14.7,"Flipper Length (mm)":214,"Body Mass (g)":4850,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":50.8,"Beak Depth (mm)":15.7,"Flipper Length (mm)":226,"Body Mass (g)":5200,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":49.4,"Beak Depth (mm)":15.8,"Flipper Length (mm)":216,"Body Mass (g)":4925,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.9,"Beak Depth (mm)":14.6,"Flipper Length (mm)":222,"Body Mass (g)":4875,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":48.4,"Beak Depth (mm)":14.4,"Flipper Length (mm)":203,"Body Mass (g)":4625,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":51.1,"Beak Depth (mm)":16.5,"Flipper Length (mm)":225,"Body Mass (g)":5250,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":48.5,"Beak Depth (mm)":15,"Flipper Length (mm)":219,"Body Mass (g)":4850,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":55.9,"Beak Depth (mm)":17,"Flipper Length (mm)":228,"Body Mass (g)":5600,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":47.2,"Beak Depth (mm)":15.5,"Flipper Length (mm)":215,"Body Mass (g)":4975,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":49.1,"Beak Depth (mm)":15,"Flipper Length (mm)":228,"Body Mass (g)":5500,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":47.3,"Beak Depth (mm)":13.8,"Flipper Length (mm)":216,"Body Mass (g)":4725,Sex:null},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.8,"Beak Depth (mm)":16.1,"Flipper Length (mm)":215,"Body Mass (g)":5500,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":41.7,"Beak Depth (mm)":14.7,"Flipper Length (mm)":210,"Body Mass (g)":4700,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":53.4,"Beak Depth (mm)":15.8,"Flipper Length (mm)":219,"Body Mass (g)":5500,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":43.3,"Beak Depth (mm)":14,"Flipper Length (mm)":208,"Body Mass (g)":4575,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":48.1,"Beak Depth (mm)":15.1,"Flipper Length (mm)":209,"Body Mass (g)":5500,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":50.5,"Beak Depth (mm)":15.2,"Flipper Length (mm)":216,"Body Mass (g)":5e3,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":49.8,"Beak Depth (mm)":15.9,"Flipper Length (mm)":229,"Body Mass (g)":5950,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":43.5,"Beak Depth (mm)":15.2,"Flipper Length (mm)":213,"Body Mass (g)":4650,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":51.5,"Beak Depth (mm)":16.3,"Flipper Length (mm)":230,"Body Mass (g)":5500,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.2,"Beak Depth (mm)":14.1,"Flipper Length (mm)":217,"Body Mass (g)":4375,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":55.1,"Beak Depth (mm)":16,"Flipper Length (mm)":230,"Body Mass (g)":5850,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":44.5,"Beak Depth (mm)":15.7,"Flipper Length (mm)":217,"Body Mass (g)":4875,Sex:"."},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":48.8,"Beak Depth (mm)":16.2,"Flipper Length (mm)":222,"Body Mass (g)":6e3,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":47.2,"Beak Depth (mm)":13.7,"Flipper Length (mm)":214,"Body Mass (g)":4925,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":null,"Beak Depth (mm)":null,"Flipper Length (mm)":null,"Body Mass (g)":null,Sex:null},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":46.8,"Beak Depth (mm)":14.3,"Flipper Length (mm)":215,"Body Mass (g)":4850,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":50.4,"Beak Depth (mm)":15.7,"Flipper Length (mm)":222,"Body Mass (g)":5750,Sex:"MALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":45.2,"Beak Depth (mm)":14.8,"Flipper Length (mm)":212,"Body Mass (g)":5200,Sex:"FEMALE"},{Species:"Gentoo",Island:"Biscoe","Beak Length (mm)":49.9,"Beak Depth (mm)":16.1,"Flipper Length (mm)":213,"Body Mass (g)":5400,Sex:"MALE"}],DTe=e=>{Ct({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Box"},data:{values:xG},mark:{type:"boxplot",extent:"min-max"},encoding:{x:{field:"Species",type:"nominal"},color:{field:"Species",type:"nominal",legend:null},y:{field:"Body Mass (g)",type:"quantitative",scale:{zero:!1}}}},{x:500,y:500})(ie(e))},LTe=e=>{Lt(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",description:"A vertical box plot showing median, min, and max body mass of penguins.",data:{values:xG},mark:{type:"boxplot",extent:"min-max"},encoding:{x:{field:"Species",type:"nominal"},color:{field:"Species",type:"nominal",legend:null},y:{field:"Body Mass (g)",type:"quantitative",scale:{zero:!1}}}})},FTe=e=>{Ct({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Bubble Plot"},data:{values:[{a:31,b:28},{a:2,b:55},{a:9,b:33},{a:5,b:91},{a:43,b:81},{a:22,b:53},{a:87,b:19},{a:12,b:87},{a:1,b:52}]},mark:"point",encoding:{x:{field:"a",type:"quantitative"},y:{field:"b",type:"quantitative"},size:{field:"a",type:"quantitative"}}},{x:500,y:500})(ie(e))},BTe=e=>{Lt(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:[{a:31,b:28},{a:2,b:55},{a:9,b:33},{a:5,b:91},{a:43,b:81},{a:22,b:53},{a:87,b:19},{a:12,b:87},{a:1,b:52}]},mark:"point",encoding:{x:{field:"a",type:"quantitative"},y:{field:"b",type:"quantitative"},size:{field:"a",type:"quantitative"}}})},$Te=e=>{Ct({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Bullet"},data:{values:[{title:"Revenue",subtitle:"US$, in thousands",ranges:[150,225,300],measures:[220,270],markers:[250]},{title:"Profit",subtitle:"%",ranges:[20,25,30],measures:[21,23],markers:[26]},{title:"Order Size",subtitle:"US$, average",ranges:[350,500,600],measures:[100,320],markers:[550]},{title:"New Customers",subtitle:"count",ranges:[1400,2e3,2500],measures:[1e3,1650],markers:[2100]},{title:"Satisfaction",subtitle:"out of 5",ranges:[3.5,4.25,5],measures:[3.2,4.7],markers:[4.4]}]},facet:{row:{field:"title",type:"ordinal",header:{labelAngle:0,title:""}}},spacing:10,spec:{encoding:{x:{type:"quantitative",scale:{nice:!1},title:null}},layer:[{mark:{type:"bar",color:"#eee"},encoding:{x:{field:"ranges[2]"}}},{mark:{type:"bar",color:"#ddd"},encoding:{x:{field:"ranges[1]"}}},{mark:{type:"bar",color:"#ccc"},encoding:{x:{field:"ranges[0]"}}},{mark:{type:"bar",color:"lightsteelblue",size:10},encoding:{x:{field:"measures[1]"}}},{mark:{type:"bar",color:"steelblue",size:10},encoding:{x:{field:"measures[0]"}}},{mark:{type:"tick",color:"black"},encoding:{x:{field:"markers[0]"}}}]},resolve:{scale:{x:"independent"}},config:{tick:{thickness:2}}},{x:500,y:500})(ie(e))},NTe=e=>{Lt(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:[{title:"Revenue",subtitle:"US$, in thousands",ranges:[150,225,300],measures:[220,270],markers:[250]},{title:"Profit",subtitle:"%",ranges:[20,25,30],measures:[21,23],markers:[26]},{title:"Order Size",subtitle:"US$, average",ranges:[350,500,600],measures:[100,320],markers:[550]},{title:"New Customers",subtitle:"count",ranges:[1400,2e3,2500],measures:[1e3,1650],markers:[2100]},{title:"Satisfaction",subtitle:"out of 5",ranges:[3.5,4.25,5],measures:[3.2,4.7],markers:[4.4]}]},facet:{row:{field:"title",type:"ordinal",header:{labelAngle:0,title:""}}},spacing:10,spec:{encoding:{x:{type:"quantitative",scale:{nice:!1},title:null}},layer:[{mark:{type:"bar",color:"#eee"},encoding:{x:{field:"ranges[2]"}}},{mark:{type:"bar",color:"#ddd"},encoding:{x:{field:"ranges[1]"}}},{mark:{type:"bar",color:"#ccc"},encoding:{x:{field:"ranges[0]"}}},{mark:{type:"bar",color:"lightsteelblue",size:10},encoding:{x:{field:"measures[1]"}}},{mark:{type:"bar",color:"steelblue",size:10},encoding:{x:{field:"measures[0]"}}},{mark:{type:"tick",color:"black"},encoding:{x:{field:"markers[0]"}}}]},resolve:{scale:{x:"independent"}},config:{tick:{thickness:2}}})},ITe=e=>{Ct({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Bump"},data:{values:[{build:1,result:"PASSED"},{build:2,result:"PASSED"},{build:3,result:"FAILED"},{build:4,result:"FAILED"},{build:5,result:"SKIPPED"},{build:6,result:"PASSED"},{build:7,result:"PASSED"},{build:8,result:"FAILED"},{build:9,result:"PASSED"},{build:10,result:"PASSED"},{build:11,result:"SKIPPED"},{build:12,result:"PASSED"},{build:13,result:"PASSED"},{build:14,result:"FAILED"},{build:15,result:"PASSED"},{build:16,result:"SKIPPED"}]},mark:{type:"line",point:!0},encoding:{x:{field:"build",type:"quantitative"},y:{field:"result",type:"nominal"},order:{field:"build",type:"quantitative"}}},{x:500,y:500})(ie(e))},ZTe=e=>{Lt(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",description:"Bump chart",data:{values:[{build:1,result:"PASSED"},{build:2,result:"PASSED"},{build:3,result:"FAILED"},{build:4,result:"FAILED"},{build:5,result:"SKIPPED"},{build:6,result:"PASSED"},{build:7,result:"PASSED"},{build:8,result:"FAILED"},{build:9,result:"PASSED"},{build:10,result:"PASSED"},{build:11,result:"SKIPPED"},{build:12,result:"PASSED"},{build:13,result:"PASSED"},{build:14,result:"FAILED"},{build:15,result:"PASSED"},{build:16,result:"SKIPPED"}]},mark:{type:"line",point:!0},encoding:{x:{field:"build",type:"quantitative"},y:{field:"result",type:"nominal"},order:{field:"build",type:"quantitative"}}})},_G=[{date:"2009-06-01",open:28.7,high:30.05,low:28.45,close:30.04,signal:"short",ret:-4.89396411092985},{date:"2009-06-02",open:30.04,high:30.13,low:28.3,close:29.63,signal:"short",ret:-.322580645161295},{date:"2009-06-03",open:29.62,high:31.79,low:29.62,close:31.02,signal:"short",ret:3.68663594470045},{date:"2009-06-04",open:31.02,high:31.02,low:29.92,close:30.18,signal:"short",ret:4.51010886469673},{date:"2009-06-05",open:29.39,high:30.81,low:28.85,close:29.62,signal:"short",ret:6.08424336973478},{date:"2009-06-08",open:30.84,high:31.82,low:26.41,close:29.77,signal:"short",ret:1.2539184952978},{date:"2009-06-09",open:29.77,high:29.77,low:27.79,close:28.27,signal:"short",ret:-5.02431118314424},{date:"2009-06-10",open:26.9,high:29.74,low:26.9,close:28.46,signal:"short",ret:-5.46623794212217},{date:"2009-06-11",open:27.36,high:28.11,low:26.81,close:28.11,signal:"short",ret:-8.3743842364532},{date:"2009-06-12",open:28.08,high:28.5,low:27.73,close:28.15,signal:"short",ret:-5.52763819095477},{date:"2009-06-15",open:29.7,high:31.09,low:29.64,close:30.81,signal:"long",ret:3.4920634920635},{date:"2009-06-16",open:30.81,high:32.75,low:30.07,close:32.68,signal:"short",ret:.155038759689914},{date:"2009-06-17",open:31.19,high:32.77,low:30.64,close:31.54,signal:"short",ret:5.82822085889571},{date:"2009-06-18",open:31.54,high:31.54,low:29.6,close:30.03,signal:"short",ret:8.17610062893082},{date:"2009-06-19",open:29.16,high:29.32,low:27.56,close:27.99,signal:"short",ret:8.59872611464968},{date:"2009-06-22",open:30.4,high:32.05,low:30.3,close:31.17,signal:"short",ret:15.4907975460123},{date:"2009-06-23",open:31.3,high:31.54,low:27.83,close:30.58,signal:"short",ret:11.7370892018779},{date:"2009-06-24",open:30.58,high:30.58,low:28.79,close:29.05,signal:"long",ret:-10.4234527687296},{date:"2009-06-25",open:29.45,high:29.56,low:26.3,close:26.36,signal:"long",ret:0},{date:"2009-06-26",open:27.09,high:27.22,low:25.76,close:25.93,signal:"long",ret:0},{date:"2009-06-29",open:25.93,high:27.18,low:25.29,close:25.35,signal:"long",ret:5.26315789473684},{date:"2009-06-30",open:25.36,high:27.38,low:25.02,close:26.35,signal:"long",ret:6.73758865248228},{date:"2009-07-01",open:25.73,high:26.31,low:24.8,close:26.22,signal:"long",ret:7.83645655877341},{date:"2009-07-02",open:26.22,high:28.62,low:26.22,close:27.95,signal:"long",ret:2.76422764227643},{date:"2009-07-06",open:30.32,high:30.6,low:28.99,close:29,signal:"short",ret:-2.14521452145214},{date:"2009-07-07",open:29,high:30.94,low:28.9,close:30.85,signal:"short",ret:3.03514376996805},{date:"2009-07-08",open:30.85,high:33.05,low:30.43,close:31.3,signal:"short",ret:5.68720379146919},{date:"2009-07-09",open:30.23,high:30.49,low:29.28,close:29.78,signal:"short",ret:8.22784810126583},{date:"2009-07-10",open:29.78,high:30.34,low:28.82,close:29.02,signal:"short",ret:8.64779874213836},{date:"2009-07-13",open:28.36,high:29.24,low:25.42,close:26.31,signal:"short",ret:7.32899022801303},{date:"2009-07-14",open:26.31,high:26.84,low:24.99,close:25.02,signal:"short",ret:7.30897009966778},{date:"2009-07-15",open:25.05,high:26.06,low:23.83,close:25.89,signal:"neutral",ret:0},{date:"2009-07-16",open:25.96,high:26.18,low:24.51,close:25.42,signal:"long",ret:-9.82758620689656},{date:"2009-07-17",open:25.42,high:25.55,low:23.88,close:24.34,signal:"long",ret:-10.8433734939759},{date:"2009-07-20",open:25.06,high:25.42,low:24.26,close:24.4,signal:"long",ret:-7.55711775043936},{date:"2009-07-21",open:24.28,high:25.14,low:23.81,close:23.87,signal:"long",ret:-2.5089605734767},{date:"2009-07-22",open:24.05,high:24.14,low:23.24,close:23.47,signal:"long",ret:.915750915750916},{date:"2009-07-23",open:23.71,high:24.05,low:23.21,close:23.43,signal:"long",ret:2.47148288973383},{date:"2009-07-24",open:23.87,high:23.87,low:23,close:23.09,signal:"long",ret:4.22264875239922},{date:"2009-07-27",open:24.06,high:24.86,low:24.02,close:24.28,signal:"long",ret:-.189393939393929},{date:"2009-07-28",open:24.28,high:25.61,low:24.28,close:25.01,signal:"long",ret:-4.37956204379562},{date:"2009-07-29",open:25.47,high:26.18,low:25.41,close:25.61,signal:"long",ret:-4.48504983388705},{date:"2009-07-30",open:25.4,high:25.76,low:24.85,close:25.4,signal:"long",ret:-1.70357751277683},{date:"2009-07-31",open:25.4,high:26.22,low:24.93,close:25.92,signal:"short",ret:5.06756756756757}],RTe=e=>{Ct({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Box"},data:{values:_G},encoding:{x:{field:"date",type:"temporal",title:"Date in 2009",axis:{format:"%m/%d",labelAngle:-45,title:"Date in 2009"}},y:{type:"quantitative",scale:{zero:!1},axis:{title:"Price"}}},layer:[{mark:"rule",encoding:{y:{field:"low",type:"quantitative"},y2:{field:"high",type:"quantitative"}}},{mark:"bar",encoding:{y:{field:"open",type:"quantitative"},y2:{field:"close",type:"quantitative"}}}]},{x:500,y:500})(ie(e))},PTe=e=>{Lt(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",width:400,description:"A candlestick chart inspired by an example in Protovis (http://mbostock.github.io/protovis/ex/candlestick.html)",data:{values:_G},encoding:{x:{field:"date",type:"temporal",title:"Date in 2009",axis:{format:"%m/%d",labelAngle:-45,title:"Date in 2009"}},y:{type:"quantitative",scale:{zero:!1},axis:{title:"Price"}},color:{condition:{test:"datum.open < datum.close",value:"#06982d"},value:"#ae1325"}},layer:[{mark:"rule",encoding:{y:{field:"low"},y2:{field:"high"}}},{mark:"bar",encoding:{y:{field:"open"},y2:{field:"close"}}}]})},jTe=e=>{Ct({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Circle Timeline"},data:{values:[{Entity:"A",Year:1970,Deaths:4},{Entity:"A",Year:1980,Deaths:2},{Entity:"A",Year:1990,Deaths:16},{Entity:"B",Year:1970,Deaths:21},{Entity:"B",Year:1980,Deaths:26},{Entity:"B",Year:1990,Deaths:5},{Entity:"C",Year:1970,Deaths:13},{Entity:"C",Year:1980,Deaths:11},{Entity:"C",Year:1990,Deaths:6}]},width:600,height:400,mark:{type:"circle",opacity:.8,stroke:"black",strokeWidth:1},encoding:{x:{field:"Year",type:"temporal"},y:{field:"Entity",type:"nominal",axis:{grid:!0}},size:{field:"Deaths",type:"quantitative",title:"Annual Global Deaths",legend:{clipHeight:30},scale:{rangeMax:5e3}},color:{field:"Entity",type:"nominal",legend:null}}},{x:500,y:500})(ie(e))},zTe=e=>{Lt(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:[{Entity:"A",Year:1970,Deaths:4},{Entity:"A",Year:1980,Deaths:2},{Entity:"A",Year:1990,Deaths:16},{Entity:"B",Year:1970,Deaths:21},{Entity:"B",Year:1980,Deaths:26},{Entity:"B",Year:1990,Deaths:5},{Entity:"C",Year:1970,Deaths:13},{Entity:"C",Year:1980,Deaths:11},{Entity:"C",Year:1990,Deaths:6}]},width:600,height:400,mark:{type:"circle",opacity:.8,stroke:"black",strokeWidth:1},encoding:{x:{field:"Year",type:"temporal"},y:{field:"Entity",type:"nominal",axis:{grid:!0}},size:{field:"Deaths",type:"quantitative",title:"Annual Global Deaths",legend:{clipHeight:30},scale:{rangeMax:5e3}},color:{field:"Entity",type:"nominal",legend:null}}})},GTe=e=>{Ct({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Column Line"},data:{values:[{a:"A",b:28},{a:"B",b:55},{a:"C",b:33},{a:"D",b:91},{a:"E",b:81},{a:"F",b:53},{a:"G",b:19},{a:"H",b:87},{a:"I",b:52}]},layer:[{mark:"bar",encoding:{x:{field:"a",type:"nominal"},y:{field:"b",type:"quantitative"}}},{mark:"line",encoding:{x:{field:"a",type:"nominal"},y:{field:"b",type:"quantitative"}}}]},{x:500,y:500})(ie(e))},UTe=e=>{Lt(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:[{a:"A",b:28},{a:"B",b:55},{a:"C",b:33},{a:"D",b:91},{a:"E",b:81},{a:"F",b:53},{a:"G",b:19},{a:"H",b:87},{a:"I",b:52}]},layer:[{mark:"bar",encoding:{x:{field:"a",type:"nominal"},y:{field:"b",type:"quantitative"}}},{mark:"line",encoding:{x:{field:"a",type:"nominal"},y:{field:"b",type:"quantitative"},color:{value:"#e45755"}}}]})},WTe=e=>{Ct({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Diverging Bar"},description:"A bar chart with negative values. We can hide the axis domain line, and instead use a conditional grid color to draw a zero baseline.",data:{values:[{a:"A",b:-28},{a:"B",b:55},{a:"C",b:-33},{a:"D",b:91},{a:"E",b:81},{a:"F",b:53},{a:"G",b:-19},{a:"H",b:87},{a:"I",b:52}]},mark:"bar",encoding:{y:{field:"a",type:"nominal",axis:{domain:!1,ticks:!1,labelAngle:0,labelPadding:4}},x:{field:"b",type:"quantitative",axis:{gridColor:{condition:{test:"datum.value === 0",value:"black"},value:"#ddd"}}}}},{x:500,y:500})(ie(e))},HTe=e=>{Lt(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",description:"A bar chart with negative values. We can hide the axis domain line, and instead use a conditional grid color to draw a zero baseline.",data:{values:[{a:"A",b:-28},{a:"B",b:55},{a:"C",b:-33},{a:"D",b:91},{a:"E",b:81},{a:"F",b:53},{a:"G",b:-19},{a:"H",b:87},{a:"I",b:52}]},mark:"bar",encoding:{y:{field:"a",type:"nominal",axis:{domain:!1,ticks:!1,labelAngle:0,labelPadding:4}},x:{field:"b",type:"quantitative",axis:{gridColor:{condition:{test:"datum.value === 0",value:"black"},value:"#ddd"}}}}})},YTe=e=>{Ct({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Lollipop"},data:{values:[{a:"A",b:28},{a:"B",b:55},{a:"C",b:33},{a:"D",b:91},{a:"E",b:81},{a:"F",b:53},{a:"G",b:19},{a:"H",b:87},{a:"I",b:52}]},layer:[{mark:"rule",encoding:{y:{field:"a",type:"nominal"},x:{field:"b",type:"quantitative"}}},{mark:"point",encoding:{y:{field:"a",type:"nominal"},x:{field:"b",type:"quantitative"}}}]},{x:500,y:500})(ie(e))},qTe=e=>{Lt(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:[{a:"A",b:28},{a:"B",b:55},{a:"C",b:33},{a:"D",b:91},{a:"E",b:81},{a:"F",b:53},{a:"G",b:19},{a:"H",b:87},{a:"I",b:52}]},layer:[{mark:"rule",encoding:{y:{field:"a",type:"nominal"},x:{field:"b",type:"quantitative"}}},{mark:"point",encoding:{y:{field:"a",type:"nominal"},x:{field:"b",type:"quantitative"}}}]})},wG=[{Name:"chevrolet chevelle malibu",Miles_per_Gallon:18,Cylinders:8,Displacement:307,Horsepower:130,Weight_in_lbs:3504,Acceleration:12,Year:"1970-01-01",Origin:"USA"},{Name:"buick skylark 320",Miles_per_Gallon:15,Cylinders:8,Displacement:350,Horsepower:165,Weight_in_lbs:3693,Acceleration:11.5,Year:"1970-01-01",Origin:"USA"},{Name:"plymouth satellite",Miles_per_Gallon:18,Cylinders:8,Displacement:318,Horsepower:150,Weight_in_lbs:3436,Acceleration:11,Year:"1970-01-01",Origin:"USA"},{Name:"amc rebel sst",Miles_per_Gallon:16,Cylinders:8,Displacement:304,Horsepower:150,Weight_in_lbs:3433,Acceleration:12,Year:"1970-01-01",Origin:"USA"},{Name:"ford torino",Miles_per_Gallon:17,Cylinders:8,Displacement:302,Horsepower:140,Weight_in_lbs:3449,Acceleration:10.5,Year:"1970-01-01",Origin:"USA"},{Name:"ford galaxie 500",Miles_per_Gallon:15,Cylinders:8,Displacement:429,Horsepower:198,Weight_in_lbs:4341,Acceleration:10,Year:"1970-01-01",Origin:"USA"},{Name:"chevrolet impala",Miles_per_Gallon:14,Cylinders:8,Displacement:454,Horsepower:220,Weight_in_lbs:4354,Acceleration:9,Year:"1970-01-01",Origin:"USA"},{Name:"plymouth fury iii",Miles_per_Gallon:14,Cylinders:8,Displacement:440,Horsepower:215,Weight_in_lbs:4312,Acceleration:8.5,Year:"1970-01-01",Origin:"USA"},{Name:"pontiac catalina",Miles_per_Gallon:14,Cylinders:8,Displacement:455,Horsepower:225,Weight_in_lbs:4425,Acceleration:10,Year:"1970-01-01",Origin:"USA"},{Name:"amc ambassador dpl",Miles_per_Gallon:15,Cylinders:8,Displacement:390,Horsepower:190,Weight_in_lbs:3850,Acceleration:8.5,Year:"1970-01-01",Origin:"USA"},{Name:"citroen ds-21 pallas",Miles_per_Gallon:null,Cylinders:4,Displacement:133,Horsepower:115,Weight_in_lbs:3090,Acceleration:17.5,Year:"1970-01-01",Origin:"Europe"},{Name:"chevrolet chevelle concours (sw)",Miles_per_Gallon:null,Cylinders:8,Displacement:350,Horsepower:165,Weight_in_lbs:4142,Acceleration:11.5,Year:"1970-01-01",Origin:"USA"},{Name:"ford torino (sw)",Miles_per_Gallon:null,Cylinders:8,Displacement:351,Horsepower:153,Weight_in_lbs:4034,Acceleration:11,Year:"1970-01-01",Origin:"USA"},{Name:"plymouth satellite (sw)",Miles_per_Gallon:null,Cylinders:8,Displacement:383,Horsepower:175,Weight_in_lbs:4166,Acceleration:10.5,Year:"1970-01-01",Origin:"USA"},{Name:"amc rebel sst (sw)",Miles_per_Gallon:null,Cylinders:8,Displacement:360,Horsepower:175,Weight_in_lbs:3850,Acceleration:11,Year:"1970-01-01",Origin:"USA"},{Name:"dodge challenger se",Miles_per_Gallon:15,Cylinders:8,Displacement:383,Horsepower:170,Weight_in_lbs:3563,Acceleration:10,Year:"1970-01-01",Origin:"USA"},{Name:"plymouth 'cuda 340",Miles_per_Gallon:14,Cylinders:8,Displacement:340,Horsepower:160,Weight_in_lbs:3609,Acceleration:8,Year:"1970-01-01",Origin:"USA"},{Name:"ford mustang boss 302",Miles_per_Gallon:null,Cylinders:8,Displacement:302,Horsepower:140,Weight_in_lbs:3353,Acceleration:8,Year:"1970-01-01",Origin:"USA"},{Name:"chevrolet monte carlo",Miles_per_Gallon:15,Cylinders:8,Displacement:400,Horsepower:150,Weight_in_lbs:3761,Acceleration:9.5,Year:"1970-01-01",Origin:"USA"},{Name:"buick estate wagon (sw)",Miles_per_Gallon:14,Cylinders:8,Displacement:455,Horsepower:225,Weight_in_lbs:3086,Acceleration:10,Year:"1970-01-01",Origin:"USA"},{Name:"toyota corona mark ii",Miles_per_Gallon:24,Cylinders:4,Displacement:113,Horsepower:95,Weight_in_lbs:2372,Acceleration:15,Year:"1970-01-01",Origin:"Japan"},{Name:"plymouth duster",Miles_per_Gallon:22,Cylinders:6,Displacement:198,Horsepower:95,Weight_in_lbs:2833,Acceleration:15.5,Year:"1970-01-01",Origin:"USA"},{Name:"amc hornet",Miles_per_Gallon:18,Cylinders:6,Displacement:199,Horsepower:97,Weight_in_lbs:2774,Acceleration:15.5,Year:"1970-01-01",Origin:"USA"},{Name:"ford maverick",Miles_per_Gallon:21,Cylinders:6,Displacement:200,Horsepower:85,Weight_in_lbs:2587,Acceleration:16,Year:"1970-01-01",Origin:"USA"},{Name:"datsun pl510",Miles_per_Gallon:27,Cylinders:4,Displacement:97,Horsepower:88,Weight_in_lbs:2130,Acceleration:14.5,Year:"1970-01-01",Origin:"Japan"},{Name:"volkswagen 1131 deluxe sedan",Miles_per_Gallon:26,Cylinders:4,Displacement:97,Horsepower:46,Weight_in_lbs:1835,Acceleration:20.5,Year:"1970-01-01",Origin:"Europe"},{Name:"peugeot 504",Miles_per_Gallon:25,Cylinders:4,Displacement:110,Horsepower:87,Weight_in_lbs:2672,Acceleration:17.5,Year:"1970-01-01",Origin:"Europe"},{Name:"audi 100 ls",Miles_per_Gallon:24,Cylinders:4,Displacement:107,Horsepower:90,Weight_in_lbs:2430,Acceleration:14.5,Year:"1970-01-01",Origin:"Europe"},{Name:"saab 99e",Miles_per_Gallon:25,Cylinders:4,Displacement:104,Horsepower:95,Weight_in_lbs:2375,Acceleration:17.5,Year:"1970-01-01",Origin:"Europe"},{Name:"bmw 2002",Miles_per_Gallon:26,Cylinders:4,Displacement:121,Horsepower:113,Weight_in_lbs:2234,Acceleration:12.5,Year:"1970-01-01",Origin:"Europe"},{Name:"amc gremlin",Miles_per_Gallon:21,Cylinders:6,Displacement:199,Horsepower:90,Weight_in_lbs:2648,Acceleration:15,Year:"1970-01-01",Origin:"USA"},{Name:"ford f250",Miles_per_Gallon:10,Cylinders:8,Displacement:360,Horsepower:215,Weight_in_lbs:4615,Acceleration:14,Year:"1970-01-01",Origin:"USA"},{Name:"chevy c20",Miles_per_Gallon:10,Cylinders:8,Displacement:307,Horsepower:200,Weight_in_lbs:4376,Acceleration:15,Year:"1970-01-01",Origin:"USA"},{Name:"dodge d200",Miles_per_Gallon:11,Cylinders:8,Displacement:318,Horsepower:210,Weight_in_lbs:4382,Acceleration:13.5,Year:"1970-01-01",Origin:"USA"},{Name:"hi 1200d",Miles_per_Gallon:9,Cylinders:8,Displacement:304,Horsepower:193,Weight_in_lbs:4732,Acceleration:18.5,Year:"1970-01-01",Origin:"USA"},{Name:"datsun pl510",Miles_per_Gallon:27,Cylinders:4,Displacement:97,Horsepower:88,Weight_in_lbs:2130,Acceleration:14.5,Year:"1971-01-01",Origin:"Japan"},{Name:"chevrolet vega 2300",Miles_per_Gallon:28,Cylinders:4,Displacement:140,Horsepower:90,Weight_in_lbs:2264,Acceleration:15.5,Year:"1971-01-01",Origin:"USA"},{Name:"toyota corona",Miles_per_Gallon:25,Cylinders:4,Displacement:113,Horsepower:95,Weight_in_lbs:2228,Acceleration:14,Year:"1971-01-01",Origin:"Japan"},{Name:"ford pinto",Miles_per_Gallon:25,Cylinders:4,Displacement:98,Horsepower:null,Weight_in_lbs:2046,Acceleration:19,Year:"1971-01-01",Origin:"USA"},{Name:"volkswagen super beetle 117",Miles_per_Gallon:null,Cylinders:4,Displacement:97,Horsepower:48,Weight_in_lbs:1978,Acceleration:20,Year:"1971-01-01",Origin:"Europe"},{Name:"amc gremlin",Miles_per_Gallon:19,Cylinders:6,Displacement:232,Horsepower:100,Weight_in_lbs:2634,Acceleration:13,Year:"1971-01-01",Origin:"USA"},{Name:"plymouth satellite custom",Miles_per_Gallon:16,Cylinders:6,Displacement:225,Horsepower:105,Weight_in_lbs:3439,Acceleration:15.5,Year:"1971-01-01",Origin:"USA"},{Name:"chevrolet chevelle malibu",Miles_per_Gallon:17,Cylinders:6,Displacement:250,Horsepower:100,Weight_in_lbs:3329,Acceleration:15.5,Year:"1971-01-01",Origin:"USA"},{Name:"ford torino 500",Miles_per_Gallon:19,Cylinders:6,Displacement:250,Horsepower:88,Weight_in_lbs:3302,Acceleration:15.5,Year:"1971-01-01",Origin:"USA"},{Name:"amc matador",Miles_per_Gallon:18,Cylinders:6,Displacement:232,Horsepower:100,Weight_in_lbs:3288,Acceleration:15.5,Year:"1971-01-01",Origin:"USA"},{Name:"chevrolet impala",Miles_per_Gallon:14,Cylinders:8,Displacement:350,Horsepower:165,Weight_in_lbs:4209,Acceleration:12,Year:"1971-01-01",Origin:"USA"},{Name:"pontiac catalina brougham",Miles_per_Gallon:14,Cylinders:8,Displacement:400,Horsepower:175,Weight_in_lbs:4464,Acceleration:11.5,Year:"1971-01-01",Origin:"USA"},{Name:"ford galaxie 500",Miles_per_Gallon:14,Cylinders:8,Displacement:351,Horsepower:153,Weight_in_lbs:4154,Acceleration:13.5,Year:"1971-01-01",Origin:"USA"},{Name:"plymouth fury iii",Miles_per_Gallon:14,Cylinders:8,Displacement:318,Horsepower:150,Weight_in_lbs:4096,Acceleration:13,Year:"1971-01-01",Origin:"USA"},{Name:"dodge monaco (sw)",Miles_per_Gallon:12,Cylinders:8,Displacement:383,Horsepower:180,Weight_in_lbs:4955,Acceleration:11.5,Year:"1971-01-01",Origin:"USA"},{Name:"ford country squire (sw)",Miles_per_Gallon:13,Cylinders:8,Displacement:400,Horsepower:170,Weight_in_lbs:4746,Acceleration:12,Year:"1971-01-01",Origin:"USA"},{Name:"pontiac safari (sw)",Miles_per_Gallon:13,Cylinders:8,Displacement:400,Horsepower:175,Weight_in_lbs:5140,Acceleration:12,Year:"1971-01-01",Origin:"USA"},{Name:"amc hornet sportabout (sw)",Miles_per_Gallon:18,Cylinders:6,Displacement:258,Horsepower:110,Weight_in_lbs:2962,Acceleration:13.5,Year:"1971-01-01",Origin:"USA"},{Name:"chevrolet vega (sw)",Miles_per_Gallon:22,Cylinders:4,Displacement:140,Horsepower:72,Weight_in_lbs:2408,Acceleration:19,Year:"1971-01-01",Origin:"USA"},{Name:"pontiac firebird",Miles_per_Gallon:19,Cylinders:6,Displacement:250,Horsepower:100,Weight_in_lbs:3282,Acceleration:15,Year:"1971-01-01",Origin:"USA"},{Name:"ford mustang",Miles_per_Gallon:18,Cylinders:6,Displacement:250,Horsepower:88,Weight_in_lbs:3139,Acceleration:14.5,Year:"1971-01-01",Origin:"USA"},{Name:"mercury capri 2000",Miles_per_Gallon:23,Cylinders:4,Displacement:122,Horsepower:86,Weight_in_lbs:2220,Acceleration:14,Year:"1971-01-01",Origin:"USA"},{Name:"opel 1900",Miles_per_Gallon:28,Cylinders:4,Displacement:116,Horsepower:90,Weight_in_lbs:2123,Acceleration:14,Year:"1971-01-01",Origin:"Europe"},{Name:"peugeot 304",Miles_per_Gallon:30,Cylinders:4,Displacement:79,Horsepower:70,Weight_in_lbs:2074,Acceleration:19.5,Year:"1971-01-01",Origin:"Europe"},{Name:"fiat 124b",Miles_per_Gallon:30,Cylinders:4,Displacement:88,Horsepower:76,Weight_in_lbs:2065,Acceleration:14.5,Year:"1971-01-01",Origin:"Europe"},{Name:"toyota corolla 1200",Miles_per_Gallon:31,Cylinders:4,Displacement:71,Horsepower:65,Weight_in_lbs:1773,Acceleration:19,Year:"1971-01-01",Origin:"Japan"},{Name:"datsun 1200",Miles_per_Gallon:35,Cylinders:4,Displacement:72,Horsepower:69,Weight_in_lbs:1613,Acceleration:18,Year:"1971-01-01",Origin:"Japan"},{Name:"volkswagen model 111",Miles_per_Gallon:27,Cylinders:4,Displacement:97,Horsepower:60,Weight_in_lbs:1834,Acceleration:19,Year:"1971-01-01",Origin:"Europe"},{Name:"plymouth cricket",Miles_per_Gallon:26,Cylinders:4,Displacement:91,Horsepower:70,Weight_in_lbs:1955,Acceleration:20.5,Year:"1971-01-01",Origin:"USA"},{Name:"toyota corona hardtop",Miles_per_Gallon:24,Cylinders:4,Displacement:113,Horsepower:95,Weight_in_lbs:2278,Acceleration:15.5,Year:"1972-01-01",Origin:"Japan"},{Name:"dodge colt hardtop",Miles_per_Gallon:25,Cylinders:4,Displacement:97.5,Horsepower:80,Weight_in_lbs:2126,Acceleration:17,Year:"1972-01-01",Origin:"USA"},{Name:"volkswagen type 3",Miles_per_Gallon:23,Cylinders:4,Displacement:97,Horsepower:54,Weight_in_lbs:2254,Acceleration:23.5,Year:"1972-01-01",Origin:"Europe"},{Name:"chevrolet vega",Miles_per_Gallon:20,Cylinders:4,Displacement:140,Horsepower:90,Weight_in_lbs:2408,Acceleration:19.5,Year:"1972-01-01",Origin:"USA"},{Name:"ford pinto runabout",Miles_per_Gallon:21,Cylinders:4,Displacement:122,Horsepower:86,Weight_in_lbs:2226,Acceleration:16.5,Year:"1972-01-01",Origin:"USA"},{Name:"chevrolet impala",Miles_per_Gallon:13,Cylinders:8,Displacement:350,Horsepower:165,Weight_in_lbs:4274,Acceleration:12,Year:"1972-01-01",Origin:"USA"},{Name:"pontiac catalina",Miles_per_Gallon:14,Cylinders:8,Displacement:400,Horsepower:175,Weight_in_lbs:4385,Acceleration:12,Year:"1972-01-01",Origin:"USA"},{Name:"plymouth fury iii",Miles_per_Gallon:15,Cylinders:8,Displacement:318,Horsepower:150,Weight_in_lbs:4135,Acceleration:13.5,Year:"1972-01-01",Origin:"USA"},{Name:"ford galaxie 500",Miles_per_Gallon:14,Cylinders:8,Displacement:351,Horsepower:153,Weight_in_lbs:4129,Acceleration:13,Year:"1972-01-01",Origin:"USA"},{Name:"amc ambassador sst",Miles_per_Gallon:17,Cylinders:8,Displacement:304,Horsepower:150,Weight_in_lbs:3672,Acceleration:11.5,Year:"1972-01-01",Origin:"USA"},{Name:"mercury marquis",Miles_per_Gallon:11,Cylinders:8,Displacement:429,Horsepower:208,Weight_in_lbs:4633,Acceleration:11,Year:"1972-01-01",Origin:"USA"},{Name:"buick lesabre custom",Miles_per_Gallon:13,Cylinders:8,Displacement:350,Horsepower:155,Weight_in_lbs:4502,Acceleration:13.5,Year:"1972-01-01",Origin:"USA"},{Name:"oldsmobile delta 88 royale",Miles_per_Gallon:12,Cylinders:8,Displacement:350,Horsepower:160,Weight_in_lbs:4456,Acceleration:13.5,Year:"1972-01-01",Origin:"USA"},{Name:"chrysler newport royal",Miles_per_Gallon:13,Cylinders:8,Displacement:400,Horsepower:190,Weight_in_lbs:4422,Acceleration:12.5,Year:"1972-01-01",Origin:"USA"},{Name:"mazda rx2 coupe",Miles_per_Gallon:19,Cylinders:3,Displacement:70,Horsepower:97,Weight_in_lbs:2330,Acceleration:13.5,Year:"1972-01-01",Origin:"Japan"},{Name:"amc matador (sw)",Miles_per_Gallon:15,Cylinders:8,Displacement:304,Horsepower:150,Weight_in_lbs:3892,Acceleration:12.5,Year:"1972-01-01",Origin:"USA"},{Name:"chevrolet chevelle concours (sw)",Miles_per_Gallon:13,Cylinders:8,Displacement:307,Horsepower:130,Weight_in_lbs:4098,Acceleration:14,Year:"1972-01-01",Origin:"USA"},{Name:"ford gran torino (sw)",Miles_per_Gallon:13,Cylinders:8,Displacement:302,Horsepower:140,Weight_in_lbs:4294,Acceleration:16,Year:"1972-01-01",Origin:"USA"},{Name:"plymouth satellite custom (sw)",Miles_per_Gallon:14,Cylinders:8,Displacement:318,Horsepower:150,Weight_in_lbs:4077,Acceleration:14,Year:"1972-01-01",Origin:"USA"},{Name:"volvo 145e (sw)",Miles_per_Gallon:18,Cylinders:4,Displacement:121,Horsepower:112,Weight_in_lbs:2933,Acceleration:14.5,Year:"1972-01-01",Origin:"Europe"},{Name:"volkswagen 411 (sw)",Miles_per_Gallon:22,Cylinders:4,Displacement:121,Horsepower:76,Weight_in_lbs:2511,Acceleration:18,Year:"1972-01-01",Origin:"Europe"},{Name:"peugeot 504 (sw)",Miles_per_Gallon:21,Cylinders:4,Displacement:120,Horsepower:87,Weight_in_lbs:2979,Acceleration:19.5,Year:"1972-01-01",Origin:"Europe"},{Name:"renault 12 (sw)",Miles_per_Gallon:26,Cylinders:4,Displacement:96,Horsepower:69,Weight_in_lbs:2189,Acceleration:18,Year:"1972-01-01",Origin:"Europe"},{Name:"ford pinto (sw)",Miles_per_Gallon:22,Cylinders:4,Displacement:122,Horsepower:86,Weight_in_lbs:2395,Acceleration:16,Year:"1972-01-01",Origin:"USA"},{Name:"datsun 510 (sw)",Miles_per_Gallon:28,Cylinders:4,Displacement:97,Horsepower:92,Weight_in_lbs:2288,Acceleration:17,Year:"1972-01-01",Origin:"Japan"},{Name:"toyouta corona mark ii (sw)",Miles_per_Gallon:23,Cylinders:4,Displacement:120,Horsepower:97,Weight_in_lbs:2506,Acceleration:14.5,Year:"1972-01-01",Origin:"Japan"},{Name:"dodge colt (sw)",Miles_per_Gallon:28,Cylinders:4,Displacement:98,Horsepower:80,Weight_in_lbs:2164,Acceleration:15,Year:"1972-01-01",Origin:"USA"},{Name:"toyota corolla 1600 (sw)",Miles_per_Gallon:27,Cylinders:4,Displacement:97,Horsepower:88,Weight_in_lbs:2100,Acceleration:16.5,Year:"1972-01-01",Origin:"Japan"},{Name:"buick century 350",Miles_per_Gallon:13,Cylinders:8,Displacement:350,Horsepower:175,Weight_in_lbs:4100,Acceleration:13,Year:"1973-01-01",Origin:"USA"},{Name:"amc matador",Miles_per_Gallon:14,Cylinders:8,Displacement:304,Horsepower:150,Weight_in_lbs:3672,Acceleration:11.5,Year:"1973-01-01",Origin:"USA"},{Name:"chevrolet malibu",Miles_per_Gallon:13,Cylinders:8,Displacement:350,Horsepower:145,Weight_in_lbs:3988,Acceleration:13,Year:"1973-01-01",Origin:"USA"},{Name:"ford gran torino",Miles_per_Gallon:14,Cylinders:8,Displacement:302,Horsepower:137,Weight_in_lbs:4042,Acceleration:14.5,Year:"1973-01-01",Origin:"USA"},{Name:"dodge coronet custom",Miles_per_Gallon:15,Cylinders:8,Displacement:318,Horsepower:150,Weight_in_lbs:3777,Acceleration:12.5,Year:"1973-01-01",Origin:"USA"},{Name:"mercury marquis brougham",Miles_per_Gallon:12,Cylinders:8,Displacement:429,Horsepower:198,Weight_in_lbs:4952,Acceleration:11.5,Year:"1973-01-01",Origin:"USA"},{Name:"chevrolet caprice classic",Miles_per_Gallon:13,Cylinders:8,Displacement:400,Horsepower:150,Weight_in_lbs:4464,Acceleration:12,Year:"1973-01-01",Origin:"USA"},{Name:"ford ltd",Miles_per_Gallon:13,Cylinders:8,Displacement:351,Horsepower:158,Weight_in_lbs:4363,Acceleration:13,Year:"1973-01-01",Origin:"USA"},{Name:"plymouth fury gran sedan",Miles_per_Gallon:14,Cylinders:8,Displacement:318,Horsepower:150,Weight_in_lbs:4237,Acceleration:14.5,Year:"1973-01-01",Origin:"USA"},{Name:"chrysler new yorker brougham",Miles_per_Gallon:13,Cylinders:8,Displacement:440,Horsepower:215,Weight_in_lbs:4735,Acceleration:11,Year:"1973-01-01",Origin:"USA"},{Name:"buick electra 225 custom",Miles_per_Gallon:12,Cylinders:8,Displacement:455,Horsepower:225,Weight_in_lbs:4951,Acceleration:11,Year:"1973-01-01",Origin:"USA"},{Name:"amc ambassador brougham",Miles_per_Gallon:13,Cylinders:8,Displacement:360,Horsepower:175,Weight_in_lbs:3821,Acceleration:11,Year:"1973-01-01",Origin:"USA"},{Name:"plymouth valiant",Miles_per_Gallon:18,Cylinders:6,Displacement:225,Horsepower:105,Weight_in_lbs:3121,Acceleration:16.5,Year:"1973-01-01",Origin:"USA"},{Name:"chevrolet nova custom",Miles_per_Gallon:16,Cylinders:6,Displacement:250,Horsepower:100,Weight_in_lbs:3278,Acceleration:18,Year:"1973-01-01",Origin:"USA"},{Name:"amc hornet",Miles_per_Gallon:18,Cylinders:6,Displacement:232,Horsepower:100,Weight_in_lbs:2945,Acceleration:16,Year:"1973-01-01",Origin:"USA"},{Name:"ford maverick",Miles_per_Gallon:18,Cylinders:6,Displacement:250,Horsepower:88,Weight_in_lbs:3021,Acceleration:16.5,Year:"1973-01-01",Origin:"USA"},{Name:"plymouth duster",Miles_per_Gallon:23,Cylinders:6,Displacement:198,Horsepower:95,Weight_in_lbs:2904,Acceleration:16,Year:"1973-01-01",Origin:"USA"},{Name:"volkswagen super beetle",Miles_per_Gallon:26,Cylinders:4,Displacement:97,Horsepower:46,Weight_in_lbs:1950,Acceleration:21,Year:"1973-01-01",Origin:"Europe"},{Name:"chevrolet impala",Miles_per_Gallon:11,Cylinders:8,Displacement:400,Horsepower:150,Weight_in_lbs:4997,Acceleration:14,Year:"1973-01-01",Origin:"USA"},{Name:"ford country",Miles_per_Gallon:12,Cylinders:8,Displacement:400,Horsepower:167,Weight_in_lbs:4906,Acceleration:12.5,Year:"1973-01-01",Origin:"USA"},{Name:"plymouth custom suburb",Miles_per_Gallon:13,Cylinders:8,Displacement:360,Horsepower:170,Weight_in_lbs:4654,Acceleration:13,Year:"1973-01-01",Origin:"USA"},{Name:"oldsmobile vista cruiser",Miles_per_Gallon:12,Cylinders:8,Displacement:350,Horsepower:180,Weight_in_lbs:4499,Acceleration:12.5,Year:"1973-01-01",Origin:"USA"},{Name:"amc gremlin",Miles_per_Gallon:18,Cylinders:6,Displacement:232,Horsepower:100,Weight_in_lbs:2789,Acceleration:15,Year:"1973-01-01",Origin:"USA"},{Name:"toyota carina",Miles_per_Gallon:20,Cylinders:4,Displacement:97,Horsepower:88,Weight_in_lbs:2279,Acceleration:19,Year:"1973-01-01",Origin:"Japan"},{Name:"chevrolet vega",Miles_per_Gallon:21,Cylinders:4,Displacement:140,Horsepower:72,Weight_in_lbs:2401,Acceleration:19.5,Year:"1973-01-01",Origin:"USA"},{Name:"datsun 610",Miles_per_Gallon:22,Cylinders:4,Displacement:108,Horsepower:94,Weight_in_lbs:2379,Acceleration:16.5,Year:"1973-01-01",Origin:"Japan"},{Name:"maxda rx3",Miles_per_Gallon:18,Cylinders:3,Displacement:70,Horsepower:90,Weight_in_lbs:2124,Acceleration:13.5,Year:"1973-01-01",Origin:"Japan"},{Name:"ford pinto",Miles_per_Gallon:19,Cylinders:4,Displacement:122,Horsepower:85,Weight_in_lbs:2310,Acceleration:18.5,Year:"1973-01-01",Origin:"USA"},{Name:"mercury capri v6",Miles_per_Gallon:21,Cylinders:6,Displacement:155,Horsepower:107,Weight_in_lbs:2472,Acceleration:14,Year:"1973-01-01",Origin:"USA"},{Name:"fiat 124 sport coupe",Miles_per_Gallon:26,Cylinders:4,Displacement:98,Horsepower:90,Weight_in_lbs:2265,Acceleration:15.5,Year:"1973-01-01",Origin:"Europe"},{Name:"chevrolet monte carlo s",Miles_per_Gallon:15,Cylinders:8,Displacement:350,Horsepower:145,Weight_in_lbs:4082,Acceleration:13,Year:"1973-01-01",Origin:"USA"},{Name:"pontiac grand prix",Miles_per_Gallon:16,Cylinders:8,Displacement:400,Horsepower:230,Weight_in_lbs:4278,Acceleration:9.5,Year:"1973-01-01",Origin:"USA"},{Name:"fiat 128",Miles_per_Gallon:29,Cylinders:4,Displacement:68,Horsepower:49,Weight_in_lbs:1867,Acceleration:19.5,Year:"1973-01-01",Origin:"Europe"},{Name:"opel manta",Miles_per_Gallon:24,Cylinders:4,Displacement:116,Horsepower:75,Weight_in_lbs:2158,Acceleration:15.5,Year:"1973-01-01",Origin:"Europe"},{Name:"audi 100ls",Miles_per_Gallon:20,Cylinders:4,Displacement:114,Horsepower:91,Weight_in_lbs:2582,Acceleration:14,Year:"1973-01-01",Origin:"Europe"},{Name:"volvo 144ea",Miles_per_Gallon:19,Cylinders:4,Displacement:121,Horsepower:112,Weight_in_lbs:2868,Acceleration:15.5,Year:"1973-01-01",Origin:"Europe"},{Name:"dodge dart custom",Miles_per_Gallon:15,Cylinders:8,Displacement:318,Horsepower:150,Weight_in_lbs:3399,Acceleration:11,Year:"1973-01-01",Origin:"USA"},{Name:"saab 99le",Miles_per_Gallon:24,Cylinders:4,Displacement:121,Horsepower:110,Weight_in_lbs:2660,Acceleration:14,Year:"1973-01-01",Origin:"Europe"},{Name:"toyota mark ii",Miles_per_Gallon:20,Cylinders:6,Displacement:156,Horsepower:122,Weight_in_lbs:2807,Acceleration:13.5,Year:"1973-01-01",Origin:"Japan"},{Name:"oldsmobile omega",Miles_per_Gallon:11,Cylinders:8,Displacement:350,Horsepower:180,Weight_in_lbs:3664,Acceleration:11,Year:"1973-01-01",Origin:"USA"},{Name:"plymouth duster",Miles_per_Gallon:20,Cylinders:6,Displacement:198,Horsepower:95,Weight_in_lbs:3102,Acceleration:16.5,Year:"1974-01-01",Origin:"USA"},{Name:"ford maverick",Miles_per_Gallon:21,Cylinders:6,Displacement:200,Horsepower:null,Weight_in_lbs:2875,Acceleration:17,Year:"1974-01-01",Origin:"USA"},{Name:"amc hornet",Miles_per_Gallon:19,Cylinders:6,Displacement:232,Horsepower:100,Weight_in_lbs:2901,Acceleration:16,Year:"1974-01-01",Origin:"USA"},{Name:"chevrolet nova",Miles_per_Gallon:15,Cylinders:6,Displacement:250,Horsepower:100,Weight_in_lbs:3336,Acceleration:17,Year:"1974-01-01",Origin:"USA"},{Name:"datsun b210",Miles_per_Gallon:31,Cylinders:4,Displacement:79,Horsepower:67,Weight_in_lbs:1950,Acceleration:19,Year:"1974-01-01",Origin:"Japan"},{Name:"ford pinto",Miles_per_Gallon:26,Cylinders:4,Displacement:122,Horsepower:80,Weight_in_lbs:2451,Acceleration:16.5,Year:"1974-01-01",Origin:"USA"},{Name:"toyota corolla 1200",Miles_per_Gallon:32,Cylinders:4,Displacement:71,Horsepower:65,Weight_in_lbs:1836,Acceleration:21,Year:"1974-01-01",Origin:"Japan"},{Name:"chevrolet vega",Miles_per_Gallon:25,Cylinders:4,Displacement:140,Horsepower:75,Weight_in_lbs:2542,Acceleration:17,Year:"1974-01-01",Origin:"USA"},{Name:"chevrolet chevelle malibu classic",Miles_per_Gallon:16,Cylinders:6,Displacement:250,Horsepower:100,Weight_in_lbs:3781,Acceleration:17,Year:"1974-01-01",Origin:"USA"},{Name:"amc matador",Miles_per_Gallon:16,Cylinders:6,Displacement:258,Horsepower:110,Weight_in_lbs:3632,Acceleration:18,Year:"1974-01-01",Origin:"USA"},{Name:"plymouth satellite sebring",Miles_per_Gallon:18,Cylinders:6,Displacement:225,Horsepower:105,Weight_in_lbs:3613,Acceleration:16.5,Year:"1974-01-01",Origin:"USA"},{Name:"ford gran torino",Miles_per_Gallon:16,Cylinders:8,Displacement:302,Horsepower:140,Weight_in_lbs:4141,Acceleration:14,Year:"1974-01-01",Origin:"USA"},{Name:"buick century luxus (sw)",Miles_per_Gallon:13,Cylinders:8,Displacement:350,Horsepower:150,Weight_in_lbs:4699,Acceleration:14.5,Year:"1974-01-01",Origin:"USA"},{Name:"dodge coronet custom (sw)",Miles_per_Gallon:14,Cylinders:8,Displacement:318,Horsepower:150,Weight_in_lbs:4457,Acceleration:13.5,Year:"1974-01-01",Origin:"USA"},{Name:"ford gran torino (sw)",Miles_per_Gallon:14,Cylinders:8,Displacement:302,Horsepower:140,Weight_in_lbs:4638,Acceleration:16,Year:"1974-01-01",Origin:"USA"},{Name:"amc matador (sw)",Miles_per_Gallon:14,Cylinders:8,Displacement:304,Horsepower:150,Weight_in_lbs:4257,Acceleration:15.5,Year:"1974-01-01",Origin:"USA"},{Name:"audi fox",Miles_per_Gallon:29,Cylinders:4,Displacement:98,Horsepower:83,Weight_in_lbs:2219,Acceleration:16.5,Year:"1974-01-01",Origin:"Europe"},{Name:"volkswagen dasher",Miles_per_Gallon:26,Cylinders:4,Displacement:79,Horsepower:67,Weight_in_lbs:1963,Acceleration:15.5,Year:"1974-01-01",Origin:"Europe"},{Name:"opel manta",Miles_per_Gallon:26,Cylinders:4,Displacement:97,Horsepower:78,Weight_in_lbs:2300,Acceleration:14.5,Year:"1974-01-01",Origin:"Europe"},{Name:"toyota corona",Miles_per_Gallon:31,Cylinders:4,Displacement:76,Horsepower:52,Weight_in_lbs:1649,Acceleration:16.5,Year:"1974-01-01",Origin:"Japan"},{Name:"datsun 710",Miles_per_Gallon:32,Cylinders:4,Displacement:83,Horsepower:61,Weight_in_lbs:2003,Acceleration:19,Year:"1974-01-01",Origin:"Japan"},{Name:"dodge colt",Miles_per_Gallon:28,Cylinders:4,Displacement:90,Horsepower:75,Weight_in_lbs:2125,Acceleration:14.5,Year:"1974-01-01",Origin:"USA"},{Name:"fiat 128",Miles_per_Gallon:24,Cylinders:4,Displacement:90,Horsepower:75,Weight_in_lbs:2108,Acceleration:15.5,Year:"1974-01-01",Origin:"Europe"},{Name:"fiat 124 tc",Miles_per_Gallon:26,Cylinders:4,Displacement:116,Horsepower:75,Weight_in_lbs:2246,Acceleration:14,Year:"1974-01-01",Origin:"Europe"},{Name:"honda civic",Miles_per_Gallon:24,Cylinders:4,Displacement:120,Horsepower:97,Weight_in_lbs:2489,Acceleration:15,Year:"1974-01-01",Origin:"Japan"},{Name:"subaru",Miles_per_Gallon:26,Cylinders:4,Displacement:108,Horsepower:93,Weight_in_lbs:2391,Acceleration:15.5,Year:"1974-01-01",Origin:"Japan"},{Name:"fiat x1.9",Miles_per_Gallon:31,Cylinders:4,Displacement:79,Horsepower:67,Weight_in_lbs:2e3,Acceleration:16,Year:"1974-01-01",Origin:"Europe"},{Name:"plymouth valiant custom",Miles_per_Gallon:19,Cylinders:6,Displacement:225,Horsepower:95,Weight_in_lbs:3264,Acceleration:16,Year:"1975-01-01",Origin:"USA"},{Name:"chevrolet nova",Miles_per_Gallon:18,Cylinders:6,Displacement:250,Horsepower:105,Weight_in_lbs:3459,Acceleration:16,Year:"1975-01-01",Origin:"USA"},{Name:"mercury monarch",Miles_per_Gallon:15,Cylinders:6,Displacement:250,Horsepower:72,Weight_in_lbs:3432,Acceleration:21,Year:"1975-01-01",Origin:"USA"},{Name:"ford maverick",Miles_per_Gallon:15,Cylinders:6,Displacement:250,Horsepower:72,Weight_in_lbs:3158,Acceleration:19.5,Year:"1975-01-01",Origin:"USA"},{Name:"pontiac catalina",Miles_per_Gallon:16,Cylinders:8,Displacement:400,Horsepower:170,Weight_in_lbs:4668,Acceleration:11.5,Year:"1975-01-01",Origin:"USA"},{Name:"chevrolet bel air",Miles_per_Gallon:15,Cylinders:8,Displacement:350,Horsepower:145,Weight_in_lbs:4440,Acceleration:14,Year:"1975-01-01",Origin:"USA"},{Name:"plymouth grand fury",Miles_per_Gallon:16,Cylinders:8,Displacement:318,Horsepower:150,Weight_in_lbs:4498,Acceleration:14.5,Year:"1975-01-01",Origin:"USA"},{Name:"ford ltd",Miles_per_Gallon:14,Cylinders:8,Displacement:351,Horsepower:148,Weight_in_lbs:4657,Acceleration:13.5,Year:"1975-01-01",Origin:"USA"},{Name:"buick century",Miles_per_Gallon:17,Cylinders:6,Displacement:231,Horsepower:110,Weight_in_lbs:3907,Acceleration:21,Year:"1975-01-01",Origin:"USA"},{Name:"chevroelt chevelle malibu",Miles_per_Gallon:16,Cylinders:6,Displacement:250,Horsepower:105,Weight_in_lbs:3897,Acceleration:18.5,Year:"1975-01-01",Origin:"USA"},{Name:"amc matador",Miles_per_Gallon:15,Cylinders:6,Displacement:258,Horsepower:110,Weight_in_lbs:3730,Acceleration:19,Year:"1975-01-01",Origin:"USA"},{Name:"plymouth fury",Miles_per_Gallon:18,Cylinders:6,Displacement:225,Horsepower:95,Weight_in_lbs:3785,Acceleration:19,Year:"1975-01-01",Origin:"USA"},{Name:"buick skyhawk",Miles_per_Gallon:21,Cylinders:6,Displacement:231,Horsepower:110,Weight_in_lbs:3039,Acceleration:15,Year:"1975-01-01",Origin:"USA"},{Name:"chevrolet monza 2+2",Miles_per_Gallon:20,Cylinders:8,Displacement:262,Horsepower:110,Weight_in_lbs:3221,Acceleration:13.5,Year:"1975-01-01",Origin:"USA"},{Name:"ford mustang ii",Miles_per_Gallon:13,Cylinders:8,Displacement:302,Horsepower:129,Weight_in_lbs:3169,Acceleration:12,Year:"1975-01-01",Origin:"USA"},{Name:"toyota corolla",Miles_per_Gallon:29,Cylinders:4,Displacement:97,Horsepower:75,Weight_in_lbs:2171,Acceleration:16,Year:"1975-01-01",Origin:"Japan"},{Name:"ford pinto",Miles_per_Gallon:23,Cylinders:4,Displacement:140,Horsepower:83,Weight_in_lbs:2639,Acceleration:17,Year:"1975-01-01",Origin:"USA"},{Name:"amc gremlin",Miles_per_Gallon:20,Cylinders:6,Displacement:232,Horsepower:100,Weight_in_lbs:2914,Acceleration:16,Year:"1975-01-01",Origin:"USA"},{Name:"pontiac astro",Miles_per_Gallon:23,Cylinders:4,Displacement:140,Horsepower:78,Weight_in_lbs:2592,Acceleration:18.5,Year:"1975-01-01",Origin:"USA"},{Name:"toyota corona",Miles_per_Gallon:24,Cylinders:4,Displacement:134,Horsepower:96,Weight_in_lbs:2702,Acceleration:13.5,Year:"1975-01-01",Origin:"Japan"},{Name:"volkswagen dasher",Miles_per_Gallon:25,Cylinders:4,Displacement:90,Horsepower:71,Weight_in_lbs:2223,Acceleration:16.5,Year:"1975-01-01",Origin:"Europe"},{Name:"datsun 710",Miles_per_Gallon:24,Cylinders:4,Displacement:119,Horsepower:97,Weight_in_lbs:2545,Acceleration:17,Year:"1975-01-01",Origin:"Japan"},{Name:"ford pinto",Miles_per_Gallon:18,Cylinders:6,Displacement:171,Horsepower:97,Weight_in_lbs:2984,Acceleration:14.5,Year:"1975-01-01",Origin:"USA"},{Name:"volkswagen rabbit",Miles_per_Gallon:29,Cylinders:4,Displacement:90,Horsepower:70,Weight_in_lbs:1937,Acceleration:14,Year:"1975-01-01",Origin:"Europe"},{Name:"amc pacer",Miles_per_Gallon:19,Cylinders:6,Displacement:232,Horsepower:90,Weight_in_lbs:3211,Acceleration:17,Year:"1975-01-01",Origin:"USA"},{Name:"audi 100ls",Miles_per_Gallon:23,Cylinders:4,Displacement:115,Horsepower:95,Weight_in_lbs:2694,Acceleration:15,Year:"1975-01-01",Origin:"Europe"},{Name:"peugeot 504",Miles_per_Gallon:23,Cylinders:4,Displacement:120,Horsepower:88,Weight_in_lbs:2957,Acceleration:17,Year:"1975-01-01",Origin:"Europe"},{Name:"volvo 244dl",Miles_per_Gallon:22,Cylinders:4,Displacement:121,Horsepower:98,Weight_in_lbs:2945,Acceleration:14.5,Year:"1975-01-01",Origin:"Europe"},{Name:"saab 99le",Miles_per_Gallon:25,Cylinders:4,Displacement:121,Horsepower:115,Weight_in_lbs:2671,Acceleration:13.5,Year:"1975-01-01",Origin:"Europe"},{Name:"honda civic cvcc",Miles_per_Gallon:33,Cylinders:4,Displacement:91,Horsepower:53,Weight_in_lbs:1795,Acceleration:17.5,Year:"1975-01-01",Origin:"Japan"},{Name:"fiat 131",Miles_per_Gallon:28,Cylinders:4,Displacement:107,Horsepower:86,Weight_in_lbs:2464,Acceleration:15.5,Year:"1976-01-01",Origin:"Europe"},{Name:"opel 1900",Miles_per_Gallon:25,Cylinders:4,Displacement:116,Horsepower:81,Weight_in_lbs:2220,Acceleration:16.9,Year:"1976-01-01",Origin:"Europe"},{Name:"capri ii",Miles_per_Gallon:25,Cylinders:4,Displacement:140,Horsepower:92,Weight_in_lbs:2572,Acceleration:14.9,Year:"1976-01-01",Origin:"USA"},{Name:"dodge colt",Miles_per_Gallon:26,Cylinders:4,Displacement:98,Horsepower:79,Weight_in_lbs:2255,Acceleration:17.7,Year:"1976-01-01",Origin:"USA"},{Name:"renault 12tl",Miles_per_Gallon:27,Cylinders:4,Displacement:101,Horsepower:83,Weight_in_lbs:2202,Acceleration:15.3,Year:"1976-01-01",Origin:"Europe"},{Name:"chevrolet chevelle malibu classic",Miles_per_Gallon:17.5,Cylinders:8,Displacement:305,Horsepower:140,Weight_in_lbs:4215,Acceleration:13,Year:"1976-01-01",Origin:"USA"},{Name:"dodge coronet brougham",Miles_per_Gallon:16,Cylinders:8,Displacement:318,Horsepower:150,Weight_in_lbs:4190,Acceleration:13,Year:"1976-01-01",Origin:"USA"},{Name:"amc matador",Miles_per_Gallon:15.5,Cylinders:8,Displacement:304,Horsepower:120,Weight_in_lbs:3962,Acceleration:13.9,Year:"1976-01-01",Origin:"USA"},{Name:"ford gran torino",Miles_per_Gallon:14.5,Cylinders:8,Displacement:351,Horsepower:152,Weight_in_lbs:4215,Acceleration:12.8,Year:"1976-01-01",Origin:"USA"},{Name:"plymouth valiant",Miles_per_Gallon:22,Cylinders:6,Displacement:225,Horsepower:100,Weight_in_lbs:3233,Acceleration:15.4,Year:"1976-01-01",Origin:"USA"},{Name:"chevrolet nova",Miles_per_Gallon:22,Cylinders:6,Displacement:250,Horsepower:105,Weight_in_lbs:3353,Acceleration:14.5,Year:"1976-01-01",Origin:"USA"},{Name:"ford maverick",Miles_per_Gallon:24,Cylinders:6,Displacement:200,Horsepower:81,Weight_in_lbs:3012,Acceleration:17.6,Year:"1976-01-01",Origin:"USA"},{Name:"amc hornet",Miles_per_Gallon:22.5,Cylinders:6,Displacement:232,Horsepower:90,Weight_in_lbs:3085,Acceleration:17.6,Year:"1976-01-01",Origin:"USA"},{Name:"chevrolet chevette",Miles_per_Gallon:29,Cylinders:4,Displacement:85,Horsepower:52,Weight_in_lbs:2035,Acceleration:22.2,Year:"1976-01-01",Origin:"USA"},{Name:"chevrolet woody",Miles_per_Gallon:24.5,Cylinders:4,Displacement:98,Horsepower:60,Weight_in_lbs:2164,Acceleration:22.1,Year:"1976-01-01",Origin:"USA"},{Name:"vw rabbit",Miles_per_Gallon:29,Cylinders:4,Displacement:90,Horsepower:70,Weight_in_lbs:1937,Acceleration:14.2,Year:"1976-01-01",Origin:"Europe"},{Name:"honda civic",Miles_per_Gallon:33,Cylinders:4,Displacement:91,Horsepower:53,Weight_in_lbs:1795,Acceleration:17.4,Year:"1976-01-01",Origin:"Japan"},{Name:"dodge aspen se",Miles_per_Gallon:20,Cylinders:6,Displacement:225,Horsepower:100,Weight_in_lbs:3651,Acceleration:17.7,Year:"1976-01-01",Origin:"USA"},{Name:"ford granada ghia",Miles_per_Gallon:18,Cylinders:6,Displacement:250,Horsepower:78,Weight_in_lbs:3574,Acceleration:21,Year:"1976-01-01",Origin:"USA"},{Name:"pontiac ventura sj",Miles_per_Gallon:18.5,Cylinders:6,Displacement:250,Horsepower:110,Weight_in_lbs:3645,Acceleration:16.2,Year:"1976-01-01",Origin:"USA"},{Name:"amc pacer d/l",Miles_per_Gallon:17.5,Cylinders:6,Displacement:258,Horsepower:95,Weight_in_lbs:3193,Acceleration:17.8,Year:"1976-01-01",Origin:"USA"},{Name:"volkswagen rabbit",Miles_per_Gallon:29.5,Cylinders:4,Displacement:97,Horsepower:71,Weight_in_lbs:1825,Acceleration:12.2,Year:"1976-01-01",Origin:"Europe"},{Name:"datsun b-210",Miles_per_Gallon:32,Cylinders:4,Displacement:85,Horsepower:70,Weight_in_lbs:1990,Acceleration:17,Year:"1976-01-01",Origin:"Japan"},{Name:"toyota corolla",Miles_per_Gallon:28,Cylinders:4,Displacement:97,Horsepower:75,Weight_in_lbs:2155,Acceleration:16.4,Year:"1976-01-01",Origin:"Japan"},{Name:"ford pinto",Miles_per_Gallon:26.5,Cylinders:4,Displacement:140,Horsepower:72,Weight_in_lbs:2565,Acceleration:13.6,Year:"1976-01-01",Origin:"USA"},{Name:"volvo 245",Miles_per_Gallon:20,Cylinders:4,Displacement:130,Horsepower:102,Weight_in_lbs:3150,Acceleration:15.7,Year:"1976-01-01",Origin:"Europe"},{Name:"plymouth volare premier v8",Miles_per_Gallon:13,Cylinders:8,Displacement:318,Horsepower:150,Weight_in_lbs:3940,Acceleration:13.2,Year:"1976-01-01",Origin:"USA"},{Name:"peugeot 504",Miles_per_Gallon:19,Cylinders:4,Displacement:120,Horsepower:88,Weight_in_lbs:3270,Acceleration:21.9,Year:"1976-01-01",Origin:"Europe"},{Name:"toyota mark ii",Miles_per_Gallon:19,Cylinders:6,Displacement:156,Horsepower:108,Weight_in_lbs:2930,Acceleration:15.5,Year:"1976-01-01",Origin:"Japan"},{Name:"mercedes-benz 280s",Miles_per_Gallon:16.5,Cylinders:6,Displacement:168,Horsepower:120,Weight_in_lbs:3820,Acceleration:16.7,Year:"1976-01-01",Origin:"Europe"},{Name:"cadillac seville",Miles_per_Gallon:16.5,Cylinders:8,Displacement:350,Horsepower:180,Weight_in_lbs:4380,Acceleration:12.1,Year:"1976-01-01",Origin:"USA"},{Name:"chevy c10",Miles_per_Gallon:13,Cylinders:8,Displacement:350,Horsepower:145,Weight_in_lbs:4055,Acceleration:12,Year:"1976-01-01",Origin:"USA"},{Name:"ford f108",Miles_per_Gallon:13,Cylinders:8,Displacement:302,Horsepower:130,Weight_in_lbs:3870,Acceleration:15,Year:"1976-01-01",Origin:"USA"},{Name:"dodge d100",Miles_per_Gallon:13,Cylinders:8,Displacement:318,Horsepower:150,Weight_in_lbs:3755,Acceleration:14,Year:"1976-01-01",Origin:"USA"},{Name:"honda Accelerationord cvcc",Miles_per_Gallon:31.5,Cylinders:4,Displacement:98,Horsepower:68,Weight_in_lbs:2045,Acceleration:18.5,Year:"1977-01-01",Origin:"Japan"},{Name:"buick opel isuzu deluxe",Miles_per_Gallon:30,Cylinders:4,Displacement:111,Horsepower:80,Weight_in_lbs:2155,Acceleration:14.8,Year:"1977-01-01",Origin:"USA"},{Name:"renault 5 gtl",Miles_per_Gallon:36,Cylinders:4,Displacement:79,Horsepower:58,Weight_in_lbs:1825,Acceleration:18.6,Year:"1977-01-01",Origin:"Europe"},{Name:"plymouth arrow gs",Miles_per_Gallon:25.5,Cylinders:4,Displacement:122,Horsepower:96,Weight_in_lbs:2300,Acceleration:15.5,Year:"1977-01-01",Origin:"USA"},{Name:"datsun f-10 hatchback",Miles_per_Gallon:33.5,Cylinders:4,Displacement:85,Horsepower:70,Weight_in_lbs:1945,Acceleration:16.8,Year:"1977-01-01",Origin:"Japan"},{Name:"chevrolet caprice classic",Miles_per_Gallon:17.5,Cylinders:8,Displacement:305,Horsepower:145,Weight_in_lbs:3880,Acceleration:12.5,Year:"1977-01-01",Origin:"USA"},{Name:"oldsmobile cutlass supreme",Miles_per_Gallon:17,Cylinders:8,Displacement:260,Horsepower:110,Weight_in_lbs:4060,Acceleration:19,Year:"1977-01-01",Origin:"USA"},{Name:"dodge monaco brougham",Miles_per_Gallon:15.5,Cylinders:8,Displacement:318,Horsepower:145,Weight_in_lbs:4140,Acceleration:13.7,Year:"1977-01-01",Origin:"USA"},{Name:"mercury cougar brougham",Miles_per_Gallon:15,Cylinders:8,Displacement:302,Horsepower:130,Weight_in_lbs:4295,Acceleration:14.9,Year:"1977-01-01",Origin:"USA"},{Name:"chevrolet concours",Miles_per_Gallon:17.5,Cylinders:6,Displacement:250,Horsepower:110,Weight_in_lbs:3520,Acceleration:16.4,Year:"1977-01-01",Origin:"USA"},{Name:"buick skylark",Miles_per_Gallon:20.5,Cylinders:6,Displacement:231,Horsepower:105,Weight_in_lbs:3425,Acceleration:16.9,Year:"1977-01-01",Origin:"USA"},{Name:"plymouth volare custom",Miles_per_Gallon:19,Cylinders:6,Displacement:225,Horsepower:100,Weight_in_lbs:3630,Acceleration:17.7,Year:"1977-01-01",Origin:"USA"},{Name:"ford granada",Miles_per_Gallon:18.5,Cylinders:6,Displacement:250,Horsepower:98,Weight_in_lbs:3525,Acceleration:19,Year:"1977-01-01",Origin:"USA"},{Name:"pontiac grand prix lj",Miles_per_Gallon:16,Cylinders:8,Displacement:400,Horsepower:180,Weight_in_lbs:4220,Acceleration:11.1,Year:"1977-01-01",Origin:"USA"},{Name:"chevrolet monte carlo landau",Miles_per_Gallon:15.5,Cylinders:8,Displacement:350,Horsepower:170,Weight_in_lbs:4165,Acceleration:11.4,Year:"1977-01-01",Origin:"USA"},{Name:"chrysler cordoba",Miles_per_Gallon:15.5,Cylinders:8,Displacement:400,Horsepower:190,Weight_in_lbs:4325,Acceleration:12.2,Year:"1977-01-01",Origin:"USA"},{Name:"ford thunderbird",Miles_per_Gallon:16,Cylinders:8,Displacement:351,Horsepower:149,Weight_in_lbs:4335,Acceleration:14.5,Year:"1977-01-01",Origin:"USA"},{Name:"volkswagen rabbit custom",Miles_per_Gallon:29,Cylinders:4,Displacement:97,Horsepower:78,Weight_in_lbs:1940,Acceleration:14.5,Year:"1977-01-01",Origin:"Europe"},{Name:"pontiac sunbird coupe",Miles_per_Gallon:24.5,Cylinders:4,Displacement:151,Horsepower:88,Weight_in_lbs:2740,Acceleration:16,Year:"1977-01-01",Origin:"USA"},{Name:"toyota corolla liftback",Miles_per_Gallon:26,Cylinders:4,Displacement:97,Horsepower:75,Weight_in_lbs:2265,Acceleration:18.2,Year:"1977-01-01",Origin:"Japan"},{Name:"ford mustang ii 2+2",Miles_per_Gallon:25.5,Cylinders:4,Displacement:140,Horsepower:89,Weight_in_lbs:2755,Acceleration:15.8,Year:"1977-01-01",Origin:"USA"},{Name:"chevrolet chevette",Miles_per_Gallon:30.5,Cylinders:4,Displacement:98,Horsepower:63,Weight_in_lbs:2051,Acceleration:17,Year:"1977-01-01",Origin:"USA"},{Name:"dodge colt m/m",Miles_per_Gallon:33.5,Cylinders:4,Displacement:98,Horsepower:83,Weight_in_lbs:2075,Acceleration:15.9,Year:"1977-01-01",Origin:"USA"},{Name:"subaru dl",Miles_per_Gallon:30,Cylinders:4,Displacement:97,Horsepower:67,Weight_in_lbs:1985,Acceleration:16.4,Year:"1977-01-01",Origin:"Japan"},{Name:"volkswagen dasher",Miles_per_Gallon:30.5,Cylinders:4,Displacement:97,Horsepower:78,Weight_in_lbs:2190,Acceleration:14.1,Year:"1977-01-01",Origin:"Europe"},{Name:"datsun 810",Miles_per_Gallon:22,Cylinders:6,Displacement:146,Horsepower:97,Weight_in_lbs:2815,Acceleration:14.5,Year:"1977-01-01",Origin:"Japan"},{Name:"bmw 320i",Miles_per_Gallon:21.5,Cylinders:4,Displacement:121,Horsepower:110,Weight_in_lbs:2600,Acceleration:12.8,Year:"1977-01-01",Origin:"Europe"},{Name:"mazda rx-4",Miles_per_Gallon:21.5,Cylinders:3,Displacement:80,Horsepower:110,Weight_in_lbs:2720,Acceleration:13.5,Year:"1977-01-01",Origin:"Japan"},{Name:"volkswagen rabbit custom diesel",Miles_per_Gallon:43.1,Cylinders:4,Displacement:90,Horsepower:48,Weight_in_lbs:1985,Acceleration:21.5,Year:"1978-01-01",Origin:"Europe"},{Name:"ford fiesta",Miles_per_Gallon:36.1,Cylinders:4,Displacement:98,Horsepower:66,Weight_in_lbs:1800,Acceleration:14.4,Year:"1978-01-01",Origin:"USA"},{Name:"mazda glc deluxe",Miles_per_Gallon:32.8,Cylinders:4,Displacement:78,Horsepower:52,Weight_in_lbs:1985,Acceleration:19.4,Year:"1978-01-01",Origin:"Japan"},{Name:"datsun b210 gx",Miles_per_Gallon:39.4,Cylinders:4,Displacement:85,Horsepower:70,Weight_in_lbs:2070,Acceleration:18.6,Year:"1978-01-01",Origin:"Japan"},{Name:"honda civic cvcc",Miles_per_Gallon:36.1,Cylinders:4,Displacement:91,Horsepower:60,Weight_in_lbs:1800,Acceleration:16.4,Year:"1978-01-01",Origin:"Japan"},{Name:"oldsmobile cutlass salon brougham",Miles_per_Gallon:19.9,Cylinders:8,Displacement:260,Horsepower:110,Weight_in_lbs:3365,Acceleration:15.5,Year:"1978-01-01",Origin:"USA"},{Name:"dodge diplomat",Miles_per_Gallon:19.4,Cylinders:8,Displacement:318,Horsepower:140,Weight_in_lbs:3735,Acceleration:13.2,Year:"1978-01-01",Origin:"USA"},{Name:"mercury monarch ghia",Miles_per_Gallon:20.2,Cylinders:8,Displacement:302,Horsepower:139,Weight_in_lbs:3570,Acceleration:12.8,Year:"1978-01-01",Origin:"USA"},{Name:"pontiac phoenix lj",Miles_per_Gallon:19.2,Cylinders:6,Displacement:231,Horsepower:105,Weight_in_lbs:3535,Acceleration:19.2,Year:"1978-01-01",Origin:"USA"},{Name:"chevrolet malibu",Miles_per_Gallon:20.5,Cylinders:6,Displacement:200,Horsepower:95,Weight_in_lbs:3155,Acceleration:18.2,Year:"1978-01-01",Origin:"USA"},{Name:"ford fairmont (auto)",Miles_per_Gallon:20.2,Cylinders:6,Displacement:200,Horsepower:85,Weight_in_lbs:2965,Acceleration:15.8,Year:"1978-01-01",Origin:"USA"},{Name:"ford fairmont (man)",Miles_per_Gallon:25.1,Cylinders:4,Displacement:140,Horsepower:88,Weight_in_lbs:2720,Acceleration:15.4,Year:"1978-01-01",Origin:"USA"},{Name:"plymouth volare",Miles_per_Gallon:20.5,Cylinders:6,Displacement:225,Horsepower:100,Weight_in_lbs:3430,Acceleration:17.2,Year:"1978-01-01",Origin:"USA"},{Name:"amc concord",Miles_per_Gallon:19.4,Cylinders:6,Displacement:232,Horsepower:90,Weight_in_lbs:3210,Acceleration:17.2,Year:"1978-01-01",Origin:"USA"},{Name:"buick century special",Miles_per_Gallon:20.6,Cylinders:6,Displacement:231,Horsepower:105,Weight_in_lbs:3380,Acceleration:15.8,Year:"1978-01-01",Origin:"USA"},{Name:"mercury zephyr",Miles_per_Gallon:20.8,Cylinders:6,Displacement:200,Horsepower:85,Weight_in_lbs:3070,Acceleration:16.7,Year:"1978-01-01",Origin:"USA"},{Name:"dodge aspen",Miles_per_Gallon:18.6,Cylinders:6,Displacement:225,Horsepower:110,Weight_in_lbs:3620,Acceleration:18.7,Year:"1978-01-01",Origin:"USA"},{Name:"amc concord d/l",Miles_per_Gallon:18.1,Cylinders:6,Displacement:258,Horsepower:120,Weight_in_lbs:3410,Acceleration:15.1,Year:"1978-01-01",Origin:"USA"},{Name:"chevrolet monte carlo landau",Miles_per_Gallon:19.2,Cylinders:8,Displacement:305,Horsepower:145,Weight_in_lbs:3425,Acceleration:13.2,Year:"1978-01-01",Origin:"USA"},{Name:"buick regal sport coupe (turbo)",Miles_per_Gallon:17.7,Cylinders:6,Displacement:231,Horsepower:165,Weight_in_lbs:3445,Acceleration:13.4,Year:"1978-01-01",Origin:"USA"},{Name:"ford futura",Miles_per_Gallon:18.1,Cylinders:8,Displacement:302,Horsepower:139,Weight_in_lbs:3205,Acceleration:11.2,Year:"1978-01-01",Origin:"USA"},{Name:"dodge magnum xe",Miles_per_Gallon:17.5,Cylinders:8,Displacement:318,Horsepower:140,Weight_in_lbs:4080,Acceleration:13.7,Year:"1978-01-01",Origin:"USA"},{Name:"chevrolet chevette",Miles_per_Gallon:30,Cylinders:4,Displacement:98,Horsepower:68,Weight_in_lbs:2155,Acceleration:16.5,Year:"1978-01-01",Origin:"USA"},{Name:"toyota corona",Miles_per_Gallon:27.5,Cylinders:4,Displacement:134,Horsepower:95,Weight_in_lbs:2560,Acceleration:14.2,Year:"1978-01-01",Origin:"Japan"},{Name:"datsun 510",Miles_per_Gallon:27.2,Cylinders:4,Displacement:119,Horsepower:97,Weight_in_lbs:2300,Acceleration:14.7,Year:"1978-01-01",Origin:"Japan"},{Name:"dodge omni",Miles_per_Gallon:30.9,Cylinders:4,Displacement:105,Horsepower:75,Weight_in_lbs:2230,Acceleration:14.5,Year:"1978-01-01",Origin:"USA"},{Name:"toyota celica gt liftback",Miles_per_Gallon:21.1,Cylinders:4,Displacement:134,Horsepower:95,Weight_in_lbs:2515,Acceleration:14.8,Year:"1978-01-01",Origin:"Japan"},{Name:"plymouth sapporo",Miles_per_Gallon:23.2,Cylinders:4,Displacement:156,Horsepower:105,Weight_in_lbs:2745,Acceleration:16.7,Year:"1978-01-01",Origin:"USA"},{Name:"oldsmobile starfire sx",Miles_per_Gallon:23.8,Cylinders:4,Displacement:151,Horsepower:85,Weight_in_lbs:2855,Acceleration:17.6,Year:"1978-01-01",Origin:"USA"},{Name:"datsun 200-sx",Miles_per_Gallon:23.9,Cylinders:4,Displacement:119,Horsepower:97,Weight_in_lbs:2405,Acceleration:14.9,Year:"1978-01-01",Origin:"Japan"},{Name:"audi 5000",Miles_per_Gallon:20.3,Cylinders:5,Displacement:131,Horsepower:103,Weight_in_lbs:2830,Acceleration:15.9,Year:"1978-01-01",Origin:"Europe"},{Name:"volvo 264gl",Miles_per_Gallon:17,Cylinders:6,Displacement:163,Horsepower:125,Weight_in_lbs:3140,Acceleration:13.6,Year:"1978-01-01",Origin:"Europe"},{Name:"saab 99gle",Miles_per_Gallon:21.6,Cylinders:4,Displacement:121,Horsepower:115,Weight_in_lbs:2795,Acceleration:15.7,Year:"1978-01-01",Origin:"Europe"},{Name:"peugeot 604sl",Miles_per_Gallon:16.2,Cylinders:6,Displacement:163,Horsepower:133,Weight_in_lbs:3410,Acceleration:15.8,Year:"1978-01-01",Origin:"Europe"},{Name:"volkswagen scirocco",Miles_per_Gallon:31.5,Cylinders:4,Displacement:89,Horsepower:71,Weight_in_lbs:1990,Acceleration:14.9,Year:"1978-01-01",Origin:"Europe"},{Name:"honda Accelerationord lx",Miles_per_Gallon:29.5,Cylinders:4,Displacement:98,Horsepower:68,Weight_in_lbs:2135,Acceleration:16.6,Year:"1978-01-01",Origin:"Japan"},{Name:"pontiac lemans v6",Miles_per_Gallon:21.5,Cylinders:6,Displacement:231,Horsepower:115,Weight_in_lbs:3245,Acceleration:15.4,Year:"1979-01-01",Origin:"USA"},{Name:"mercury zephyr 6",Miles_per_Gallon:19.8,Cylinders:6,Displacement:200,Horsepower:85,Weight_in_lbs:2990,Acceleration:18.2,Year:"1979-01-01",Origin:"USA"},{Name:"ford fairmont 4",Miles_per_Gallon:22.3,Cylinders:4,Displacement:140,Horsepower:88,Weight_in_lbs:2890,Acceleration:17.3,Year:"1979-01-01",Origin:"USA"},{Name:"amc concord dl 6",Miles_per_Gallon:20.2,Cylinders:6,Displacement:232,Horsepower:90,Weight_in_lbs:3265,Acceleration:18.2,Year:"1979-01-01",Origin:"USA"},{Name:"dodge aspen 6",Miles_per_Gallon:20.6,Cylinders:6,Displacement:225,Horsepower:110,Weight_in_lbs:3360,Acceleration:16.6,Year:"1979-01-01",Origin:"USA"},{Name:"chevrolet caprice classic",Miles_per_Gallon:17,Cylinders:8,Displacement:305,Horsepower:130,Weight_in_lbs:3840,Acceleration:15.4,Year:"1979-01-01",Origin:"USA"},{Name:"ford ltd landau",Miles_per_Gallon:17.6,Cylinders:8,Displacement:302,Horsepower:129,Weight_in_lbs:3725,Acceleration:13.4,Year:"1979-01-01",Origin:"USA"},{Name:"mercury grand marquis",Miles_per_Gallon:16.5,Cylinders:8,Displacement:351,Horsepower:138,Weight_in_lbs:3955,Acceleration:13.2,Year:"1979-01-01",Origin:"USA"},{Name:"dodge st. regis",Miles_per_Gallon:18.2,Cylinders:8,Displacement:318,Horsepower:135,Weight_in_lbs:3830,Acceleration:15.2,Year:"1979-01-01",Origin:"USA"},{Name:"buick estate wagon (sw)",Miles_per_Gallon:16.9,Cylinders:8,Displacement:350,Horsepower:155,Weight_in_lbs:4360,Acceleration:14.9,Year:"1979-01-01",Origin:"USA"},{Name:"ford country squire (sw)",Miles_per_Gallon:15.5,Cylinders:8,Displacement:351,Horsepower:142,Weight_in_lbs:4054,Acceleration:14.3,Year:"1979-01-01",Origin:"USA"},{Name:"chevrolet malibu classic (sw)",Miles_per_Gallon:19.2,Cylinders:8,Displacement:267,Horsepower:125,Weight_in_lbs:3605,Acceleration:15,Year:"1979-01-01",Origin:"USA"},{Name:"chrysler lebaron town @ country (sw)",Miles_per_Gallon:18.5,Cylinders:8,Displacement:360,Horsepower:150,Weight_in_lbs:3940,Acceleration:13,Year:"1979-01-01",Origin:"USA"},{Name:"vw rabbit custom",Miles_per_Gallon:31.9,Cylinders:4,Displacement:89,Horsepower:71,Weight_in_lbs:1925,Acceleration:14,Year:"1979-01-01",Origin:"Europe"},{Name:"maxda glc deluxe",Miles_per_Gallon:34.1,Cylinders:4,Displacement:86,Horsepower:65,Weight_in_lbs:1975,Acceleration:15.2,Year:"1979-01-01",Origin:"Japan"},{Name:"dodge colt hatchback custom",Miles_per_Gallon:35.7,Cylinders:4,Displacement:98,Horsepower:80,Weight_in_lbs:1915,Acceleration:14.4,Year:"1979-01-01",Origin:"USA"},{Name:"amc spirit dl",Miles_per_Gallon:27.4,Cylinders:4,Displacement:121,Horsepower:80,Weight_in_lbs:2670,Acceleration:15,Year:"1979-01-01",Origin:"USA"},{Name:"mercedes benz 300d",Miles_per_Gallon:25.4,Cylinders:5,Displacement:183,Horsepower:77,Weight_in_lbs:3530,Acceleration:20.1,Year:"1979-01-01",Origin:"Europe"},{Name:"cadillac eldorado",Miles_per_Gallon:23,Cylinders:8,Displacement:350,Horsepower:125,Weight_in_lbs:3900,Acceleration:17.4,Year:"1979-01-01",Origin:"USA"},{Name:"peugeot 504",Miles_per_Gallon:27.2,Cylinders:4,Displacement:141,Horsepower:71,Weight_in_lbs:3190,Acceleration:24.8,Year:"1979-01-01",Origin:"Europe"},{Name:"oldsmobile cutlass salon brougham",Miles_per_Gallon:23.9,Cylinders:8,Displacement:260,Horsepower:90,Weight_in_lbs:3420,Acceleration:22.2,Year:"1979-01-01",Origin:"USA"},{Name:"plymouth horizon",Miles_per_Gallon:34.2,Cylinders:4,Displacement:105,Horsepower:70,Weight_in_lbs:2200,Acceleration:13.2,Year:"1979-01-01",Origin:"USA"},{Name:"plymouth horizon tc3",Miles_per_Gallon:34.5,Cylinders:4,Displacement:105,Horsepower:70,Weight_in_lbs:2150,Acceleration:14.9,Year:"1979-01-01",Origin:"USA"},{Name:"datsun 210",Miles_per_Gallon:31.8,Cylinders:4,Displacement:85,Horsepower:65,Weight_in_lbs:2020,Acceleration:19.2,Year:"1979-01-01",Origin:"Japan"},{Name:"fiat strada custom",Miles_per_Gallon:37.3,Cylinders:4,Displacement:91,Horsepower:69,Weight_in_lbs:2130,Acceleration:14.7,Year:"1979-01-01",Origin:"Europe"},{Name:"buick skylark limited",Miles_per_Gallon:28.4,Cylinders:4,Displacement:151,Horsepower:90,Weight_in_lbs:2670,Acceleration:16,Year:"1979-01-01",Origin:"USA"},{Name:"chevrolet citation",Miles_per_Gallon:28.8,Cylinders:6,Displacement:173,Horsepower:115,Weight_in_lbs:2595,Acceleration:11.3,Year:"1979-01-01",Origin:"USA"},{Name:"oldsmobile omega brougham",Miles_per_Gallon:26.8,Cylinders:6,Displacement:173,Horsepower:115,Weight_in_lbs:2700,Acceleration:12.9,Year:"1979-01-01",Origin:"USA"},{Name:"pontiac phoenix",Miles_per_Gallon:33.5,Cylinders:4,Displacement:151,Horsepower:90,Weight_in_lbs:2556,Acceleration:13.2,Year:"1979-01-01",Origin:"USA"},{Name:"vw rabbit",Miles_per_Gallon:41.5,Cylinders:4,Displacement:98,Horsepower:76,Weight_in_lbs:2144,Acceleration:14.7,Year:"1980-01-01",Origin:"Europe"},{Name:"toyota corolla tercel",Miles_per_Gallon:38.1,Cylinders:4,Displacement:89,Horsepower:60,Weight_in_lbs:1968,Acceleration:18.8,Year:"1980-01-01",Origin:"Japan"},{Name:"chevrolet chevette",Miles_per_Gallon:32.1,Cylinders:4,Displacement:98,Horsepower:70,Weight_in_lbs:2120,Acceleration:15.5,Year:"1980-01-01",Origin:"USA"},{Name:"datsun 310",Miles_per_Gallon:37.2,Cylinders:4,Displacement:86,Horsepower:65,Weight_in_lbs:2019,Acceleration:16.4,Year:"1980-01-01",Origin:"Japan"},{Name:"chevrolet citation",Miles_per_Gallon:28,Cylinders:4,Displacement:151,Horsepower:90,Weight_in_lbs:2678,Acceleration:16.5,Year:"1980-01-01",Origin:"USA"},{Name:"ford fairmont",Miles_per_Gallon:26.4,Cylinders:4,Displacement:140,Horsepower:88,Weight_in_lbs:2870,Acceleration:18.1,Year:"1980-01-01",Origin:"USA"},{Name:"amc concord",Miles_per_Gallon:24.3,Cylinders:4,Displacement:151,Horsepower:90,Weight_in_lbs:3003,Acceleration:20.1,Year:"1980-01-01",Origin:"USA"},{Name:"dodge aspen",Miles_per_Gallon:19.1,Cylinders:6,Displacement:225,Horsepower:90,Weight_in_lbs:3381,Acceleration:18.7,Year:"1980-01-01",Origin:"USA"},{Name:"audi 4000",Miles_per_Gallon:34.3,Cylinders:4,Displacement:97,Horsepower:78,Weight_in_lbs:2188,Acceleration:15.8,Year:"1980-01-01",Origin:"Europe"},{Name:"toyota corona liftback",Miles_per_Gallon:29.8,Cylinders:4,Displacement:134,Horsepower:90,Weight_in_lbs:2711,Acceleration:15.5,Year:"1980-01-01",Origin:"Japan"},{Name:"mazda 626",Miles_per_Gallon:31.3,Cylinders:4,Displacement:120,Horsepower:75,Weight_in_lbs:2542,Acceleration:17.5,Year:"1980-01-01",Origin:"Japan"},{Name:"datsun 510 hatchback",Miles_per_Gallon:37,Cylinders:4,Displacement:119,Horsepower:92,Weight_in_lbs:2434,Acceleration:15,Year:"1980-01-01",Origin:"Japan"},{Name:"toyota corolla",Miles_per_Gallon:32.2,Cylinders:4,Displacement:108,Horsepower:75,Weight_in_lbs:2265,Acceleration:15.2,Year:"1980-01-01",Origin:"Japan"},{Name:"mazda glc",Miles_per_Gallon:46.6,Cylinders:4,Displacement:86,Horsepower:65,Weight_in_lbs:2110,Acceleration:17.9,Year:"1980-01-01",Origin:"Japan"},{Name:"dodge colt",Miles_per_Gallon:27.9,Cylinders:4,Displacement:156,Horsepower:105,Weight_in_lbs:2800,Acceleration:14.4,Year:"1980-01-01",Origin:"USA"},{Name:"datsun 210",Miles_per_Gallon:40.8,Cylinders:4,Displacement:85,Horsepower:65,Weight_in_lbs:2110,Acceleration:19.2,Year:"1980-01-01",Origin:"Japan"},{Name:"vw rabbit c (diesel)",Miles_per_Gallon:44.3,Cylinders:4,Displacement:90,Horsepower:48,Weight_in_lbs:2085,Acceleration:21.7,Year:"1980-01-01",Origin:"Europe"},{Name:"vw dasher (diesel)",Miles_per_Gallon:43.4,Cylinders:4,Displacement:90,Horsepower:48,Weight_in_lbs:2335,Acceleration:23.7,Year:"1980-01-01",Origin:"Europe"},{Name:"audi 5000s (diesel)",Miles_per_Gallon:36.4,Cylinders:5,Displacement:121,Horsepower:67,Weight_in_lbs:2950,Acceleration:19.9,Year:"1980-01-01",Origin:"Europe"},{Name:"mercedes-benz 240d",Miles_per_Gallon:30,Cylinders:4,Displacement:146,Horsepower:67,Weight_in_lbs:3250,Acceleration:21.8,Year:"1980-01-01",Origin:"Europe"},{Name:"honda civic 1500 gl",Miles_per_Gallon:44.6,Cylinders:4,Displacement:91,Horsepower:67,Weight_in_lbs:1850,Acceleration:13.8,Year:"1980-01-01",Origin:"Japan"},{Name:"renault lecar deluxe",Miles_per_Gallon:40.9,Cylinders:4,Displacement:85,Horsepower:null,Weight_in_lbs:1835,Acceleration:17.3,Year:"1980-01-01",Origin:"Europe"},{Name:"subaru dl",Miles_per_Gallon:33.8,Cylinders:4,Displacement:97,Horsepower:67,Weight_in_lbs:2145,Acceleration:18,Year:"1980-01-01",Origin:"Japan"},{Name:"vokswagen rabbit",Miles_per_Gallon:29.8,Cylinders:4,Displacement:89,Horsepower:62,Weight_in_lbs:1845,Acceleration:15.3,Year:"1980-01-01",Origin:"Europe"},{Name:"datsun 280-zx",Miles_per_Gallon:32.7,Cylinders:6,Displacement:168,Horsepower:132,Weight_in_lbs:2910,Acceleration:11.4,Year:"1980-01-01",Origin:"Japan"},{Name:"mazda rx-7 gs",Miles_per_Gallon:23.7,Cylinders:3,Displacement:70,Horsepower:100,Weight_in_lbs:2420,Acceleration:12.5,Year:"1980-01-01",Origin:"Japan"},{Name:"triumph tr7 coupe",Miles_per_Gallon:35,Cylinders:4,Displacement:122,Horsepower:88,Weight_in_lbs:2500,Acceleration:15.1,Year:"1980-01-01",Origin:"Europe"},{Name:"ford mustang cobra",Miles_per_Gallon:23.6,Cylinders:4,Displacement:140,Horsepower:null,Weight_in_lbs:2905,Acceleration:14.3,Year:"1980-01-01",Origin:"USA"},{Name:"honda Accelerationord",Miles_per_Gallon:32.4,Cylinders:4,Displacement:107,Horsepower:72,Weight_in_lbs:2290,Acceleration:17,Year:"1980-01-01",Origin:"Japan"},{Name:"plymouth reliant",Miles_per_Gallon:27.2,Cylinders:4,Displacement:135,Horsepower:84,Weight_in_lbs:2490,Acceleration:15.7,Year:"1982-01-01",Origin:"USA"},{Name:"buick skylark",Miles_per_Gallon:26.6,Cylinders:4,Displacement:151,Horsepower:84,Weight_in_lbs:2635,Acceleration:16.4,Year:"1982-01-01",Origin:"USA"},{Name:"dodge aries wagon (sw)",Miles_per_Gallon:25.8,Cylinders:4,Displacement:156,Horsepower:92,Weight_in_lbs:2620,Acceleration:14.4,Year:"1982-01-01",Origin:"USA"},{Name:"chevrolet citation",Miles_per_Gallon:23.5,Cylinders:6,Displacement:173,Horsepower:110,Weight_in_lbs:2725,Acceleration:12.6,Year:"1982-01-01",Origin:"USA"},{Name:"plymouth reliant",Miles_per_Gallon:30,Cylinders:4,Displacement:135,Horsepower:84,Weight_in_lbs:2385,Acceleration:12.9,Year:"1982-01-01",Origin:"USA"},{Name:"toyota starlet",Miles_per_Gallon:39.1,Cylinders:4,Displacement:79,Horsepower:58,Weight_in_lbs:1755,Acceleration:16.9,Year:"1982-01-01",Origin:"Japan"},{Name:"plymouth champ",Miles_per_Gallon:39,Cylinders:4,Displacement:86,Horsepower:64,Weight_in_lbs:1875,Acceleration:16.4,Year:"1982-01-01",Origin:"USA"},{Name:"honda civic 1300",Miles_per_Gallon:35.1,Cylinders:4,Displacement:81,Horsepower:60,Weight_in_lbs:1760,Acceleration:16.1,Year:"1982-01-01",Origin:"Japan"},{Name:"subaru",Miles_per_Gallon:32.3,Cylinders:4,Displacement:97,Horsepower:67,Weight_in_lbs:2065,Acceleration:17.8,Year:"1982-01-01",Origin:"Japan"},{Name:"datsun 210",Miles_per_Gallon:37,Cylinders:4,Displacement:85,Horsepower:65,Weight_in_lbs:1975,Acceleration:19.4,Year:"1982-01-01",Origin:"Japan"},{Name:"toyota tercel",Miles_per_Gallon:37.7,Cylinders:4,Displacement:89,Horsepower:62,Weight_in_lbs:2050,Acceleration:17.3,Year:"1982-01-01",Origin:"Japan"},{Name:"mazda glc 4",Miles_per_Gallon:34.1,Cylinders:4,Displacement:91,Horsepower:68,Weight_in_lbs:1985,Acceleration:16,Year:"1982-01-01",Origin:"Japan"},{Name:"plymouth horizon 4",Miles_per_Gallon:34.7,Cylinders:4,Displacement:105,Horsepower:63,Weight_in_lbs:2215,Acceleration:14.9,Year:"1982-01-01",Origin:"USA"},{Name:"ford escort 4w",Miles_per_Gallon:34.4,Cylinders:4,Displacement:98,Horsepower:65,Weight_in_lbs:2045,Acceleration:16.2,Year:"1982-01-01",Origin:"USA"},{Name:"ford escort 2h",Miles_per_Gallon:29.9,Cylinders:4,Displacement:98,Horsepower:65,Weight_in_lbs:2380,Acceleration:20.7,Year:"1982-01-01",Origin:"USA"},{Name:"volkswagen jetta",Miles_per_Gallon:33,Cylinders:4,Displacement:105,Horsepower:74,Weight_in_lbs:2190,Acceleration:14.2,Year:"1982-01-01",Origin:"Europe"},{Name:"renault 18i",Miles_per_Gallon:34.5,Cylinders:4,Displacement:100,Horsepower:null,Weight_in_lbs:2320,Acceleration:15.8,Year:"1982-01-01",Origin:"Europe"},{Name:"honda prelude",Miles_per_Gallon:33.7,Cylinders:4,Displacement:107,Horsepower:75,Weight_in_lbs:2210,Acceleration:14.4,Year:"1982-01-01",Origin:"Japan"},{Name:"toyota corolla",Miles_per_Gallon:32.4,Cylinders:4,Displacement:108,Horsepower:75,Weight_in_lbs:2350,Acceleration:16.8,Year:"1982-01-01",Origin:"Japan"},{Name:"datsun 200sx",Miles_per_Gallon:32.9,Cylinders:4,Displacement:119,Horsepower:100,Weight_in_lbs:2615,Acceleration:14.8,Year:"1982-01-01",Origin:"Japan"},{Name:"mazda 626",Miles_per_Gallon:31.6,Cylinders:4,Displacement:120,Horsepower:74,Weight_in_lbs:2635,Acceleration:18.3,Year:"1982-01-01",Origin:"Japan"},{Name:"peugeot 505s turbo diesel",Miles_per_Gallon:28.1,Cylinders:4,Displacement:141,Horsepower:80,Weight_in_lbs:3230,Acceleration:20.4,Year:"1982-01-01",Origin:"Europe"},{Name:"saab 900s",Miles_per_Gallon:null,Cylinders:4,Displacement:121,Horsepower:110,Weight_in_lbs:2800,Acceleration:15.4,Year:"1982-01-01",Origin:"Europe"},{Name:"volvo diesel",Miles_per_Gallon:30.7,Cylinders:6,Displacement:145,Horsepower:76,Weight_in_lbs:3160,Acceleration:19.6,Year:"1982-01-01",Origin:"Europe"},{Name:"toyota cressida",Miles_per_Gallon:25.4,Cylinders:6,Displacement:168,Horsepower:116,Weight_in_lbs:2900,Acceleration:12.6,Year:"1982-01-01",Origin:"Japan"},{Name:"datsun 810 maxima",Miles_per_Gallon:24.2,Cylinders:6,Displacement:146,Horsepower:120,Weight_in_lbs:2930,Acceleration:13.8,Year:"1982-01-01",Origin:"Japan"},{Name:"buick century",Miles_per_Gallon:22.4,Cylinders:6,Displacement:231,Horsepower:110,Weight_in_lbs:3415,Acceleration:15.8,Year:"1982-01-01",Origin:"USA"},{Name:"oldsmobile cutlass ls",Miles_per_Gallon:26.6,Cylinders:8,Displacement:350,Horsepower:105,Weight_in_lbs:3725,Acceleration:19,Year:"1982-01-01",Origin:"USA"},{Name:"ford granada gl",Miles_per_Gallon:20.2,Cylinders:6,Displacement:200,Horsepower:88,Weight_in_lbs:3060,Acceleration:17.1,Year:"1982-01-01",Origin:"USA"},{Name:"chrysler lebaron salon",Miles_per_Gallon:17.6,Cylinders:6,Displacement:225,Horsepower:85,Weight_in_lbs:3465,Acceleration:16.6,Year:"1982-01-01",Origin:"USA"},{Name:"chevrolet cavalier",Miles_per_Gallon:28,Cylinders:4,Displacement:112,Horsepower:88,Weight_in_lbs:2605,Acceleration:19.6,Year:"1982-01-01",Origin:"USA"},{Name:"chevrolet cavalier wagon",Miles_per_Gallon:27,Cylinders:4,Displacement:112,Horsepower:88,Weight_in_lbs:2640,Acceleration:18.6,Year:"1982-01-01",Origin:"USA"},{Name:"chevrolet cavalier 2-door",Miles_per_Gallon:34,Cylinders:4,Displacement:112,Horsepower:88,Weight_in_lbs:2395,Acceleration:18,Year:"1982-01-01",Origin:"USA"},{Name:"pontiac j2000 se hatchback",Miles_per_Gallon:31,Cylinders:4,Displacement:112,Horsepower:85,Weight_in_lbs:2575,Acceleration:16.2,Year:"1982-01-01",Origin:"USA"},{Name:"dodge aries se",Miles_per_Gallon:29,Cylinders:4,Displacement:135,Horsepower:84,Weight_in_lbs:2525,Acceleration:16,Year:"1982-01-01",Origin:"USA"},{Name:"pontiac phoenix",Miles_per_Gallon:27,Cylinders:4,Displacement:151,Horsepower:90,Weight_in_lbs:2735,Acceleration:18,Year:"1982-01-01",Origin:"USA"},{Name:"ford fairmont futura",Miles_per_Gallon:24,Cylinders:4,Displacement:140,Horsepower:92,Weight_in_lbs:2865,Acceleration:16.4,Year:"1982-01-01",Origin:"USA"},{Name:"amc concord dl",Miles_per_Gallon:23,Cylinders:4,Displacement:151,Horsepower:null,Weight_in_lbs:3035,Acceleration:20.5,Year:"1982-01-01",Origin:"USA"},{Name:"volkswagen rabbit l",Miles_per_Gallon:36,Cylinders:4,Displacement:105,Horsepower:74,Weight_in_lbs:1980,Acceleration:15.3,Year:"1982-01-01",Origin:"Europe"},{Name:"mazda glc custom l",Miles_per_Gallon:37,Cylinders:4,Displacement:91,Horsepower:68,Weight_in_lbs:2025,Acceleration:18.2,Year:"1982-01-01",Origin:"Japan"},{Name:"mazda glc custom",Miles_per_Gallon:31,Cylinders:4,Displacement:91,Horsepower:68,Weight_in_lbs:1970,Acceleration:17.6,Year:"1982-01-01",Origin:"Japan"},{Name:"plymouth horizon miser",Miles_per_Gallon:38,Cylinders:4,Displacement:105,Horsepower:63,Weight_in_lbs:2125,Acceleration:14.7,Year:"1982-01-01",Origin:"USA"},{Name:"mercury lynx l",Miles_per_Gallon:36,Cylinders:4,Displacement:98,Horsepower:70,Weight_in_lbs:2125,Acceleration:17.3,Year:"1982-01-01",Origin:"USA"},{Name:"nissan stanza xe",Miles_per_Gallon:36,Cylinders:4,Displacement:120,Horsepower:88,Weight_in_lbs:2160,Acceleration:14.5,Year:"1982-01-01",Origin:"Japan"},{Name:"honda Accelerationord",Miles_per_Gallon:36,Cylinders:4,Displacement:107,Horsepower:75,Weight_in_lbs:2205,Acceleration:14.5,Year:"1982-01-01",Origin:"Japan"},{Name:"toyota corolla",Miles_per_Gallon:34,Cylinders:4,Displacement:108,Horsepower:70,Weight_in_lbs:2245,Acceleration:16.9,Year:"1982-01-01",Origin:"Japan"},{Name:"honda civic",Miles_per_Gallon:38,Cylinders:4,Displacement:91,Horsepower:67,Weight_in_lbs:1965,Acceleration:15,Year:"1982-01-01",Origin:"Japan"},{Name:"honda civic (auto)",Miles_per_Gallon:32,Cylinders:4,Displacement:91,Horsepower:67,Weight_in_lbs:1965,Acceleration:15.7,Year:"1982-01-01",Origin:"Japan"},{Name:"datsun 310 gx",Miles_per_Gallon:38,Cylinders:4,Displacement:91,Horsepower:67,Weight_in_lbs:1995,Acceleration:16.2,Year:"1982-01-01",Origin:"Japan"},{Name:"buick century limited",Miles_per_Gallon:25,Cylinders:6,Displacement:181,Horsepower:110,Weight_in_lbs:2945,Acceleration:16.4,Year:"1982-01-01",Origin:"USA"},{Name:"oldsmobile cutlass ciera (diesel)",Miles_per_Gallon:38,Cylinders:6,Displacement:262,Horsepower:85,Weight_in_lbs:3015,Acceleration:17,Year:"1982-01-01",Origin:"USA"},{Name:"chrysler lebaron medallion",Miles_per_Gallon:26,Cylinders:4,Displacement:156,Horsepower:92,Weight_in_lbs:2585,Acceleration:14.5,Year:"1982-01-01",Origin:"USA"},{Name:"ford granada l",Miles_per_Gallon:22,Cylinders:6,Displacement:232,Horsepower:112,Weight_in_lbs:2835,Acceleration:14.7,Year:"1982-01-01",Origin:"USA"},{Name:"toyota celica gt",Miles_per_Gallon:32,Cylinders:4,Displacement:144,Horsepower:96,Weight_in_lbs:2665,Acceleration:13.9,Year:"1982-01-01",Origin:"Japan"},{Name:"dodge charger 2.2",Miles_per_Gallon:36,Cylinders:4,Displacement:135,Horsepower:84,Weight_in_lbs:2370,Acceleration:13,Year:"1982-01-01",Origin:"USA"},{Name:"chevrolet camaro",Miles_per_Gallon:27,Cylinders:4,Displacement:151,Horsepower:90,Weight_in_lbs:2950,Acceleration:17.3,Year:"1982-01-01",Origin:"USA"},{Name:"ford mustang gl",Miles_per_Gallon:27,Cylinders:4,Displacement:140,Horsepower:86,Weight_in_lbs:2790,Acceleration:15.6,Year:"1982-01-01",Origin:"USA"},{Name:"vw pickup",Miles_per_Gallon:44,Cylinders:4,Displacement:97,Horsepower:52,Weight_in_lbs:2130,Acceleration:24.6,Year:"1982-01-01",Origin:"Europe"},{Name:"dodge rampage",Miles_per_Gallon:32,Cylinders:4,Displacement:135,Horsepower:84,Weight_in_lbs:2295,Acceleration:11.6,Year:"1982-01-01",Origin:"USA"},{Name:"ford ranger",Miles_per_Gallon:28,Cylinders:4,Displacement:120,Horsepower:79,Weight_in_lbs:2625,Acceleration:18.6,Year:"1982-01-01",Origin:"USA"},{Name:"chevy s-10",Miles_per_Gallon:31,Cylinders:4,Displacement:119,Horsepower:82,Weight_in_lbs:2720,Acceleration:19.4,Year:"1982-01-01",Origin:"USA"}],VTe=e=>{Ct({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Mosaic"},data:{values:wG},transform:[{aggregate:[{op:"count",as:"count_*"}],groupby:["Origin","Cylinders"]},{stack:"count_*",groupby:[],as:["stack_count_Origin1","stack_count_Origin2"],offset:"normalize",sort:[{field:"Origin",order:"ascending"}]},{window:[{op:"min",field:"stack_count_Origin1",as:"x"},{op:"max",field:"stack_count_Origin2",as:"x2"},{op:"dense_rank",as:"rank_Cylinders"},{op:"distinct",field:"Cylinders",as:"distinct_Cylinders"}],groupby:["Origin"],frame:[null,null],sort:[{field:"Cylinders",order:"ascending"}]},{window:[{op:"dense_rank",as:"rank_Origin"}],frame:[null,null],sort:[{field:"Origin",order:"ascending"}]},{stack:"count_*",groupby:["Origin"],as:["y","y2"],offset:"normalize",sort:[{field:"Cylinders",order:"ascending"}]},{calculate:"datum.y + (datum.rank_Cylinders - 1) * datum.distinct_Cylinders * 0.01 / 3",as:"ny"},{calculate:"datum.y2 + (datum.rank_Cylinders - 1) * datum.distinct_Cylinders * 0.01 / 3",as:"ny2"},{calculate:"datum.x + (datum.rank_Origin - 1) * 0.01",as:"nx"},{calculate:"datum.x2 + (datum.rank_Origin - 1) * 0.01",as:"nx2"},{calculate:"(datum.nx+datum.nx2)/2",as:"xc"},{calculate:"(datum.ny+datum.ny2)/2",as:"yc"}],vconcat:[{mark:{type:"text",baseline:"middle",align:"center"},encoding:{x:{aggregate:"min",field:"xc",title:"Origin",axis:{orient:"top"}},color:{field:"Origin",legend:null},text:{field:"Origin"}}},{layer:[{mark:{type:"rect"},encoding:{x:{field:"nx",type:"quantitative",axis:null},x2:{field:"nx2"},y:{field:"ny",type:"quantitative"},y2:{field:"ny2"},color:{field:"Origin",type:"nominal",legend:null},opacity:{field:"Cylinders",type:"quantitative",legend:null},tooltip:[{field:"Origin",type:"nominal"},{field:"Cylinders",type:"quantitative"}]}},{mark:{type:"text",baseline:"middle"},encoding:{x:{field:"xc",type:"quantitative",axis:null},y:{field:"yc",type:"quantitative",axis:{title:"Cylinders"}},text:{field:"Cylinders",type:"nominal"}}}]}],resolve:{scale:{x:"shared"}},config:{view:{stroke:""},concat:{spacing:10},axis:{domain:!1,ticks:!1,labels:!1,grid:!1}}},{x:500,y:500})(ie(e))},XTe=e=>{Lt(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:wG},transform:[{aggregate:[{op:"count",as:"count_*"}],groupby:["Origin","Cylinders"]},{stack:"count_*",groupby:[],as:["stack_count_Origin1","stack_count_Origin2"],offset:"normalize",sort:[{field:"Origin",order:"ascending"}]},{window:[{op:"min",field:"stack_count_Origin1",as:"x"},{op:"max",field:"stack_count_Origin2",as:"x2"},{op:"dense_rank",as:"rank_Cylinders"},{op:"distinct",field:"Cylinders",as:"distinct_Cylinders"}],groupby:["Origin"],frame:[null,null],sort:[{field:"Cylinders",order:"ascending"}]},{window:[{op:"dense_rank",as:"rank_Origin"}],frame:[null,null],sort:[{field:"Origin",order:"ascending"}]},{stack:"count_*",groupby:["Origin"],as:["y","y2"],offset:"normalize",sort:[{field:"Cylinders",order:"ascending"}]},{calculate:"datum.y + (datum.rank_Cylinders - 1) * datum.distinct_Cylinders * 0.01 / 3",as:"ny"},{calculate:"datum.y2 + (datum.rank_Cylinders - 1) * datum.distinct_Cylinders * 0.01 / 3",as:"ny2"},{calculate:"datum.x + (datum.rank_Origin - 1) * 0.01",as:"nx"},{calculate:"datum.x2 + (datum.rank_Origin - 1) * 0.01",as:"nx2"},{calculate:"(datum.nx+datum.nx2)/2",as:"xc"},{calculate:"(datum.ny+datum.ny2)/2",as:"yc"}],vconcat:[{mark:{type:"text",baseline:"middle",align:"center"},encoding:{x:{aggregate:"min",field:"xc",title:"Origin",axis:{orient:"top"}},color:{field:"Origin",legend:null},text:{field:"Origin"}}},{layer:[{mark:{type:"rect"},encoding:{x:{field:"nx",type:"quantitative",axis:null},x2:{field:"nx2"},y:{field:"ny",type:"quantitative"},y2:{field:"ny2"},color:{field:"Origin",type:"nominal",legend:null},opacity:{field:"Cylinders",type:"quantitative",legend:null},tooltip:[{field:"Origin",type:"nominal"},{field:"Cylinders",type:"quantitative"}]}},{mark:{type:"text",baseline:"middle"},encoding:{x:{field:"xc",type:"quantitative",axis:null},y:{field:"yc",type:"quantitative",axis:{title:"Cylinders"}},text:{field:"Cylinders",type:"nominal"}}}]}],resolve:{scale:{x:"shared"}},config:{view:{stroke:""},concat:{spacing:10},axis:{domain:!1,ticks:!1,labels:!1,grid:!1}}})},JTe=e=>{Ct({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Paired Bar"},data:{values:[{category:"A",group:"x",value:.1},{category:"A",group:"y",value:.6},{category:"A",group:"z",value:.9},{category:"B",group:"x",value:.7},{category:"B",group:"y",value:.2},{category:"B",group:"z",value:1.1},{category:"C",group:"x",value:.6},{category:"C",group:"y",value:.1},{category:"C",group:"z",value:.2}]},mark:"bar",encoding:{x:{field:"category",type:"nominal"},y:{field:"value",type:"quantitative"},xOffset:{field:"group",type:"quantitative"},color:{field:"group"}}},{x:500,y:500})(ie(e))},KTe=e=>{Lt(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:[{category:"A",group:"x",value:.1},{category:"A",group:"y",value:.6},{category:"A",group:"z",value:.9},{category:"B",group:"x",value:.7},{category:"B",group:"y",value:.2},{category:"B",group:"z",value:1.1},{category:"C",group:"x",value:.6},{category:"C",group:"y",value:.1},{category:"C",group:"z",value:.2}]},mark:"bar",encoding:{x:{field:"category"},y:{field:"value",type:"quantitative"},xOffset:{field:"group"},color:{field:"group"}}})},QTe=e=>{Ct({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Pictogram"},data:{values:[{x:.5,y:.5,img:"/ffox.png"},{x:1.5,y:1.5,img:"/gimp.png"},{x:2.5,y:2.5,img:"/7zip.png"}]},mark:{type:"image",width:50,height:50},encoding:{x:{field:"x",type:"quantitative"},y:{field:"y",type:"quantitative"},url:{field:"img",type:"nominal"}}},{x:500,y:500})(ie(e))},eAe=e=>{Lt(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:[{x:.5,y:.5,img:"/ffox.png"},{x:1.5,y:1.5,img:"/gimp.png"},{x:2.5,y:2.5,img:"/7zip.png"}]},mark:{type:"image",width:50,height:50},encoding:{x:{field:"x",type:"quantitative"},y:{field:"y",type:"quantitative"},url:{field:"img",type:"nominal"}}})},tAe=e=>{Ct({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Priestely"},data:{values:[{task:"A",start:1,end:4},{task:"B",start:3,end:9},{task:"C",start:8,end:10}]},mark:"bar",encoding:{y:{field:"task",type:"ordinal"},x:{field:"start",type:"quantitative"},x2:{field:"end"}}},{x:500,y:500})(ie(e))},nAe=e=>{Lt(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:[{task:"A",start:1,end:4},{task:"B",start:3,end:9},{task:"C",start:8,end:10}]},mark:"bar",encoding:{y:{field:"task",type:"ordinal"},x:{field:"start",type:"quantitative"},x2:{field:"end"}}})},rAe=e=>{Ct({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Projection"},data:{values:[{ci1:23.5007,ci0:19.6912,center:21.5735,Year:1893024e5},{ci1:25.8214,ci0:20.8554,center:23.375,Year:2209248e5},{ci1:26.4472,ci0:21.9749,center:24.0611,Year:2524608e5},{ci1:27.7074,ci0:22.6203,center:25.0931,Year:2839968e5}]},layer:[{mark:"errorband",encoding:{y:{field:"ci1",type:"quantitative",scale:{zero:!1},title:"Mean of Miles per Gallon (95% CIs)"},y2:{field:"ci0",type:"quantitative"},x:{field:"Year",type:"quantitative"}}},{mark:"line",encoding:{y:{field:"center",type:"quantitative"},x:{field:"Year",type:"quantitative"}}}]},{x:500,y:500})(ie(e))},iAe=e=>{Lt(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:[{ci1:23.5007,ci0:19.6912,center:21.5735,Year:1893024e5},{ci1:25.8214,ci0:20.8554,center:23.375,Year:2209248e5},{ci1:26.4472,ci0:21.9749,center:24.0611,Year:2524608e5},{ci1:27.7074,ci0:22.6203,center:25.0931,Year:2839968e5}]},layer:[{mark:"errorband",encoding:{y:{field:"ci1",type:"quantitative",scale:{zero:!1},title:"Mean of Miles per Gallon (95% CIs)"},y2:{field:"ci0"},x:{field:"Year",timeUnit:"year"}}},{mark:"line",encoding:{y:{field:"center",type:"quantitative"},x:{field:"Year",timeUnit:"year"}}}]})},TG=[{series:"Government",year:2e3,month:1,count:430,rate:2.1,date:"2000-01-01T08:00:00.000Z"},{series:"Government",year:2e3,month:2,count:409,rate:2,date:"2000-02-01T08:00:00.000Z"},{series:"Government",year:2e3,month:3,count:311,rate:1.5,date:"2000-03-01T08:00:00.000Z"},{series:"Government",year:2e3,month:4,count:269,rate:1.3,date:"2000-04-01T08:00:00.000Z"},{series:"Government",year:2e3,month:5,count:370,rate:1.9,date:"2000-05-01T07:00:00.000Z"},{series:"Government",year:2e3,month:6,count:603,rate:3.1,date:"2000-06-01T07:00:00.000Z"},{series:"Government",year:2e3,month:7,count:545,rate:2.9,date:"2000-07-01T07:00:00.000Z"},{series:"Government",year:2e3,month:8,count:583,rate:3.1,date:"2000-08-01T07:00:00.000Z"},{series:"Government",year:2e3,month:9,count:408,rate:2.1,date:"2000-09-01T07:00:00.000Z"},{series:"Government",year:2e3,month:10,count:391,rate:2,date:"2000-10-01T07:00:00.000Z"},{series:"Government",year:2e3,month:11,count:384,rate:1.9,date:"2000-11-01T08:00:00.000Z"},{series:"Government",year:2e3,month:12,count:365,rate:1.8,date:"2000-12-01T08:00:00.000Z"},{series:"Government",year:2001,month:1,count:463,rate:2.3,date:"2001-01-01T08:00:00.000Z"},{series:"Government",year:2001,month:2,count:298,rate:1.5,date:"2001-02-01T08:00:00.000Z"},{series:"Government",year:2001,month:3,count:355,rate:1.8,date:"2001-03-01T08:00:00.000Z"},{series:"Government",year:2001,month:4,count:369,rate:1.9,date:"2001-04-01T08:00:00.000Z"},{series:"Government",year:2001,month:5,count:361,rate:1.8,date:"2001-05-01T07:00:00.000Z"},{series:"Government",year:2001,month:6,count:525,rate:2.7,date:"2001-06-01T07:00:00.000Z"},{series:"Government",year:2001,month:7,count:548,rate:2.8,date:"2001-07-01T07:00:00.000Z"},{series:"Government",year:2001,month:8,count:540,rate:2.8,date:"2001-08-01T07:00:00.000Z"},{series:"Government",year:2001,month:9,count:438,rate:2.2,date:"2001-09-01T07:00:00.000Z"},{series:"Government",year:2001,month:10,count:429,rate:2.2,date:"2001-10-01T07:00:00.000Z"},{series:"Government",year:2001,month:11,count:420,rate:2.1,date:"2001-11-01T08:00:00.000Z"},{series:"Government",year:2001,month:12,count:419,rate:2.1,date:"2001-12-01T08:00:00.000Z"},{series:"Government",year:2002,month:1,count:486,rate:2.4,date:"2002-01-01T08:00:00.000Z"},{series:"Government",year:2002,month:2,count:508,rate:2.5,date:"2002-02-01T08:00:00.000Z"},{series:"Government",year:2002,month:3,count:477,rate:2.4,date:"2002-03-01T08:00:00.000Z"},{series:"Government",year:2002,month:4,count:447,rate:2.2,date:"2002-04-01T08:00:00.000Z"},{series:"Government",year:2002,month:5,count:484,rate:2.3,date:"2002-05-01T07:00:00.000Z"},{series:"Government",year:2002,month:6,count:561,rate:2.8,date:"2002-06-01T07:00:00.000Z"},{series:"Government",year:2002,month:7,count:645,rate:3.2,date:"2002-07-01T07:00:00.000Z"},{series:"Government",year:2002,month:8,count:596,rate:3,date:"2002-08-01T07:00:00.000Z"},{series:"Government",year:2002,month:9,count:530,rate:2.6,date:"2002-09-01T07:00:00.000Z"},{series:"Government",year:2002,month:10,count:499,rate:2.5,date:"2002-10-01T07:00:00.000Z"},{series:"Government",year:2002,month:11,count:468,rate:2.3,date:"2002-11-01T08:00:00.000Z"},{series:"Government",year:2002,month:12,count:446,rate:2.2,date:"2002-12-01T08:00:00.000Z"},{series:"Government",year:2003,month:1,count:571,rate:2.8,date:"2003-01-01T08:00:00.000Z"},{series:"Government",year:2003,month:2,count:483,rate:2.4,date:"2003-02-01T08:00:00.000Z"},{series:"Government",year:2003,month:3,count:526,rate:2.6,date:"2003-03-01T08:00:00.000Z"},{series:"Government",year:2003,month:4,count:440,rate:2.2,date:"2003-04-01T08:00:00.000Z"},{series:"Government",year:2003,month:5,count:478,rate:2.4,date:"2003-05-01T07:00:00.000Z"},{series:"Government",year:2003,month:6,count:704,rate:3.5,date:"2003-06-01T07:00:00.000Z"},{series:"Government",year:2003,month:7,count:749,rate:3.8,date:"2003-07-01T07:00:00.000Z"},{series:"Government",year:2003,month:8,count:745,rate:3.7,date:"2003-08-01T07:00:00.000Z"},{series:"Government",year:2003,month:9,count:556,rate:2.7,date:"2003-09-01T07:00:00.000Z"},{series:"Government",year:2003,month:10,count:500,rate:2.4,date:"2003-10-01T07:00:00.000Z"},{series:"Government",year:2003,month:11,count:542,rate:2.7,date:"2003-11-01T08:00:00.000Z"},{series:"Government",year:2003,month:12,count:516,rate:2.5,date:"2003-12-01T08:00:00.000Z"},{series:"Government",year:2004,month:1,count:511,rate:2.5,date:"2004-01-01T08:00:00.000Z"},{series:"Government",year:2004,month:2,count:490,rate:2.4,date:"2004-02-01T08:00:00.000Z"},{series:"Government",year:2004,month:3,count:530,rate:2.6,date:"2004-03-01T08:00:00.000Z"},{series:"Government",year:2004,month:4,count:433,rate:2.1,date:"2004-04-01T08:00:00.000Z"},{series:"Government",year:2004,month:5,count:468,rate:2.3,date:"2004-05-01T07:00:00.000Z"},{series:"Government",year:2004,month:6,count:580,rate:2.8,date:"2004-06-01T07:00:00.000Z"},{series:"Government",year:2004,month:7,count:741,rate:3.7,date:"2004-07-01T07:00:00.000Z"},{series:"Government",year:2004,month:8,count:676,rate:3.3,date:"2004-08-01T07:00:00.000Z"},{series:"Government",year:2004,month:9,count:568,rate:2.7,date:"2004-09-01T07:00:00.000Z"},{series:"Government",year:2004,month:10,count:561,rate:2.7,date:"2004-10-01T07:00:00.000Z"},{series:"Government",year:2004,month:11,count:514,rate:2.4,date:"2004-11-01T08:00:00.000Z"},{series:"Government",year:2004,month:12,count:499,rate:2.4,date:"2004-12-01T08:00:00.000Z"},{series:"Government",year:2005,month:1,count:555,rate:2.6,date:"2005-01-01T08:00:00.000Z"},{series:"Government",year:2005,month:2,count:472,rate:2.3,date:"2005-02-01T08:00:00.000Z"},{series:"Government",year:2005,month:3,count:468,rate:2.2,date:"2005-03-01T08:00:00.000Z"},{series:"Government",year:2005,month:4,count:478,rate:2.3,date:"2005-04-01T08:00:00.000Z"},{series:"Government",year:2005,month:5,count:453,rate:2.1,date:"2005-05-01T07:00:00.000Z"},{series:"Government",year:2005,month:6,count:681,rate:3.2,date:"2005-06-01T07:00:00.000Z"},{series:"Government",year:2005,month:7,count:683,rate:3.3,date:"2005-07-01T07:00:00.000Z"},{series:"Government",year:2005,month:8,count:664,rate:3.2,date:"2005-08-01T07:00:00.000Z"},{series:"Government",year:2005,month:9,count:568,rate:2.7,date:"2005-09-01T07:00:00.000Z"},{series:"Government",year:2005,month:10,count:502,rate:2.4,date:"2005-10-01T07:00:00.000Z"},{series:"Government",year:2005,month:11,count:494,rate:2.4,date:"2005-11-01T08:00:00.000Z"},{series:"Government",year:2005,month:12,count:393,rate:1.9,date:"2005-12-01T08:00:00.000Z"},{series:"Government",year:2006,month:1,count:457,rate:2.2,date:"2006-01-01T08:00:00.000Z"},{series:"Government",year:2006,month:2,count:472,rate:2.3,date:"2006-02-01T08:00:00.000Z"},{series:"Government",year:2006,month:3,count:461,rate:2.2,date:"2006-03-01T08:00:00.000Z"},{series:"Government",year:2006,month:4,count:414,rate:2,date:"2006-04-01T08:00:00.000Z"},{series:"Government",year:2006,month:5,count:429,rate:2.1,date:"2006-05-01T07:00:00.000Z"},{series:"Government",year:2006,month:6,count:578,rate:2.8,date:"2006-06-01T07:00:00.000Z"},{series:"Government",year:2006,month:7,count:659,rate:3.2,date:"2006-07-01T07:00:00.000Z"},{series:"Government",year:2006,month:8,count:595,rate:2.9,date:"2006-08-01T07:00:00.000Z"},{series:"Government",year:2006,month:9,count:396,rate:1.9,date:"2006-09-01T07:00:00.000Z"},{series:"Government",year:2006,month:10,count:424,rate:2,date:"2006-10-01T07:00:00.000Z"},{series:"Government",year:2006,month:11,count:400,rate:1.9,date:"2006-11-01T08:00:00.000Z"},{series:"Government",year:2006,month:12,count:395,rate:1.9,date:"2006-12-01T08:00:00.000Z"},{series:"Government",year:2007,month:1,count:476,rate:2.2,date:"2007-01-01T08:00:00.000Z"},{series:"Government",year:2007,month:2,count:405,rate:1.9,date:"2007-02-01T08:00:00.000Z"},{series:"Government",year:2007,month:3,count:419,rate:1.9,date:"2007-03-01T08:00:00.000Z"},{series:"Government",year:2007,month:4,count:408,rate:1.9,date:"2007-04-01T07:00:00.000Z"},{series:"Government",year:2007,month:5,count:428,rate:1.9,date:"2007-05-01T07:00:00.000Z"},{series:"Government",year:2007,month:6,count:572,rate:2.7,date:"2007-06-01T07:00:00.000Z"},{series:"Government",year:2007,month:7,count:704,rate:3.3,date:"2007-07-01T07:00:00.000Z"},{series:"Government",year:2007,month:8,count:695,rate:3.2,date:"2007-08-01T07:00:00.000Z"},{series:"Government",year:2007,month:9,count:525,rate:2.4,date:"2007-09-01T07:00:00.000Z"},{series:"Government",year:2007,month:10,count:492,rate:2.3,date:"2007-10-01T07:00:00.000Z"},{series:"Government",year:2007,month:11,count:482,rate:2.2,date:"2007-11-01T07:00:00.000Z"},{series:"Government",year:2007,month:12,count:451,rate:2.1,date:"2007-12-01T08:00:00.000Z"},{series:"Government",year:2008,month:1,count:471,rate:2.2,date:"2008-01-01T08:00:00.000Z"},{series:"Government",year:2008,month:2,count:372,rate:1.7,date:"2008-02-01T08:00:00.000Z"},{series:"Government",year:2008,month:3,count:425,rate:1.9,date:"2008-03-01T08:00:00.000Z"},{series:"Government",year:2008,month:4,count:373,rate:1.7,date:"2008-04-01T07:00:00.000Z"},{series:"Government",year:2008,month:5,count:461,rate:2.1,date:"2008-05-01T07:00:00.000Z"},{series:"Government",year:2008,month:6,count:654,rate:3,date:"2008-06-01T07:00:00.000Z"},{series:"Government",year:2008,month:7,count:770,rate:3.6,date:"2008-07-01T07:00:00.000Z"},{series:"Government",year:2008,month:8,count:721,rate:3.3,date:"2008-08-01T07:00:00.000Z"},{series:"Government",year:2008,month:9,count:573,rate:2.6,date:"2008-09-01T07:00:00.000Z"},{series:"Government",year:2008,month:10,count:552,rate:2.5,date:"2008-10-01T07:00:00.000Z"},{series:"Government",year:2008,month:11,count:527,rate:2.4,date:"2008-11-01T07:00:00.000Z"},{series:"Government",year:2008,month:12,count:511,rate:2.3,date:"2008-12-01T08:00:00.000Z"},{series:"Government",year:2009,month:1,count:652,rate:3,date:"2009-01-01T08:00:00.000Z"},{series:"Government",year:2009,month:2,count:563,rate:2.6,date:"2009-02-01T08:00:00.000Z"},{series:"Government",year:2009,month:3,count:598,rate:2.8,date:"2009-03-01T08:00:00.000Z"},{series:"Government",year:2009,month:4,count:575,rate:2.6,date:"2009-04-01T07:00:00.000Z"},{series:"Government",year:2009,month:5,count:702,rate:3.1,date:"2009-05-01T07:00:00.000Z"},{series:"Government",year:2009,month:6,count:991,rate:4.4,date:"2009-06-01T07:00:00.000Z"},{series:"Government",year:2009,month:7,count:1129,rate:5.1,date:"2009-07-01T07:00:00.000Z"},{series:"Government",year:2009,month:8,count:1118,rate:5.1,date:"2009-08-01T07:00:00.000Z"},{series:"Government",year:2009,month:9,count:928,rate:4.2,date:"2009-09-01T07:00:00.000Z"},{series:"Government",year:2009,month:10,count:785,rate:3.5,date:"2009-10-01T07:00:00.000Z"},{series:"Government",year:2009,month:11,count:748,rate:3.4,date:"2009-11-01T07:00:00.000Z"},{series:"Government",year:2009,month:12,count:797,rate:3.6,date:"2009-12-01T08:00:00.000Z"},{series:"Government",year:2010,month:1,count:948,rate:4.3,date:"2010-01-01T08:00:00.000Z"},{series:"Government",year:2010,month:2,count:880,rate:4,date:"2010-02-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2e3,month:1,count:19,rate:3.9,date:"2000-01-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2e3,month:2,count:25,rate:5.5,date:"2000-02-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2e3,month:3,count:17,rate:3.7,date:"2000-03-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2e3,month:4,count:20,rate:4.1,date:"2000-04-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2e3,month:5,count:27,rate:5.3,date:"2000-05-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2e3,month:6,count:13,rate:2.6,date:"2000-06-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2e3,month:7,count:16,rate:3.6,date:"2000-07-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2e3,month:8,count:23,rate:5.1,date:"2000-08-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2e3,month:9,count:25,rate:5.8,date:"2000-09-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2e3,month:10,count:39,rate:7.8,date:"2000-10-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2e3,month:11,count:11,rate:2,date:"2000-11-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2e3,month:12,count:20,rate:3.8,date:"2000-12-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2001,month:1,count:11,rate:2.3,date:"2001-01-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2001,month:2,count:27,rate:5.3,date:"2001-02-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2001,month:3,count:14,rate:3,date:"2001-03-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2001,month:4,count:24,rate:4.7,date:"2001-04-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2001,month:5,count:34,rate:5.9,date:"2001-05-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2001,month:6,count:26,rate:4.7,date:"2001-06-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2001,month:7,count:17,rate:3.1,date:"2001-07-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2001,month:8,count:18,rate:3.3,date:"2001-08-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2001,month:9,count:23,rate:4.2,date:"2001-09-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2001,month:10,count:32,rate:5.4,date:"2001-10-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2001,month:11,count:20,rate:3.6,date:"2001-11-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2001,month:12,count:27,rate:5.3,date:"2001-12-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2002,month:1,count:33,rate:7,date:"2002-01-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2002,month:2,count:35,rate:7.5,date:"2002-02-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2002,month:3,count:28,rate:5.3,date:"2002-03-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2002,month:4,count:33,rate:6.1,date:"2002-04-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2002,month:5,count:25,rate:4.9,date:"2002-05-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2002,month:6,count:35,rate:7.1,date:"2002-06-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2002,month:7,count:19,rate:3.9,date:"2002-07-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2002,month:8,count:32,rate:6.3,date:"2002-08-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2002,month:9,count:42,rate:7.9,date:"2002-09-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2002,month:10,count:36,rate:6.4,date:"2002-10-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2002,month:11,count:32,rate:5.4,date:"2002-11-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2002,month:12,count:45,rate:7.8,date:"2002-12-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2003,month:1,count:54,rate:9,date:"2003-01-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2003,month:2,count:41,rate:7.1,date:"2003-02-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2003,month:3,count:46,rate:8.2,date:"2003-03-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2003,month:4,count:41,rate:7.7,date:"2003-04-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2003,month:5,count:40,rate:7.5,date:"2003-05-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2003,month:6,count:36,rate:6.8,date:"2003-06-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2003,month:7,count:43,rate:7.9,date:"2003-07-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2003,month:8,count:20,rate:3.8,date:"2003-08-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2003,month:9,count:25,rate:4.6,date:"2003-09-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2003,month:10,count:31,rate:5.6,date:"2003-10-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2003,month:11,count:34,rate:5.9,date:"2003-11-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2003,month:12,count:32,rate:5.6,date:"2003-12-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2004,month:1,count:31,rate:5.8,date:"2004-01-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2004,month:2,count:24,rate:5,date:"2004-02-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2004,month:3,count:22,rate:4.4,date:"2004-03-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2004,month:4,count:34,rate:6.4,date:"2004-04-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2004,month:5,count:22,rate:4.3,date:"2004-05-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2004,month:6,count:27,rate:5,date:"2004-06-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2004,month:7,count:28,rate:5.4,date:"2004-07-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2004,month:8,count:10,rate:1.9,date:"2004-08-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2004,month:9,count:8,rate:1.5,date:"2004-09-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2004,month:10,count:15,rate:2.6,date:"2004-10-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2004,month:11,count:20,rate:3.3,date:"2004-11-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2004,month:12,count:16,rate:2.5,date:"2004-12-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2005,month:1,count:29,rate:4.9,date:"2005-01-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2005,month:2,count:25,rate:4,date:"2005-02-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2005,month:3,count:32,rate:5.2,date:"2005-03-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2005,month:4,count:19,rate:2.9,date:"2005-04-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2005,month:5,count:16,rate:2.4,date:"2005-05-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2005,month:6,count:25,rate:4,date:"2005-06-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2005,month:7,count:22,rate:3.7,date:"2005-07-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2005,month:8,count:12,rate:2,date:"2005-08-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2005,month:9,count:12,rate:2,date:"2005-09-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2005,month:10,count:2,rate:.3,date:"2005-10-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2005,month:11,count:18,rate:2.9,date:"2005-11-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2005,month:12,count:23,rate:3.5,date:"2005-12-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2006,month:1,count:26,rate:3.9,date:"2006-01-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2006,month:2,count:25,rate:3.8,date:"2006-02-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2006,month:3,count:14,rate:2.1,date:"2006-03-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2006,month:4,count:17,rate:2.5,date:"2006-04-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2006,month:5,count:20,rate:2.8,date:"2006-05-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2006,month:6,count:31,rate:4.3,date:"2006-06-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2006,month:7,count:25,rate:3.5,date:"2006-07-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2006,month:8,count:32,rate:4.3,date:"2006-08-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2006,month:9,count:14,rate:2.1,date:"2006-09-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2006,month:10,count:15,rate:2.2,date:"2006-10-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2006,month:11,count:22,rate:2.9,date:"2006-11-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2006,month:12,count:25,rate:3.4,date:"2006-12-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2007,month:1,count:35,rate:4.7,date:"2007-01-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2007,month:2,count:33,rate:4.5,date:"2007-02-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2007,month:3,count:24,rate:3.2,date:"2007-03-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2007,month:4,count:17,rate:2.3,date:"2007-04-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2007,month:5,count:22,rate:3,date:"2007-05-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2007,month:6,count:33,rate:4.3,date:"2007-06-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2007,month:7,count:33,rate:4.3,date:"2007-07-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2007,month:8,count:33,rate:4.6,date:"2007-08-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2007,month:9,count:25,rate:3.2,date:"2007-09-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2007,month:10,count:9,rate:1.3,date:"2007-10-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2007,month:11,count:16,rate:2.3,date:"2007-11-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2007,month:12,count:24,rate:3.4,date:"2007-12-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2008,month:1,count:28,rate:4,date:"2008-01-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2008,month:2,count:16,rate:2.2,date:"2008-02-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2008,month:3,count:28,rate:3.7,date:"2008-03-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2008,month:4,count:28,rate:3.6,date:"2008-04-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2008,month:5,count:28,rate:3.4,date:"2008-05-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2008,month:6,count:28,rate:3.3,date:"2008-06-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2008,month:7,count:13,rate:1.5,date:"2008-07-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2008,month:8,count:17,rate:1.9,date:"2008-08-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2008,month:9,count:25,rate:2.8,date:"2008-09-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2008,month:10,count:15,rate:1.7,date:"2008-10-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2008,month:11,count:32,rate:3.7,date:"2008-11-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2008,month:12,count:46,rate:5.2,date:"2008-12-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2009,month:1,count:59,rate:7,date:"2009-01-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2009,month:2,count:63,rate:7.6,date:"2009-02-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2009,month:3,count:105,rate:12.6,date:"2009-03-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2009,month:4,count:125,rate:16.1,date:"2009-04-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2009,month:5,count:98,rate:13.3,date:"2009-05-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2009,month:6,count:100,rate:13.6,date:"2009-06-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2009,month:7,count:95,rate:12.6,date:"2009-07-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2009,month:8,count:93,rate:11.8,date:"2009-08-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2009,month:9,count:76,rate:10.7,date:"2009-09-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2009,month:10,count:84,rate:10.8,date:"2009-10-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2009,month:11,count:96,rate:12,date:"2009-11-01T07:00:00.000Z"},{series:"Mining and Extraction",year:2009,month:12,count:89,rate:11.8,date:"2009-12-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2010,month:1,count:68,rate:9.1,date:"2010-01-01T08:00:00.000Z"},{series:"Mining and Extraction",year:2010,month:2,count:79,rate:10.7,date:"2010-02-01T08:00:00.000Z"},{series:"Construction",year:2e3,month:1,count:745,rate:9.7,date:"2000-01-01T08:00:00.000Z"},{series:"Construction",year:2e3,month:2,count:812,rate:10.6,date:"2000-02-01T08:00:00.000Z"},{series:"Construction",year:2e3,month:3,count:669,rate:8.7,date:"2000-03-01T08:00:00.000Z"},{series:"Construction",year:2e3,month:4,count:447,rate:5.8,date:"2000-04-01T08:00:00.000Z"},{series:"Construction",year:2e3,month:5,count:397,rate:5,date:"2000-05-01T07:00:00.000Z"},{series:"Construction",year:2e3,month:6,count:389,rate:4.6,date:"2000-06-01T07:00:00.000Z"},{series:"Construction",year:2e3,month:7,count:384,rate:4.4,date:"2000-07-01T07:00:00.000Z"},{series:"Construction",year:2e3,month:8,count:446,rate:5.1,date:"2000-08-01T07:00:00.000Z"},{series:"Construction",year:2e3,month:9,count:386,rate:4.6,date:"2000-09-01T07:00:00.000Z"},{series:"Construction",year:2e3,month:10,count:417,rate:4.9,date:"2000-10-01T07:00:00.000Z"},{series:"Construction",year:2e3,month:11,count:482,rate:5.7,date:"2000-11-01T08:00:00.000Z"},{series:"Construction",year:2e3,month:12,count:580,rate:6.8,date:"2000-12-01T08:00:00.000Z"},{series:"Construction",year:2001,month:1,count:836,rate:9.8,date:"2001-01-01T08:00:00.000Z"},{series:"Construction",year:2001,month:2,count:826,rate:9.9,date:"2001-02-01T08:00:00.000Z"},{series:"Construction",year:2001,month:3,count:683,rate:8.4,date:"2001-03-01T08:00:00.000Z"},{series:"Construction",year:2001,month:4,count:596,rate:7.1,date:"2001-04-01T08:00:00.000Z"},{series:"Construction",year:2001,month:5,count:478,rate:5.6,date:"2001-05-01T07:00:00.000Z"},{series:"Construction",year:2001,month:6,count:443,rate:5.1,date:"2001-06-01T07:00:00.000Z"},{series:"Construction",year:2001,month:7,count:447,rate:4.9,date:"2001-07-01T07:00:00.000Z"},{series:"Construction",year:2001,month:8,count:522,rate:5.8,date:"2001-08-01T07:00:00.000Z"},{series:"Construction",year:2001,month:9,count:489,rate:5.5,date:"2001-09-01T07:00:00.000Z"},{series:"Construction",year:2001,month:10,count:535,rate:6.1,date:"2001-10-01T07:00:00.000Z"},{series:"Construction",year:2001,month:11,count:670,rate:7.6,date:"2001-11-01T08:00:00.000Z"},{series:"Construction",year:2001,month:12,count:785,rate:9,date:"2001-12-01T08:00:00.000Z"},{series:"Construction",year:2002,month:1,count:1211,rate:13.6,date:"2002-01-01T08:00:00.000Z"},{series:"Construction",year:2002,month:2,count:1060,rate:12.2,date:"2002-02-01T08:00:00.000Z"},{series:"Construction",year:2002,month:3,count:1009,rate:11.8,date:"2002-03-01T08:00:00.000Z"},{series:"Construction",year:2002,month:4,count:855,rate:10.1,date:"2002-04-01T08:00:00.000Z"},{series:"Construction",year:2002,month:5,count:626,rate:7.4,date:"2002-05-01T07:00:00.000Z"},{series:"Construction",year:2002,month:6,count:593,rate:6.9,date:"2002-06-01T07:00:00.000Z"},{series:"Construction",year:2002,month:7,count:594,rate:6.9,date:"2002-07-01T07:00:00.000Z"},{series:"Construction",year:2002,month:8,count:654,rate:7.4,date:"2002-08-01T07:00:00.000Z"},{series:"Construction",year:2002,month:9,count:615,rate:7,date:"2002-09-01T07:00:00.000Z"},{series:"Construction",year:2002,month:10,count:680,rate:7.7,date:"2002-10-01T07:00:00.000Z"},{series:"Construction",year:2002,month:11,count:758,rate:8.5,date:"2002-11-01T08:00:00.000Z"},{series:"Construction",year:2002,month:12,count:941,rate:10.9,date:"2002-12-01T08:00:00.000Z"},{series:"Construction",year:2003,month:1,count:1196,rate:14,date:"2003-01-01T08:00:00.000Z"},{series:"Construction",year:2003,month:2,count:1173,rate:14,date:"2003-02-01T08:00:00.000Z"},{series:"Construction",year:2003,month:3,count:987,rate:11.8,date:"2003-03-01T08:00:00.000Z"},{series:"Construction",year:2003,month:4,count:772,rate:9.3,date:"2003-04-01T08:00:00.000Z"},{series:"Construction",year:2003,month:5,count:715,rate:8.4,date:"2003-05-01T07:00:00.000Z"},{series:"Construction",year:2003,month:6,count:710,rate:7.9,date:"2003-06-01T07:00:00.000Z"},{series:"Construction",year:2003,month:7,count:677,rate:7.5,date:"2003-07-01T07:00:00.000Z"},{series:"Construction",year:2003,month:8,count:650,rate:7.1,date:"2003-08-01T07:00:00.000Z"},{series:"Construction",year:2003,month:9,count:681,rate:7.6,date:"2003-09-01T07:00:00.000Z"},{series:"Construction",year:2003,month:10,count:651,rate:7.4,date:"2003-10-01T07:00:00.000Z"},{series:"Construction",year:2003,month:11,count:690,rate:7.8,date:"2003-11-01T08:00:00.000Z"},{series:"Construction",year:2003,month:12,count:813,rate:9.3,date:"2003-12-01T08:00:00.000Z"},{series:"Construction",year:2004,month:1,count:994,rate:11.3,date:"2004-01-01T08:00:00.000Z"},{series:"Construction",year:2004,month:2,count:1039,rate:11.6,date:"2004-02-01T08:00:00.000Z"},{series:"Construction",year:2004,month:3,count:1011,rate:11.3,date:"2004-03-01T08:00:00.000Z"},{series:"Construction",year:2004,month:4,count:849,rate:9.5,date:"2004-04-01T08:00:00.000Z"},{series:"Construction",year:2004,month:5,count:665,rate:7.4,date:"2004-05-01T07:00:00.000Z"},{series:"Construction",year:2004,month:6,count:668,rate:7,date:"2004-06-01T07:00:00.000Z"},{series:"Construction",year:2004,month:7,count:610,rate:6.4,date:"2004-07-01T07:00:00.000Z"},{series:"Construction",year:2004,month:8,count:563,rate:6,date:"2004-08-01T07:00:00.000Z"},{series:"Construction",year:2004,month:9,count:629,rate:6.8,date:"2004-09-01T07:00:00.000Z"},{series:"Construction",year:2004,month:10,count:635,rate:6.9,date:"2004-10-01T07:00:00.000Z"},{series:"Construction",year:2004,month:11,count:695,rate:7.4,date:"2004-11-01T08:00:00.000Z"},{series:"Construction",year:2004,month:12,count:870,rate:9.5,date:"2004-12-01T08:00:00.000Z"},{series:"Construction",year:2005,month:1,count:1079,rate:11.8,date:"2005-01-01T08:00:00.000Z"},{series:"Construction",year:2005,month:2,count:1150,rate:12.3,date:"2005-02-01T08:00:00.000Z"},{series:"Construction",year:2005,month:3,count:961,rate:10.3,date:"2005-03-01T08:00:00.000Z"},{series:"Construction",year:2005,month:4,count:693,rate:7.4,date:"2005-04-01T08:00:00.000Z"},{series:"Construction",year:2005,month:5,count:567,rate:6.1,date:"2005-05-01T07:00:00.000Z"},{series:"Construction",year:2005,month:6,count:559,rate:5.7,date:"2005-06-01T07:00:00.000Z"},{series:"Construction",year:2005,month:7,count:509,rate:5.2,date:"2005-07-01T07:00:00.000Z"},{series:"Construction",year:2005,month:8,count:561,rate:5.7,date:"2005-08-01T07:00:00.000Z"},{series:"Construction",year:2005,month:9,count:572,rate:5.7,date:"2005-09-01T07:00:00.000Z"},{series:"Construction",year:2005,month:10,count:519,rate:5.3,date:"2005-10-01T07:00:00.000Z"},{series:"Construction",year:2005,month:11,count:564,rate:5.7,date:"2005-11-01T08:00:00.000Z"},{series:"Construction",year:2005,month:12,count:813,rate:8.2,date:"2005-12-01T08:00:00.000Z"},{series:"Construction",year:2006,month:1,count:868,rate:9,date:"2006-01-01T08:00:00.000Z"},{series:"Construction",year:2006,month:2,count:836,rate:8.6,date:"2006-02-01T08:00:00.000Z"},{series:"Construction",year:2006,month:3,count:820,rate:8.5,date:"2006-03-01T08:00:00.000Z"},{series:"Construction",year:2006,month:4,count:674,rate:6.9,date:"2006-04-01T08:00:00.000Z"},{series:"Construction",year:2006,month:5,count:647,rate:6.6,date:"2006-05-01T07:00:00.000Z"},{series:"Construction",year:2006,month:6,count:569,rate:5.6,date:"2006-06-01T07:00:00.000Z"},{series:"Construction",year:2006,month:7,count:633,rate:6.1,date:"2006-07-01T07:00:00.000Z"},{series:"Construction",year:2006,month:8,count:618,rate:5.9,date:"2006-08-01T07:00:00.000Z"},{series:"Construction",year:2006,month:9,count:586,rate:5.6,date:"2006-09-01T07:00:00.000Z"},{series:"Construction",year:2006,month:10,count:456,rate:4.5,date:"2006-10-01T07:00:00.000Z"},{series:"Construction",year:2006,month:11,count:618,rate:6,date:"2006-11-01T08:00:00.000Z"},{series:"Construction",year:2006,month:12,count:725,rate:6.9,date:"2006-12-01T08:00:00.000Z"},{series:"Construction",year:2007,month:1,count:922,rate:8.9,date:"2007-01-01T08:00:00.000Z"},{series:"Construction",year:2007,month:2,count:1086,rate:10.5,date:"2007-02-01T08:00:00.000Z"},{series:"Construction",year:2007,month:3,count:924,rate:9,date:"2007-03-01T08:00:00.000Z"},{series:"Construction",year:2007,month:4,count:853,rate:8.6,date:"2007-04-01T07:00:00.000Z"},{series:"Construction",year:2007,month:5,count:676,rate:6.9,date:"2007-05-01T07:00:00.000Z"},{series:"Construction",year:2007,month:6,count:600,rate:5.9,date:"2007-06-01T07:00:00.000Z"},{series:"Construction",year:2007,month:7,count:617,rate:5.9,date:"2007-07-01T07:00:00.000Z"},{series:"Construction",year:2007,month:8,count:558,rate:5.3,date:"2007-08-01T07:00:00.000Z"},{series:"Construction",year:2007,month:9,count:596,rate:5.8,date:"2007-09-01T07:00:00.000Z"},{series:"Construction",year:2007,month:10,count:641,rate:6.1,date:"2007-10-01T07:00:00.000Z"},{series:"Construction",year:2007,month:11,count:645,rate:6.2,date:"2007-11-01T07:00:00.000Z"},{series:"Construction",year:2007,month:12,count:968,rate:9.4,date:"2007-12-01T08:00:00.000Z"},{series:"Construction",year:2008,month:1,count:1099,rate:11,date:"2008-01-01T08:00:00.000Z"},{series:"Construction",year:2008,month:2,count:1118,rate:11.4,date:"2008-02-01T08:00:00.000Z"},{series:"Construction",year:2008,month:3,count:1170,rate:12,date:"2008-03-01T08:00:00.000Z"},{series:"Construction",year:2008,month:4,count:1057,rate:11.1,date:"2008-04-01T07:00:00.000Z"},{series:"Construction",year:2008,month:5,count:809,rate:8.6,date:"2008-05-01T07:00:00.000Z"},{series:"Construction",year:2008,month:6,count:785,rate:8.2,date:"2008-06-01T07:00:00.000Z"},{series:"Construction",year:2008,month:7,count:783,rate:8,date:"2008-07-01T07:00:00.000Z"},{series:"Construction",year:2008,month:8,count:814,rate:8.2,date:"2008-08-01T07:00:00.000Z"},{series:"Construction",year:2008,month:9,count:970,rate:9.9,date:"2008-09-01T07:00:00.000Z"},{series:"Construction",year:2008,month:10,count:1078,rate:10.8,date:"2008-10-01T07:00:00.000Z"},{series:"Construction",year:2008,month:11,count:1237,rate:12.7,date:"2008-11-01T07:00:00.000Z"},{series:"Construction",year:2008,month:12,count:1438,rate:15.3,date:"2008-12-01T08:00:00.000Z"},{series:"Construction",year:2009,month:1,count:1744,rate:18.2,date:"2009-01-01T08:00:00.000Z"},{series:"Construction",year:2009,month:2,count:2025,rate:21.4,date:"2009-02-01T08:00:00.000Z"},{series:"Construction",year:2009,month:3,count:1979,rate:21.1,date:"2009-03-01T08:00:00.000Z"},{series:"Construction",year:2009,month:4,count:1737,rate:18.7,date:"2009-04-01T07:00:00.000Z"},{series:"Construction",year:2009,month:5,count:1768,rate:19.2,date:"2009-05-01T07:00:00.000Z"},{series:"Construction",year:2009,month:6,count:1601,rate:17.4,date:"2009-06-01T07:00:00.000Z"},{series:"Construction",year:2009,month:7,count:1687,rate:18.2,date:"2009-07-01T07:00:00.000Z"},{series:"Construction",year:2009,month:8,count:1542,rate:16.5,date:"2009-08-01T07:00:00.000Z"},{series:"Construction",year:2009,month:9,count:1594,rate:17.1,date:"2009-09-01T07:00:00.000Z"},{series:"Construction",year:2009,month:10,count:1744,rate:18.7,date:"2009-10-01T07:00:00.000Z"},{series:"Construction",year:2009,month:11,count:1780,rate:19.4,date:"2009-11-01T07:00:00.000Z"},{series:"Construction",year:2009,month:12,count:2044,rate:22.7,date:"2009-12-01T08:00:00.000Z"},{series:"Construction",year:2010,month:1,count:2194,rate:24.7,date:"2010-01-01T08:00:00.000Z"},{series:"Construction",year:2010,month:2,count:2440,rate:27.1,date:"2010-02-01T08:00:00.000Z"},{series:"Manufacturing",year:2e3,month:1,count:734,rate:3.6,date:"2000-01-01T08:00:00.000Z"},{series:"Manufacturing",year:2e3,month:2,count:694,rate:3.4,date:"2000-02-01T08:00:00.000Z"},{series:"Manufacturing",year:2e3,month:3,count:739,rate:3.6,date:"2000-03-01T08:00:00.000Z"},{series:"Manufacturing",year:2e3,month:4,count:736,rate:3.7,date:"2000-04-01T08:00:00.000Z"},{series:"Manufacturing",year:2e3,month:5,count:685,rate:3.4,date:"2000-05-01T07:00:00.000Z"},{series:"Manufacturing",year:2e3,month:6,count:621,rate:3.1,date:"2000-06-01T07:00:00.000Z"},{series:"Manufacturing",year:2e3,month:7,count:708,rate:3.6,date:"2000-07-01T07:00:00.000Z"},{series:"Manufacturing",year:2e3,month:8,count:685,rate:3.4,date:"2000-08-01T07:00:00.000Z"},{series:"Manufacturing",year:2e3,month:9,count:667,rate:3.4,date:"2000-09-01T07:00:00.000Z"},{series:"Manufacturing",year:2e3,month:10,count:693,rate:3.6,date:"2000-10-01T07:00:00.000Z"},{series:"Manufacturing",year:2e3,month:11,count:672,rate:3.4,date:"2000-11-01T08:00:00.000Z"},{series:"Manufacturing",year:2e3,month:12,count:653,rate:3.3,date:"2000-12-01T08:00:00.000Z"},{series:"Manufacturing",year:2001,month:1,count:911,rate:4.6,date:"2001-01-01T08:00:00.000Z"},{series:"Manufacturing",year:2001,month:2,count:902,rate:4.6,date:"2001-02-01T08:00:00.000Z"},{series:"Manufacturing",year:2001,month:3,count:954,rate:4.9,date:"2001-03-01T08:00:00.000Z"},{series:"Manufacturing",year:2001,month:4,count:855,rate:4.4,date:"2001-04-01T08:00:00.000Z"},{series:"Manufacturing",year:2001,month:5,count:903,rate:4.7,date:"2001-05-01T07:00:00.000Z"},{series:"Manufacturing",year:2001,month:6,count:956,rate:5,date:"2001-06-01T07:00:00.000Z"},{series:"Manufacturing",year:2001,month:7,count:1054,rate:5.6,date:"2001-07-01T07:00:00.000Z"},{series:"Manufacturing",year:2001,month:8,count:1023,rate:5.5,date:"2001-08-01T07:00:00.000Z"},{series:"Manufacturing",year:2001,month:9,count:996,rate:5.4,date:"2001-09-01T07:00:00.000Z"},{series:"Manufacturing",year:2001,month:10,count:1065,rate:5.8,date:"2001-10-01T07:00:00.000Z"},{series:"Manufacturing",year:2001,month:11,count:1108,rate:6,date:"2001-11-01T08:00:00.000Z"},{series:"Manufacturing",year:2001,month:12,count:1172,rate:6.3,date:"2001-12-01T08:00:00.000Z"},{series:"Manufacturing",year:2002,month:1,count:1377,rate:7.4,date:"2002-01-01T08:00:00.000Z"},{series:"Manufacturing",year:2002,month:2,count:1296,rate:7,date:"2002-02-01T08:00:00.000Z"},{series:"Manufacturing",year:2002,month:3,count:1367,rate:7.3,date:"2002-03-01T08:00:00.000Z"},{series:"Manufacturing",year:2002,month:4,count:1322,rate:7.2,date:"2002-04-01T08:00:00.000Z"},{series:"Manufacturing",year:2002,month:5,count:1194,rate:6.6,date:"2002-05-01T07:00:00.000Z"},{series:"Manufacturing",year:2002,month:6,count:1187,rate:6.6,date:"2002-06-01T07:00:00.000Z"},{series:"Manufacturing",year:2002,month:7,count:1185,rate:6.6,date:"2002-07-01T07:00:00.000Z"},{series:"Manufacturing",year:2002,month:8,count:1108,rate:6.2,date:"2002-08-01T07:00:00.000Z"},{series:"Manufacturing",year:2002,month:9,count:1076,rate:6.1,date:"2002-09-01T07:00:00.000Z"},{series:"Manufacturing",year:2002,month:10,count:1046,rate:5.9,date:"2002-10-01T07:00:00.000Z"},{series:"Manufacturing",year:2002,month:11,count:1115,rate:6.3,date:"2002-11-01T08:00:00.000Z"},{series:"Manufacturing",year:2002,month:12,count:1188,rate:6.6,date:"2002-12-01T08:00:00.000Z"},{series:"Manufacturing",year:2003,month:1,count:1302,rate:7.2,date:"2003-01-01T08:00:00.000Z"},{series:"Manufacturing",year:2003,month:2,count:1229,rate:6.7,date:"2003-02-01T08:00:00.000Z"},{series:"Manufacturing",year:2003,month:3,count:1222,rate:6.8,date:"2003-03-01T08:00:00.000Z"},{series:"Manufacturing",year:2003,month:4,count:1199,rate:6.7,date:"2003-04-01T08:00:00.000Z"},{series:"Manufacturing",year:2003,month:5,count:1150,rate:6.5,date:"2003-05-01T07:00:00.000Z"},{series:"Manufacturing",year:2003,month:6,count:1232,rate:7,date:"2003-06-01T07:00:00.000Z"},{series:"Manufacturing",year:2003,month:7,count:1193,rate:6.9,date:"2003-07-01T07:00:00.000Z"},{series:"Manufacturing",year:2003,month:8,count:1186,rate:6.7,date:"2003-08-01T07:00:00.000Z"},{series:"Manufacturing",year:2003,month:9,count:1175,rate:6.8,date:"2003-09-01T07:00:00.000Z"},{series:"Manufacturing",year:2003,month:10,count:1041,rate:6,date:"2003-10-01T07:00:00.000Z"},{series:"Manufacturing",year:2003,month:11,count:1034,rate:5.9,date:"2003-11-01T08:00:00.000Z"},{series:"Manufacturing",year:2003,month:12,count:1025,rate:5.9,date:"2003-12-01T08:00:00.000Z"},{series:"Manufacturing",year:2004,month:1,count:1110,rate:6.4,date:"2004-01-01T08:00:00.000Z"},{series:"Manufacturing",year:2004,month:2,count:1094,rate:6.3,date:"2004-02-01T08:00:00.000Z"},{series:"Manufacturing",year:2004,month:3,count:1083,rate:6.3,date:"2004-03-01T08:00:00.000Z"},{series:"Manufacturing",year:2004,month:4,count:1004,rate:5.8,date:"2004-04-01T08:00:00.000Z"},{series:"Manufacturing",year:2004,month:5,count:966,rate:5.6,date:"2004-05-01T07:00:00.000Z"},{series:"Manufacturing",year:2004,month:6,count:957,rate:5.6,date:"2004-06-01T07:00:00.000Z"},{series:"Manufacturing",year:2004,month:7,count:1019,rate:6,date:"2004-07-01T07:00:00.000Z"},{series:"Manufacturing",year:2004,month:8,count:840,rate:4.9,date:"2004-08-01T07:00:00.000Z"},{series:"Manufacturing",year:2004,month:9,count:852,rate:5,date:"2004-09-01T07:00:00.000Z"},{series:"Manufacturing",year:2004,month:10,count:884,rate:5.3,date:"2004-10-01T07:00:00.000Z"},{series:"Manufacturing",year:2004,month:11,count:905,rate:5.4,date:"2004-11-01T08:00:00.000Z"},{series:"Manufacturing",year:2004,month:12,count:872,rate:5.1,date:"2004-12-01T08:00:00.000Z"},{series:"Manufacturing",year:2005,month:1,count:889,rate:5.3,date:"2005-01-01T08:00:00.000Z"},{series:"Manufacturing",year:2005,month:2,count:889,rate:5.3,date:"2005-02-01T08:00:00.000Z"},{series:"Manufacturing",year:2005,month:3,count:879,rate:5.3,date:"2005-03-01T08:00:00.000Z"},{series:"Manufacturing",year:2005,month:4,count:793,rate:4.8,date:"2005-04-01T08:00:00.000Z"},{series:"Manufacturing",year:2005,month:5,count:743,rate:4.5,date:"2005-05-01T07:00:00.000Z"},{series:"Manufacturing",year:2005,month:6,count:743,rate:4.4,date:"2005-06-01T07:00:00.000Z"},{series:"Manufacturing",year:2005,month:7,count:883,rate:5.3,date:"2005-07-01T07:00:00.000Z"},{series:"Manufacturing",year:2005,month:8,count:767,rate:4.7,date:"2005-08-01T07:00:00.000Z"},{series:"Manufacturing",year:2005,month:9,count:775,rate:4.7,date:"2005-09-01T07:00:00.000Z"},{series:"Manufacturing",year:2005,month:10,count:800,rate:4.8,date:"2005-10-01T07:00:00.000Z"},{series:"Manufacturing",year:2005,month:11,count:823,rate:4.9,date:"2005-11-01T08:00:00.000Z"},{series:"Manufacturing",year:2005,month:12,count:757,rate:4.5,date:"2005-12-01T08:00:00.000Z"},{series:"Manufacturing",year:2006,month:1,count:778,rate:4.6,date:"2006-01-01T08:00:00.000Z"},{series:"Manufacturing",year:2006,month:2,count:821,rate:4.9,date:"2006-02-01T08:00:00.000Z"},{series:"Manufacturing",year:2006,month:3,count:701,rate:4.1,date:"2006-03-01T08:00:00.000Z"},{series:"Manufacturing",year:2006,month:4,count:745,rate:4.5,date:"2006-04-01T08:00:00.000Z"},{series:"Manufacturing",year:2006,month:5,count:680,rate:4.1,date:"2006-05-01T07:00:00.000Z"},{series:"Manufacturing",year:2006,month:6,count:635,rate:3.8,date:"2006-06-01T07:00:00.000Z"},{series:"Manufacturing",year:2006,month:7,count:736,rate:4.4,date:"2006-07-01T07:00:00.000Z"},{series:"Manufacturing",year:2006,month:8,count:680,rate:4.1,date:"2006-08-01T07:00:00.000Z"},{series:"Manufacturing",year:2006,month:9,count:632,rate:3.8,date:"2006-09-01T07:00:00.000Z"},{series:"Manufacturing",year:2006,month:10,count:618,rate:3.7,date:"2006-10-01T07:00:00.000Z"},{series:"Manufacturing",year:2006,month:11,count:702,rate:4.3,date:"2006-11-01T08:00:00.000Z"},{series:"Manufacturing",year:2006,month:12,count:660,rate:4,date:"2006-12-01T08:00:00.000Z"},{series:"Manufacturing",year:2007,month:1,count:752,rate:4.6,date:"2007-01-01T08:00:00.000Z"},{series:"Manufacturing",year:2007,month:2,count:774,rate:4.7,date:"2007-02-01T08:00:00.000Z"},{series:"Manufacturing",year:2007,month:3,count:742,rate:4.5,date:"2007-03-01T08:00:00.000Z"},{series:"Manufacturing",year:2007,month:4,count:749,rate:4.6,date:"2007-04-01T07:00:00.000Z"},{series:"Manufacturing",year:2007,month:5,count:651,rate:3.9,date:"2007-05-01T07:00:00.000Z"},{series:"Manufacturing",year:2007,month:6,count:653,rate:4,date:"2007-06-01T07:00:00.000Z"},{series:"Manufacturing",year:2007,month:7,count:621,rate:3.7,date:"2007-07-01T07:00:00.000Z"},{series:"Manufacturing",year:2007,month:8,count:596,rate:3.6,date:"2007-08-01T07:00:00.000Z"},{series:"Manufacturing",year:2007,month:9,count:673,rate:4.1,date:"2007-09-01T07:00:00.000Z"},{series:"Manufacturing",year:2007,month:10,count:729,rate:4.3,date:"2007-10-01T07:00:00.000Z"},{series:"Manufacturing",year:2007,month:11,count:762,rate:4.5,date:"2007-11-01T07:00:00.000Z"},{series:"Manufacturing",year:2007,month:12,count:772,rate:4.6,date:"2007-12-01T08:00:00.000Z"},{series:"Manufacturing",year:2008,month:1,count:837,rate:5.1,date:"2008-01-01T08:00:00.000Z"},{series:"Manufacturing",year:2008,month:2,count:820,rate:5,date:"2008-02-01T08:00:00.000Z"},{series:"Manufacturing",year:2008,month:3,count:831,rate:5,date:"2008-03-01T08:00:00.000Z"},{series:"Manufacturing",year:2008,month:4,count:796,rate:4.8,date:"2008-04-01T07:00:00.000Z"},{series:"Manufacturing",year:2008,month:5,count:879,rate:5.3,date:"2008-05-01T07:00:00.000Z"},{series:"Manufacturing",year:2008,month:6,count:862,rate:5.2,date:"2008-06-01T07:00:00.000Z"},{series:"Manufacturing",year:2008,month:7,count:908,rate:5.5,date:"2008-07-01T07:00:00.000Z"},{series:"Manufacturing",year:2008,month:8,count:960,rate:5.7,date:"2008-08-01T07:00:00.000Z"},{series:"Manufacturing",year:2008,month:9,count:984,rate:6,date:"2008-09-01T07:00:00.000Z"},{series:"Manufacturing",year:2008,month:10,count:1007,rate:6.2,date:"2008-10-01T07:00:00.000Z"},{series:"Manufacturing",year:2008,month:11,count:1144,rate:7,date:"2008-11-01T07:00:00.000Z"},{series:"Manufacturing",year:2008,month:12,count:1315,rate:8.3,date:"2008-12-01T08:00:00.000Z"},{series:"Manufacturing",year:2009,month:1,count:1711,rate:10.9,date:"2009-01-01T08:00:00.000Z"},{series:"Manufacturing",year:2009,month:2,count:1822,rate:11.5,date:"2009-02-01T08:00:00.000Z"},{series:"Manufacturing",year:2009,month:3,count:1912,rate:12.2,date:"2009-03-01T08:00:00.000Z"},{series:"Manufacturing",year:2009,month:4,count:1968,rate:12.4,date:"2009-04-01T07:00:00.000Z"},{series:"Manufacturing",year:2009,month:5,count:2010,rate:12.6,date:"2009-05-01T07:00:00.000Z"},{series:"Manufacturing",year:2009,month:6,count:2010,rate:12.6,date:"2009-06-01T07:00:00.000Z"},{series:"Manufacturing",year:2009,month:7,count:1988,rate:12.4,date:"2009-07-01T07:00:00.000Z"},{series:"Manufacturing",year:2009,month:8,count:1866,rate:11.8,date:"2009-08-01T07:00:00.000Z"},{series:"Manufacturing",year:2009,month:9,count:1876,rate:11.9,date:"2009-09-01T07:00:00.000Z"},{series:"Manufacturing",year:2009,month:10,count:1884,rate:12.2,date:"2009-10-01T07:00:00.000Z"},{series:"Manufacturing",year:2009,month:11,count:1882,rate:12.5,date:"2009-11-01T07:00:00.000Z"},{series:"Manufacturing",year:2009,month:12,count:1747,rate:11.9,date:"2009-12-01T08:00:00.000Z"},{series:"Manufacturing",year:2010,month:1,count:1918,rate:13,date:"2010-01-01T08:00:00.000Z"},{series:"Manufacturing",year:2010,month:2,count:1814,rate:12.1,date:"2010-02-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2e3,month:1,count:1e3,rate:5,date:"2000-01-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2e3,month:2,count:1023,rate:5.2,date:"2000-02-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2e3,month:3,count:983,rate:5.1,date:"2000-03-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2e3,month:4,count:793,rate:4.1,date:"2000-04-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2e3,month:5,count:821,rate:4.3,date:"2000-05-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2e3,month:6,count:837,rate:4.4,date:"2000-06-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2e3,month:7,count:792,rate:4.1,date:"2000-07-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2e3,month:8,count:853,rate:4.3,date:"2000-08-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2e3,month:9,count:791,rate:4.1,date:"2000-09-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2e3,month:10,count:739,rate:3.7,date:"2000-10-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2e3,month:11,count:701,rate:3.6,date:"2000-11-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2e3,month:12,count:715,rate:3.7,date:"2000-12-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2001,month:1,count:908,rate:4.7,date:"2001-01-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2001,month:2,count:990,rate:5.2,date:"2001-02-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2001,month:3,count:1037,rate:5.4,date:"2001-03-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2001,month:4,count:820,rate:4.3,date:"2001-04-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2001,month:5,count:875,rate:4.5,date:"2001-05-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2001,month:6,count:955,rate:4.9,date:"2001-06-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2001,month:7,count:833,rate:4.3,date:"2001-07-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2001,month:8,count:928,rate:4.8,date:"2001-08-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2001,month:9,count:936,rate:4.8,date:"2001-09-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2001,month:10,count:941,rate:4.8,date:"2001-10-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2001,month:11,count:1046,rate:5.3,date:"2001-11-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2001,month:12,count:1074,rate:5.4,date:"2001-12-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2002,month:1,count:1212,rate:6.3,date:"2002-01-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2002,month:2,count:1264,rate:6.6,date:"2002-02-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2002,month:3,count:1269,rate:6.6,date:"2002-03-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2002,month:4,count:1222,rate:6.4,date:"2002-04-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2002,month:5,count:1138,rate:5.8,date:"2002-05-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2002,month:6,count:1240,rate:6.2,date:"2002-06-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2002,month:7,count:1132,rate:5.6,date:"2002-07-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2002,month:8,count:1170,rate:5.8,date:"2002-08-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2002,month:9,count:1171,rate:5.9,date:"2002-09-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2002,month:10,count:1212,rate:6.1,date:"2002-10-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2002,month:11,count:1242,rate:6.2,date:"2002-11-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2002,month:12,count:1150,rate:5.7,date:"2002-12-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2003,month:1,count:1342,rate:6.7,date:"2003-01-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2003,month:2,count:1238,rate:6.1,date:"2003-02-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2003,month:3,count:1179,rate:5.9,date:"2003-03-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2003,month:4,count:1201,rate:6,date:"2003-04-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2003,month:5,count:1247,rate:6.2,date:"2003-05-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2003,month:6,count:1434,rate:6.9,date:"2003-06-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2003,month:7,count:1387,rate:6.6,date:"2003-07-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2003,month:8,count:1161,rate:5.6,date:"2003-08-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2003,month:9,count:1229,rate:5.9,date:"2003-09-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2003,month:10,count:1189,rate:5.7,date:"2003-10-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2003,month:11,count:1156,rate:5.4,date:"2003-11-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2003,month:12,count:1081,rate:5,date:"2003-12-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2004,month:1,count:1389,rate:6.5,date:"2004-01-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2004,month:2,count:1369,rate:6.5,date:"2004-02-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2004,month:3,count:1386,rate:6.8,date:"2004-03-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2004,month:4,count:1248,rate:6.1,date:"2004-04-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2004,month:5,count:1183,rate:5.8,date:"2004-05-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2004,month:6,count:1182,rate:5.8,date:"2004-06-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2004,month:7,count:1163,rate:5.5,date:"2004-07-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2004,month:8,count:1079,rate:5.1,date:"2004-08-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2004,month:9,count:1127,rate:5.5,date:"2004-09-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2004,month:10,count:1138,rate:5.4,date:"2004-10-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2004,month:11,count:1045,rate:5,date:"2004-11-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2004,month:12,count:1058,rate:5,date:"2004-12-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2005,month:1,count:1302,rate:6.3,date:"2005-01-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2005,month:2,count:1301,rate:6.2,date:"2005-02-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2005,month:3,count:1173,rate:5.6,date:"2005-03-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2005,month:4,count:1131,rate:5.4,date:"2005-04-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2005,month:5,count:1145,rate:5.4,date:"2005-05-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2005,month:6,count:1197,rate:5.7,date:"2005-06-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2005,month:7,count:1194,rate:5.6,date:"2005-07-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2005,month:8,count:1130,rate:5.3,date:"2005-08-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2005,month:9,count:1038,rate:4.9,date:"2005-09-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2005,month:10,count:1050,rate:4.9,date:"2005-10-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2005,month:11,count:1013,rate:4.7,date:"2005-11-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2005,month:12,count:968,rate:4.5,date:"2005-12-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2006,month:1,count:1203,rate:5.7,date:"2006-01-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2006,month:2,count:1141,rate:5.4,date:"2006-02-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2006,month:3,count:1022,rate:4.9,date:"2006-03-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2006,month:4,count:972,rate:4.6,date:"2006-04-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2006,month:5,count:1025,rate:4.8,date:"2006-05-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2006,month:6,count:1085,rate:5.1,date:"2006-06-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2006,month:7,count:1083,rate:5.1,date:"2006-07-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2006,month:8,count:977,rate:4.7,date:"2006-08-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2006,month:9,count:1008,rate:4.9,date:"2006-09-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2006,month:10,count:972,rate:4.7,date:"2006-10-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2006,month:11,count:1018,rate:4.8,date:"2006-11-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2006,month:12,count:965,rate:4.5,date:"2006-12-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2007,month:1,count:1166,rate:5.5,date:"2007-01-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2007,month:2,count:1045,rate:5.1,date:"2007-02-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2007,month:3,count:896,rate:4.4,date:"2007-03-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2007,month:4,count:872,rate:4.2,date:"2007-04-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2007,month:5,count:795,rate:3.9,date:"2007-05-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2007,month:6,count:979,rate:4.6,date:"2007-06-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2007,month:7,count:1089,rate:5.2,date:"2007-07-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2007,month:8,count:1028,rate:5.1,date:"2007-08-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2007,month:9,count:1027,rate:5.1,date:"2007-09-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2007,month:10,count:907,rate:4.4,date:"2007-10-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2007,month:11,count:893,rate:4.3,date:"2007-11-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2007,month:12,count:1009,rate:4.8,date:"2007-12-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2008,month:1,count:1120,rate:5.4,date:"2008-01-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2008,month:2,count:1007,rate:4.9,date:"2008-02-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2008,month:3,count:992,rate:4.9,date:"2008-03-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2008,month:4,count:919,rate:4.5,date:"2008-04-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2008,month:5,count:1049,rate:5.2,date:"2008-05-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2008,month:6,count:1160,rate:5.7,date:"2008-06-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2008,month:7,count:1329,rate:6.5,date:"2008-07-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2008,month:8,count:1366,rate:6.6,date:"2008-08-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2008,month:9,count:1277,rate:6.2,date:"2008-09-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2008,month:10,count:1313,rate:6.3,date:"2008-10-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2008,month:11,count:1397,rate:6.7,date:"2008-11-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2008,month:12,count:1535,rate:7.2,date:"2008-12-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2009,month:1,count:1794,rate:8.7,date:"2009-01-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2009,month:2,count:1847,rate:8.9,date:"2009-02-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2009,month:3,count:1852,rate:9,date:"2009-03-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2009,month:4,count:1833,rate:9,date:"2009-04-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2009,month:5,count:1835,rate:9,date:"2009-05-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2009,month:6,count:1863,rate:9.1,date:"2009-06-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2009,month:7,count:1854,rate:9,date:"2009-07-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2009,month:8,count:1794,rate:8.8,date:"2009-08-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2009,month:9,count:1809,rate:9,date:"2009-09-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2009,month:10,count:1919,rate:9.6,date:"2009-10-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2009,month:11,count:1879,rate:9.2,date:"2009-11-01T07:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2009,month:12,count:1851,rate:9.1,date:"2009-12-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2010,month:1,count:2154,rate:10.5,date:"2010-01-01T08:00:00.000Z"},{series:"Wholesale and Retail Trade",year:2010,month:2,count:2071,rate:10,date:"2010-02-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2e3,month:1,count:236,rate:4.3,date:"2000-01-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2e3,month:2,count:223,rate:4,date:"2000-02-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2e3,month:3,count:192,rate:3.5,date:"2000-03-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2e3,month:4,count:191,rate:3.4,date:"2000-04-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2e3,month:5,count:190,rate:3.4,date:"2000-05-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2e3,month:6,count:183,rate:3.2,date:"2000-06-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2e3,month:7,count:228,rate:3.9,date:"2000-07-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2e3,month:8,count:198,rate:3.4,date:"2000-08-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2e3,month:9,count:231,rate:4,date:"2000-09-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2e3,month:10,count:153,rate:2.8,date:"2000-10-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2e3,month:11,count:129,rate:2.3,date:"2000-11-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2e3,month:12,count:168,rate:3.1,date:"2000-12-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2001,month:1,count:194,rate:3.6,date:"2001-01-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2001,month:2,count:189,rate:3.4,date:"2001-02-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2001,month:3,count:193,rate:3.5,date:"2001-03-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2001,month:4,count:232,rate:4.2,date:"2001-04-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2001,month:5,count:178,rate:3.1,date:"2001-05-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2001,month:6,count:242,rate:4.3,date:"2001-06-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2001,month:7,count:236,rate:4.2,date:"2001-07-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2001,month:8,count:226,rate:3.9,date:"2001-08-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2001,month:9,count:214,rate:3.9,date:"2001-09-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2001,month:10,count:321,rate:5.8,date:"2001-10-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2001,month:11,count:302,rate:5.4,date:"2001-11-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2001,month:12,count:310,rate:5.6,date:"2001-12-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2002,month:1,count:368,rate:6.6,date:"2002-01-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2002,month:2,count:331,rate:5.7,date:"2002-02-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2002,month:3,count:313,rate:5.6,date:"2002-03-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2002,month:4,count:280,rate:5,date:"2002-04-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2002,month:5,count:257,rate:4.5,date:"2002-05-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2002,month:6,count:274,rate:4.9,date:"2002-06-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2002,month:7,count:270,rate:4.9,date:"2002-07-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2002,month:8,count:221,rate:3.9,date:"2002-08-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2002,month:9,count:235,rate:4.2,date:"2002-09-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2002,month:10,count:262,rate:4.7,date:"2002-10-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2002,month:11,count:233,rate:4.2,date:"2002-11-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2002,month:12,count:243,rate:4.6,date:"2002-12-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2003,month:1,count:331,rate:6.3,date:"2003-01-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2003,month:2,count:316,rate:5.8,date:"2003-02-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2003,month:3,count:319,rate:5.9,date:"2003-03-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2003,month:4,count:274,rate:5,date:"2003-04-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2003,month:5,count:260,rate:4.9,date:"2003-05-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2003,month:6,count:300,rate:5.5,date:"2003-06-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2003,month:7,count:289,rate:5.4,date:"2003-07-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2003,month:8,count:255,rate:4.8,date:"2003-08-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2003,month:9,count:255,rate:4.7,date:"2003-09-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2003,month:10,count:260,rate:4.8,date:"2003-10-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2003,month:11,count:275,rate:5.1,date:"2003-11-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2003,month:12,count:267,rate:5,date:"2003-12-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2004,month:1,count:243,rate:4.6,date:"2004-01-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2004,month:2,count:291,rate:5.5,date:"2004-02-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2004,month:3,count:284,rate:5.4,date:"2004-03-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2004,month:4,count:239,rate:4.5,date:"2004-04-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2004,month:5,count:230,rate:4.4,date:"2004-05-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2004,month:6,count:227,rate:4.3,date:"2004-06-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2004,month:7,count:231,rate:4.3,date:"2004-07-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2004,month:8,count:236,rate:4.4,date:"2004-08-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2004,month:9,count:208,rate:3.9,date:"2004-09-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2004,month:10,count:219,rate:4,date:"2004-10-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2004,month:11,count:217,rate:4,date:"2004-11-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2004,month:12,count:204,rate:3.8,date:"2004-12-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2005,month:1,count:276,rate:5,date:"2005-01-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2005,month:2,count:245,rate:4.4,date:"2005-02-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2005,month:3,count:267,rate:4.8,date:"2005-03-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2005,month:4,count:257,rate:4.7,date:"2005-04-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2005,month:5,count:223,rate:4.1,date:"2005-05-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2005,month:6,count:247,rate:4.5,date:"2005-06-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2005,month:7,count:222,rate:3.9,date:"2005-07-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2005,month:8,count:187,rate:3.3,date:"2005-08-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2005,month:9,count:211,rate:3.7,date:"2005-09-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2005,month:10,count:251,rate:4.4,date:"2005-10-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2005,month:11,count:199,rate:3.5,date:"2005-11-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2005,month:12,count:202,rate:3.6,date:"2005-12-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2006,month:1,count:287,rate:5,date:"2006-01-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2006,month:2,count:260,rate:4.6,date:"2006-02-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2006,month:3,count:263,rate:4.7,date:"2006-03-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2006,month:4,count:272,rate:4.8,date:"2006-04-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2006,month:5,count:226,rate:4,date:"2006-05-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2006,month:6,count:225,rate:3.9,date:"2006-06-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2006,month:7,count:237,rate:4.2,date:"2006-07-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2006,month:8,count:217,rate:3.7,date:"2006-08-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2006,month:9,count:183,rate:3.1,date:"2006-09-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2006,month:10,count:206,rate:3.6,date:"2006-10-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2006,month:11,count:183,rate:3.1,date:"2006-11-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2006,month:12,count:190,rate:3.2,date:"2006-12-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2007,month:1,count:248,rate:4.2,date:"2007-01-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2007,month:2,count:251,rate:4.2,date:"2007-02-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2007,month:3,count:249,rate:4.3,date:"2007-03-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2007,month:4,count:188,rate:3.3,date:"2007-04-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2007,month:5,count:216,rate:3.8,date:"2007-05-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2007,month:6,count:242,rate:4.1,date:"2007-06-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2007,month:7,count:309,rate:5.1,date:"2007-07-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2007,month:8,count:205,rate:3.4,date:"2007-08-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2007,month:9,count:224,rate:3.7,date:"2007-09-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2007,month:10,count:218,rate:3.6,date:"2007-10-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2007,month:11,count:242,rate:3.9,date:"2007-11-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2007,month:12,count:210,rate:3.4,date:"2007-12-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2008,month:1,count:271,rate:4.4,date:"2008-01-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2008,month:2,count:289,rate:4.6,date:"2008-02-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2008,month:3,count:267,rate:4.3,date:"2008-03-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2008,month:4,count:245,rate:4,date:"2008-04-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2008,month:5,count:269,rate:4.3,date:"2008-05-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2008,month:6,count:329,rate:5.1,date:"2008-06-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2008,month:7,count:359,rate:5.7,date:"2008-07-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2008,month:8,count:309,rate:5.2,date:"2008-08-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2008,month:9,count:337,rate:5.8,date:"2008-09-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2008,month:10,count:316,rate:5.7,date:"2008-10-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2008,month:11,count:331,rate:5.8,date:"2008-11-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2008,month:12,count:421,rate:6.7,date:"2008-12-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2009,month:1,count:522,rate:8.4,date:"2009-01-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2009,month:2,count:563,rate:9.1,date:"2009-02-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2009,month:3,count:558,rate:9,date:"2009-03-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2009,month:4,count:541,rate:9,date:"2009-04-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2009,month:5,count:506,rate:8.5,date:"2009-05-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2009,month:6,count:499,rate:8.4,date:"2009-06-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2009,month:7,count:511,rate:8.8,date:"2009-07-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2009,month:8,count:547,rate:9.8,date:"2009-08-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2009,month:9,count:538,rate:9.5,date:"2009-09-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2009,month:10,count:480,rate:8.6,date:"2009-10-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2009,month:11,count:493,rate:8.5,date:"2009-11-01T07:00:00.000Z"},{series:"Transportation and Utilities",year:2009,month:12,count:539,rate:9,date:"2009-12-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2010,month:1,count:657,rate:11.3,date:"2010-01-01T08:00:00.000Z"},{series:"Transportation and Utilities",year:2010,month:2,count:591,rate:10.5,date:"2010-02-01T08:00:00.000Z"},{series:"Information",year:2e3,month:1,count:125,rate:3.4,date:"2000-01-01T08:00:00.000Z"},{series:"Information",year:2e3,month:2,count:112,rate:2.9,date:"2000-02-01T08:00:00.000Z"},{series:"Information",year:2e3,month:3,count:140,rate:3.6,date:"2000-03-01T08:00:00.000Z"},{series:"Information",year:2e3,month:4,count:95,rate:2.4,date:"2000-04-01T08:00:00.000Z"},{series:"Information",year:2e3,month:5,count:131,rate:3.5,date:"2000-05-01T07:00:00.000Z"},{series:"Information",year:2e3,month:6,count:102,rate:2.6,date:"2000-06-01T07:00:00.000Z"},{series:"Information",year:2e3,month:7,count:144,rate:3.6,date:"2000-07-01T07:00:00.000Z"},{series:"Information",year:2e3,month:8,count:143,rate:3.7,date:"2000-08-01T07:00:00.000Z"},{series:"Information",year:2e3,month:9,count:130,rate:3.3,date:"2000-09-01T07:00:00.000Z"},{series:"Information",year:2e3,month:10,count:96,rate:2.4,date:"2000-10-01T07:00:00.000Z"},{series:"Information",year:2e3,month:11,count:117,rate:3,date:"2000-11-01T08:00:00.000Z"},{series:"Information",year:2e3,month:12,count:151,rate:4,date:"2000-12-01T08:00:00.000Z"},{series:"Information",year:2001,month:1,count:161,rate:4.1,date:"2001-01-01T08:00:00.000Z"},{series:"Information",year:2001,month:2,count:109,rate:2.9,date:"2001-02-01T08:00:00.000Z"},{series:"Information",year:2001,month:3,count:148,rate:3.8,date:"2001-03-01T08:00:00.000Z"},{series:"Information",year:2001,month:4,count:148,rate:3.7,date:"2001-04-01T08:00:00.000Z"},{series:"Information",year:2001,month:5,count:164,rate:4.2,date:"2001-05-01T07:00:00.000Z"},{series:"Information",year:2001,month:6,count:163,rate:4.1,date:"2001-06-01T07:00:00.000Z"},{series:"Information",year:2001,month:7,count:206,rate:5.2,date:"2001-07-01T07:00:00.000Z"},{series:"Information",year:2001,month:8,count:210,rate:5.4,date:"2001-08-01T07:00:00.000Z"},{series:"Information",year:2001,month:9,count:219,rate:5.6,date:"2001-09-01T07:00:00.000Z"},{series:"Information",year:2001,month:10,count:233,rate:6,date:"2001-10-01T07:00:00.000Z"},{series:"Information",year:2001,month:11,count:241,rate:6.2,date:"2001-11-01T08:00:00.000Z"},{series:"Information",year:2001,month:12,count:275,rate:7.4,date:"2001-12-01T08:00:00.000Z"},{series:"Information",year:2002,month:1,count:263,rate:7.1,date:"2002-01-01T08:00:00.000Z"},{series:"Information",year:2002,month:2,count:279,rate:7.6,date:"2002-02-01T08:00:00.000Z"},{series:"Information",year:2002,month:3,count:266,rate:7.2,date:"2002-03-01T08:00:00.000Z"},{series:"Information",year:2002,month:4,count:257,rate:6.9,date:"2002-04-01T08:00:00.000Z"},{series:"Information",year:2002,month:5,count:260,rate:7.2,date:"2002-05-01T07:00:00.000Z"},{series:"Information",year:2002,month:6,count:255,rate:6.9,date:"2002-06-01T07:00:00.000Z"},{series:"Information",year:2002,month:7,count:264,rate:7.1,date:"2002-07-01T07:00:00.000Z"},{series:"Information",year:2002,month:8,count:270,rate:7.1,date:"2002-08-01T07:00:00.000Z"},{series:"Information",year:2002,month:9,count:231,rate:6.3,date:"2002-09-01T07:00:00.000Z"},{series:"Information",year:2002,month:10,count:211,rate:6,date:"2002-10-01T07:00:00.000Z"},{series:"Information",year:2002,month:11,count:220,rate:6.5,date:"2002-11-01T08:00:00.000Z"},{series:"Information",year:2002,month:12,count:255,rate:7.2,date:"2002-12-01T08:00:00.000Z"},{series:"Information",year:2003,month:1,count:243,rate:6.7,date:"2003-01-01T08:00:00.000Z"},{series:"Information",year:2003,month:2,count:321,rate:8.6,date:"2003-02-01T08:00:00.000Z"},{series:"Information",year:2003,month:3,count:267,rate:7.4,date:"2003-03-01T08:00:00.000Z"},{series:"Information",year:2003,month:4,count:268,rate:7.3,date:"2003-04-01T08:00:00.000Z"},{series:"Information",year:2003,month:5,count:251,rate:6.9,date:"2003-05-01T07:00:00.000Z"},{series:"Information",year:2003,month:6,count:239,rate:6.4,date:"2003-06-01T07:00:00.000Z"},{series:"Information",year:2003,month:7,count:224,rate:5.9,date:"2003-07-01T07:00:00.000Z"},{series:"Information",year:2003,month:8,count:224,rate:6.1,date:"2003-08-01T07:00:00.000Z"},{series:"Information",year:2003,month:9,count:248,rate:7,date:"2003-09-01T07:00:00.000Z"},{series:"Information",year:2003,month:10,count:182,rate:5.4,date:"2003-10-01T07:00:00.000Z"},{series:"Information",year:2003,month:11,count:257,rate:7.6,date:"2003-11-01T08:00:00.000Z"},{series:"Information",year:2003,month:12,count:224,rate:6.5,date:"2003-12-01T08:00:00.000Z"},{series:"Information",year:2004,month:1,count:236,rate:7,date:"2004-01-01T08:00:00.000Z"},{series:"Information",year:2004,month:2,count:194,rate:5.8,date:"2004-02-01T08:00:00.000Z"},{series:"Information",year:2004,month:3,count:216,rate:6.3,date:"2004-03-01T08:00:00.000Z"},{series:"Information",year:2004,month:4,count:168,rate:5,date:"2004-04-01T08:00:00.000Z"},{series:"Information",year:2004,month:5,count:190,rate:5.7,date:"2004-05-01T07:00:00.000Z"},{series:"Information",year:2004,month:6,count:172,rate:5,date:"2004-06-01T07:00:00.000Z"},{series:"Information",year:2004,month:7,count:174,rate:5.2,date:"2004-07-01T07:00:00.000Z"},{series:"Information",year:2004,month:8,count:191,rate:5.7,date:"2004-08-01T07:00:00.000Z"},{series:"Information",year:2004,month:9,count:178,rate:5.4,date:"2004-09-01T07:00:00.000Z"},{series:"Information",year:2004,month:10,count:185,rate:5.6,date:"2004-10-01T07:00:00.000Z"},{series:"Information",year:2004,month:11,count:187,rate:5.6,date:"2004-11-01T08:00:00.000Z"},{series:"Information",year:2004,month:12,count:173,rate:5.7,date:"2004-12-01T08:00:00.000Z"},{series:"Information",year:2005,month:1,count:168,rate:5.4,date:"2005-01-01T08:00:00.000Z"},{series:"Information",year:2005,month:2,count:204,rate:6.5,date:"2005-02-01T08:00:00.000Z"},{series:"Information",year:2005,month:3,count:177,rate:6,date:"2005-03-01T08:00:00.000Z"},{series:"Information",year:2005,month:4,count:178,rate:5.9,date:"2005-04-01T08:00:00.000Z"},{series:"Information",year:2005,month:5,count:145,rate:4.7,date:"2005-05-01T07:00:00.000Z"},{series:"Information",year:2005,month:6,count:160,rate:5,date:"2005-06-01T07:00:00.000Z"},{series:"Information",year:2005,month:7,count:142,rate:4.2,date:"2005-07-01T07:00:00.000Z"},{series:"Information",year:2005,month:8,count:156,rate:4.6,date:"2005-08-01T07:00:00.000Z"},{series:"Information",year:2005,month:9,count:168,rate:4.9,date:"2005-09-01T07:00:00.000Z"},{series:"Information",year:2005,month:10,count:162,rate:4.8,date:"2005-10-01T07:00:00.000Z"},{series:"Information",year:2005,month:11,count:172,rate:5.1,date:"2005-11-01T08:00:00.000Z"},{series:"Information",year:2005,month:12,count:128,rate:3.7,date:"2005-12-01T08:00:00.000Z"},{series:"Information",year:2006,month:1,count:105,rate:3.3,date:"2006-01-01T08:00:00.000Z"},{series:"Information",year:2006,month:2,count:119,rate:3.7,date:"2006-02-01T08:00:00.000Z"},{series:"Information",year:2006,month:3,count:116,rate:3.5,date:"2006-03-01T08:00:00.000Z"},{series:"Information",year:2006,month:4,count:132,rate:4.2,date:"2006-04-01T08:00:00.000Z"},{series:"Information",year:2006,month:5,count:158,rate:4.8,date:"2006-05-01T07:00:00.000Z"},{series:"Information",year:2006,month:6,count:114,rate:3.4,date:"2006-06-01T07:00:00.000Z"},{series:"Information",year:2006,month:7,count:103,rate:3,date:"2006-07-01T07:00:00.000Z"},{series:"Information",year:2006,month:8,count:132,rate:3.9,date:"2006-08-01T07:00:00.000Z"},{series:"Information",year:2006,month:9,count:170,rate:4.9,date:"2006-09-01T07:00:00.000Z"},{series:"Information",year:2006,month:10,count:116,rate:3.4,date:"2006-10-01T07:00:00.000Z"},{series:"Information",year:2006,month:11,count:137,rate:3.9,date:"2006-11-01T08:00:00.000Z"},{series:"Information",year:2006,month:12,count:108,rate:2.9,date:"2006-12-01T08:00:00.000Z"},{series:"Information",year:2007,month:1,count:143,rate:4,date:"2007-01-01T08:00:00.000Z"},{series:"Information",year:2007,month:2,count:139,rate:4,date:"2007-02-01T08:00:00.000Z"},{series:"Information",year:2007,month:3,count:109,rate:3.2,date:"2007-03-01T08:00:00.000Z"},{series:"Information",year:2007,month:4,count:77,rate:2.4,date:"2007-04-01T07:00:00.000Z"},{series:"Information",year:2007,month:5,count:110,rate:3.3,date:"2007-05-01T07:00:00.000Z"},{series:"Information",year:2007,month:6,count:114,rate:3.4,date:"2007-06-01T07:00:00.000Z"},{series:"Information",year:2007,month:7,count:112,rate:3.4,date:"2007-07-01T07:00:00.000Z"},{series:"Information",year:2007,month:8,count:140,rate:4.1,date:"2007-08-01T07:00:00.000Z"},{series:"Information",year:2007,month:9,count:124,rate:3.7,date:"2007-09-01T07:00:00.000Z"},{series:"Information",year:2007,month:10,count:120,rate:3.7,date:"2007-10-01T07:00:00.000Z"},{series:"Information",year:2007,month:11,count:132,rate:4,date:"2007-11-01T07:00:00.000Z"},{series:"Information",year:2007,month:12,count:125,rate:3.7,date:"2007-12-01T08:00:00.000Z"},{series:"Information",year:2008,month:1,count:169,rate:5.1,date:"2008-01-01T08:00:00.000Z"},{series:"Information",year:2008,month:2,count:193,rate:5.8,date:"2008-02-01T08:00:00.000Z"},{series:"Information",year:2008,month:3,count:155,rate:4.8,date:"2008-03-01T08:00:00.000Z"},{series:"Information",year:2008,month:4,count:143,rate:4.4,date:"2008-04-01T07:00:00.000Z"},{series:"Information",year:2008,month:5,count:170,rate:5,date:"2008-05-01T07:00:00.000Z"},{series:"Information",year:2008,month:6,count:157,rate:4.7,date:"2008-06-01T07:00:00.000Z"},{series:"Information",year:2008,month:7,count:141,rate:4.1,date:"2008-07-01T07:00:00.000Z"},{series:"Information",year:2008,month:8,count:144,rate:4.2,date:"2008-08-01T07:00:00.000Z"},{series:"Information",year:2008,month:9,count:166,rate:5,date:"2008-09-01T07:00:00.000Z"},{series:"Information",year:2008,month:10,count:168,rate:5,date:"2008-10-01T07:00:00.000Z"},{series:"Information",year:2008,month:11,count:173,rate:5.2,date:"2008-11-01T07:00:00.000Z"},{series:"Information",year:2008,month:12,count:219,rate:6.9,date:"2008-12-01T08:00:00.000Z"},{series:"Information",year:2009,month:1,count:232,rate:7.4,date:"2009-01-01T08:00:00.000Z"},{series:"Information",year:2009,month:2,count:224,rate:7.1,date:"2009-02-01T08:00:00.000Z"},{series:"Information",year:2009,month:3,count:252,rate:7.8,date:"2009-03-01T08:00:00.000Z"},{series:"Information",year:2009,month:4,count:320,rate:10.1,date:"2009-04-01T07:00:00.000Z"},{series:"Information",year:2009,month:5,count:303,rate:9.5,date:"2009-05-01T07:00:00.000Z"},{series:"Information",year:2009,month:6,count:347,rate:11.1,date:"2009-06-01T07:00:00.000Z"},{series:"Information",year:2009,month:7,count:373,rate:11.5,date:"2009-07-01T07:00:00.000Z"},{series:"Information",year:2009,month:8,count:358,rate:10.7,date:"2009-08-01T07:00:00.000Z"},{series:"Information",year:2009,month:9,count:362,rate:11.2,date:"2009-09-01T07:00:00.000Z"},{series:"Information",year:2009,month:10,count:261,rate:8.2,date:"2009-10-01T07:00:00.000Z"},{series:"Information",year:2009,month:11,count:243,rate:7.6,date:"2009-11-01T07:00:00.000Z"},{series:"Information",year:2009,month:12,count:256,rate:8.5,date:"2009-12-01T08:00:00.000Z"},{series:"Information",year:2010,month:1,count:313,rate:10,date:"2010-01-01T08:00:00.000Z"},{series:"Information",year:2010,month:2,count:300,rate:10,date:"2010-02-01T08:00:00.000Z"},{series:"Finance",year:2e3,month:1,count:228,rate:2.7,date:"2000-01-01T08:00:00.000Z"},{series:"Finance",year:2e3,month:2,count:240,rate:2.8,date:"2000-02-01T08:00:00.000Z"},{series:"Finance",year:2e3,month:3,count:226,rate:2.6,date:"2000-03-01T08:00:00.000Z"},{series:"Finance",year:2e3,month:4,count:197,rate:2.3,date:"2000-04-01T08:00:00.000Z"},{series:"Finance",year:2e3,month:5,count:195,rate:2.2,date:"2000-05-01T07:00:00.000Z"},{series:"Finance",year:2e3,month:6,count:216,rate:2.5,date:"2000-06-01T07:00:00.000Z"},{series:"Finance",year:2e3,month:7,count:190,rate:2.2,date:"2000-07-01T07:00:00.000Z"},{series:"Finance",year:2e3,month:8,count:213,rate:2.5,date:"2000-08-01T07:00:00.000Z"},{series:"Finance",year:2e3,month:9,count:187,rate:2.2,date:"2000-09-01T07:00:00.000Z"},{series:"Finance",year:2e3,month:10,count:224,rate:2.6,date:"2000-10-01T07:00:00.000Z"},{series:"Finance",year:2e3,month:11,count:184,rate:2.1,date:"2000-11-01T08:00:00.000Z"},{series:"Finance",year:2e3,month:12,count:200,rate:2.3,date:"2000-12-01T08:00:00.000Z"},{series:"Finance",year:2001,month:1,count:232,rate:2.6,date:"2001-01-01T08:00:00.000Z"},{series:"Finance",year:2001,month:2,count:235,rate:2.6,date:"2001-02-01T08:00:00.000Z"},{series:"Finance",year:2001,month:3,count:211,rate:2.4,date:"2001-03-01T08:00:00.000Z"},{series:"Finance",year:2001,month:4,count:232,rate:2.6,date:"2001-04-01T08:00:00.000Z"},{series:"Finance",year:2001,month:5,count:191,rate:2.2,date:"2001-05-01T07:00:00.000Z"},{series:"Finance",year:2001,month:6,count:249,rate:2.8,date:"2001-06-01T07:00:00.000Z"},{series:"Finance",year:2001,month:7,count:289,rate:3.3,date:"2001-07-01T07:00:00.000Z"},{series:"Finance",year:2001,month:8,count:256,rate:2.9,date:"2001-08-01T07:00:00.000Z"},{series:"Finance",year:2001,month:9,count:268,rate:3.1,date:"2001-09-01T07:00:00.000Z"},{series:"Finance",year:2001,month:10,count:281,rate:3.3,date:"2001-10-01T07:00:00.000Z"},{series:"Finance",year:2001,month:11,count:320,rate:3.6,date:"2001-11-01T08:00:00.000Z"},{series:"Finance",year:2001,month:12,count:258,rate:3,date:"2001-12-01T08:00:00.000Z"},{series:"Finance",year:2002,month:1,count:267,rate:3,date:"2002-01-01T08:00:00.000Z"},{series:"Finance",year:2002,month:2,count:318,rate:3.5,date:"2002-02-01T08:00:00.000Z"},{series:"Finance",year:2002,month:3,count:287,rate:3.2,date:"2002-03-01T08:00:00.000Z"},{series:"Finance",year:2002,month:4,count:292,rate:3.3,date:"2002-04-01T08:00:00.000Z"},{series:"Finance",year:2002,month:5,count:340,rate:3.8,date:"2002-05-01T07:00:00.000Z"},{series:"Finance",year:2002,month:6,count:373,rate:4.1,date:"2002-06-01T07:00:00.000Z"},{series:"Finance",year:2002,month:7,count:345,rate:3.8,date:"2002-07-01T07:00:00.000Z"},{series:"Finance",year:2002,month:8,count:343,rate:3.8,date:"2002-08-01T07:00:00.000Z"},{series:"Finance",year:2002,month:9,count:299,rate:3.3,date:"2002-09-01T07:00:00.000Z"},{series:"Finance",year:2002,month:10,count:312,rate:3.5,date:"2002-10-01T07:00:00.000Z"},{series:"Finance",year:2002,month:11,count:337,rate:3.7,date:"2002-11-01T08:00:00.000Z"},{series:"Finance",year:2002,month:12,count:322,rate:3.6,date:"2002-12-01T08:00:00.000Z"},{series:"Finance",year:2003,month:1,count:327,rate:3.6,date:"2003-01-01T08:00:00.000Z"},{series:"Finance",year:2003,month:2,count:310,rate:3.4,date:"2003-02-01T08:00:00.000Z"},{series:"Finance",year:2003,month:3,count:357,rate:4,date:"2003-03-01T08:00:00.000Z"},{series:"Finance",year:2003,month:4,count:323,rate:3.6,date:"2003-04-01T08:00:00.000Z"},{series:"Finance",year:2003,month:5,count:320,rate:3.6,date:"2003-05-01T07:00:00.000Z"},{series:"Finance",year:2003,month:6,count:358,rate:4,date:"2003-06-01T07:00:00.000Z"},{series:"Finance",year:2003,month:7,count:284,rate:3.1,date:"2003-07-01T07:00:00.000Z"},{series:"Finance",year:2003,month:8,count:342,rate:3.7,date:"2003-08-01T07:00:00.000Z"},{series:"Finance",year:2003,month:9,count:305,rate:3.3,date:"2003-09-01T07:00:00.000Z"},{series:"Finance",year:2003,month:10,count:303,rate:3.3,date:"2003-10-01T07:00:00.000Z"},{series:"Finance",year:2003,month:11,count:311,rate:3.3,date:"2003-11-01T08:00:00.000Z"},{series:"Finance",year:2003,month:12,count:283,rate:3,date:"2003-12-01T08:00:00.000Z"},{series:"Finance",year:2004,month:1,count:403,rate:4.3,date:"2004-01-01T08:00:00.000Z"},{series:"Finance",year:2004,month:2,count:363,rate:3.8,date:"2004-02-01T08:00:00.000Z"},{series:"Finance",year:2004,month:3,count:343,rate:3.7,date:"2004-03-01T08:00:00.000Z"},{series:"Finance",year:2004,month:4,count:312,rate:3.4,date:"2004-04-01T08:00:00.000Z"},{series:"Finance",year:2004,month:5,count:302,rate:3.3,date:"2004-05-01T07:00:00.000Z"},{series:"Finance",year:2004,month:6,count:335,rate:3.6,date:"2004-06-01T07:00:00.000Z"},{series:"Finance",year:2004,month:7,count:307,rate:3.3,date:"2004-07-01T07:00:00.000Z"},{series:"Finance",year:2004,month:8,count:312,rate:3.4,date:"2004-08-01T07:00:00.000Z"},{series:"Finance",year:2004,month:9,count:374,rate:4,date:"2004-09-01T07:00:00.000Z"},{series:"Finance",year:2004,month:10,count:358,rate:3.8,date:"2004-10-01T07:00:00.000Z"},{series:"Finance",year:2004,month:11,count:290,rate:3.1,date:"2004-11-01T08:00:00.000Z"},{series:"Finance",year:2004,month:12,count:290,rate:3.1,date:"2004-12-01T08:00:00.000Z"},{series:"Finance",year:2005,month:1,count:252,rate:2.7,date:"2005-01-01T08:00:00.000Z"},{series:"Finance",year:2005,month:2,count:301,rate:3.2,date:"2005-02-01T08:00:00.000Z"},{series:"Finance",year:2005,month:3,count:261,rate:2.7,date:"2005-03-01T08:00:00.000Z"},{series:"Finance",year:2005,month:4,count:255,rate:2.7,date:"2005-04-01T08:00:00.000Z"},{series:"Finance",year:2005,month:5,count:288,rate:3.1,date:"2005-05-01T07:00:00.000Z"},{series:"Finance",year:2005,month:6,count:307,rate:3.3,date:"2005-06-01T07:00:00.000Z"},{series:"Finance",year:2005,month:7,count:309,rate:3.3,date:"2005-07-01T07:00:00.000Z"},{series:"Finance",year:2005,month:8,count:300,rate:3.2,date:"2005-08-01T07:00:00.000Z"},{series:"Finance",year:2005,month:9,count:260,rate:2.7,date:"2005-09-01T07:00:00.000Z"},{series:"Finance",year:2005,month:10,count:255,rate:2.7,date:"2005-10-01T07:00:00.000Z"},{series:"Finance",year:2005,month:11,count:268,rate:2.8,date:"2005-11-01T08:00:00.000Z"},{series:"Finance",year:2005,month:12,count:204,rate:2.1,date:"2005-12-01T08:00:00.000Z"},{series:"Finance",year:2006,month:1,count:233,rate:2.4,date:"2006-01-01T08:00:00.000Z"},{series:"Finance",year:2006,month:2,count:268,rate:2.8,date:"2006-02-01T08:00:00.000Z"},{series:"Finance",year:2006,month:3,count:298,rate:3.1,date:"2006-03-01T08:00:00.000Z"},{series:"Finance",year:2006,month:4,count:293,rate:3.1,date:"2006-04-01T08:00:00.000Z"},{series:"Finance",year:2006,month:5,count:289,rate:3,date:"2006-05-01T07:00:00.000Z"},{series:"Finance",year:2006,month:6,count:299,rate:3.1,date:"2006-06-01T07:00:00.000Z"},{series:"Finance",year:2006,month:7,count:329,rate:3.4,date:"2006-07-01T07:00:00.000Z"},{series:"Finance",year:2006,month:8,count:263,rate:2.7,date:"2006-08-01T07:00:00.000Z"},{series:"Finance",year:2006,month:9,count:235,rate:2.4,date:"2006-09-01T07:00:00.000Z"},{series:"Finance",year:2006,month:10,count:211,rate:2.1,date:"2006-10-01T07:00:00.000Z"},{series:"Finance",year:2006,month:11,count:229,rate:2.3,date:"2006-11-01T08:00:00.000Z"},{series:"Finance",year:2006,month:12,count:227,rate:2.3,date:"2006-12-01T08:00:00.000Z"},{series:"Finance",year:2007,month:1,count:233,rate:2.4,date:"2007-01-01T08:00:00.000Z"},{series:"Finance",year:2007,month:2,count:295,rate:3.1,date:"2007-02-01T08:00:00.000Z"},{series:"Finance",year:2007,month:3,count:252,rate:2.6,date:"2007-03-01T08:00:00.000Z"},{series:"Finance",year:2007,month:4,count:231,rate:2.4,date:"2007-04-01T07:00:00.000Z"},{series:"Finance",year:2007,month:5,count:281,rate:2.9,date:"2007-05-01T07:00:00.000Z"},{series:"Finance",year:2007,month:6,count:303,rate:3.1,date:"2007-06-01T07:00:00.000Z"},{series:"Finance",year:2007,month:7,count:307,rate:3.1,date:"2007-07-01T07:00:00.000Z"},{series:"Finance",year:2007,month:8,count:371,rate:3.7,date:"2007-08-01T07:00:00.000Z"},{series:"Finance",year:2007,month:9,count:316,rate:3.3,date:"2007-09-01T07:00:00.000Z"},{series:"Finance",year:2007,month:10,count:307,rate:3.2,date:"2007-10-01T07:00:00.000Z"},{series:"Finance",year:2007,month:11,count:261,rate:2.7,date:"2007-11-01T07:00:00.000Z"},{series:"Finance",year:2007,month:12,count:315,rate:3.2,date:"2007-12-01T08:00:00.000Z"},{series:"Finance",year:2008,month:1,count:285,rate:3,date:"2008-01-01T08:00:00.000Z"},{series:"Finance",year:2008,month:2,count:323,rate:3.4,date:"2008-02-01T08:00:00.000Z"},{series:"Finance",year:2008,month:3,count:323,rate:3.4,date:"2008-03-01T08:00:00.000Z"},{series:"Finance",year:2008,month:4,count:324,rate:3.4,date:"2008-04-01T07:00:00.000Z"},{series:"Finance",year:2008,month:5,count:361,rate:3.7,date:"2008-05-01T07:00:00.000Z"},{series:"Finance",year:2008,month:6,count:337,rate:3.4,date:"2008-06-01T07:00:00.000Z"},{series:"Finance",year:2008,month:7,count:350,rate:3.6,date:"2008-07-01T07:00:00.000Z"},{series:"Finance",year:2008,month:8,count:409,rate:4.2,date:"2008-08-01T07:00:00.000Z"},{series:"Finance",year:2008,month:9,count:380,rate:4,date:"2008-09-01T07:00:00.000Z"},{series:"Finance",year:2008,month:10,count:434,rate:4.5,date:"2008-10-01T07:00:00.000Z"},{series:"Finance",year:2008,month:11,count:494,rate:5.2,date:"2008-11-01T07:00:00.000Z"},{series:"Finance",year:2008,month:12,count:540,rate:5.6,date:"2008-12-01T08:00:00.000Z"},{series:"Finance",year:2009,month:1,count:571,rate:6,date:"2009-01-01T08:00:00.000Z"},{series:"Finance",year:2009,month:2,count:637,rate:6.7,date:"2009-02-01T08:00:00.000Z"},{series:"Finance",year:2009,month:3,count:639,rate:6.8,date:"2009-03-01T08:00:00.000Z"},{series:"Finance",year:2009,month:4,count:561,rate:6,date:"2009-04-01T07:00:00.000Z"},{series:"Finance",year:2009,month:5,count:536,rate:5.7,date:"2009-05-01T07:00:00.000Z"},{series:"Finance",year:2009,month:6,count:513,rate:5.5,date:"2009-06-01T07:00:00.000Z"},{series:"Finance",year:2009,month:7,count:570,rate:6.1,date:"2009-07-01T07:00:00.000Z"},{series:"Finance",year:2009,month:8,count:566,rate:6,date:"2009-08-01T07:00:00.000Z"},{series:"Finance",year:2009,month:9,count:657,rate:7.1,date:"2009-09-01T07:00:00.000Z"},{series:"Finance",year:2009,month:10,count:646,rate:7,date:"2009-10-01T07:00:00.000Z"},{series:"Finance",year:2009,month:11,count:619,rate:6.7,date:"2009-11-01T07:00:00.000Z"},{series:"Finance",year:2009,month:12,count:665,rate:7.2,date:"2009-12-01T08:00:00.000Z"},{series:"Finance",year:2010,month:1,count:623,rate:6.6,date:"2010-01-01T08:00:00.000Z"},{series:"Finance",year:2010,month:2,count:708,rate:7.5,date:"2010-02-01T08:00:00.000Z"},{series:"Business services",year:2e3,month:1,count:655,rate:5.7,date:"2000-01-01T08:00:00.000Z"},{series:"Business services",year:2e3,month:2,count:587,rate:5.2,date:"2000-02-01T08:00:00.000Z"},{series:"Business services",year:2e3,month:3,count:623,rate:5.4,date:"2000-03-01T08:00:00.000Z"},{series:"Business services",year:2e3,month:4,count:517,rate:4.5,date:"2000-04-01T08:00:00.000Z"},{series:"Business services",year:2e3,month:5,count:561,rate:4.7,date:"2000-05-01T07:00:00.000Z"},{series:"Business services",year:2e3,month:6,count:545,rate:4.4,date:"2000-06-01T07:00:00.000Z"},{series:"Business services",year:2e3,month:7,count:636,rate:5.1,date:"2000-07-01T07:00:00.000Z"},{series:"Business services",year:2e3,month:8,count:584,rate:4.8,date:"2000-08-01T07:00:00.000Z"},{series:"Business services",year:2e3,month:9,count:559,rate:4.6,date:"2000-09-01T07:00:00.000Z"},{series:"Business services",year:2e3,month:10,count:504,rate:4.1,date:"2000-10-01T07:00:00.000Z"},{series:"Business services",year:2e3,month:11,count:547,rate:4.4,date:"2000-11-01T08:00:00.000Z"},{series:"Business services",year:2e3,month:12,count:564,rate:4.5,date:"2000-12-01T08:00:00.000Z"},{series:"Business services",year:2001,month:1,count:734,rate:5.8,date:"2001-01-01T08:00:00.000Z"},{series:"Business services",year:2001,month:2,count:724,rate:5.9,date:"2001-02-01T08:00:00.000Z"},{series:"Business services",year:2001,month:3,count:652,rate:5.3,date:"2001-03-01T08:00:00.000Z"},{series:"Business services",year:2001,month:4,count:655,rate:5.3,date:"2001-04-01T08:00:00.000Z"},{series:"Business services",year:2001,month:5,count:652,rate:5.3,date:"2001-05-01T07:00:00.000Z"},{series:"Business services",year:2001,month:6,count:694,rate:5.4,date:"2001-06-01T07:00:00.000Z"},{series:"Business services",year:2001,month:7,count:731,rate:5.7,date:"2001-07-01T07:00:00.000Z"},{series:"Business services",year:2001,month:8,count:790,rate:6.2,date:"2001-08-01T07:00:00.000Z"},{series:"Business services",year:2001,month:9,count:810,rate:6.4,date:"2001-09-01T07:00:00.000Z"},{series:"Business services",year:2001,month:10,count:910,rate:7.2,date:"2001-10-01T07:00:00.000Z"},{series:"Business services",year:2001,month:11,count:946,rate:7.6,date:"2001-11-01T08:00:00.000Z"},{series:"Business services",year:2001,month:12,count:921,rate:7.4,date:"2001-12-01T08:00:00.000Z"},{series:"Business services",year:2002,month:1,count:1120,rate:8.9,date:"2002-01-01T08:00:00.000Z"},{series:"Business services",year:2002,month:2,count:973,rate:7.7,date:"2002-02-01T08:00:00.000Z"},{series:"Business services",year:2002,month:3,count:964,rate:7.5,date:"2002-03-01T08:00:00.000Z"},{series:"Business services",year:2002,month:4,count:951,rate:7.3,date:"2002-04-01T08:00:00.000Z"},{series:"Business services",year:2002,month:5,count:983,rate:7.7,date:"2002-05-01T07:00:00.000Z"},{series:"Business services",year:2002,month:6,count:1079,rate:8.2,date:"2002-06-01T07:00:00.000Z"},{series:"Business services",year:2002,month:7,count:1075,rate:8.2,date:"2002-07-01T07:00:00.000Z"},{series:"Business services",year:2002,month:8,count:926,rate:7.2,date:"2002-08-01T07:00:00.000Z"},{series:"Business services",year:2002,month:9,count:1007,rate:7.8,date:"2002-09-01T07:00:00.000Z"},{series:"Business services",year:2002,month:10,count:962,rate:7.5,date:"2002-10-01T07:00:00.000Z"},{series:"Business services",year:2002,month:11,count:1029,rate:8.2,date:"2002-11-01T08:00:00.000Z"},{series:"Business services",year:2002,month:12,count:1038,rate:8.3,date:"2002-12-01T08:00:00.000Z"},{series:"Business services",year:2003,month:1,count:1112,rate:8.9,date:"2003-01-01T08:00:00.000Z"},{series:"Business services",year:2003,month:2,count:1140,rate:8.9,date:"2003-02-01T08:00:00.000Z"},{series:"Business services",year:2003,month:3,count:1190,rate:9.1,date:"2003-03-01T08:00:00.000Z"},{series:"Business services",year:2003,month:4,count:1076,rate:8.3,date:"2003-04-01T08:00:00.000Z"},{series:"Business services",year:2003,month:5,count:1105,rate:8.4,date:"2003-05-01T07:00:00.000Z"},{series:"Business services",year:2003,month:6,count:1092,rate:8.5,date:"2003-06-01T07:00:00.000Z"},{series:"Business services",year:2003,month:7,count:1021,rate:8.2,date:"2003-07-01T07:00:00.000Z"},{series:"Business services",year:2003,month:8,count:881,rate:7.2,date:"2003-08-01T07:00:00.000Z"},{series:"Business services",year:2003,month:9,count:975,rate:8,date:"2003-09-01T07:00:00.000Z"},{series:"Business services",year:2003,month:10,count:1014,rate:8.1,date:"2003-10-01T07:00:00.000Z"},{series:"Business services",year:2003,month:11,count:948,rate:7.7,date:"2003-11-01T08:00:00.000Z"},{series:"Business services",year:2003,month:12,count:948,rate:7.6,date:"2003-12-01T08:00:00.000Z"},{series:"Business services",year:2004,month:1,count:1070,rate:8.7,date:"2004-01-01T08:00:00.000Z"},{series:"Business services",year:2004,month:2,count:964,rate:7.7,date:"2004-02-01T08:00:00.000Z"},{series:"Business services",year:2004,month:3,count:999,rate:7.9,date:"2004-03-01T08:00:00.000Z"},{series:"Business services",year:2004,month:4,count:752,rate:6,date:"2004-04-01T08:00:00.000Z"},{series:"Business services",year:2004,month:5,count:819,rate:6.5,date:"2004-05-01T07:00:00.000Z"},{series:"Business services",year:2004,month:6,count:814,rate:6.5,date:"2004-06-01T07:00:00.000Z"},{series:"Business services",year:2004,month:7,count:790,rate:6.2,date:"2004-07-01T07:00:00.000Z"},{series:"Business services",year:2004,month:8,count:845,rate:6.7,date:"2004-08-01T07:00:00.000Z"},{series:"Business services",year:2004,month:9,count:750,rate:5.9,date:"2004-09-01T07:00:00.000Z"},{series:"Business services",year:2004,month:10,count:781,rate:6.2,date:"2004-10-01T07:00:00.000Z"},{series:"Business services",year:2004,month:11,count:872,rate:6.8,date:"2004-11-01T08:00:00.000Z"},{series:"Business services",year:2004,month:12,count:875,rate:6.9,date:"2004-12-01T08:00:00.000Z"},{series:"Business services",year:2005,month:1,count:958,rate:7.6,date:"2005-01-01T08:00:00.000Z"},{series:"Business services",year:2005,month:2,count:916,rate:7.2,date:"2005-02-01T08:00:00.000Z"},{series:"Business services",year:2005,month:3,count:807,rate:6.5,date:"2005-03-01T08:00:00.000Z"},{series:"Business services",year:2005,month:4,count:714,rate:5.7,date:"2005-04-01T08:00:00.000Z"},{series:"Business services",year:2005,month:5,count:730,rate:5.9,date:"2005-05-01T07:00:00.000Z"},{series:"Business services",year:2005,month:6,count:743,rate:5.8,date:"2005-06-01T07:00:00.000Z"},{series:"Business services",year:2005,month:7,count:804,rate:6.3,date:"2005-07-01T07:00:00.000Z"},{series:"Business services",year:2005,month:8,count:728,rate:5.7,date:"2005-08-01T07:00:00.000Z"},{series:"Business services",year:2005,month:9,count:862,rate:6.7,date:"2005-09-01T07:00:00.000Z"},{series:"Business services",year:2005,month:10,count:748,rate:5.8,date:"2005-10-01T07:00:00.000Z"},{series:"Business services",year:2005,month:11,count:711,rate:5.5,date:"2005-11-01T08:00:00.000Z"},{series:"Business services",year:2005,month:12,count:788,rate:6.1,date:"2005-12-01T08:00:00.000Z"},{series:"Business services",year:2006,month:1,count:825,rate:6.5,date:"2006-01-01T08:00:00.000Z"},{series:"Business services",year:2006,month:2,count:841,rate:6.5,date:"2006-02-01T08:00:00.000Z"},{series:"Business services",year:2006,month:3,count:824,rate:6.3,date:"2006-03-01T08:00:00.000Z"},{series:"Business services",year:2006,month:4,count:644,rate:4.9,date:"2006-04-01T08:00:00.000Z"},{series:"Business services",year:2006,month:5,count:695,rate:5.3,date:"2006-05-01T07:00:00.000Z"},{series:"Business services",year:2006,month:6,count:753,rate:5.7,date:"2006-06-01T07:00:00.000Z"},{series:"Business services",year:2006,month:7,count:735,rate:5.5,date:"2006-07-01T07:00:00.000Z"},{series:"Business services",year:2006,month:8,count:681,rate:5.1,date:"2006-08-01T07:00:00.000Z"},{series:"Business services",year:2006,month:9,count:736,rate:5.6,date:"2006-09-01T07:00:00.000Z"},{series:"Business services",year:2006,month:10,count:768,rate:5.6,date:"2006-10-01T07:00:00.000Z"},{series:"Business services",year:2006,month:11,count:658,rate:4.9,date:"2006-11-01T08:00:00.000Z"},{series:"Business services",year:2006,month:12,count:791,rate:5.9,date:"2006-12-01T08:00:00.000Z"},{series:"Business services",year:2007,month:1,count:885,rate:6.5,date:"2007-01-01T08:00:00.000Z"},{series:"Business services",year:2007,month:2,count:825,rate:6,date:"2007-02-01T08:00:00.000Z"},{series:"Business services",year:2007,month:3,count:775,rate:5.7,date:"2007-03-01T08:00:00.000Z"},{series:"Business services",year:2007,month:4,count:689,rate:5,date:"2007-04-01T07:00:00.000Z"},{series:"Business services",year:2007,month:5,count:743,rate:5.4,date:"2007-05-01T07:00:00.000Z"},{series:"Business services",year:2007,month:6,count:722,rate:5.2,date:"2007-06-01T07:00:00.000Z"},{series:"Business services",year:2007,month:7,count:743,rate:5.2,date:"2007-07-01T07:00:00.000Z"},{series:"Business services",year:2007,month:8,count:683,rate:4.9,date:"2007-08-01T07:00:00.000Z"},{series:"Business services",year:2007,month:9,count:655,rate:4.7,date:"2007-09-01T07:00:00.000Z"},{series:"Business services",year:2007,month:10,count:675,rate:4.8,date:"2007-10-01T07:00:00.000Z"},{series:"Business services",year:2007,month:11,count:679,rate:4.8,date:"2007-11-01T07:00:00.000Z"},{series:"Business services",year:2007,month:12,count:803,rate:5.7,date:"2007-12-01T08:00:00.000Z"},{series:"Business services",year:2008,month:1,count:893,rate:6.4,date:"2008-01-01T08:00:00.000Z"},{series:"Business services",year:2008,month:2,count:866,rate:6.2,date:"2008-02-01T08:00:00.000Z"},{series:"Business services",year:2008,month:3,count:876,rate:6.2,date:"2008-03-01T08:00:00.000Z"},{series:"Business services",year:2008,month:4,count:736,rate:5.3,date:"2008-04-01T07:00:00.000Z"},{series:"Business services",year:2008,month:5,count:829,rate:5.9,date:"2008-05-01T07:00:00.000Z"},{series:"Business services",year:2008,month:6,count:890,rate:6.2,date:"2008-06-01T07:00:00.000Z"},{series:"Business services",year:2008,month:7,count:866,rate:6.1,date:"2008-07-01T07:00:00.000Z"},{series:"Business services",year:2008,month:8,count:961,rate:6.9,date:"2008-08-01T07:00:00.000Z"},{series:"Business services",year:2008,month:9,count:951,rate:6.9,date:"2008-09-01T07:00:00.000Z"},{series:"Business services",year:2008,month:10,count:1052,rate:7.5,date:"2008-10-01T07:00:00.000Z"},{series:"Business services",year:2008,month:11,count:992,rate:7,date:"2008-11-01T07:00:00.000Z"},{series:"Business services",year:2008,month:12,count:1147,rate:8.1,date:"2008-12-01T08:00:00.000Z"},{series:"Business services",year:2009,month:1,count:1445,rate:10.4,date:"2009-01-01T08:00:00.000Z"},{series:"Business services",year:2009,month:2,count:1512,rate:10.8,date:"2009-02-01T08:00:00.000Z"},{series:"Business services",year:2009,month:3,count:1597,rate:11.4,date:"2009-03-01T08:00:00.000Z"},{series:"Business services",year:2009,month:4,count:1448,rate:10.4,date:"2009-04-01T07:00:00.000Z"},{series:"Business services",year:2009,month:5,count:1514,rate:10.9,date:"2009-05-01T07:00:00.000Z"},{series:"Business services",year:2009,month:6,count:1580,rate:11.3,date:"2009-06-01T07:00:00.000Z"},{series:"Business services",year:2009,month:7,count:1531,rate:10.9,date:"2009-07-01T07:00:00.000Z"},{series:"Business services",year:2009,month:8,count:1560,rate:11,date:"2009-08-01T07:00:00.000Z"},{series:"Business services",year:2009,month:9,count:1596,rate:11.3,date:"2009-09-01T07:00:00.000Z"},{series:"Business services",year:2009,month:10,count:1488,rate:10.3,date:"2009-10-01T07:00:00.000Z"},{series:"Business services",year:2009,month:11,count:1514,rate:10.6,date:"2009-11-01T07:00:00.000Z"},{series:"Business services",year:2009,month:12,count:1486,rate:10.3,date:"2009-12-01T08:00:00.000Z"},{series:"Business services",year:2010,month:1,count:1614,rate:11.1,date:"2010-01-01T08:00:00.000Z"},{series:"Business services",year:2010,month:2,count:1740,rate:12,date:"2010-02-01T08:00:00.000Z"},{series:"Education and Health",year:2e3,month:1,count:353,rate:2.3,date:"2000-01-01T08:00:00.000Z"},{series:"Education and Health",year:2e3,month:2,count:349,rate:2.2,date:"2000-02-01T08:00:00.000Z"},{series:"Education and Health",year:2e3,month:3,count:381,rate:2.5,date:"2000-03-01T08:00:00.000Z"},{series:"Education and Health",year:2e3,month:4,count:329,rate:2.1,date:"2000-04-01T08:00:00.000Z"},{series:"Education and Health",year:2e3,month:5,count:423,rate:2.7,date:"2000-05-01T07:00:00.000Z"},{series:"Education and Health",year:2e3,month:6,count:452,rate:2.9,date:"2000-06-01T07:00:00.000Z"},{series:"Education and Health",year:2e3,month:7,count:478,rate:3.1,date:"2000-07-01T07:00:00.000Z"},{series:"Education and Health",year:2e3,month:8,count:450,rate:2.9,date:"2000-08-01T07:00:00.000Z"},{series:"Education and Health",year:2e3,month:9,count:398,rate:2.6,date:"2000-09-01T07:00:00.000Z"},{series:"Education and Health",year:2e3,month:10,count:339,rate:2.1,date:"2000-10-01T07:00:00.000Z"},{series:"Education and Health",year:2e3,month:11,count:351,rate:2.2,date:"2000-11-01T08:00:00.000Z"},{series:"Education and Health",year:2e3,month:12,count:293,rate:1.8,date:"2000-12-01T08:00:00.000Z"},{series:"Education and Health",year:2001,month:1,count:428,rate:2.6,date:"2001-01-01T08:00:00.000Z"},{series:"Education and Health",year:2001,month:2,count:423,rate:2.6,date:"2001-02-01T08:00:00.000Z"},{series:"Education and Health",year:2001,month:3,count:456,rate:2.8,date:"2001-03-01T08:00:00.000Z"},{series:"Education and Health",year:2001,month:4,count:341,rate:2.1,date:"2001-04-01T08:00:00.000Z"},{series:"Education and Health",year:2001,month:5,count:390,rate:2.4,date:"2001-05-01T07:00:00.000Z"},{series:"Education and Health",year:2001,month:6,count:476,rate:3,date:"2001-06-01T07:00:00.000Z"},{series:"Education and Health",year:2001,month:7,count:513,rate:3.1,date:"2001-07-01T07:00:00.000Z"},{series:"Education and Health",year:2001,month:8,count:595,rate:3.7,date:"2001-08-01T07:00:00.000Z"},{series:"Education and Health",year:2001,month:9,count:455,rate:2.8,date:"2001-09-01T07:00:00.000Z"},{series:"Education and Health",year:2001,month:10,count:486,rate:2.9,date:"2001-10-01T07:00:00.000Z"},{series:"Education and Health",year:2001,month:11,count:516,rate:3.1,date:"2001-11-01T08:00:00.000Z"},{series:"Education and Health",year:2001,month:12,count:483,rate:2.9,date:"2001-12-01T08:00:00.000Z"},{series:"Education and Health",year:2002,month:1,count:586,rate:3.5,date:"2002-01-01T08:00:00.000Z"},{series:"Education and Health",year:2002,month:2,count:590,rate:3.5,date:"2002-02-01T08:00:00.000Z"},{series:"Education and Health",year:2002,month:3,count:540,rate:3.2,date:"2002-03-01T08:00:00.000Z"},{series:"Education and Health",year:2002,month:4,count:493,rate:2.9,date:"2002-04-01T08:00:00.000Z"},{series:"Education and Health",year:2002,month:5,count:533,rate:3.2,date:"2002-05-01T07:00:00.000Z"},{series:"Education and Health",year:2002,month:6,count:638,rate:3.9,date:"2002-06-01T07:00:00.000Z"},{series:"Education and Health",year:2002,month:7,count:671,rate:4,date:"2002-07-01T07:00:00.000Z"},{series:"Education and Health",year:2002,month:8,count:660,rate:3.9,date:"2002-08-01T07:00:00.000Z"},{series:"Education and Health",year:2002,month:9,count:562,rate:3.2,date:"2002-09-01T07:00:00.000Z"},{series:"Education and Health",year:2002,month:10,count:517,rate:3,date:"2002-10-01T07:00:00.000Z"},{series:"Education and Health",year:2002,month:11,count:493,rate:2.8,date:"2002-11-01T08:00:00.000Z"},{series:"Education and Health",year:2002,month:12,count:558,rate:3.2,date:"2002-12-01T08:00:00.000Z"},{series:"Education and Health",year:2003,month:1,count:559,rate:3.2,date:"2003-01-01T08:00:00.000Z"},{series:"Education and Health",year:2003,month:2,count:576,rate:3.2,date:"2003-02-01T08:00:00.000Z"},{series:"Education and Health",year:2003,month:3,count:518,rate:2.9,date:"2003-03-01T08:00:00.000Z"},{series:"Education and Health",year:2003,month:4,count:611,rate:3.4,date:"2003-04-01T08:00:00.000Z"},{series:"Education and Health",year:2003,month:5,count:618,rate:3.5,date:"2003-05-01T07:00:00.000Z"},{series:"Education and Health",year:2003,month:6,count:769,rate:4.4,date:"2003-06-01T07:00:00.000Z"},{series:"Education and Health",year:2003,month:7,count:697,rate:4,date:"2003-07-01T07:00:00.000Z"},{series:"Education and Health",year:2003,month:8,count:760,rate:4.3,date:"2003-08-01T07:00:00.000Z"},{series:"Education and Health",year:2003,month:9,count:649,rate:3.7,date:"2003-09-01T07:00:00.000Z"},{series:"Education and Health",year:2003,month:10,count:639,rate:3.6,date:"2003-10-01T07:00:00.000Z"},{series:"Education and Health",year:2003,month:11,count:662,rate:3.8,date:"2003-11-01T08:00:00.000Z"},{series:"Education and Health",year:2003,month:12,count:620,rate:3.5,date:"2003-12-01T08:00:00.000Z"},{series:"Education and Health",year:2004,month:1,count:662,rate:3.7,date:"2004-01-01T08:00:00.000Z"},{series:"Education and Health",year:2004,month:2,count:608,rate:3.4,date:"2004-02-01T08:00:00.000Z"},{series:"Education and Health",year:2004,month:3,count:584,rate:3.2,date:"2004-03-01T08:00:00.000Z"},{series:"Education and Health",year:2004,month:4,count:589,rate:3.3,date:"2004-04-01T08:00:00.000Z"},{series:"Education and Health",year:2004,month:5,count:570,rate:3.2,date:"2004-05-01T07:00:00.000Z"},{series:"Education and Health",year:2004,month:6,count:769,rate:4.2,date:"2004-06-01T07:00:00.000Z"},{series:"Education and Health",year:2004,month:7,count:725,rate:4,date:"2004-07-01T07:00:00.000Z"},{series:"Education and Health",year:2004,month:8,count:647,rate:3.7,date:"2004-08-01T07:00:00.000Z"},{series:"Education and Health",year:2004,month:9,count:593,rate:3.3,date:"2004-09-01T07:00:00.000Z"},{series:"Education and Health",year:2004,month:10,count:526,rate:2.9,date:"2004-10-01T07:00:00.000Z"},{series:"Education and Health",year:2004,month:11,count:570,rate:3.2,date:"2004-11-01T08:00:00.000Z"},{series:"Education and Health",year:2004,month:12,count:562,rate:3.1,date:"2004-12-01T08:00:00.000Z"},{series:"Education and Health",year:2005,month:1,count:613,rate:3.4,date:"2005-01-01T08:00:00.000Z"},{series:"Education and Health",year:2005,month:2,count:619,rate:3.4,date:"2005-02-01T08:00:00.000Z"},{series:"Education and Health",year:2005,month:3,count:614,rate:3.4,date:"2005-03-01T08:00:00.000Z"},{series:"Education and Health",year:2005,month:4,count:591,rate:3.3,date:"2005-04-01T08:00:00.000Z"},{series:"Education and Health",year:2005,month:5,count:648,rate:3.6,date:"2005-05-01T07:00:00.000Z"},{series:"Education and Health",year:2005,month:6,count:667,rate:3.6,date:"2005-06-01T07:00:00.000Z"},{series:"Education and Health",year:2005,month:7,count:635,rate:3.5,date:"2005-07-01T07:00:00.000Z"},{series:"Education and Health",year:2005,month:8,count:644,rate:3.5,date:"2005-08-01T07:00:00.000Z"},{series:"Education and Health",year:2005,month:9,count:658,rate:3.5,date:"2005-09-01T07:00:00.000Z"},{series:"Education and Health",year:2005,month:10,count:628,rate:3.4,date:"2005-10-01T07:00:00.000Z"},{series:"Education and Health",year:2005,month:11,count:677,rate:3.6,date:"2005-11-01T08:00:00.000Z"},{series:"Education and Health",year:2005,month:12,count:529,rate:2.8,date:"2005-12-01T08:00:00.000Z"},{series:"Education and Health",year:2006,month:1,count:593,rate:3.2,date:"2006-01-01T08:00:00.000Z"},{series:"Education and Health",year:2006,month:2,count:528,rate:2.8,date:"2006-02-01T08:00:00.000Z"},{series:"Education and Health",year:2006,month:3,count:563,rate:3,date:"2006-03-01T08:00:00.000Z"},{series:"Education and Health",year:2006,month:4,count:558,rate:3,date:"2006-04-01T08:00:00.000Z"},{series:"Education and Health",year:2006,month:5,count:543,rate:2.9,date:"2006-05-01T07:00:00.000Z"},{series:"Education and Health",year:2006,month:6,count:617,rate:3.3,date:"2006-06-01T07:00:00.000Z"},{series:"Education and Health",year:2006,month:7,count:659,rate:3.5,date:"2006-07-01T07:00:00.000Z"},{series:"Education and Health",year:2006,month:8,count:611,rate:3.2,date:"2006-08-01T07:00:00.000Z"},{series:"Education and Health",year:2006,month:9,count:576,rate:3,date:"2006-09-01T07:00:00.000Z"},{series:"Education and Health",year:2006,month:10,count:531,rate:2.8,date:"2006-10-01T07:00:00.000Z"},{series:"Education and Health",year:2006,month:11,count:536,rate:2.8,date:"2006-11-01T08:00:00.000Z"},{series:"Education and Health",year:2006,month:12,count:502,rate:2.6,date:"2006-12-01T08:00:00.000Z"},{series:"Education and Health",year:2007,month:1,count:563,rate:2.9,date:"2007-01-01T08:00:00.000Z"},{series:"Education and Health",year:2007,month:2,count:489,rate:2.5,date:"2007-02-01T08:00:00.000Z"},{series:"Education and Health",year:2007,month:3,count:495,rate:2.5,date:"2007-03-01T08:00:00.000Z"},{series:"Education and Health",year:2007,month:4,count:555,rate:2.9,date:"2007-04-01T07:00:00.000Z"},{series:"Education and Health",year:2007,month:5,count:622,rate:3.3,date:"2007-05-01T07:00:00.000Z"},{series:"Education and Health",year:2007,month:6,count:653,rate:3.4,date:"2007-06-01T07:00:00.000Z"},{series:"Education and Health",year:2007,month:7,count:665,rate:3.5,date:"2007-07-01T07:00:00.000Z"},{series:"Education and Health",year:2007,month:8,count:648,rate:3.4,date:"2007-08-01T07:00:00.000Z"},{series:"Education and Health",year:2007,month:9,count:630,rate:3.2,date:"2007-09-01T07:00:00.000Z"},{series:"Education and Health",year:2007,month:10,count:534,rate:2.7,date:"2007-10-01T07:00:00.000Z"},{series:"Education and Health",year:2007,month:11,count:526,rate:2.7,date:"2007-11-01T07:00:00.000Z"},{series:"Education and Health",year:2007,month:12,count:521,rate:2.6,date:"2007-12-01T08:00:00.000Z"},{series:"Education and Health",year:2008,month:1,count:576,rate:2.9,date:"2008-01-01T08:00:00.000Z"},{series:"Education and Health",year:2008,month:2,count:562,rate:2.9,date:"2008-02-01T08:00:00.000Z"},{series:"Education and Health",year:2008,month:3,count:609,rate:3.1,date:"2008-03-01T08:00:00.000Z"},{series:"Education and Health",year:2008,month:4,count:551,rate:2.8,date:"2008-04-01T07:00:00.000Z"},{series:"Education and Health",year:2008,month:5,count:619,rate:3.2,date:"2008-05-01T07:00:00.000Z"},{series:"Education and Health",year:2008,month:6,count:669,rate:3.4,date:"2008-06-01T07:00:00.000Z"},{series:"Education and Health",year:2008,month:7,count:776,rate:3.9,date:"2008-07-01T07:00:00.000Z"},{series:"Education and Health",year:2008,month:8,count:844,rate:4.3,date:"2008-08-01T07:00:00.000Z"},{series:"Education and Health",year:2008,month:9,count:835,rate:4.1,date:"2008-09-01T07:00:00.000Z"},{series:"Education and Health",year:2008,month:10,count:797,rate:3.9,date:"2008-10-01T07:00:00.000Z"},{series:"Education and Health",year:2008,month:11,count:748,rate:3.6,date:"2008-11-01T07:00:00.000Z"},{series:"Education and Health",year:2008,month:12,count:791,rate:3.8,date:"2008-12-01T08:00:00.000Z"},{series:"Education and Health",year:2009,month:1,count:792,rate:3.8,date:"2009-01-01T08:00:00.000Z"},{series:"Education and Health",year:2009,month:2,count:847,rate:4.1,date:"2009-02-01T08:00:00.000Z"},{series:"Education and Health",year:2009,month:3,count:931,rate:4.5,date:"2009-03-01T08:00:00.000Z"},{series:"Education and Health",year:2009,month:4,count:964,rate:4.6,date:"2009-04-01T07:00:00.000Z"},{series:"Education and Health",year:2009,month:5,count:1005,rate:4.9,date:"2009-05-01T07:00:00.000Z"},{series:"Education and Health",year:2009,month:6,count:1267,rate:6.1,date:"2009-06-01T07:00:00.000Z"},{series:"Education and Health",year:2009,month:7,count:1269,rate:6.1,date:"2009-07-01T07:00:00.000Z"},{series:"Education and Health",year:2009,month:8,count:1239,rate:6,date:"2009-08-01T07:00:00.000Z"},{series:"Education and Health",year:2009,month:9,count:1257,rate:6,date:"2009-09-01T07:00:00.000Z"},{series:"Education and Health",year:2009,month:10,count:1280,rate:6,date:"2009-10-01T07:00:00.000Z"},{series:"Education and Health",year:2009,month:11,count:1168,rate:5.5,date:"2009-11-01T07:00:00.000Z"},{series:"Education and Health",year:2009,month:12,count:1183,rate:5.6,date:"2009-12-01T08:00:00.000Z"},{series:"Education and Health",year:2010,month:1,count:1175,rate:5.5,date:"2010-01-01T08:00:00.000Z"},{series:"Education and Health",year:2010,month:2,count:1200,rate:5.6,date:"2010-02-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2e3,month:1,count:782,rate:7.5,date:"2000-01-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2e3,month:2,count:779,rate:7.5,date:"2000-02-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2e3,month:3,count:789,rate:7.4,date:"2000-03-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2e3,month:4,count:658,rate:6.1,date:"2000-04-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2e3,month:5,count:675,rate:6.2,date:"2000-05-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2e3,month:6,count:833,rate:7.3,date:"2000-06-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2e3,month:7,count:786,rate:6.8,date:"2000-07-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2e3,month:8,count:675,rate:6,date:"2000-08-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2e3,month:9,count:636,rate:5.9,date:"2000-09-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2e3,month:10,count:691,rate:6.5,date:"2000-10-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2e3,month:11,count:694,rate:6.5,date:"2000-11-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2e3,month:12,count:639,rate:5.9,date:"2000-12-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2001,month:1,count:806,rate:7.7,date:"2001-01-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2001,month:2,count:821,rate:7.5,date:"2001-02-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2001,month:3,count:817,rate:7.4,date:"2001-03-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2001,month:4,count:744,rate:6.8,date:"2001-04-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2001,month:5,count:731,rate:6.7,date:"2001-05-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2001,month:6,count:821,rate:7,date:"2001-06-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2001,month:7,count:813,rate:6.8,date:"2001-07-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2001,month:8,count:767,rate:6.8,date:"2001-08-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2001,month:9,count:900,rate:8,date:"2001-09-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2001,month:10,count:903,rate:8.3,date:"2001-10-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2001,month:11,count:935,rate:8.5,date:"2001-11-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2001,month:12,count:938,rate:8.5,date:"2001-12-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2002,month:1,count:947,rate:8.6,date:"2002-01-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2002,month:2,count:973,rate:8.7,date:"2002-02-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2002,month:3,count:976,rate:8.5,date:"2002-03-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2002,month:4,count:953,rate:8.4,date:"2002-04-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2002,month:5,count:1022,rate:8.6,date:"2002-05-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2002,month:6,count:1034,rate:8.5,date:"2002-06-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2002,month:7,count:999,rate:8.2,date:"2002-07-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2002,month:8,count:884,rate:7.5,date:"2002-08-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2002,month:9,count:885,rate:7.9,date:"2002-09-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2002,month:10,count:956,rate:8.5,date:"2002-10-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2002,month:11,count:978,rate:8.9,date:"2002-11-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2002,month:12,count:922,rate:8.2,date:"2002-12-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2003,month:1,count:1049,rate:9.3,date:"2003-01-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2003,month:2,count:1145,rate:10,date:"2003-02-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2003,month:3,count:1035,rate:8.9,date:"2003-03-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2003,month:4,count:986,rate:8.5,date:"2003-04-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2003,month:5,count:955,rate:7.9,date:"2003-05-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2003,month:6,count:1048,rate:8.6,date:"2003-06-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2003,month:7,count:1020,rate:8.4,date:"2003-07-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2003,month:8,count:1050,rate:9,date:"2003-08-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2003,month:9,count:978,rate:8.8,date:"2003-09-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2003,month:10,count:933,rate:8.3,date:"2003-10-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2003,month:11,count:990,rate:9,date:"2003-11-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2003,month:12,count:885,rate:8.2,date:"2003-12-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2004,month:1,count:1097,rate:10,date:"2004-01-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2004,month:2,count:987,rate:8.9,date:"2004-02-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2004,month:3,count:1039,rate:9,date:"2004-03-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2004,month:4,count:925,rate:7.9,date:"2004-04-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2004,month:5,count:977,rate:8.1,date:"2004-05-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2004,month:6,count:1189,rate:9.6,date:"2004-06-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2004,month:7,count:965,rate:7.8,date:"2004-07-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2004,month:8,count:1010,rate:8.4,date:"2004-08-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2004,month:9,count:854,rate:7.5,date:"2004-09-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2004,month:10,count:853,rate:7.3,date:"2004-10-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2004,month:11,count:916,rate:7.9,date:"2004-11-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2004,month:12,count:850,rate:7.4,date:"2004-12-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2005,month:1,count:993,rate:8.7,date:"2005-01-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2005,month:2,count:1008,rate:8.8,date:"2005-02-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2005,month:3,count:967,rate:8.3,date:"2005-03-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2005,month:4,count:882,rate:7.7,date:"2005-04-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2005,month:5,count:944,rate:7.7,date:"2005-05-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2005,month:6,count:950,rate:7.6,date:"2005-06-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2005,month:7,count:929,rate:7.4,date:"2005-07-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2005,month:8,count:844,rate:6.8,date:"2005-08-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2005,month:9,count:842,rate:7.3,date:"2005-09-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2005,month:10,count:796,rate:6.8,date:"2005-10-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2005,month:11,count:966,rate:8.1,date:"2005-11-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2005,month:12,count:930,rate:7.9,date:"2005-12-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2006,month:1,count:910,rate:8.1,date:"2006-01-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2006,month:2,count:1040,rate:9.1,date:"2006-02-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2006,month:3,count:917,rate:8,date:"2006-03-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2006,month:4,count:882,rate:7.6,date:"2006-04-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2006,month:5,count:830,rate:7,date:"2006-05-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2006,month:6,count:942,rate:7.4,date:"2006-06-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2006,month:7,count:867,rate:6.8,date:"2006-07-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2006,month:8,count:855,rate:6.9,date:"2006-08-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2006,month:9,count:810,rate:6.9,date:"2006-09-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2006,month:10,count:795,rate:6.6,date:"2006-10-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2006,month:11,count:836,rate:7.1,date:"2006-11-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2006,month:12,count:701,rate:5.9,date:"2006-12-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2007,month:1,count:911,rate:7.8,date:"2007-01-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2007,month:2,count:879,rate:7.4,date:"2007-02-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2007,month:3,count:845,rate:7,date:"2007-03-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2007,month:4,count:822,rate:6.9,date:"2007-04-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2007,month:5,count:831,rate:6.8,date:"2007-05-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2007,month:6,count:917,rate:7.2,date:"2007-06-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2007,month:7,count:920,rate:7.3,date:"2007-07-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2007,month:8,count:877,rate:7.1,date:"2007-08-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2007,month:9,count:892,rate:7.4,date:"2007-09-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2007,month:10,count:911,rate:7.5,date:"2007-10-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2007,month:11,count:986,rate:8.1,date:"2007-11-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2007,month:12,count:961,rate:7.9,date:"2007-12-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2008,month:1,count:1176,rate:9.4,date:"2008-01-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2008,month:2,count:1056,rate:8.5,date:"2008-02-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2008,month:3,count:944,rate:7.6,date:"2008-03-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2008,month:4,count:874,rate:6.9,date:"2008-04-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2008,month:5,count:1074,rate:8.4,date:"2008-05-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2008,month:6,count:1154,rate:8.9,date:"2008-06-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2008,month:7,count:1172,rate:8.8,date:"2008-07-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2008,month:8,count:1122,rate:8.7,date:"2008-08-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2008,month:9,count:1029,rate:8.2,date:"2008-09-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2008,month:10,count:1126,rate:8.9,date:"2008-10-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2008,month:11,count:1283,rate:9.9,date:"2008-11-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2008,month:12,count:1210,rate:9.5,date:"2008-12-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2009,month:1,count:1487,rate:11.5,date:"2009-01-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2009,month:2,count:1477,rate:11.4,date:"2009-02-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2009,month:3,count:1484,rate:11.6,date:"2009-03-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2009,month:4,count:1322,rate:10.2,date:"2009-04-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2009,month:5,count:1599,rate:11.9,date:"2009-05-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2009,month:6,count:1688,rate:12.1,date:"2009-06-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2009,month:7,count:1600,rate:11.2,date:"2009-07-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2009,month:8,count:1636,rate:12,date:"2009-08-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2009,month:9,count:1469,rate:11.4,date:"2009-09-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2009,month:10,count:1604,rate:12.4,date:"2009-10-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2009,month:11,count:1524,rate:11.9,date:"2009-11-01T07:00:00.000Z"},{series:"Leisure and hospitality",year:2009,month:12,count:1624,rate:12.6,date:"2009-12-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2010,month:1,count:1804,rate:14.2,date:"2010-01-01T08:00:00.000Z"},{series:"Leisure and hospitality",year:2010,month:2,count:1597,rate:12.7,date:"2010-02-01T08:00:00.000Z"},{series:"Other",year:2e3,month:1,count:274,rate:4.9,date:"2000-01-01T08:00:00.000Z"},{series:"Other",year:2e3,month:2,count:232,rate:4.1,date:"2000-02-01T08:00:00.000Z"},{series:"Other",year:2e3,month:3,count:247,rate:4.3,date:"2000-03-01T08:00:00.000Z"},{series:"Other",year:2e3,month:4,count:240,rate:4.2,date:"2000-04-01T08:00:00.000Z"},{series:"Other",year:2e3,month:5,count:254,rate:4.5,date:"2000-05-01T07:00:00.000Z"},{series:"Other",year:2e3,month:6,count:225,rate:3.9,date:"2000-06-01T07:00:00.000Z"},{series:"Other",year:2e3,month:7,count:202,rate:3.7,date:"2000-07-01T07:00:00.000Z"},{series:"Other",year:2e3,month:8,count:187,rate:3.5,date:"2000-08-01T07:00:00.000Z"},{series:"Other",year:2e3,month:9,count:220,rate:4,date:"2000-09-01T07:00:00.000Z"},{series:"Other",year:2e3,month:10,count:161,rate:2.9,date:"2000-10-01T07:00:00.000Z"},{series:"Other",year:2e3,month:11,count:217,rate:3.8,date:"2000-11-01T08:00:00.000Z"},{series:"Other",year:2e3,month:12,count:167,rate:2.9,date:"2000-12-01T08:00:00.000Z"},{series:"Other",year:2001,month:1,count:197,rate:3.4,date:"2001-01-01T08:00:00.000Z"},{series:"Other",year:2001,month:2,count:243,rate:4.2,date:"2001-02-01T08:00:00.000Z"},{series:"Other",year:2001,month:3,count:200,rate:3.4,date:"2001-03-01T08:00:00.000Z"},{series:"Other",year:2001,month:4,count:220,rate:3.8,date:"2001-04-01T08:00:00.000Z"},{series:"Other",year:2001,month:5,count:172,rate:3.2,date:"2001-05-01T07:00:00.000Z"},{series:"Other",year:2001,month:6,count:246,rate:4.6,date:"2001-06-01T07:00:00.000Z"},{series:"Other",year:2001,month:7,count:228,rate:4.1,date:"2001-07-01T07:00:00.000Z"},{series:"Other",year:2001,month:8,count:241,rate:4.5,date:"2001-08-01T07:00:00.000Z"},{series:"Other",year:2001,month:9,count:225,rate:4,date:"2001-09-01T07:00:00.000Z"},{series:"Other",year:2001,month:10,count:239,rate:4.1,date:"2001-10-01T07:00:00.000Z"},{series:"Other",year:2001,month:11,count:256,rate:4.2,date:"2001-11-01T08:00:00.000Z"},{series:"Other",year:2001,month:12,count:277,rate:4.5,date:"2001-12-01T08:00:00.000Z"},{series:"Other",year:2002,month:1,count:304,rate:5.1,date:"2002-01-01T08:00:00.000Z"},{series:"Other",year:2002,month:2,count:339,rate:5.6,date:"2002-02-01T08:00:00.000Z"},{series:"Other",year:2002,month:3,count:314,rate:5.5,date:"2002-03-01T08:00:00.000Z"},{series:"Other",year:2002,month:4,count:268,rate:4.6,date:"2002-04-01T08:00:00.000Z"},{series:"Other",year:2002,month:5,count:264,rate:4.6,date:"2002-05-01T07:00:00.000Z"},{series:"Other",year:2002,month:6,count:335,rate:5.5,date:"2002-06-01T07:00:00.000Z"},{series:"Other",year:2002,month:7,count:356,rate:5.8,date:"2002-07-01T07:00:00.000Z"},{series:"Other",year:2002,month:8,count:353,rate:6,date:"2002-08-01T07:00:00.000Z"},{series:"Other",year:2002,month:9,count:281,rate:4.8,date:"2002-09-01T07:00:00.000Z"},{series:"Other",year:2002,month:10,count:272,rate:4.6,date:"2002-10-01T07:00:00.000Z"},{series:"Other",year:2002,month:11,count:284,rate:4.9,date:"2002-11-01T08:00:00.000Z"},{series:"Other",year:2002,month:12,count:241,rate:4.2,date:"2002-12-01T08:00:00.000Z"},{series:"Other",year:2003,month:1,count:304,rate:5.3,date:"2003-01-01T08:00:00.000Z"},{series:"Other",year:2003,month:2,count:331,rate:5.7,date:"2003-02-01T08:00:00.000Z"},{series:"Other",year:2003,month:3,count:370,rate:6.1,date:"2003-03-01T08:00:00.000Z"},{series:"Other",year:2003,month:4,count:331,rate:5.5,date:"2003-04-01T08:00:00.000Z"},{series:"Other",year:2003,month:5,count:339,rate:5.7,date:"2003-05-01T07:00:00.000Z"},{series:"Other",year:2003,month:6,count:359,rate:5.9,date:"2003-06-01T07:00:00.000Z"},{series:"Other",year:2003,month:7,count:405,rate:6.6,date:"2003-07-01T07:00:00.000Z"},{series:"Other",year:2003,month:8,count:373,rate:6.1,date:"2003-08-01T07:00:00.000Z"},{series:"Other",year:2003,month:9,count:338,rate:5.5,date:"2003-09-01T07:00:00.000Z"},{series:"Other",year:2003,month:10,count:378,rate:6.1,date:"2003-10-01T07:00:00.000Z"},{series:"Other",year:2003,month:11,count:357,rate:5.8,date:"2003-11-01T08:00:00.000Z"},{series:"Other",year:2003,month:12,count:278,rate:4.5,date:"2003-12-01T08:00:00.000Z"},{series:"Other",year:2004,month:1,count:322,rate:5.3,date:"2004-01-01T08:00:00.000Z"},{series:"Other",year:2004,month:2,count:366,rate:5.9,date:"2004-02-01T08:00:00.000Z"},{series:"Other",year:2004,month:3,count:366,rate:5.9,date:"2004-03-01T08:00:00.000Z"},{series:"Other",year:2004,month:4,count:347,rate:5.6,date:"2004-04-01T08:00:00.000Z"},{series:"Other",year:2004,month:5,count:310,rate:5.1,date:"2004-05-01T07:00:00.000Z"},{series:"Other",year:2004,month:6,count:326,rate:5.4,date:"2004-06-01T07:00:00.000Z"},{series:"Other",year:2004,month:7,count:346,rate:5.6,date:"2004-07-01T07:00:00.000Z"},{series:"Other",year:2004,month:8,count:341,rate:5.6,date:"2004-08-01T07:00:00.000Z"},{series:"Other",year:2004,month:9,count:301,rate:4.9,date:"2004-09-01T07:00:00.000Z"},{series:"Other",year:2004,month:10,count:300,rate:4.8,date:"2004-10-01T07:00:00.000Z"},{series:"Other",year:2004,month:11,count:294,rate:4.8,date:"2004-11-01T08:00:00.000Z"},{series:"Other",year:2004,month:12,count:276,rate:4.3,date:"2004-12-01T08:00:00.000Z"},{series:"Other",year:2005,month:1,count:290,rate:4.7,date:"2005-01-01T08:00:00.000Z"},{series:"Other",year:2005,month:2,count:325,rate:5.3,date:"2005-02-01T08:00:00.000Z"},{series:"Other",year:2005,month:3,count:308,rate:5,date:"2005-03-01T08:00:00.000Z"},{series:"Other",year:2005,month:4,count:306,rate:4.9,date:"2005-04-01T08:00:00.000Z"},{series:"Other",year:2005,month:5,count:314,rate:5,date:"2005-05-01T07:00:00.000Z"},{series:"Other",year:2005,month:6,count:291,rate:4.6,date:"2005-06-01T07:00:00.000Z"},{series:"Other",year:2005,month:7,count:274,rate:4.2,date:"2005-07-01T07:00:00.000Z"},{series:"Other",year:2005,month:8,count:306,rate:4.8,date:"2005-08-01T07:00:00.000Z"},{series:"Other",year:2005,month:9,count:307,rate:4.9,date:"2005-09-01T07:00:00.000Z"},{series:"Other",year:2005,month:10,count:319,rate:5,date:"2005-10-01T07:00:00.000Z"},{series:"Other",year:2005,month:11,count:300,rate:4.9,date:"2005-11-01T08:00:00.000Z"},{series:"Other",year:2005,month:12,count:269,rate:4.3,date:"2005-12-01T08:00:00.000Z"},{series:"Other",year:2006,month:1,count:308,rate:4.9,date:"2006-01-01T08:00:00.000Z"},{series:"Other",year:2006,month:2,count:281,rate:4.4,date:"2006-02-01T08:00:00.000Z"},{series:"Other",year:2006,month:3,count:292,rate:4.6,date:"2006-03-01T08:00:00.000Z"},{series:"Other",year:2006,month:4,count:266,rate:4.1,date:"2006-04-01T08:00:00.000Z"},{series:"Other",year:2006,month:5,count:265,rate:4.2,date:"2006-05-01T07:00:00.000Z"},{series:"Other",year:2006,month:6,count:265,rate:4.3,date:"2006-06-01T07:00:00.000Z"},{series:"Other",year:2006,month:7,count:305,rate:4.7,date:"2006-07-01T07:00:00.000Z"},{series:"Other",year:2006,month:8,count:341,rate:5.3,date:"2006-08-01T07:00:00.000Z"},{series:"Other",year:2006,month:9,count:310,rate:5,date:"2006-09-01T07:00:00.000Z"},{series:"Other",year:2006,month:10,count:268,rate:4.4,date:"2006-10-01T07:00:00.000Z"},{series:"Other",year:2006,month:11,count:306,rate:5,date:"2006-11-01T08:00:00.000Z"},{series:"Other",year:2006,month:12,count:306,rate:5.2,date:"2006-12-01T08:00:00.000Z"},{series:"Other",year:2007,month:1,count:275,rate:4.7,date:"2007-01-01T08:00:00.000Z"},{series:"Other",year:2007,month:2,count:257,rate:4.3,date:"2007-02-01T08:00:00.000Z"},{series:"Other",year:2007,month:3,count:222,rate:3.7,date:"2007-03-01T08:00:00.000Z"},{series:"Other",year:2007,month:4,count:224,rate:3.6,date:"2007-04-01T07:00:00.000Z"},{series:"Other",year:2007,month:5,count:242,rate:3.9,date:"2007-05-01T07:00:00.000Z"},{series:"Other",year:2007,month:6,count:256,rate:4,date:"2007-06-01T07:00:00.000Z"},{series:"Other",year:2007,month:7,count:243,rate:3.8,date:"2007-07-01T07:00:00.000Z"},{series:"Other",year:2007,month:8,count:239,rate:3.8,date:"2007-08-01T07:00:00.000Z"},{series:"Other",year:2007,month:9,count:257,rate:4.2,date:"2007-09-01T07:00:00.000Z"},{series:"Other",year:2007,month:10,count:182,rate:3,date:"2007-10-01T07:00:00.000Z"},{series:"Other",year:2007,month:11,count:255,rate:4.1,date:"2007-11-01T07:00:00.000Z"},{series:"Other",year:2007,month:12,count:235,rate:3.9,date:"2007-12-01T08:00:00.000Z"},{series:"Other",year:2008,month:1,count:264,rate:4.4,date:"2008-01-01T08:00:00.000Z"},{series:"Other",year:2008,month:2,count:313,rate:5.1,date:"2008-02-01T08:00:00.000Z"},{series:"Other",year:2008,month:3,count:283,rate:4.6,date:"2008-03-01T08:00:00.000Z"},{series:"Other",year:2008,month:4,count:251,rate:4,date:"2008-04-01T07:00:00.000Z"},{series:"Other",year:2008,month:5,count:275,rate:4.4,date:"2008-05-01T07:00:00.000Z"},{series:"Other",year:2008,month:6,count:322,rate:5,date:"2008-06-01T07:00:00.000Z"},{series:"Other",year:2008,month:7,count:352,rate:5.2,date:"2008-07-01T07:00:00.000Z"},{series:"Other",year:2008,month:8,count:412,rate:6.3,date:"2008-08-01T07:00:00.000Z"},{series:"Other",year:2008,month:9,count:374,rate:5.8,date:"2008-09-01T07:00:00.000Z"},{series:"Other",year:2008,month:10,count:334,rate:5.3,date:"2008-10-01T07:00:00.000Z"},{series:"Other",year:2008,month:11,count:434,rate:7,date:"2008-11-01T07:00:00.000Z"},{series:"Other",year:2008,month:12,count:367,rate:6.1,date:"2008-12-01T08:00:00.000Z"},{series:"Other",year:2009,month:1,count:431,rate:7.1,date:"2009-01-01T08:00:00.000Z"},{series:"Other",year:2009,month:2,count:453,rate:7.3,date:"2009-02-01T08:00:00.000Z"},{series:"Other",year:2009,month:3,count:377,rate:6,date:"2009-03-01T08:00:00.000Z"},{series:"Other",year:2009,month:4,count:403,rate:6.4,date:"2009-04-01T07:00:00.000Z"},{series:"Other",year:2009,month:5,count:476,rate:7.5,date:"2009-05-01T07:00:00.000Z"},{series:"Other",year:2009,month:6,count:557,rate:8.4,date:"2009-06-01T07:00:00.000Z"},{series:"Other",year:2009,month:7,count:490,rate:7.4,date:"2009-07-01T07:00:00.000Z"},{series:"Other",year:2009,month:8,count:528,rate:8.2,date:"2009-08-01T07:00:00.000Z"},{series:"Other",year:2009,month:9,count:462,rate:7.1,date:"2009-09-01T07:00:00.000Z"},{series:"Other",year:2009,month:10,count:541,rate:8.5,date:"2009-10-01T07:00:00.000Z"},{series:"Other",year:2009,month:11,count:491,rate:8,date:"2009-11-01T07:00:00.000Z"},{series:"Other",year:2009,month:12,count:513,rate:8.2,date:"2009-12-01T08:00:00.000Z"},{series:"Other",year:2010,month:1,count:609,rate:10,date:"2010-01-01T08:00:00.000Z"},{series:"Other",year:2010,month:2,count:603,rate:9.9,date:"2010-02-01T08:00:00.000Z"},{series:"Agriculture",year:2e3,month:1,count:154,rate:10.3,date:"2000-01-01T08:00:00.000Z"},{series:"Agriculture",year:2e3,month:2,count:173,rate:11.5,date:"2000-02-01T08:00:00.000Z"},{series:"Agriculture",year:2e3,month:3,count:152,rate:10.4,date:"2000-03-01T08:00:00.000Z"},{series:"Agriculture",year:2e3,month:4,count:135,rate:8.9,date:"2000-04-01T08:00:00.000Z"},{series:"Agriculture",year:2e3,month:5,count:73,rate:5.1,date:"2000-05-01T07:00:00.000Z"},{series:"Agriculture",year:2e3,month:6,count:109,rate:6.7,date:"2000-06-01T07:00:00.000Z"},{series:"Agriculture",year:2e3,month:7,count:77,rate:5,date:"2000-07-01T07:00:00.000Z"},{series:"Agriculture",year:2e3,month:8,count:110,rate:7,date:"2000-08-01T07:00:00.000Z"},{series:"Agriculture",year:2e3,month:9,count:124,rate:8.2,date:"2000-09-01T07:00:00.000Z"},{series:"Agriculture",year:2e3,month:10,count:113,rate:8,date:"2000-10-01T07:00:00.000Z"},{series:"Agriculture",year:2e3,month:11,count:192,rate:13.3,date:"2000-11-01T08:00:00.000Z"},{series:"Agriculture",year:2e3,month:12,count:196,rate:13.9,date:"2000-12-01T08:00:00.000Z"},{series:"Agriculture",year:2001,month:1,count:188,rate:13.8,date:"2001-01-01T08:00:00.000Z"},{series:"Agriculture",year:2001,month:2,count:193,rate:15.1,date:"2001-02-01T08:00:00.000Z"},{series:"Agriculture",year:2001,month:3,count:267,rate:19.2,date:"2001-03-01T08:00:00.000Z"},{series:"Agriculture",year:2001,month:4,count:140,rate:10.4,date:"2001-04-01T08:00:00.000Z"},{series:"Agriculture",year:2001,month:5,count:109,rate:7.7,date:"2001-05-01T07:00:00.000Z"},{series:"Agriculture",year:2001,month:6,count:130,rate:9.7,date:"2001-06-01T07:00:00.000Z"},{series:"Agriculture",year:2001,month:7,count:113,rate:7.6,date:"2001-07-01T07:00:00.000Z"},{series:"Agriculture",year:2001,month:8,count:141,rate:9.3,date:"2001-08-01T07:00:00.000Z"},{series:"Agriculture",year:2001,month:9,count:101,rate:7.2,date:"2001-09-01T07:00:00.000Z"},{series:"Agriculture",year:2001,month:10,count:118,rate:8.7,date:"2001-10-01T07:00:00.000Z"},{series:"Agriculture",year:2001,month:11,count:145,rate:11.6,date:"2001-11-01T08:00:00.000Z"},{series:"Agriculture",year:2001,month:12,count:192,rate:15.1,date:"2001-12-01T08:00:00.000Z"},{series:"Agriculture",year:2002,month:1,count:195,rate:14.8,date:"2002-01-01T08:00:00.000Z"},{series:"Agriculture",year:2002,month:2,count:187,rate:14.8,date:"2002-02-01T08:00:00.000Z"},{series:"Agriculture",year:2002,month:3,count:269,rate:19.6,date:"2002-03-01T08:00:00.000Z"},{series:"Agriculture",year:2002,month:4,count:151,rate:10.8,date:"2002-04-01T08:00:00.000Z"},{series:"Agriculture",year:2002,month:5,count:89,rate:6.8,date:"2002-05-01T07:00:00.000Z"},{series:"Agriculture",year:2002,month:6,count:89,rate:6.3,date:"2002-06-01T07:00:00.000Z"},{series:"Agriculture",year:2002,month:7,count:114,rate:7.3,date:"2002-07-01T07:00:00.000Z"},{series:"Agriculture",year:2002,month:8,count:125,rate:9,date:"2002-08-01T07:00:00.000Z"},{series:"Agriculture",year:2002,month:9,count:92,rate:6.3,date:"2002-09-01T07:00:00.000Z"},{series:"Agriculture",year:2002,month:10,count:97,rate:6.6,date:"2002-10-01T07:00:00.000Z"},{series:"Agriculture",year:2002,month:11,count:137,rate:11.1,date:"2002-11-01T08:00:00.000Z"},{series:"Agriculture",year:2002,month:12,count:120,rate:9.8,date:"2002-12-01T08:00:00.000Z"},{series:"Agriculture",year:2003,month:1,count:159,rate:13.2,date:"2003-01-01T08:00:00.000Z"},{series:"Agriculture",year:2003,month:2,count:172,rate:14.7,date:"2003-02-01T08:00:00.000Z"},{series:"Agriculture",year:2003,month:3,count:161,rate:12.9,date:"2003-03-01T08:00:00.000Z"},{series:"Agriculture",year:2003,month:4,count:154,rate:12,date:"2003-04-01T08:00:00.000Z"},{series:"Agriculture",year:2003,month:5,count:133,rate:10.2,date:"2003-05-01T07:00:00.000Z"},{series:"Agriculture",year:2003,month:6,count:94,rate:6.9,date:"2003-06-01T07:00:00.000Z"},{series:"Agriculture",year:2003,month:7,count:113,rate:8.2,date:"2003-07-01T07:00:00.000Z"},{series:"Agriculture",year:2003,month:8,count:173,rate:10.7,date:"2003-08-01T07:00:00.000Z"},{series:"Agriculture",year:2003,month:9,count:98,rate:6.2,date:"2003-09-01T07:00:00.000Z"},{series:"Agriculture",year:2003,month:10,count:136,rate:8.5,date:"2003-10-01T07:00:00.000Z"},{series:"Agriculture",year:2003,month:11,count:148,rate:10.3,date:"2003-11-01T08:00:00.000Z"},{series:"Agriculture",year:2003,month:12,count:137,rate:10.9,date:"2003-12-01T08:00:00.000Z"},{series:"Agriculture",year:2004,month:1,count:184,rate:15.1,date:"2004-01-01T08:00:00.000Z"},{series:"Agriculture",year:2004,month:2,count:168,rate:14.2,date:"2004-02-01T08:00:00.000Z"},{series:"Agriculture",year:2004,month:3,count:153,rate:12.7,date:"2004-03-01T08:00:00.000Z"},{series:"Agriculture",year:2004,month:4,count:107,rate:8.3,date:"2004-04-01T08:00:00.000Z"},{series:"Agriculture",year:2004,month:5,count:99,rate:7.4,date:"2004-05-01T07:00:00.000Z"},{series:"Agriculture",year:2004,month:6,count:106,rate:7.6,date:"2004-06-01T07:00:00.000Z"},{series:"Agriculture",year:2004,month:7,count:140,rate:10,date:"2004-07-01T07:00:00.000Z"},{series:"Agriculture",year:2004,month:8,count:103,rate:7,date:"2004-08-01T07:00:00.000Z"},{series:"Agriculture",year:2004,month:9,count:88,rate:6.4,date:"2004-09-01T07:00:00.000Z"},{series:"Agriculture",year:2004,month:10,count:102,rate:7.7,date:"2004-10-01T07:00:00.000Z"},{series:"Agriculture",year:2004,month:11,count:131,rate:10.5,date:"2004-11-01T08:00:00.000Z"},{series:"Agriculture",year:2004,month:12,count:165,rate:14,date:"2004-12-01T08:00:00.000Z"},{series:"Agriculture",year:2005,month:1,count:153,rate:13.2,date:"2005-01-01T08:00:00.000Z"},{series:"Agriculture",year:2005,month:2,count:107,rate:9.9,date:"2005-02-01T08:00:00.000Z"},{series:"Agriculture",year:2005,month:3,count:139,rate:11.8,date:"2005-03-01T08:00:00.000Z"},{series:"Agriculture",year:2005,month:4,count:84,rate:6.9,date:"2005-04-01T08:00:00.000Z"},{series:"Agriculture",year:2005,month:5,count:66,rate:5.3,date:"2005-05-01T07:00:00.000Z"},{series:"Agriculture",year:2005,month:6,count:76,rate:5.2,date:"2005-06-01T07:00:00.000Z"},{series:"Agriculture",year:2005,month:7,count:69,rate:4.7,date:"2005-07-01T07:00:00.000Z"},{series:"Agriculture",year:2005,month:8,count:100,rate:7.1,date:"2005-08-01T07:00:00.000Z"},{series:"Agriculture",year:2005,month:9,count:127,rate:9.5,date:"2005-09-01T07:00:00.000Z"},{series:"Agriculture",year:2005,month:10,count:85,rate:6.7,date:"2005-10-01T07:00:00.000Z"},{series:"Agriculture",year:2005,month:11,count:118,rate:9.6,date:"2005-11-01T08:00:00.000Z"},{series:"Agriculture",year:2005,month:12,count:127,rate:11.1,date:"2005-12-01T08:00:00.000Z"},{series:"Agriculture",year:2006,month:1,count:140,rate:11.5,date:"2006-01-01T08:00:00.000Z"},{series:"Agriculture",year:2006,month:2,count:139,rate:11.8,date:"2006-02-01T08:00:00.000Z"},{series:"Agriculture",year:2006,month:3,count:117,rate:9.8,date:"2006-03-01T08:00:00.000Z"},{series:"Agriculture",year:2006,month:4,count:81,rate:6.2,date:"2006-04-01T08:00:00.000Z"},{series:"Agriculture",year:2006,month:5,count:79,rate:6,date:"2006-05-01T07:00:00.000Z"},{series:"Agriculture",year:2006,month:6,count:35,rate:2.4,date:"2006-06-01T07:00:00.000Z"},{series:"Agriculture",year:2006,month:7,count:55,rate:3.6,date:"2006-07-01T07:00:00.000Z"},{series:"Agriculture",year:2006,month:8,count:76,rate:5.3,date:"2006-08-01T07:00:00.000Z"},{series:"Agriculture",year:2006,month:9,count:78,rate:5.9,date:"2006-09-01T07:00:00.000Z"},{series:"Agriculture",year:2006,month:10,count:77,rate:5.8,date:"2006-10-01T07:00:00.000Z"},{series:"Agriculture",year:2006,month:11,count:125,rate:9.6,date:"2006-11-01T08:00:00.000Z"},{series:"Agriculture",year:2006,month:12,count:139,rate:10.4,date:"2006-12-01T08:00:00.000Z"},{series:"Agriculture",year:2007,month:1,count:128,rate:10,date:"2007-01-01T08:00:00.000Z"},{series:"Agriculture",year:2007,month:2,count:127,rate:9.6,date:"2007-02-01T08:00:00.000Z"},{series:"Agriculture",year:2007,month:3,count:123,rate:9.7,date:"2007-03-01T08:00:00.000Z"},{series:"Agriculture",year:2007,month:4,count:67,rate:5.7,date:"2007-04-01T07:00:00.000Z"},{series:"Agriculture",year:2007,month:5,count:64,rate:5.1,date:"2007-05-01T07:00:00.000Z"},{series:"Agriculture",year:2007,month:6,count:59,rate:4.5,date:"2007-06-01T07:00:00.000Z"},{series:"Agriculture",year:2007,month:7,count:40,rate:3.1,date:"2007-07-01T07:00:00.000Z"},{series:"Agriculture",year:2007,month:8,count:54,rate:4.7,date:"2007-08-01T07:00:00.000Z"},{series:"Agriculture",year:2007,month:9,count:53,rate:4.3,date:"2007-09-01T07:00:00.000Z"},{series:"Agriculture",year:2007,month:10,count:47,rate:4,date:"2007-10-01T07:00:00.000Z"},{series:"Agriculture",year:2007,month:11,count:80,rate:6.6,date:"2007-11-01T07:00:00.000Z"},{series:"Agriculture",year:2007,month:12,count:96,rate:7.5,date:"2007-12-01T08:00:00.000Z"},{series:"Agriculture",year:2008,month:1,count:113,rate:9.5,date:"2008-01-01T08:00:00.000Z"},{series:"Agriculture",year:2008,month:2,count:135,rate:10.9,date:"2008-02-01T08:00:00.000Z"},{series:"Agriculture",year:2008,month:3,count:175,rate:13.2,date:"2008-03-01T08:00:00.000Z"},{series:"Agriculture",year:2008,month:4,count:108,rate:8.6,date:"2008-04-01T07:00:00.000Z"},{series:"Agriculture",year:2008,month:5,count:94,rate:7.4,date:"2008-05-01T07:00:00.000Z"},{series:"Agriculture",year:2008,month:6,count:86,rate:6.1,date:"2008-06-01T07:00:00.000Z"},{series:"Agriculture",year:2008,month:7,count:125,rate:8.5,date:"2008-07-01T07:00:00.000Z"},{series:"Agriculture",year:2008,month:8,count:111,rate:7.6,date:"2008-08-01T07:00:00.000Z"},{series:"Agriculture",year:2008,month:9,count:84,rate:5.8,date:"2008-09-01T07:00:00.000Z"},{series:"Agriculture",year:2008,month:10,count:97,rate:7.1,date:"2008-10-01T07:00:00.000Z"},{series:"Agriculture",year:2008,month:11,count:119,rate:9.5,date:"2008-11-01T07:00:00.000Z"},{series:"Agriculture",year:2008,month:12,count:229,rate:17,date:"2008-12-01T08:00:00.000Z"},{series:"Agriculture",year:2009,month:1,count:245,rate:18.7,date:"2009-01-01T08:00:00.000Z"},{series:"Agriculture",year:2009,month:2,count:251,rate:18.8,date:"2009-02-01T08:00:00.000Z"},{series:"Agriculture",year:2009,month:3,count:241,rate:19,date:"2009-03-01T08:00:00.000Z"},{series:"Agriculture",year:2009,month:4,count:176,rate:13.5,date:"2009-04-01T07:00:00.000Z"},{series:"Agriculture",year:2009,month:5,count:136,rate:10,date:"2009-05-01T07:00:00.000Z"},{series:"Agriculture",year:2009,month:6,count:182,rate:12.3,date:"2009-06-01T07:00:00.000Z"},{series:"Agriculture",year:2009,month:7,count:180,rate:12.1,date:"2009-07-01T07:00:00.000Z"},{series:"Agriculture",year:2009,month:8,count:195,rate:13.1,date:"2009-08-01T07:00:00.000Z"},{series:"Agriculture",year:2009,month:9,count:150,rate:11.1,date:"2009-09-01T07:00:00.000Z"},{series:"Agriculture",year:2009,month:10,count:166,rate:11.8,date:"2009-10-01T07:00:00.000Z"},{series:"Agriculture",year:2009,month:11,count:180,rate:12.6,date:"2009-11-01T07:00:00.000Z"},{series:"Agriculture",year:2009,month:12,count:292,rate:19.7,date:"2009-12-01T08:00:00.000Z"},{series:"Agriculture",year:2010,month:1,count:318,rate:21.3,date:"2010-01-01T08:00:00.000Z"},{series:"Agriculture",year:2010,month:2,count:285,rate:18.8,date:"2010-02-01T08:00:00.000Z"},{series:"Self-employed",year:2e3,month:1,count:239,rate:2.3,date:"2000-01-01T08:00:00.000Z"},{series:"Self-employed",year:2e3,month:2,count:262,rate:2.5,date:"2000-02-01T08:00:00.000Z"},{series:"Self-employed",year:2e3,month:3,count:213,rate:2,date:"2000-03-01T08:00:00.000Z"},{series:"Self-employed",year:2e3,month:4,count:218,rate:2,date:"2000-04-01T08:00:00.000Z"},{series:"Self-employed",year:2e3,month:5,count:206,rate:1.9,date:"2000-05-01T07:00:00.000Z"},{series:"Self-employed",year:2e3,month:6,count:188,rate:1.8,date:"2000-06-01T07:00:00.000Z"},{series:"Self-employed",year:2e3,month:7,count:222,rate:2.1,date:"2000-07-01T07:00:00.000Z"},{series:"Self-employed",year:2e3,month:8,count:186,rate:1.7,date:"2000-08-01T07:00:00.000Z"},{series:"Self-employed",year:2e3,month:9,count:213,rate:2,date:"2000-09-01T07:00:00.000Z"},{series:"Self-employed",year:2e3,month:10,count:226,rate:2.2,date:"2000-10-01T07:00:00.000Z"},{series:"Self-employed",year:2e3,month:11,count:273,rate:2.7,date:"2000-11-01T08:00:00.000Z"},{series:"Self-employed",year:2e3,month:12,count:178,rate:1.8,date:"2000-12-01T08:00:00.000Z"},{series:"Self-employed",year:2001,month:1,count:194,rate:1.9,date:"2001-01-01T08:00:00.000Z"},{series:"Self-employed",year:2001,month:2,count:209,rate:2,date:"2001-02-01T08:00:00.000Z"},{series:"Self-employed",year:2001,month:3,count:181,rate:1.7,date:"2001-03-01T08:00:00.000Z"},{series:"Self-employed",year:2001,month:4,count:216,rate:2.1,date:"2001-04-01T08:00:00.000Z"},{series:"Self-employed",year:2001,month:5,count:206,rate:2,date:"2001-05-01T07:00:00.000Z"},{series:"Self-employed",year:2001,month:6,count:187,rate:1.7,date:"2001-06-01T07:00:00.000Z"},{series:"Self-employed",year:2001,month:7,count:191,rate:1.8,date:"2001-07-01T07:00:00.000Z"},{series:"Self-employed",year:2001,month:8,count:243,rate:2.3,date:"2001-08-01T07:00:00.000Z"},{series:"Self-employed",year:2001,month:9,count:256,rate:2.4,date:"2001-09-01T07:00:00.000Z"},{series:"Self-employed",year:2001,month:10,count:247,rate:2.3,date:"2001-10-01T07:00:00.000Z"},{series:"Self-employed",year:2001,month:11,count:234,rate:2.3,date:"2001-11-01T08:00:00.000Z"},{series:"Self-employed",year:2001,month:12,count:249,rate:2.5,date:"2001-12-01T08:00:00.000Z"},{series:"Self-employed",year:2002,month:1,count:263,rate:2.7,date:"2002-01-01T08:00:00.000Z"},{series:"Self-employed",year:2002,month:2,count:250,rate:2.6,date:"2002-02-01T08:00:00.000Z"},{series:"Self-employed",year:2002,month:3,count:217,rate:2.2,date:"2002-03-01T08:00:00.000Z"},{series:"Self-employed",year:2002,month:4,count:255,rate:2.5,date:"2002-04-01T08:00:00.000Z"},{series:"Self-employed",year:2002,month:5,count:264,rate:2.6,date:"2002-05-01T07:00:00.000Z"},{series:"Self-employed",year:2002,month:6,count:246,rate:2.4,date:"2002-06-01T07:00:00.000Z"},{series:"Self-employed",year:2002,month:7,count:249,rate:2.4,date:"2002-07-01T07:00:00.000Z"},{series:"Self-employed",year:2002,month:8,count:271,rate:2.6,date:"2002-08-01T07:00:00.000Z"},{series:"Self-employed",year:2002,month:9,count:266,rate:2.5,date:"2002-09-01T07:00:00.000Z"},{series:"Self-employed",year:2002,month:10,count:275,rate:2.6,date:"2002-10-01T07:00:00.000Z"},{series:"Self-employed",year:2002,month:11,count:297,rate:2.8,date:"2002-11-01T08:00:00.000Z"},{series:"Self-employed",year:2002,month:12,count:327,rate:3.1,date:"2002-12-01T08:00:00.000Z"},{series:"Self-employed",year:2003,month:1,count:324,rate:3,date:"2003-01-01T08:00:00.000Z"},{series:"Self-employed",year:2003,month:2,count:304,rate:3,date:"2003-02-01T08:00:00.000Z"},{series:"Self-employed",year:2003,month:3,count:279,rate:2.7,date:"2003-03-01T08:00:00.000Z"},{series:"Self-employed",year:2003,month:4,count:248,rate:2.4,date:"2003-04-01T08:00:00.000Z"},{series:"Self-employed",year:2003,month:5,count:271,rate:2.6,date:"2003-05-01T07:00:00.000Z"},{series:"Self-employed",year:2003,month:6,count:295,rate:2.7,date:"2003-06-01T07:00:00.000Z"},{series:"Self-employed",year:2003,month:7,count:270,rate:2.5,date:"2003-07-01T07:00:00.000Z"},{series:"Self-employed",year:2003,month:8,count:302,rate:2.7,date:"2003-08-01T07:00:00.000Z"},{series:"Self-employed",year:2003,month:9,count:287,rate:2.6,date:"2003-09-01T07:00:00.000Z"},{series:"Self-employed",year:2003,month:10,count:338,rate:3.1,date:"2003-10-01T07:00:00.000Z"},{series:"Self-employed",year:2003,month:11,count:308,rate:2.8,date:"2003-11-01T08:00:00.000Z"},{series:"Self-employed",year:2003,month:12,count:299,rate:2.8,date:"2003-12-01T08:00:00.000Z"},{series:"Self-employed",year:2004,month:1,count:302,rate:2.8,date:"2004-01-01T08:00:00.000Z"},{series:"Self-employed",year:2004,month:2,count:260,rate:2.5,date:"2004-02-01T08:00:00.000Z"},{series:"Self-employed",year:2004,month:3,count:260,rate:2.5,date:"2004-03-01T08:00:00.000Z"},{series:"Self-employed",year:2004,month:4,count:242,rate:2.3,date:"2004-04-01T08:00:00.000Z"},{series:"Self-employed",year:2004,month:5,count:287,rate:2.7,date:"2004-05-01T07:00:00.000Z"},{series:"Self-employed",year:2004,month:6,count:306,rate:2.8,date:"2004-06-01T07:00:00.000Z"},{series:"Self-employed",year:2004,month:7,count:291,rate:2.6,date:"2004-07-01T07:00:00.000Z"},{series:"Self-employed",year:2004,month:8,count:324,rate:2.9,date:"2004-08-01T07:00:00.000Z"},{series:"Self-employed",year:2004,month:9,count:362,rate:3.3,date:"2004-09-01T07:00:00.000Z"},{series:"Self-employed",year:2004,month:10,count:301,rate:2.7,date:"2004-10-01T07:00:00.000Z"},{series:"Self-employed",year:2004,month:11,count:353,rate:3.2,date:"2004-11-01T08:00:00.000Z"},{series:"Self-employed",year:2004,month:12,count:341,rate:3.2,date:"2004-12-01T08:00:00.000Z"},{series:"Self-employed",year:2005,month:1,count:346,rate:3.2,date:"2005-01-01T08:00:00.000Z"},{series:"Self-employed",year:2005,month:2,count:363,rate:3.4,date:"2005-02-01T08:00:00.000Z"},{series:"Self-employed",year:2005,month:3,count:312,rate:2.9,date:"2005-03-01T08:00:00.000Z"},{series:"Self-employed",year:2005,month:4,count:273,rate:2.4,date:"2005-04-01T08:00:00.000Z"},{series:"Self-employed",year:2005,month:5,count:299,rate:2.7,date:"2005-05-01T07:00:00.000Z"},{series:"Self-employed",year:2005,month:6,count:268,rate:2.4,date:"2005-06-01T07:00:00.000Z"},{series:"Self-employed",year:2005,month:7,count:282,rate:2.5,date:"2005-07-01T07:00:00.000Z"},{series:"Self-employed",year:2005,month:8,count:249,rate:2.3,date:"2005-08-01T07:00:00.000Z"},{series:"Self-employed",year:2005,month:9,count:282,rate:2.6,date:"2005-09-01T07:00:00.000Z"},{series:"Self-employed",year:2005,month:10,count:255,rate:2.3,date:"2005-10-01T07:00:00.000Z"},{series:"Self-employed",year:2005,month:11,count:319,rate:3,date:"2005-11-01T08:00:00.000Z"},{series:"Self-employed",year:2005,month:12,count:327,rate:3.1,date:"2005-12-01T08:00:00.000Z"},{series:"Self-employed",year:2006,month:1,count:341,rate:3.2,date:"2006-01-01T08:00:00.000Z"},{series:"Self-employed",year:2006,month:2,count:332,rate:3.1,date:"2006-02-01T08:00:00.000Z"},{series:"Self-employed",year:2006,month:3,count:300,rate:2.8,date:"2006-03-01T08:00:00.000Z"},{series:"Self-employed",year:2006,month:4,count:334,rate:3.1,date:"2006-04-01T08:00:00.000Z"},{series:"Self-employed",year:2006,month:5,count:251,rate:2.3,date:"2006-05-01T07:00:00.000Z"},{series:"Self-employed",year:2006,month:6,count:245,rate:2.2,date:"2006-06-01T07:00:00.000Z"},{series:"Self-employed",year:2006,month:7,count:291,rate:2.6,date:"2006-07-01T07:00:00.000Z"},{series:"Self-employed",year:2006,month:8,count:306,rate:2.7,date:"2006-08-01T07:00:00.000Z"},{series:"Self-employed",year:2006,month:9,count:299,rate:2.7,date:"2006-09-01T07:00:00.000Z"},{series:"Self-employed",year:2006,month:10,count:275,rate:2.5,date:"2006-10-01T07:00:00.000Z"},{series:"Self-employed",year:2006,month:11,count:257,rate:2.3,date:"2006-11-01T08:00:00.000Z"},{series:"Self-employed",year:2006,month:12,count:287,rate:2.6,date:"2006-12-01T08:00:00.000Z"},{series:"Self-employed",year:2007,month:1,count:376,rate:3.5,date:"2007-01-01T08:00:00.000Z"},{series:"Self-employed",year:2007,month:2,count:300,rate:2.8,date:"2007-02-01T08:00:00.000Z"},{series:"Self-employed",year:2007,month:3,count:311,rate:2.8,date:"2007-03-01T08:00:00.000Z"},{series:"Self-employed",year:2007,month:4,count:240,rate:2.2,date:"2007-04-01T07:00:00.000Z"},{series:"Self-employed",year:2007,month:5,count:276,rate:2.5,date:"2007-05-01T07:00:00.000Z"},{series:"Self-employed",year:2007,month:6,count:258,rate:2.3,date:"2007-06-01T07:00:00.000Z"},{series:"Self-employed",year:2007,month:7,count:324,rate:2.9,date:"2007-07-01T07:00:00.000Z"},{series:"Self-employed",year:2007,month:8,count:315,rate:2.9,date:"2007-08-01T07:00:00.000Z"},{series:"Self-employed",year:2007,month:9,count:304,rate:2.8,date:"2007-09-01T07:00:00.000Z"},{series:"Self-employed",year:2007,month:10,count:338,rate:3.1,date:"2007-10-01T07:00:00.000Z"},{series:"Self-employed",year:2007,month:11,count:336,rate:3.2,date:"2007-11-01T07:00:00.000Z"},{series:"Self-employed",year:2007,month:12,count:326,rate:3.2,date:"2007-12-01T08:00:00.000Z"},{series:"Self-employed",year:2008,month:1,count:338,rate:3.3,date:"2008-01-01T08:00:00.000Z"},{series:"Self-employed",year:2008,month:2,count:340,rate:3.2,date:"2008-02-01T08:00:00.000Z"},{series:"Self-employed",year:2008,month:3,count:346,rate:3.3,date:"2008-03-01T08:00:00.000Z"},{series:"Self-employed",year:2008,month:4,count:338,rate:3.2,date:"2008-04-01T07:00:00.000Z"},{series:"Self-employed",year:2008,month:5,count:366,rate:3.4,date:"2008-05-01T07:00:00.000Z"},{series:"Self-employed",year:2008,month:6,count:364,rate:3.3,date:"2008-06-01T07:00:00.000Z"},{series:"Self-employed",year:2008,month:7,count:345,rate:3.1,date:"2008-07-01T07:00:00.000Z"},{series:"Self-employed",year:2008,month:8,count:378,rate:3.5,date:"2008-08-01T07:00:00.000Z"},{series:"Self-employed",year:2008,month:9,count:414,rate:3.9,date:"2008-09-01T07:00:00.000Z"},{series:"Self-employed",year:2008,month:10,count:396,rate:3.9,date:"2008-10-01T07:00:00.000Z"},{series:"Self-employed",year:2008,month:11,count:411,rate:4.1,date:"2008-11-01T07:00:00.000Z"},{series:"Self-employed",year:2008,month:12,count:559,rate:5.5,date:"2008-12-01T08:00:00.000Z"},{series:"Self-employed",year:2009,month:1,count:659,rate:6.5,date:"2009-01-01T08:00:00.000Z"},{series:"Self-employed",year:2009,month:2,count:586,rate:5.7,date:"2009-02-01T08:00:00.000Z"},{series:"Self-employed",year:2009,month:3,count:625,rate:5.9,date:"2009-03-01T08:00:00.000Z"},{series:"Self-employed",year:2009,month:4,count:488,rate:4.6,date:"2009-04-01T07:00:00.000Z"},{series:"Self-employed",year:2009,month:5,count:530,rate:5,date:"2009-05-01T07:00:00.000Z"},{series:"Self-employed",year:2009,month:6,count:472,rate:4.4,date:"2009-06-01T07:00:00.000Z"},{series:"Self-employed",year:2009,month:7,count:552,rate:5.2,date:"2009-07-01T07:00:00.000Z"},{series:"Self-employed",year:2009,month:8,count:569,rate:5.3,date:"2009-08-01T07:00:00.000Z"},{series:"Self-employed",year:2009,month:9,count:636,rate:5.9,date:"2009-09-01T07:00:00.000Z"},{series:"Self-employed",year:2009,month:10,count:610,rate:5.9,date:"2009-10-01T07:00:00.000Z"},{series:"Self-employed",year:2009,month:11,count:592,rate:5.7,date:"2009-11-01T07:00:00.000Z"},{series:"Self-employed",year:2009,month:12,count:609,rate:5.9,date:"2009-12-01T08:00:00.000Z"},{series:"Self-employed",year:2010,month:1,count:730,rate:7.2,date:"2010-01-01T08:00:00.000Z"},{series:"Self-employed",year:2010,month:2,count:680,rate:6.5,date:"2010-02-01T08:00:00.000Z"}],aAe=e=>{Ct({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Verticl Line"},data:{values:TG},mark:"area",encoding:{x:{timeUnit:"yearmonth",field:"date",axis:{domain:!1,format:"%Y",tickSize:0}},y:{field:"count",axis:null,stack:"center"}}},{x:500,y:500})(ie(e))},oAe=e=>{Lt(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",width:300,height:200,data:{values:TG},mark:"area",encoding:{x:{timeUnit:"yearmonth",field:"date",axis:{domain:!1,format:"%Y",tickSize:0}},y:{aggregate:"sum",field:"count",axis:null,stack:"center"},color:{field:"series",scale:{scheme:"category20b"}}}})},sAe=e=>{Ct({$schema:"https://vega.github.io/schema/vega-lite/v5.json",title:{text:"Surplus Deficit"},data:{values:[{a:"A",b:-28},{a:"B",b:55},{a:"C",b:-33},{a:"D",b:91},{a:"E",b:81},{a:"F",b:53},{a:"G",b:-19},{a:"H",b:87},{a:"I",b:52}]},width:300,height:200,mark:"area",encoding:{x:{field:"a",type:"nominal",axis:{domain:!1,ticks:!1,labelAngle:0,labelPadding:4}},y:{field:"b",type:"quantitative",axis:{gridColor:{condition:{test:"datum.value === 0",value:"black"},value:"#ddd"}}}}},{x:500,y:500})(ie(e))},lAe=e=>{Lt(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:[{a:"A",b:-28},{a:"B",b:55},{a:"C",b:-33},{a:"D",b:91},{a:"E",b:81},{a:"F",b:53},{a:"G",b:-19},{a:"H",b:87},{a:"I",b:52}]},width:300,height:200,mark:"area",encoding:{x:{field:"a",type:"nominal",axis:{domain:!1,ticks:!1,labelAngle:0,labelPadding:4}},y:{field:"b",type:"quantitative",axis:{gridColor:{condition:{test:"datum.value === 0",value:"black"},value:"#ddd"}}}}})},cAe=e=>{Ct({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Verticl Line"},data:{values:[{year:1990,value:8},{year:1991,value:5},{year:1992,value:2},{year:1993,value:4},{year:1994,value:1},{year:1995,value:10}]},mark:"line",encoding:{y:{field:"year",type:"ordinal"},x:{field:"value",type:"quantitative",axis:{grid:!0}}}},{x:500,y:500})(ie(e))},uAe=e=>{Lt(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:[{year:1990,value:8},{year:1991,value:5},{year:1992,value:2},{year:1993,value:4},{year:1994,value:1},{year:1995,value:10}]},mark:"line",encoding:{y:{field:"year",type:"ordinal"},x:{field:"value",type:"quantitative"}}})},fAe=e=>{Ct({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:"Waterfall"},data:{values:[{label:"Begin",amount:4e3},{label:"Jan",amount:1707},{label:"Feb",amount:-1425},{label:"Mar",amount:-1030},{label:"Apr",amount:1812},{label:"May",amount:-1067},{label:"Jun",amount:-1481},{label:"Jul",amount:1228},{label:"Aug",amount:1176},{label:"Sep",amount:1146},{label:"Oct",amount:1205},{label:"Nov",amount:-1388},{label:"Dec",amount:1492},{label:"End",amount:0}]},width:800,height:450,transform:[{window:[{op:"sum",field:"amount",as:"sum"}]},{window:[{op:"lead",field:"label",as:"lead"}]},{calculate:"datum.lead === null ? datum.label : datum.lead",as:"lead"},{calculate:"datum.label === 'End' ? 0 : datum.sum - datum.amount",as:"previous_sum"},{calculate:"datum.label === 'End' ? datum.sum : datum.amount",as:"amount"},{calculate:"(datum.label !== 'Begin' && datum.label !== 'End' && datum.amount > 0 ? '+' : '') + datum.amount",as:"text_amount"},{calculate:"(datum.sum + datum.previous_sum) / 2",as:"center"},{calculate:"datum.sum < datum.previous_sum ? datum.sum : ''",as:"sum_dec"},{calculate:"datum.sum > datum.previous_sum ? datum.sum : ''",as:"sum_inc"}],encoding:{x:{field:"label",type:"ordinal",sort:null,axis:{labelAngle:0,title:"Months"}}},layer:[{mark:{type:"bar",size:45},encoding:{y:{field:"previous_sum",type:"quantitative",title:"Amount"},y2:{field:"sum"},color:{condition:[{test:"datum.label === 'Begin' || datum.label === 'End'",value:"#f7e0b6"},{test:"datum.sum < datum.previous_sum",value:"#f78a64"}],value:"#93c4aa"}}},{mark:{type:"rule",color:"#404040",opacity:1,strokeWidth:2,xOffset:-22.5,x2Offset:22.5},encoding:{x2:{field:"lead"},y:{field:"sum",type:"quantitative"}}},{mark:{type:"text",dy:-4,baseline:"bottom"},encoding:{y:{field:"sum_inc",type:"quantitative"},text:{field:"sum_inc",type:"nominal"}}},{mark:{type:"text",dy:4,baseline:"top"},encoding:{y:{field:"sum_dec",type:"quantitative"},text:{field:"sum_dec",type:"nominal"}}},{mark:{type:"text",fontWeight:"bold",baseline:"middle"},encoding:{y:{field:"center",type:"quantitative"},text:{field:"text_amount",type:"nominal"},color:{condition:[{test:"datum.label === 'Begin' || datum.label === 'End'",value:"#725a30"}],value:"white"}}}],config:{text:{fontWeight:"bold",color:"#404040"}}},{x:500,y:500})(ie(e))},dAe=e=>{Lt(e,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:[{label:"Begin",amount:4e3},{label:"Jan",amount:1707},{label:"Feb",amount:-1425},{label:"Mar",amount:-1030},{label:"Apr",amount:1812},{label:"May",amount:-1067},{label:"Jun",amount:-1481},{label:"Jul",amount:1228},{label:"Aug",amount:1176},{label:"Sep",amount:1146},{label:"Oct",amount:1205},{label:"Nov",amount:-1388},{label:"Dec",amount:1492},{label:"End",amount:0}]},width:800,height:450,transform:[{window:[{op:"sum",field:"amount",as:"sum"}]},{window:[{op:"lead",field:"label",as:"lead"}]},{calculate:"datum.lead === null ? datum.label : datum.lead",as:"lead"},{calculate:"datum.label === 'End' ? 0 : datum.sum - datum.amount",as:"previous_sum"},{calculate:"datum.label === 'End' ? datum.sum : datum.amount",as:"amount"},{calculate:"(datum.label !== 'Begin' && datum.label !== 'End' && datum.amount > 0 ? '+' : '') + datum.amount",as:"text_amount"},{calculate:"(datum.sum + datum.previous_sum) / 2",as:"center"},{calculate:"datum.sum < datum.previous_sum ? datum.sum : ''",as:"sum_dec"},{calculate:"datum.sum > datum.previous_sum ? datum.sum : ''",as:"sum_inc"}],encoding:{x:{field:"label",type:"ordinal",sort:null,axis:{labelAngle:0,title:"Months"}}},layer:[{mark:{type:"bar",size:45},encoding:{y:{field:"previous_sum",type:"quantitative",title:"Amount"},y2:{field:"sum"},color:{condition:[{test:"datum.label === 'Begin' || datum.label === 'End'",value:"#f7e0b6"},{test:"datum.sum < datum.previous_sum",value:"#f78a64"}],value:"#93c4aa"}}},{mark:{type:"rule",color:"#404040",opacity:1,strokeWidth:2,xOffset:-22.5,x2Offset:22.5},encoding:{x2:{field:"lead"},y:{field:"sum",type:"quantitative"}}},{mark:{type:"text",dy:-4,baseline:"bottom"},encoding:{y:{field:"sum_inc",type:"quantitative"},text:{field:"sum_inc",type:"nominal"}}},{mark:{type:"text",dy:4,baseline:"top"},encoding:{y:{field:"sum_dec",type:"quantitative"},text:{field:"sum_dec",type:"nominal"}}},{mark:{type:"text",fontWeight:"bold",baseline:"middle"},encoding:{y:{field:"center",type:"quantitative"},text:{field:"text_amount",type:"nominal"},color:{condition:[{test:"datum.label === 'Begin' || datum.label === 'End'",value:"#725a30"}],value:"white"}}}],config:{text:{fontWeight:"bold",color:"#404040"}}})},AG={"diverging-bar-vl":HTe,"diverging-bar-b":WTe,"surplus-deficit-vl":lAe,"surplus-deficit-b":sAe,"column-line-vl":UTe,"column-line-b":GTe,"bubble-vl":BTe,"bubble-b":FTe,"lollipop-vl":qTe,"lollipop-b":YTe,"bump-vl":ZTe,"bump-b":ITe,"barcode-vl":CTe,"barcode-b":Nae,"box-vl":LTe,"box-b":DTe,"candlestick-vl":PTe,"candlestick-b":RTe,"projection-vl":iAe,"projection-b":rAe,"priestely-vl":nAe,"priestely-b":tAe,"circle-timeline-vl":zTe,"circle-timeline-b":jTe,"vertical-line-vl":uAe,"vertical-line-b":cAe,"streamgraph-vl":oAe,"streamgraph-b":aAe,"paired-bar-vl":KTe,"paired-bar-b":JTe,"mosaic-vl":XTe,"mosaic-b":VTe,"pictogram-vl":eAe,"pictogram-b":QTe,"bullet-vl":NTe,"bullet-b":$Te,"waterfall-vl":dAe,"waterfall-b":fAe},ym=document.getElementById("app");if(!ym)throw new Error("Missing #app");const tg=document.location.search.substring(1);document.title=tg||"chart-types";const bv=AG[tg];if(!bv&&tg.length)ym.innerHTML=`No chart for #${tg}`;else if(bv)bv(ym);else{const e=Object.keys(AG).sort(),t=document.createElement("ul");e.forEach(n=>{const r=document.createElement("li"),i=document.createElement("a");i.textContent=n,i.href=`?${n}`,r.appendChild(i),t.appendChild(r)}),ym.appendChild(t)}});export default hAe();
